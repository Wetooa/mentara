graph TB
    subgraph Frontend["Frontend Service (Port 10001)"]
        FE[mentara-web<br/>Next.js 15.2.4]
        FE_Tech["React 19<br/>Tailwind CSS 4.x<br/>Zustand State Management<br/>React Query v5<br/>WebRTC<br/>Socket.io Client"]
        FE --> FE_Tech
    end

    subgraph Backend["Backend API Service (Port 10000)"]
        BE[mentara-api<br/>NestJS 11.x]
        BE_Modules["140+ REST API Endpoints<br/>17 Feature Modules<br/>JWT Authentication<br/>Socket.io WebSocket Server<br/>Prisma ORM<br/>Stripe Integration"]
        BE --> BE_Modules
    end

    subgraph ML["AI/ML Service (Port 10002)"]
        ML_Service[ml-patient-evaluator-api<br/>Python Flask]
        ML_Tech["PyTorch Neural Network<br/>Multi-label Classification<br/>201 inputs â†’ 19 outputs<br/>REST API Endpoints<br/>Health & Metrics"]
        ML_Service --> ML_Tech
    end

    subgraph External["External Services"]
        DB[(PostgreSQL<br/>Supabase)]
        Storage[Supabase Storage<br/>+ AWS S3]
        Stripe[Stripe API<br/>Payment Processing]
    end

    FE -->|REST API<br/>JWT Auth| BE
    FE -->|WebSocket<br/>Real-time Messaging| BE
    FE -->|WebRTC<br/>Video Consultations| BE
    BE -->|REST API<br/>POST /predict| ML_Service
    BE -->|Prisma ORM| DB
    BE -->|File Upload/Download| Storage
    BE -->|Payment Processing| Stripe

    style Frontend fill:#e1f5ff
    style Backend fill:#fff4e1
    style ML fill:#ffe1f5
    style External fill:#f0f0f0