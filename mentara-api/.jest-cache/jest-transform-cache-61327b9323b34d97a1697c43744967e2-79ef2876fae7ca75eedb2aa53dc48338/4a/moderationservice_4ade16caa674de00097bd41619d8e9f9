7a07dec39f29c742843018ac8089afcc
"use strict";

/* istanbul ignore next */
function cov_1dv3awz3gs() {
  var path = "/home/wetooa/Documents/code/projects/mentara/mentara-api/src/common/services/moderation.service.ts";
  var hash = "a71dabaf0205a1aa710128caf73dfd502cbdac51";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/home/wetooa/Documents/code/projects/mentara/mentara-api/src/common/services/moderation.service.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 17
        },
        end: {
          line: 7,
          column: 1
        }
      },
      "1": {
        start: {
          line: 3,
          column: 12
        },
        end: {
          line: 3,
          column: 28
        }
      },
      "2": {
        start: {
          line: 3,
          column: 34
        },
        end: {
          line: 3,
          column: 125
        }
      },
      "3": {
        start: {
          line: 4,
          column: 4
        },
        end: {
          line: 5,
          column: 150
        }
      },
      "4": {
        start: {
          line: 4,
          column: 79
        },
        end: {
          line: 4,
          column: 131
        }
      },
      "5": {
        start: {
          line: 5,
          column: 9
        },
        end: {
          line: 5,
          column: 150
        }
      },
      "6": {
        start: {
          line: 5,
          column: 22
        },
        end: {
          line: 5,
          column: 43
        }
      },
      "7": {
        start: {
          line: 5,
          column: 58
        },
        end: {
          line: 5,
          column: 150
        }
      },
      "8": {
        start: {
          line: 5,
          column: 81
        },
        end: {
          line: 5,
          column: 150
        }
      },
      "9": {
        start: {
          line: 6,
          column: 4
        },
        end: {
          line: 6,
          column: 66
        }
      },
      "10": {
        start: {
          line: 8,
          column: 17
        },
        end: {
          line: 10,
          column: 1
        }
      },
      "11": {
        start: {
          line: 9,
          column: 4
        },
        end: {
          line: 9,
          column: 109
        }
      },
      "12": {
        start: {
          line: 9,
          column: 79
        },
        end: {
          line: 9,
          column: 109
        }
      },
      "13": {
        start: {
          line: 13,
          column: 0
        },
        end: {
          line: 13,
          column: 62
        }
      },
      "14": {
        start: {
          line: 14,
          column: 0
        },
        end: {
          line: 14,
          column: 35
        }
      },
      "15": {
        start: {
          line: 15,
          column: 17
        },
        end: {
          line: 15,
          column: 42
        }
      },
      "16": {
        start: {
          line: 16,
          column: 16
        },
        end: {
          line: 16,
          column: 40
        }
      },
      "17": {
        start: {
          line: 17,
          column: 15
        },
        end: {
          line: 17,
          column: 30
        }
      },
      "18": {
        start: {
          line: 18,
          column: 17
        },
        end: {
          line: 18,
          column: 42
        }
      },
      "19": {
        start: {
          line: 19,
          column: 24
        },
        end: {
          line: 244,
          column: 1
        }
      },
      "20": {
        start: {
          line: 22,
          column: 13
        },
        end: {
          line: 22,
          column: 58
        }
      },
      "21": {
        start: {
          line: 27,
          column: 8
        },
        end: {
          line: 27,
          column: 39
        }
      },
      "22": {
        start: {
          line: 28,
          column: 8
        },
        end: {
          line: 28,
          column: 43
        }
      },
      "23": {
        start: {
          line: 29,
          column: 8
        },
        end: {
          line: 29,
          column: 102
        }
      },
      "24": {
        start: {
          line: 30,
          column: 8
        },
        end: {
          line: 30,
          column: 74
        }
      },
      "25": {
        start: {
          line: 31,
          column: 8
        },
        end: {
          line: 31,
          column: 74
        }
      },
      "26": {
        start: {
          line: 37,
          column: 8
        },
        end: {
          line: 39,
          column: 9
        }
      },
      "27": {
        start: {
          line: 38,
          column: 12
        },
        end: {
          line: 38,
          column: 47
        }
      },
      "28": {
        start: {
          line: 40,
          column: 8
        },
        end: {
          line: 87,
          column: 9
        }
      },
      "29": {
        start: {
          line: 41,
          column: 30
        },
        end: {
          line: 41,
          column: 40
        }
      },
      "30": {
        start: {
          line: 42,
          column: 29
        },
        end: {
          line: 55,
          column: 15
        }
      },
      "31": {
        start: {
          line: 56,
          column: 35
        },
        end: {
          line: 56,
          column: 57
        }
      },
      "32": {
        start: {
          line: 57,
          column: 27
        },
        end: {
          line: 60,
          column: 13
        }
      },
      "33": {
        start: {
          line: 62,
          column: 12
        },
        end: {
          line: 69,
          column: 13
        }
      },
      "34": {
        start: {
          line: 63,
          column: 16
        },
        end: {
          line: 68,
          column: 19
        }
      },
      "35": {
        start: {
          line: 71,
          column: 12
        },
        end: {
          line: 77,
          column: 13
        }
      },
      "36": {
        start: {
          line: 72,
          column: 16
        },
        end: {
          line: 76,
          column: 19
        }
      },
      "37": {
        start: {
          line: 78,
          column: 12
        },
        end: {
          line: 78,
          column: 26
        }
      },
      "38": {
        start: {
          line: 81,
          column: 12
        },
        end: {
          line: 81,
          column: 66
        }
      },
      "39": {
        start: {
          line: 83,
          column: 12
        },
        end: {
          line: 86,
          column: 15
        }
      },
      "40": {
        start: {
          line: 93,
          column: 23
        },
        end: {
          line: 93,
          column: 64
        }
      },
      "41": {
        start: {
          line: 94,
          column: 8
        },
        end: {
          line: 94,
          column: 92
        }
      },
      "42": {
        start: {
          line: 100,
          column: 8
        },
        end: {
          line: 102,
          column: 9
        }
      },
      "43": {
        start: {
          line: 101,
          column: 12
        },
        end: {
          line: 101,
          column: 73
        }
      },
      "44": {
        start: {
          line: 101,
          column: 39
        },
        end: {
          line: 101,
          column: 71
        }
      },
      "45": {
        start: {
          line: 103,
          column: 8
        },
        end: {
          line: 130,
          column: 9
        }
      },
      "46": {
        start: {
          line: 104,
          column: 30
        },
        end: {
          line: 104,
          column: 40
        }
      },
      "47": {
        start: {
          line: 105,
          column: 29
        },
        end: {
          line: 120,
          column: 15
        }
      },
      "48": {
        start: {
          line: 106,
          column: 44
        },
        end: {
          line: 114,
          column: 17
        }
      },
      "49": {
        start: {
          line: 121,
          column: 35
        },
        end: {
          line: 121,
          column: 57
        }
      },
      "50": {
        start: {
          line: 122,
          column: 12
        },
        end: {
          line: 125,
          column: 16
        }
      },
      "51": {
        start: {
          line: 122,
          column: 50
        },
        end: {
          line: 125,
          column: 13
        }
      },
      "52": {
        start: {
          line: 128,
          column: 12
        },
        end: {
          line: 128,
          column: 72
        }
      },
      "53": {
        start: {
          line: 129,
          column: 12
        },
        end: {
          line: 129,
          column: 73
        }
      },
      "54": {
        start: {
          line: 129,
          column: 39
        },
        end: {
          line: 129,
          column: 71
        }
      },
      "55": {
        start: {
          line: 136,
          column: 8
        },
        end: {
          line: 138,
          column: 9
        }
      },
      "56": {
        start: {
          line: 137,
          column: 12
        },
        end: {
          line: 137,
          column: 42
        }
      },
      "57": {
        start: {
          line: 139,
          column: 8
        },
        end: {
          line: 153,
          column: 9
        }
      },
      "58": {
        start: {
          line: 140,
          column: 30
        },
        end: {
          line: 140,
          column: 40
        }
      },
      "59": {
        start: {
          line: 141,
          column: 12
        },
        end: {
          line: 143,
          column: 16
        }
      },
      "60": {
        start: {
          line: 144,
          column: 33
        },
        end: {
          line: 144,
          column: 55
        }
      },
      "61": {
        start: {
          line: 145,
          column: 12
        },
        end: {
          line: 145,
          column: 55
        }
      },
      "62": {
        start: {
          line: 148,
          column: 12
        },
        end: {
          line: 148,
          column: 80
        }
      },
      "63": {
        start: {
          line: 149,
          column: 12
        },
        end: {
          line: 152,
          column: 14
        }
      },
      "64": {
        start: {
          line: 159,
          column: 8
        },
        end: {
          line: 166,
          column: 9
        }
      },
      "65": {
        start: {
          line: 160,
          column: 12
        },
        end: {
          line: 165,
          column: 14
        }
      },
      "66": {
        start: {
          line: 167,
          column: 8
        },
        end: {
          line: 181,
          column: 9
        }
      },
      "67": {
        start: {
          line: 168,
          column: 29
        },
        end: {
          line: 170,
          column: 15
        }
      },
      "68": {
        start: {
          line: 171,
          column: 12
        },
        end: {
          line: 171,
          column: 33
        }
      },
      "69": {
        start: {
          line: 174,
          column: 12
        },
        end: {
          line: 174,
          column: 72
        }
      },
      "70": {
        start: {
          line: 175,
          column: 12
        },
        end: {
          line: 180,
          column: 14
        }
      },
      "71": {
        start: {
          line: 187,
          column: 8
        },
        end: {
          line: 194,
          column: 10
        }
      },
      "72": {
        start: {
          line: 200,
          column: 8
        },
        end: {
          line: 206,
          column: 10
        }
      },
      "73": {
        start: {
          line: 212,
          column: 8
        },
        end: {
          line: 218,
          column: 10
        }
      },
      "74": {
        start: {
          line: 224,
          column: 8
        },
        end: {
          line: 230,
          column: 10
        }
      },
      "75": {
        start: {
          line: 236,
          column: 8
        },
        end: {
          line: 242,
          column: 10
        }
      },
      "76": {
        start: {
          line: 245,
          column: 0
        },
        end: {
          line: 245,
          column: 46
        }
      },
      "77": {
        start: {
          line: 246,
          column: 0
        },
        end: {
          line: 249,
          column: 22
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 2,
            column: 46
          },
          end: {
            line: 2,
            column: 47
          }
        },
        loc: {
          start: {
            line: 2,
            column: 87
          },
          end: {
            line: 7,
            column: 1
          }
        },
        line: 2
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 8,
            column: 46
          },
          end: {
            line: 8,
            column: 47
          }
        },
        loc: {
          start: {
            line: 8,
            column: 62
          },
          end: {
            line: 10,
            column: 1
          }
        },
        line: 8
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 26,
            column: 4
          },
          end: {
            line: 26,
            column: 5
          }
        },
        loc: {
          start: {
            line: 26,
            column: 44
          },
          end: {
            line: 32,
            column: 5
          }
        },
        line: 26
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 36,
            column: 4
          },
          end: {
            line: 36,
            column: 5
          }
        },
        loc: {
          start: {
            line: 36,
            column: 41
          },
          end: {
            line: 88,
            column: 5
          }
        },
        line: 36
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 92,
            column: 4
          },
          end: {
            line: 92,
            column: 5
          }
        },
        loc: {
          start: {
            line: 92,
            column: 44
          },
          end: {
            line: 95,
            column: 5
          }
        },
        line: 92
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 99,
            column: 4
          },
          end: {
            line: 99,
            column: 5
          }
        },
        loc: {
          start: {
            line: 99,
            column: 31
          },
          end: {
            line: 131,
            column: 5
          }
        },
        line: 99
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 101,
            column: 29
          },
          end: {
            line: 101,
            column: 30
          }
        },
        loc: {
          start: {
            line: 101,
            column: 39
          },
          end: {
            line: 101,
            column: 71
          }
        },
        line: 101
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 106,
            column: 33
          },
          end: {
            line: 106,
            column: 34
          }
        },
        loc: {
          start: {
            line: 106,
            column: 44
          },
          end: {
            line: 114,
            column: 17
          }
        },
        line: 106
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 122,
            column: 37
          },
          end: {
            line: 122,
            column: 38
          }
        },
        loc: {
          start: {
            line: 122,
            column: 50
          },
          end: {
            line: 125,
            column: 13
          }
        },
        line: 122
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 129,
            column: 29
          },
          end: {
            line: 129,
            column: 30
          }
        },
        loc: {
          start: {
            line: 129,
            column: 39
          },
          end: {
            line: 129,
            column: 71
          }
        },
        line: 129
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 135,
            column: 4
          },
          end: {
            line: 135,
            column: 5
          }
        },
        loc: {
          start: {
            line: 135,
            column: 24
          },
          end: {
            line: 154,
            column: 5
          }
        },
        line: 135
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 158,
            column: 4
          },
          end: {
            line: 158,
            column: 5
          }
        },
        loc: {
          start: {
            line: 158,
            column: 21
          },
          end: {
            line: 182,
            column: 5
          }
        },
        line: 158
      },
      "12": {
        name: "(anonymous_12)",
        decl: {
          start: {
            line: 186,
            column: 4
          },
          end: {
            line: 186,
            column: 5
          }
        },
        loc: {
          start: {
            line: 186,
            column: 38
          },
          end: {
            line: 195,
            column: 5
          }
        },
        line: 186
      },
      "13": {
        name: "(anonymous_13)",
        decl: {
          start: {
            line: 199,
            column: 4
          },
          end: {
            line: 199,
            column: 5
          }
        },
        loc: {
          start: {
            line: 199,
            column: 53
          },
          end: {
            line: 207,
            column: 5
          }
        },
        line: 199
      },
      "14": {
        name: "(anonymous_14)",
        decl: {
          start: {
            line: 211,
            column: 4
          },
          end: {
            line: 211,
            column: 5
          }
        },
        loc: {
          start: {
            line: 211,
            column: 56
          },
          end: {
            line: 219,
            column: 5
          }
        },
        line: 211
      },
      "15": {
        name: "(anonymous_15)",
        decl: {
          start: {
            line: 223,
            column: 4
          },
          end: {
            line: 223,
            column: 5
          }
        },
        loc: {
          start: {
            line: 223,
            column: 59
          },
          end: {
            line: 231,
            column: 5
          }
        },
        line: 223
      },
      "16": {
        name: "(anonymous_16)",
        decl: {
          start: {
            line: 235,
            column: 4
          },
          end: {
            line: 235,
            column: 5
          }
        },
        loc: {
          start: {
            line: 235,
            column: 54
          },
          end: {
            line: 243,
            column: 5
          }
        },
        line: 235
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 2,
            column: 17
          },
          end: {
            line: 7,
            column: 1
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 2,
            column: 18
          },
          end: {
            line: 2,
            column: 22
          }
        }, {
          start: {
            line: 2,
            column: 26
          },
          end: {
            line: 2,
            column: 41
          }
        }, {
          start: {
            line: 2,
            column: 46
          },
          end: {
            line: 7,
            column: 1
          }
        }],
        line: 2
      },
      "1": {
        loc: {
          start: {
            line: 3,
            column: 34
          },
          end: {
            line: 3,
            column: 125
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 3,
            column: 42
          },
          end: {
            line: 3,
            column: 48
          }
        }, {
          start: {
            line: 3,
            column: 51
          },
          end: {
            line: 3,
            column: 125
          }
        }],
        line: 3
      },
      "2": {
        loc: {
          start: {
            line: 3,
            column: 51
          },
          end: {
            line: 3,
            column: 125
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 3,
            column: 67
          },
          end: {
            line: 3,
            column: 118
          }
        }, {
          start: {
            line: 3,
            column: 121
          },
          end: {
            line: 3,
            column: 125
          }
        }],
        line: 3
      },
      "3": {
        loc: {
          start: {
            line: 4,
            column: 4
          },
          end: {
            line: 5,
            column: 150
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 4,
            column: 4
          },
          end: {
            line: 5,
            column: 150
          }
        }, {
          start: {
            line: 5,
            column: 9
          },
          end: {
            line: 5,
            column: 150
          }
        }],
        line: 4
      },
      "4": {
        loc: {
          start: {
            line: 4,
            column: 8
          },
          end: {
            line: 4,
            column: 77
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 4,
            column: 8
          },
          end: {
            line: 4,
            column: 35
          }
        }, {
          start: {
            line: 4,
            column: 39
          },
          end: {
            line: 4,
            column: 77
          }
        }],
        line: 4
      },
      "5": {
        loc: {
          start: {
            line: 5,
            column: 58
          },
          end: {
            line: 5,
            column: 150
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 5,
            column: 58
          },
          end: {
            line: 5,
            column: 150
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 5
      },
      "6": {
        loc: {
          start: {
            line: 5,
            column: 85
          },
          end: {
            line: 5,
            column: 149
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 5,
            column: 86
          },
          end: {
            line: 5,
            column: 143
          }
        }, {
          start: {
            line: 5,
            column: 148
          },
          end: {
            line: 5,
            column: 149
          }
        }],
        line: 5
      },
      "7": {
        loc: {
          start: {
            line: 5,
            column: 86
          },
          end: {
            line: 5,
            column: 143
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 5,
            column: 94
          },
          end: {
            line: 5,
            column: 98
          }
        }, {
          start: {
            line: 5,
            column: 101
          },
          end: {
            line: 5,
            column: 143
          }
        }],
        line: 5
      },
      "8": {
        loc: {
          start: {
            line: 5,
            column: 101
          },
          end: {
            line: 5,
            column: 143
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 5,
            column: 109
          },
          end: {
            line: 5,
            column: 126
          }
        }, {
          start: {
            line: 5,
            column: 129
          },
          end: {
            line: 5,
            column: 143
          }
        }],
        line: 5
      },
      "9": {
        loc: {
          start: {
            line: 6,
            column: 11
          },
          end: {
            line: 6,
            column: 62
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 6,
            column: 11
          },
          end: {
            line: 6,
            column: 16
          }
        }, {
          start: {
            line: 6,
            column: 20
          },
          end: {
            line: 6,
            column: 21
          }
        }, {
          start: {
            line: 6,
            column: 25
          },
          end: {
            line: 6,
            column: 62
          }
        }],
        line: 6
      },
      "10": {
        loc: {
          start: {
            line: 8,
            column: 17
          },
          end: {
            line: 10,
            column: 1
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 8,
            column: 18
          },
          end: {
            line: 8,
            column: 22
          }
        }, {
          start: {
            line: 8,
            column: 26
          },
          end: {
            line: 8,
            column: 41
          }
        }, {
          start: {
            line: 8,
            column: 46
          },
          end: {
            line: 10,
            column: 1
          }
        }],
        line: 8
      },
      "11": {
        loc: {
          start: {
            line: 9,
            column: 4
          },
          end: {
            line: 9,
            column: 109
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 9,
            column: 4
          },
          end: {
            line: 9,
            column: 109
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 9
      },
      "12": {
        loc: {
          start: {
            line: 9,
            column: 8
          },
          end: {
            line: 9,
            column: 77
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 9,
            column: 8
          },
          end: {
            line: 9,
            column: 35
          }
        }, {
          start: {
            line: 9,
            column: 39
          },
          end: {
            line: 9,
            column: 77
          }
        }],
        line: 9
      },
      "13": {
        loc: {
          start: {
            line: 37,
            column: 8
          },
          end: {
            line: 39,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 37,
            column: 8
          },
          end: {
            line: 39,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 37
      },
      "14": {
        loc: {
          start: {
            line: 62,
            column: 12
          },
          end: {
            line: 69,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 62,
            column: 12
          },
          end: {
            line: 69,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 62
      },
      "15": {
        loc: {
          start: {
            line: 62,
            column: 16
          },
          end: {
            line: 62,
            column: 79
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 62,
            column: 16
          },
          end: {
            line: 62,
            column: 49
          }
        }, {
          start: {
            line: 62,
            column: 53
          },
          end: {
            line: 62,
            column: 79
          }
        }],
        line: 62
      },
      "16": {
        loc: {
          start: {
            line: 71,
            column: 12
          },
          end: {
            line: 77,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 71,
            column: 12
          },
          end: {
            line: 77,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 71
      },
      "17": {
        loc: {
          start: {
            line: 94,
            column: 16
          },
          end: {
            line: 94,
            column: 90
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 94,
            column: 16
          },
          end: {
            line: 94,
            column: 49
          }
        }, {
          start: {
            line: 94,
            column: 54
          },
          end: {
            line: 94,
            column: 80
          }
        }, {
          start: {
            line: 94,
            column: 84
          },
          end: {
            line: 94,
            column: 89
          }
        }],
        line: 94
      },
      "18": {
        loc: {
          start: {
            line: 100,
            column: 8
          },
          end: {
            line: 102,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 100,
            column: 8
          },
          end: {
            line: 102,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 100
      },
      "19": {
        loc: {
          start: {
            line: 136,
            column: 8
          },
          end: {
            line: 138,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 136,
            column: 8
          },
          end: {
            line: 138,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 136
      },
      "20": {
        loc: {
          start: {
            line: 151,
            column: 23
          },
          end: {
            line: 151,
            column: 79
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 151,
            column: 48
          },
          end: {
            line: 151,
            column: 61
          }
        }, {
          start: {
            line: 151,
            column: 64
          },
          end: {
            line: 151,
            column: 79
          }
        }],
        line: 151
      },
      "21": {
        loc: {
          start: {
            line: 159,
            column: 8
          },
          end: {
            line: 166,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 159,
            column: 8
          },
          end: {
            line: 166,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 159
      },
      "22": {
        loc: {
          start: {
            line: 248,
            column: 37
          },
          end: {
            line: 248,
            column: 145
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 248,
            column: 134
          },
          end: {
            line: 248,
            column: 136
          }
        }, {
          start: {
            line: 248,
            column: 139
          },
          end: {
            line: 248,
            column: 145
          }
        }],
        line: 248
      },
      "23": {
        loc: {
          start: {
            line: 248,
            column: 50
          },
          end: {
            line: 248,
            column: 115
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 248,
            column: 50
          },
          end: {
            line: 248,
            column: 92
          }
        }, {
          start: {
            line: 248,
            column: 96
          },
          end: {
            line: 248,
            column: 115
          }
        }],
        line: 248
      },
      "24": {
        loc: {
          start: {
            line: 248,
            column: 147
          },
          end: {
            line: 248,
            column: 261
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 248,
            column: 250
          },
          end: {
            line: 248,
            column: 252
          }
        }, {
          start: {
            line: 248,
            column: 255
          },
          end: {
            line: 248,
            column: 261
          }
        }],
        line: 248
      },
      "25": {
        loc: {
          start: {
            line: 248,
            column: 160
          },
          end: {
            line: 248,
            column: 231
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 248,
            column: 160
          },
          end: {
            line: 248,
            column: 205
          }
        }, {
          start: {
            line: 248,
            column: 209
          },
          end: {
            line: 248,
            column: 231
          }
        }],
        line: 248
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0,
      "74": 0,
      "75": 0,
      "76": 0,
      "77": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0
    },
    b: {
      "0": [0, 0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0, 0],
      "10": [0, 0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0],
      "16": [0, 0],
      "17": [0, 0, 0],
      "18": [0, 0],
      "19": [0, 0],
      "20": [0, 0],
      "21": [0, 0],
      "22": [0, 0],
      "23": [0, 0],
      "24": [0, 0],
      "25": [0, 0]
    },
    inputSourceMap: {
      file: "/home/wetooa/Documents/code/projects/mentara/mentara-api/src/common/services/moderation.service.ts",
      mappings: ";;;;;;;;;;;;;;AAAA,2CAAoD;AACpD,yCAA4C;AAC5C,+BAAsC;AACtC,2CAA+C;AAsBxC,IAAM,iBAAiB,yBAAvB,MAAM,iBAAiB;IAOT;IACA;IAPF,MAAM,GAAG,IAAI,eAAM,CAAC,mBAAiB,CAAC,IAAI,CAAC,CAAC;IAC5C,gBAAgB,CAAS;IACzB,OAAO,CAAU;IACjB,OAAO,CAAS;IAEjC,YACmB,WAAwB,EACxB,aAA4B;QAD5B,gBAAW,GAAX,WAAW,CAAa;QACxB,kBAAa,GAAb,aAAa,CAAe;QAE7C,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,aAAa,CAAC,GAAG,CAC5C,oBAAoB,EACpB,uBAAuB,CACxB,CAAC;QACF,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,GAAG,CAAU,oBAAoB,EAAE,IAAI,CAAC,CAAC;QAC3E,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,GAAG,CAAS,oBAAoB,EAAE,IAAI,CAAC,CAAC;IAC5E,CAAC;IAED;;OAEG;IACH,KAAK,CAAC,eAAe,CACnB,IAAY,EACZ,OAA0B;QAE1B,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;YAClB,OAAO,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;QACrC,CAAC;QAED,IAAI,CAAC;YACH,MAAM,SAAS,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;YAE7B,MAAM,QAAQ,GAAG,MAAM,IAAA,qBAAc,EACnC,IAAI,CAAC,WAAW,CAAC,IAAI,CACnB,GAAG,IAAI,CAAC,gBAAgB,kBAAkB,EAC1C;gBACE,IAAI;gBACJ,OAAO,EAAE,OAAO,CAAC,OAAO;gBACxB,OAAO,EAAE,OAAO,CAAC,MAAM;gBACvB,SAAS,EAAE,OAAO,CAAC,QAAQ;gBAC3B,eAAe,EAAE,OAAO,CAAC,cAAc;gBACvC,YAAY,EAAE,OAAO,CAAC,WAAW;gBACjC,SAAS,EAAE,OAAO,CAAC,SAAS,EAAE,WAAW,EAAE;aAC5C,EACD;gBACE,OAAO,EAAE,IAAI,CAAC,OAAO;gBACrB,OAAO,EAAE;oBACP,cAAc,EAAE,kBAAkB;iBACnC;aACF,CACF,CACF,CAAC;YAEF,MAAM,cAAc,GAAG,IAAI,CAAC,GAAG,EAAE,GAAG,SAAS,CAAC;YAC9C,MAAM,MAAM,GAAqB;gBAC/B,GAAG,QAAQ,CAAC,IAAI;gBAChB,cAAc;aACf,CAAC;YAEF,gDAAgD;YAChD,IAAI,MAAM,CAAC,WAAW,KAAK,UAAU,IAAI,MAAM,CAAC,mBAAmB,EAAE,CAAC;gBACpE,IAAI,CAAC,MAAM,CAAC,IAAI,CACd,yBAAyB,OAAO,CAAC,MAAM,OAAO,OAAO,CAAC,OAAO,EAAE,EAC/D;oBACE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC;oBAC5B,WAAW,EAAE,MAAM,CAAC,WAAW;oBAC/B,UAAU,EAAE,MAAM,CAAC,UAAU;oBAC7B,KAAK,EAAE,MAAM,CAAC,KAAK;iBACpB,CACF,CAAC;YACJ,CAAC;YAED,8BAA8B;YAC9B,IAAI,MAAM,CAAC,cAAc,KAAK,OAAO,EAAE,CAAC;gBACtC,IAAI,CAAC,MAAM,CAAC,IAAI,CACd,gCAAgC,OAAO,CAAC,MAAM,OAAO,OAAO,CAAC,OAAO,EAAE,EACtE;oBACE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC;oBAC5B,UAAU,EAAE,MAAM,CAAC,UAAU;oBAC7B,KAAK,EAAE,MAAM,CAAC,KAAK;iBACpB,CACF,CAAC;YACJ,CAAC;YAED,OAAO,MAAM,CAAC;QAChB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,2BAA2B,EAAE,KAAK,CAAC,CAAC;YAEtD,4DAA4D;YAC5D,OAAO,IAAI,CAAC,gBAAgB,CAAC,IAAI,EAAE;gBACjC,KAAK,EAAE,CAAC,qBAAqB,CAAC;gBAC9B,cAAc,EAAE,IAAI,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,EAAE;aACxC,CAAC,CAAC;QACL,CAAC;IACH,CAAC;IAED;;OAEG;IACH,KAAK,CAAC,kBAAkB,CACtB,IAAY,EACZ,OAA0B;QAE1B,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;QACzD,OAAO,CACL,MAAM,CAAC,WAAW,KAAK,UAAU,IAAI,CAAC,MAAM,CAAC,mBAAmB,IAAI,KAAK,CAAC,CAC3E,CAAC;IACJ,CAAC;IAED;;OAEG;IACH,KAAK,CAAC,aAAa,CACjB,KAA0D;QAE1D,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;YAClB,OAAO,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAC/D,CAAC;QAED,IAAI,CAAC;YACH,MAAM,SAAS,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;YAE7B,MAAM,QAAQ,GAAG,MAAM,IAAA,qBAAc,EACnC,IAAI,CAAC,WAAW,CAAC,IAAI,CACnB,GAAG,IAAI,CAAC,gBAAgB,wBAAwB,EAChD;gBACE,KAAK,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;oBAC1B,IAAI,EAAE,IAAI,CAAC,IAAI;oBACf,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,OAAO;oBAC7B,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,MAAM;oBAC5B,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,QAAQ;oBAChC,eAAe,EAAE,IAAI,CAAC,OAAO,CAAC,cAAc;oBAC5C,YAAY,EAAE,IAAI,CAAC,OAAO,CAAC,WAAW;oBACtC,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,WAAW,EAAE;iBACjD,CAAC,CAAC;aACJ,EACD;gBACE,OAAO,EAAE,IAAI,CAAC,OAAO,GAAG,CAAC,EAAE,sCAAsC;gBACjE,OAAO,EAAE;oBACP,cAAc,EAAE,kBAAkB;iBACnC;aACF,CACF,CACF,CAAC;YAEF,MAAM,cAAc,GAAG,IAAI,CAAC,GAAG,EAAE,GAAG,SAAS,CAAC;YAC9C,OAAO,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,MAAW,EAAE,EAAE,CAAC,CAAC;gBACzC,GAAG,MAAM;gBACT,cAAc,EAAE,cAAc,GAAG,KAAK,CAAC,MAAM,EAAE,mBAAmB;aACnE,CAAC,CAAC,CAAC;QACN,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,iCAAiC,EAAE,KAAK,CAAC,CAAC;YAC5D,OAAO,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAC/D,CAAC;IACH,CAAC;IAED;;OAEG;IACH,KAAK,CAAC,WAAW;QAKf,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;YAClB,OAAO,EAAE,MAAM,EAAE,UAAU,EAAE,CAAC;QAChC,CAAC;QAED,IAAI,CAAC;YACH,MAAM,SAAS,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;YAE7B,MAAM,IAAA,qBAAc,EAClB,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,gBAAgB,SAAS,EAAE;gBACtD,OAAO,EAAE,IAAI,CAAC,OAAO;aACtB,CAAC,CACH,CAAC;YAEF,MAAM,YAAY,GAAG,IAAI,CAAC,GAAG,EAAE,GAAG,SAAS,CAAC;YAC5C,OAAO,EAAE,MAAM,EAAE,SAAS,EAAE,YAAY,EAAE,CAAC;QAC7C,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,yCAAyC,EAAE,KAAK,CAAC,CAAC;YACpE,OAAO;gBACL,MAAM,EAAE,WAAW;gBACnB,KAAK,EAAE,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,eAAe;aAChE,CAAC;QACJ,CAAC;IACH,CAAC;IAED;;OAEG;IACH,KAAK,CAAC,QAAQ;QAMZ,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;YAClB,OAAO;gBACL,YAAY,EAAE,CAAC;gBACf,mBAAmB,EAAE,CAAC;gBACtB,SAAS,EAAE,CAAC;gBACZ,gBAAgB,EAAE,CAAC;aACpB,CAAC;QACJ,CAAC;QAED,IAAI,CAAC;YACH,MAAM,QAAQ,GAAG,MAAM,IAAA,qBAAc,EACnC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,gBAAgB,eAAe,EAAE;gBAC5D,OAAO,EAAE,IAAI,CAAC,OAAO;aACtB,CAAC,CACH,CAAC;YAEF,OAAO,QAAQ,CAAC,IAAI,CAAC;QACvB,CAAC;QAAC,OAAO,KAAK,EAAE,CAAC;YACf,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,iCAAiC,EAAE,KAAK,CAAC,CAAC;YAC5D,OAAO;gBACL,YAAY,EAAE,CAAC;gBACf,mBAAmB,EAAE,CAAC;gBACtB,SAAS,EAAE,GAAG;gBACd,gBAAgB,EAAE,CAAC;aACpB,CAAC;QACJ,CAAC;IACH,CAAC;IAED;;OAEG;IACK,gBAAgB,CACtB,IAAY,EACZ,SAAqC;QAErC,OAAO;YACL,cAAc,EAAE,MAAM;YACtB,UAAU,EAAE,GAAG;YACf,mBAAmB,EAAE,KAAK;YAC1B,KAAK,EAAE,EAAE;YACT,cAAc,EAAE,CAAC;YACjB,GAAG,SAAS;SACb,CAAC;IACJ,CAAC;IAED;;OAEG;IACH,iBAAiB,CACf,MAAc,EACd,QAAgB,EAChB,WAAoB;QAEpB,OAAO;YACL,OAAO,EAAE,MAAM;YACf,MAAM;YACN,QAAQ;YACR,WAAW;YACX,SAAS,EAAE,IAAI,IAAI,EAAE;SACtB,CAAC;IACJ,CAAC;IAED;;OAEG;IACH,oBAAoB,CAClB,MAAc,EACd,QAAgB,EAChB,WAAoB;QAEpB,OAAO;YACL,OAAO,EAAE,SAAS;YAClB,MAAM;YACN,QAAQ;YACR,WAAW;YACX,SAAS,EAAE,IAAI,IAAI,EAAE;SACtB,CAAC;IACJ,CAAC;IAED;;OAEG;IACH,oBAAoB,CAClB,MAAc,EACd,QAAgB,EAChB,cAAsB;QAEtB,OAAO;YACL,OAAO,EAAE,SAAS;YAClB,MAAM;YACN,QAAQ;YACR,cAAc;YACd,SAAS,EAAE,IAAI,IAAI,EAAE;SACtB,CAAC;IACJ,CAAC;IAED;;OAEG;IACH,oBAAoB,CAClB,MAAc,EACd,QAAgB,EAChB,SAAiB;QAEjB,OAAO;YACL,OAAO,EAAE,SAAS;YAClB,MAAM;YACN,QAAQ;YACR,cAAc,EAAE,SAAS;YACzB,SAAS,EAAE,IAAI,IAAI,EAAE;SACtB,CAAC;IACJ,CAAC;CACF,CAAA;AArTY,8CAAiB;4BAAjB,iBAAiB;IAD7B,IAAA,mBAAU,GAAE;yDAQqB,mBAAW,oBAAX,mBAAW,oDACT,sBAAa,oBAAb,sBAAa;GARpC,iBAAiB,CAqT7B",
      names: [],
      sources: ["/home/wetooa/Documents/code/projects/mentara/mentara-api/src/common/services/moderation.service.ts"],
      sourcesContent: ["import { Injectable, Logger } from '@nestjs/common';\nimport { HttpService } from '@nestjs/axios';\nimport { firstValueFrom } from 'rxjs';\nimport { ConfigService } from '@nestjs/config';\n\nexport interface ModerationResult {\n  classification: 'safe' | 'toxic' | 'spam' | 'crisis';\n  confidence: number;\n  mentalHealthContext: boolean;\n  crisisLevel?: 'low' | 'medium' | 'high' | 'critical';\n  immediateEscalation?: boolean;\n  flags: string[];\n  processingTime: number;\n}\n\nexport interface ModerationContext {\n  context: string;\n  userId?: string;\n  userRole?: string;\n  conversationId?: string;\n  communityId?: string;\n  timestamp?: Date;\n}\n\n@Injectable()\nexport class ModerationService {\n  private readonly logger = new Logger(ModerationService.name);\n  private readonly moderationApiUrl: string;\n  private readonly enabled: boolean;\n  private readonly timeout: number;\n\n  constructor(\n    private readonly httpService: HttpService,\n    private readonly configService: ConfigService,\n  ) {\n    this.moderationApiUrl = this.configService.get<string>(\n      'MODERATION_API_URL',\n      'http://localhost:5001',\n    );\n    this.enabled = this.configService.get<boolean>('MODERATION_ENABLED', true);\n    this.timeout = this.configService.get<number>('MODERATION_TIMEOUT', 5000);\n  }\n\n  /**\n   * Classify content using the AI moderation service\n   */\n  async classifyContent(\n    text: string,\n    context: ModerationContext,\n  ): Promise<ModerationResult> {\n    if (!this.enabled) {\n      return this.createSafeResult(text);\n    }\n\n    try {\n      const startTime = Date.now();\n\n      const response = await firstValueFrom(\n        this.httpService.post(\n          `${this.moderationApiUrl}/api/v1/classify`,\n          {\n            text,\n            context: context.context,\n            user_id: context.userId,\n            user_role: context.userRole,\n            conversation_id: context.conversationId,\n            community_id: context.communityId,\n            timestamp: context.timestamp?.toISOString(),\n          },\n          {\n            timeout: this.timeout,\n            headers: {\n              'Content-Type': 'application/json',\n            },\n          },\n        ),\n      );\n\n      const processingTime = Date.now() - startTime;\n      const result: ModerationResult = {\n        ...response.data,\n        processingTime,\n      };\n\n      // Log crisis detection for immediate escalation\n      if (result.crisisLevel === 'critical' || result.immediateEscalation) {\n        this.logger.warn(\n          `CRISIS DETECTED: User ${context.userId} in ${context.context}`,\n          {\n            text: text.substring(0, 100),\n            crisisLevel: result.crisisLevel,\n            confidence: result.confidence,\n            flags: result.flags,\n          },\n        );\n      }\n\n      // Log toxic content detection\n      if (result.classification === 'toxic') {\n        this.logger.warn(\n          `TOXIC CONTENT DETECTED: User ${context.userId} in ${context.context}`,\n          {\n            text: text.substring(0, 100),\n            confidence: result.confidence,\n            flags: result.flags,\n          },\n        );\n      }\n\n      return result;\n    } catch (error) {\n      this.logger.error('Moderation service error:', error);\n\n      // Fallback to safe classification if service is unavailable\n      return this.createSafeResult(text, {\n        flags: ['service_unavailable'],\n        processingTime: Date.now() - Date.now(),\n      });\n    }\n  }\n\n  /**\n   * Check if content requires crisis intervention\n   */\n  async checkCrisisContent(\n    text: string,\n    context: ModerationContext,\n  ): Promise<boolean> {\n    const result = await this.classifyContent(text, context);\n    return (\n      result.crisisLevel === 'critical' || (result.immediateEscalation ?? false)\n    );\n  }\n\n  /**\n   * Batch classification for multiple content items\n   */\n  async batchClassify(\n    items: Array<{ text: string; context: ModerationContext }>,\n  ): Promise<ModerationResult[]> {\n    if (!this.enabled) {\n      return items.map((item) => this.createSafeResult(item.text));\n    }\n\n    try {\n      const startTime = Date.now();\n\n      const response = await firstValueFrom(\n        this.httpService.post(\n          `${this.moderationApiUrl}/api/v1/classify/batch`,\n          {\n            items: items.map((item) => ({\n              text: item.text,\n              context: item.context.context,\n              user_id: item.context.userId,\n              user_role: item.context.userRole,\n              conversation_id: item.context.conversationId,\n              community_id: item.context.communityId,\n              timestamp: item.context.timestamp?.toISOString(),\n            })),\n          },\n          {\n            timeout: this.timeout * 2, // Longer timeout for batch processing\n            headers: {\n              'Content-Type': 'application/json',\n            },\n          },\n        ),\n      );\n\n      const processingTime = Date.now() - startTime;\n      return response.data.map((result: any) => ({\n        ...result,\n        processingTime: processingTime / items.length, // Average per item\n      }));\n    } catch (error) {\n      this.logger.error('Batch moderation service error:', error);\n      return items.map((item) => this.createSafeResult(item.text));\n    }\n  }\n\n  /**\n   * Health check for the moderation service\n   */\n  async healthCheck(): Promise<{\n    status: 'healthy' | 'unhealthy' | 'disabled';\n    responseTime?: number;\n    error?: string;\n  }> {\n    if (!this.enabled) {\n      return { status: 'disabled' };\n    }\n\n    try {\n      const startTime = Date.now();\n\n      await firstValueFrom(\n        this.httpService.get(`${this.moderationApiUrl}/health`, {\n          timeout: this.timeout,\n        }),\n      );\n\n      const responseTime = Date.now() - startTime;\n      return { status: 'healthy', responseTime };\n    } catch (error) {\n      this.logger.error('Moderation service health check failed:', error);\n      return {\n        status: 'unhealthy',\n        error: error instanceof Error ? error.message : 'Unknown error',\n      };\n    }\n  }\n\n  /**\n   * Get moderation service statistics\n   */\n  async getStats(): Promise<{\n    requestCount: number;\n    averageResponseTime: number;\n    errorRate: number;\n    crisisDetections: number;\n  }> {\n    if (!this.enabled) {\n      return {\n        requestCount: 0,\n        averageResponseTime: 0,\n        errorRate: 0,\n        crisisDetections: 0,\n      };\n    }\n\n    try {\n      const response = await firstValueFrom(\n        this.httpService.get(`${this.moderationApiUrl}/api/v1/stats`, {\n          timeout: this.timeout,\n        }),\n      );\n\n      return response.data;\n    } catch (error) {\n      this.logger.error('Failed to get moderation stats:', error);\n      return {\n        requestCount: 0,\n        averageResponseTime: 0,\n        errorRate: 100,\n        crisisDetections: 0,\n      };\n    }\n  }\n\n  /**\n   * Create a safe result for fallback scenarios\n   */\n  private createSafeResult(\n    text: string,\n    overrides?: Partial<ModerationResult>,\n  ): ModerationResult {\n    return {\n      classification: 'safe',\n      confidence: 0.5,\n      mentalHealthContext: false,\n      flags: [],\n      processingTime: 0,\n      ...overrides,\n    };\n  }\n\n  /**\n   * Create moderation context for posts\n   */\n  createPostContext(\n    userId: string,\n    userRole: string,\n    communityId?: string,\n  ): ModerationContext {\n    return {\n      context: 'post',\n      userId,\n      userRole,\n      communityId,\n      timestamp: new Date(),\n    };\n  }\n\n  /**\n   * Create moderation context for comments\n   */\n  createCommentContext(\n    userId: string,\n    userRole: string,\n    communityId?: string,\n  ): ModerationContext {\n    return {\n      context: 'comment',\n      userId,\n      userRole,\n      communityId,\n      timestamp: new Date(),\n    };\n  }\n\n  /**\n   * Create moderation context for messages\n   */\n  createMessageContext(\n    userId: string,\n    userRole: string,\n    conversationId: string,\n  ): ModerationContext {\n    return {\n      context: 'message',\n      userId,\n      userRole,\n      conversationId,\n      timestamp: new Date(),\n    };\n  }\n\n  /**\n   * Create moderation context for therapy sessions\n   */\n  createTherapyContext(\n    userId: string,\n    userRole: string,\n    sessionId: string,\n  ): ModerationContext {\n    return {\n      context: 'therapy',\n      userId,\n      userRole,\n      conversationId: sessionId,\n      timestamp: new Date(),\n    };\n  }\n}\n"],
      version: 3
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "a71dabaf0205a1aa710128caf73dfd502cbdac51"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_1dv3awz3gs = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_1dv3awz3gs();
var __decorate =
/* istanbul ignore next */
(cov_1dv3awz3gs().s[0]++,
/* istanbul ignore next */
(cov_1dv3awz3gs().b[0][0]++, this) &&
/* istanbul ignore next */
(cov_1dv3awz3gs().b[0][1]++, this.__decorate) ||
/* istanbul ignore next */
(cov_1dv3awz3gs().b[0][2]++, function (decorators, target, key, desc) {
  /* istanbul ignore next */
  cov_1dv3awz3gs().f[0]++;
  var c =
    /* istanbul ignore next */
    (cov_1dv3awz3gs().s[1]++, arguments.length),
    r =
    /* istanbul ignore next */
    (cov_1dv3awz3gs().s[2]++, c < 3 ?
    /* istanbul ignore next */
    (cov_1dv3awz3gs().b[1][0]++, target) :
    /* istanbul ignore next */
    (cov_1dv3awz3gs().b[1][1]++, desc === null ?
    /* istanbul ignore next */
    (cov_1dv3awz3gs().b[2][0]++, desc = Object.getOwnPropertyDescriptor(target, key)) :
    /* istanbul ignore next */
    (cov_1dv3awz3gs().b[2][1]++, desc))),
    d;
  /* istanbul ignore next */
  cov_1dv3awz3gs().s[3]++;
  if (
  /* istanbul ignore next */
  (cov_1dv3awz3gs().b[4][0]++, typeof Reflect === "object") &&
  /* istanbul ignore next */
  (cov_1dv3awz3gs().b[4][1]++, typeof Reflect.decorate === "function")) {
    /* istanbul ignore next */
    cov_1dv3awz3gs().b[3][0]++;
    cov_1dv3awz3gs().s[4]++;
    r = Reflect.decorate(decorators, target, key, desc);
  } else {
    /* istanbul ignore next */
    cov_1dv3awz3gs().b[3][1]++;
    cov_1dv3awz3gs().s[5]++;
    for (var i =
    /* istanbul ignore next */
    (cov_1dv3awz3gs().s[6]++, decorators.length - 1); i >= 0; i--) {
      /* istanbul ignore next */
      cov_1dv3awz3gs().s[7]++;
      if (d = decorators[i]) {
        /* istanbul ignore next */
        cov_1dv3awz3gs().b[5][0]++;
        cov_1dv3awz3gs().s[8]++;
        r =
        /* istanbul ignore next */
        (cov_1dv3awz3gs().b[6][0]++, c < 3 ?
        /* istanbul ignore next */
        (cov_1dv3awz3gs().b[7][0]++, d(r)) :
        /* istanbul ignore next */
        (cov_1dv3awz3gs().b[7][1]++, c > 3 ?
        /* istanbul ignore next */
        (cov_1dv3awz3gs().b[8][0]++, d(target, key, r)) :
        /* istanbul ignore next */
        (cov_1dv3awz3gs().b[8][1]++, d(target, key)))) ||
        /* istanbul ignore next */
        (cov_1dv3awz3gs().b[6][1]++, r);
      } else
      /* istanbul ignore next */
      {
        cov_1dv3awz3gs().b[5][1]++;
      }
    }
  }
  /* istanbul ignore next */
  cov_1dv3awz3gs().s[9]++;
  return /* istanbul ignore next */(cov_1dv3awz3gs().b[9][0]++, c > 3) &&
  /* istanbul ignore next */
  (cov_1dv3awz3gs().b[9][1]++, r) &&
  /* istanbul ignore next */
  (cov_1dv3awz3gs().b[9][2]++, Object.defineProperty(target, key, r)), r;
}));
var __metadata =
/* istanbul ignore next */
(cov_1dv3awz3gs().s[10]++,
/* istanbul ignore next */
(cov_1dv3awz3gs().b[10][0]++, this) &&
/* istanbul ignore next */
(cov_1dv3awz3gs().b[10][1]++, this.__metadata) ||
/* istanbul ignore next */
(cov_1dv3awz3gs().b[10][2]++, function (k, v) {
  /* istanbul ignore next */
  cov_1dv3awz3gs().f[1]++;
  cov_1dv3awz3gs().s[11]++;
  if (
  /* istanbul ignore next */
  (cov_1dv3awz3gs().b[12][0]++, typeof Reflect === "object") &&
  /* istanbul ignore next */
  (cov_1dv3awz3gs().b[12][1]++, typeof Reflect.metadata === "function")) {
    /* istanbul ignore next */
    cov_1dv3awz3gs().b[11][0]++;
    cov_1dv3awz3gs().s[12]++;
    return Reflect.metadata(k, v);
  } else
  /* istanbul ignore next */
  {
    cov_1dv3awz3gs().b[11][1]++;
  }
}));
var ModerationService_1;
var _a, _b;
/* istanbul ignore next */
cov_1dv3awz3gs().s[13]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
/* istanbul ignore next */
cov_1dv3awz3gs().s[14]++;
exports.ModerationService = void 0;
const common_1 =
/* istanbul ignore next */
(cov_1dv3awz3gs().s[15]++, require("@nestjs/common"));
const axios_1 =
/* istanbul ignore next */
(cov_1dv3awz3gs().s[16]++, require("@nestjs/axios"));
const rxjs_1 =
/* istanbul ignore next */
(cov_1dv3awz3gs().s[17]++, require("rxjs"));
const config_1 =
/* istanbul ignore next */
(cov_1dv3awz3gs().s[18]++, require("@nestjs/config"));
let ModerationService =
/* istanbul ignore next */
(cov_1dv3awz3gs().s[19]++, ModerationService_1 = class ModerationService {
  httpService;
  configService;
  logger =
  /* istanbul ignore next */
  (cov_1dv3awz3gs().s[20]++, new common_1.Logger(ModerationService_1.name));
  moderationApiUrl;
  enabled;
  timeout;
  constructor(httpService, configService) {
    /* istanbul ignore next */
    cov_1dv3awz3gs().f[2]++;
    cov_1dv3awz3gs().s[21]++;
    this.httpService = httpService;
    /* istanbul ignore next */
    cov_1dv3awz3gs().s[22]++;
    this.configService = configService;
    /* istanbul ignore next */
    cov_1dv3awz3gs().s[23]++;
    this.moderationApiUrl = this.configService.get('MODERATION_API_URL', 'http://localhost:5001');
    /* istanbul ignore next */
    cov_1dv3awz3gs().s[24]++;
    this.enabled = this.configService.get('MODERATION_ENABLED', true);
    /* istanbul ignore next */
    cov_1dv3awz3gs().s[25]++;
    this.timeout = this.configService.get('MODERATION_TIMEOUT', 5000);
  }
  /**
   * Classify content using the AI moderation service
   */
  async classifyContent(text, context) {
    /* istanbul ignore next */
    cov_1dv3awz3gs().f[3]++;
    cov_1dv3awz3gs().s[26]++;
    if (!this.enabled) {
      /* istanbul ignore next */
      cov_1dv3awz3gs().b[13][0]++;
      cov_1dv3awz3gs().s[27]++;
      return this.createSafeResult(text);
    } else
    /* istanbul ignore next */
    {
      cov_1dv3awz3gs().b[13][1]++;
    }
    cov_1dv3awz3gs().s[28]++;
    try {
      const startTime =
      /* istanbul ignore next */
      (cov_1dv3awz3gs().s[29]++, Date.now());
      const response =
      /* istanbul ignore next */
      (cov_1dv3awz3gs().s[30]++, await (0, rxjs_1.firstValueFrom)(this.httpService.post(`${this.moderationApiUrl}/api/v1/classify`, {
        text,
        context: context.context,
        user_id: context.userId,
        user_role: context.userRole,
        conversation_id: context.conversationId,
        community_id: context.communityId,
        timestamp: context.timestamp?.toISOString()
      }, {
        timeout: this.timeout,
        headers: {
          'Content-Type': 'application/json'
        }
      })));
      const processingTime =
      /* istanbul ignore next */
      (cov_1dv3awz3gs().s[31]++, Date.now() - startTime);
      const result =
      /* istanbul ignore next */
      (cov_1dv3awz3gs().s[32]++, {
        ...response.data,
        processingTime
      });
      // Log crisis detection for immediate escalation
      /* istanbul ignore next */
      cov_1dv3awz3gs().s[33]++;
      if (
      /* istanbul ignore next */
      (cov_1dv3awz3gs().b[15][0]++, result.crisisLevel === 'critical') ||
      /* istanbul ignore next */
      (cov_1dv3awz3gs().b[15][1]++, result.immediateEscalation)) {
        /* istanbul ignore next */
        cov_1dv3awz3gs().b[14][0]++;
        cov_1dv3awz3gs().s[34]++;
        this.logger.warn(`CRISIS DETECTED: User ${context.userId} in ${context.context}`, {
          text: text.substring(0, 100),
          crisisLevel: result.crisisLevel,
          confidence: result.confidence,
          flags: result.flags
        });
      } else
      /* istanbul ignore next */
      {
        cov_1dv3awz3gs().b[14][1]++;
      }
      // Log toxic content detection
      cov_1dv3awz3gs().s[35]++;
      if (result.classification === 'toxic') {
        /* istanbul ignore next */
        cov_1dv3awz3gs().b[16][0]++;
        cov_1dv3awz3gs().s[36]++;
        this.logger.warn(`TOXIC CONTENT DETECTED: User ${context.userId} in ${context.context}`, {
          text: text.substring(0, 100),
          confidence: result.confidence,
          flags: result.flags
        });
      } else
      /* istanbul ignore next */
      {
        cov_1dv3awz3gs().b[16][1]++;
      }
      cov_1dv3awz3gs().s[37]++;
      return result;
    } catch (error) {
      /* istanbul ignore next */
      cov_1dv3awz3gs().s[38]++;
      this.logger.error('Moderation service error:', error);
      // Fallback to safe classification if service is unavailable
      /* istanbul ignore next */
      cov_1dv3awz3gs().s[39]++;
      return this.createSafeResult(text, {
        flags: ['service_unavailable'],
        processingTime: Date.now() - Date.now()
      });
    }
  }
  /**
   * Check if content requires crisis intervention
   */
  async checkCrisisContent(text, context) {
    /* istanbul ignore next */
    cov_1dv3awz3gs().f[4]++;
    const result =
    /* istanbul ignore next */
    (cov_1dv3awz3gs().s[40]++, await this.classifyContent(text, context));
    /* istanbul ignore next */
    cov_1dv3awz3gs().s[41]++;
    return /* istanbul ignore next */(cov_1dv3awz3gs().b[17][0]++, result.crisisLevel === 'critical') || (
    /* istanbul ignore next */
    (cov_1dv3awz3gs().b[17][1]++, result.immediateEscalation) ??
    /* istanbul ignore next */
    (cov_1dv3awz3gs().b[17][2]++, false));
  }
  /**
   * Batch classification for multiple content items
   */
  async batchClassify(items) {
    /* istanbul ignore next */
    cov_1dv3awz3gs().f[5]++;
    cov_1dv3awz3gs().s[42]++;
    if (!this.enabled) {
      /* istanbul ignore next */
      cov_1dv3awz3gs().b[18][0]++;
      cov_1dv3awz3gs().s[43]++;
      return items.map(item => {
        /* istanbul ignore next */
        cov_1dv3awz3gs().f[6]++;
        cov_1dv3awz3gs().s[44]++;
        return this.createSafeResult(item.text);
      });
    } else
    /* istanbul ignore next */
    {
      cov_1dv3awz3gs().b[18][1]++;
    }
    cov_1dv3awz3gs().s[45]++;
    try {
      const startTime =
      /* istanbul ignore next */
      (cov_1dv3awz3gs().s[46]++, Date.now());
      const response =
      /* istanbul ignore next */
      (cov_1dv3awz3gs().s[47]++, await (0, rxjs_1.firstValueFrom)(this.httpService.post(`${this.moderationApiUrl}/api/v1/classify/batch`, {
        items: items.map(item => {
          /* istanbul ignore next */
          cov_1dv3awz3gs().f[7]++;
          cov_1dv3awz3gs().s[48]++;
          return {
            text: item.text,
            context: item.context.context,
            user_id: item.context.userId,
            user_role: item.context.userRole,
            conversation_id: item.context.conversationId,
            community_id: item.context.communityId,
            timestamp: item.context.timestamp?.toISOString()
          };
        })
      }, {
        timeout: this.timeout * 2,
        // Longer timeout for batch processing
        headers: {
          'Content-Type': 'application/json'
        }
      })));
      const processingTime =
      /* istanbul ignore next */
      (cov_1dv3awz3gs().s[49]++, Date.now() - startTime);
      /* istanbul ignore next */
      cov_1dv3awz3gs().s[50]++;
      return response.data.map(result => {
        /* istanbul ignore next */
        cov_1dv3awz3gs().f[8]++;
        cov_1dv3awz3gs().s[51]++;
        return {
          ...result,
          processingTime: processingTime / items.length // Average per item
        };
      });
    } catch (error) {
      /* istanbul ignore next */
      cov_1dv3awz3gs().s[52]++;
      this.logger.error('Batch moderation service error:', error);
      /* istanbul ignore next */
      cov_1dv3awz3gs().s[53]++;
      return items.map(item => {
        /* istanbul ignore next */
        cov_1dv3awz3gs().f[9]++;
        cov_1dv3awz3gs().s[54]++;
        return this.createSafeResult(item.text);
      });
    }
  }
  /**
   * Health check for the moderation service
   */
  async healthCheck() {
    /* istanbul ignore next */
    cov_1dv3awz3gs().f[10]++;
    cov_1dv3awz3gs().s[55]++;
    if (!this.enabled) {
      /* istanbul ignore next */
      cov_1dv3awz3gs().b[19][0]++;
      cov_1dv3awz3gs().s[56]++;
      return {
        status: 'disabled'
      };
    } else
    /* istanbul ignore next */
    {
      cov_1dv3awz3gs().b[19][1]++;
    }
    cov_1dv3awz3gs().s[57]++;
    try {
      const startTime =
      /* istanbul ignore next */
      (cov_1dv3awz3gs().s[58]++, Date.now());
      /* istanbul ignore next */
      cov_1dv3awz3gs().s[59]++;
      await (0, rxjs_1.firstValueFrom)(this.httpService.get(`${this.moderationApiUrl}/health`, {
        timeout: this.timeout
      }));
      const responseTime =
      /* istanbul ignore next */
      (cov_1dv3awz3gs().s[60]++, Date.now() - startTime);
      /* istanbul ignore next */
      cov_1dv3awz3gs().s[61]++;
      return {
        status: 'healthy',
        responseTime
      };
    } catch (error) {
      /* istanbul ignore next */
      cov_1dv3awz3gs().s[62]++;
      this.logger.error('Moderation service health check failed:', error);
      /* istanbul ignore next */
      cov_1dv3awz3gs().s[63]++;
      return {
        status: 'unhealthy',
        error: error instanceof Error ?
        /* istanbul ignore next */
        (cov_1dv3awz3gs().b[20][0]++, error.message) :
        /* istanbul ignore next */
        (cov_1dv3awz3gs().b[20][1]++, 'Unknown error')
      };
    }
  }
  /**
   * Get moderation service statistics
   */
  async getStats() {
    /* istanbul ignore next */
    cov_1dv3awz3gs().f[11]++;
    cov_1dv3awz3gs().s[64]++;
    if (!this.enabled) {
      /* istanbul ignore next */
      cov_1dv3awz3gs().b[21][0]++;
      cov_1dv3awz3gs().s[65]++;
      return {
        requestCount: 0,
        averageResponseTime: 0,
        errorRate: 0,
        crisisDetections: 0
      };
    } else
    /* istanbul ignore next */
    {
      cov_1dv3awz3gs().b[21][1]++;
    }
    cov_1dv3awz3gs().s[66]++;
    try {
      const response =
      /* istanbul ignore next */
      (cov_1dv3awz3gs().s[67]++, await (0, rxjs_1.firstValueFrom)(this.httpService.get(`${this.moderationApiUrl}/api/v1/stats`, {
        timeout: this.timeout
      })));
      /* istanbul ignore next */
      cov_1dv3awz3gs().s[68]++;
      return response.data;
    } catch (error) {
      /* istanbul ignore next */
      cov_1dv3awz3gs().s[69]++;
      this.logger.error('Failed to get moderation stats:', error);
      /* istanbul ignore next */
      cov_1dv3awz3gs().s[70]++;
      return {
        requestCount: 0,
        averageResponseTime: 0,
        errorRate: 100,
        crisisDetections: 0
      };
    }
  }
  /**
   * Create a safe result for fallback scenarios
   */
  createSafeResult(text, overrides) {
    /* istanbul ignore next */
    cov_1dv3awz3gs().f[12]++;
    cov_1dv3awz3gs().s[71]++;
    return {
      classification: 'safe',
      confidence: 0.5,
      mentalHealthContext: false,
      flags: [],
      processingTime: 0,
      ...overrides
    };
  }
  /**
   * Create moderation context for posts
   */
  createPostContext(userId, userRole, communityId) {
    /* istanbul ignore next */
    cov_1dv3awz3gs().f[13]++;
    cov_1dv3awz3gs().s[72]++;
    return {
      context: 'post',
      userId,
      userRole,
      communityId,
      timestamp: new Date()
    };
  }
  /**
   * Create moderation context for comments
   */
  createCommentContext(userId, userRole, communityId) {
    /* istanbul ignore next */
    cov_1dv3awz3gs().f[14]++;
    cov_1dv3awz3gs().s[73]++;
    return {
      context: 'comment',
      userId,
      userRole,
      communityId,
      timestamp: new Date()
    };
  }
  /**
   * Create moderation context for messages
   */
  createMessageContext(userId, userRole, conversationId) {
    /* istanbul ignore next */
    cov_1dv3awz3gs().f[15]++;
    cov_1dv3awz3gs().s[74]++;
    return {
      context: 'message',
      userId,
      userRole,
      conversationId,
      timestamp: new Date()
    };
  }
  /**
   * Create moderation context for therapy sessions
   */
  createTherapyContext(userId, userRole, sessionId) {
    /* istanbul ignore next */
    cov_1dv3awz3gs().f[16]++;
    cov_1dv3awz3gs().s[75]++;
    return {
      context: 'therapy',
      userId,
      userRole,
      conversationId: sessionId,
      timestamp: new Date()
    };
  }
});
/* istanbul ignore next */
cov_1dv3awz3gs().s[76]++;
exports.ModerationService = ModerationService;
/* istanbul ignore next */
cov_1dv3awz3gs().s[77]++;
exports.ModerationService = ModerationService = ModerationService_1 = __decorate([(0, common_1.Injectable)(), __metadata("design:paramtypes", [typeof (_a =
/* istanbul ignore next */
(cov_1dv3awz3gs().b[23][0]++, typeof axios_1.HttpService !== "undefined") &&
/* istanbul ignore next */
(cov_1dv3awz3gs().b[23][1]++, axios_1.HttpService)) === "function" ?
/* istanbul ignore next */
(cov_1dv3awz3gs().b[22][0]++, _a) :
/* istanbul ignore next */
(cov_1dv3awz3gs().b[22][1]++, Object), typeof (_b =
/* istanbul ignore next */
(cov_1dv3awz3gs().b[25][0]++, typeof config_1.ConfigService !== "undefined") &&
/* istanbul ignore next */
(cov_1dv3awz3gs().b[25][1]++, config_1.ConfigService)) === "function" ?
/* istanbul ignore next */
(cov_1dv3awz3gs().b[24][0]++, _b) :
/* istanbul ignore next */
(cov_1dv3awz3gs().b[24][1]++, Object)])], ModerationService);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMWR2M2F3ejNncyIsImFjdHVhbENvdmVyYWdlIiwiY29tbW9uXzEiLCJzIiwicmVxdWlyZSIsImF4aW9zXzEiLCJyeGpzXzEiLCJjb25maWdfMSIsIk1vZGVyYXRpb25TZXJ2aWNlIiwiTW9kZXJhdGlvblNlcnZpY2VfMSIsImh0dHBTZXJ2aWNlIiwiY29uZmlnU2VydmljZSIsImxvZ2dlciIsIkxvZ2dlciIsIm5hbWUiLCJtb2RlcmF0aW9uQXBpVXJsIiwiZW5hYmxlZCIsInRpbWVvdXQiLCJjb25zdHJ1Y3RvciIsImYiLCJnZXQiLCJjbGFzc2lmeUNvbnRlbnQiLCJ0ZXh0IiwiY29udGV4dCIsImIiLCJjcmVhdGVTYWZlUmVzdWx0Iiwic3RhcnRUaW1lIiwiRGF0ZSIsIm5vdyIsInJlc3BvbnNlIiwiZmlyc3RWYWx1ZUZyb20iLCJwb3N0IiwidXNlcl9pZCIsInVzZXJJZCIsInVzZXJfcm9sZSIsInVzZXJSb2xlIiwiY29udmVyc2F0aW9uX2lkIiwiY29udmVyc2F0aW9uSWQiLCJjb21tdW5pdHlfaWQiLCJjb21tdW5pdHlJZCIsInRpbWVzdGFtcCIsInRvSVNPU3RyaW5nIiwiaGVhZGVycyIsInByb2Nlc3NpbmdUaW1lIiwicmVzdWx0IiwiZGF0YSIsImNyaXNpc0xldmVsIiwiaW1tZWRpYXRlRXNjYWxhdGlvbiIsIndhcm4iLCJzdWJzdHJpbmciLCJjb25maWRlbmNlIiwiZmxhZ3MiLCJjbGFzc2lmaWNhdGlvbiIsImVycm9yIiwiY2hlY2tDcmlzaXNDb250ZW50IiwiYmF0Y2hDbGFzc2lmeSIsIml0ZW1zIiwibWFwIiwiaXRlbSIsImxlbmd0aCIsImhlYWx0aENoZWNrIiwic3RhdHVzIiwicmVzcG9uc2VUaW1lIiwiRXJyb3IiLCJtZXNzYWdlIiwiZ2V0U3RhdHMiLCJyZXF1ZXN0Q291bnQiLCJhdmVyYWdlUmVzcG9uc2VUaW1lIiwiZXJyb3JSYXRlIiwiY3Jpc2lzRGV0ZWN0aW9ucyIsIm92ZXJyaWRlcyIsIm1lbnRhbEhlYWx0aENvbnRleHQiLCJjcmVhdGVQb3N0Q29udGV4dCIsImNyZWF0ZUNvbW1lbnRDb250ZXh0IiwiY3JlYXRlTWVzc2FnZUNvbnRleHQiLCJjcmVhdGVUaGVyYXB5Q29udGV4dCIsInNlc3Npb25JZCIsImV4cG9ydHMiLCJfX2RlY29yYXRlIiwiSW5qZWN0YWJsZSIsIkh0dHBTZXJ2aWNlIiwiX2EiLCJPYmplY3QiLCJfYiIsIkNvbmZpZ1NlcnZpY2UiXSwic291cmNlcyI6WyIvaG9tZS93ZXRvb2EvRG9jdW1lbnRzL2NvZGUvcHJvamVjdHMvbWVudGFyYS9tZW50YXJhLWFwaS9zcmMvY29tbW9uL3NlcnZpY2VzL21vZGVyYXRpb24uc2VydmljZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlLCBMb2dnZXIgfSBmcm9tICdAbmVzdGpzL2NvbW1vbic7XG5pbXBvcnQgeyBIdHRwU2VydmljZSB9IGZyb20gJ0BuZXN0anMvYXhpb3MnO1xuaW1wb3J0IHsgZmlyc3RWYWx1ZUZyb20gfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IENvbmZpZ1NlcnZpY2UgfSBmcm9tICdAbmVzdGpzL2NvbmZpZyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTW9kZXJhdGlvblJlc3VsdCB7XG4gIGNsYXNzaWZpY2F0aW9uOiAnc2FmZScgfCAndG94aWMnIHwgJ3NwYW0nIHwgJ2NyaXNpcyc7XG4gIGNvbmZpZGVuY2U6IG51bWJlcjtcbiAgbWVudGFsSGVhbHRoQ29udGV4dDogYm9vbGVhbjtcbiAgY3Jpc2lzTGV2ZWw/OiAnbG93JyB8ICdtZWRpdW0nIHwgJ2hpZ2gnIHwgJ2NyaXRpY2FsJztcbiAgaW1tZWRpYXRlRXNjYWxhdGlvbj86IGJvb2xlYW47XG4gIGZsYWdzOiBzdHJpbmdbXTtcbiAgcHJvY2Vzc2luZ1RpbWU6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNb2RlcmF0aW9uQ29udGV4dCB7XG4gIGNvbnRleHQ6IHN0cmluZztcbiAgdXNlcklkPzogc3RyaW5nO1xuICB1c2VyUm9sZT86IHN0cmluZztcbiAgY29udmVyc2F0aW9uSWQ/OiBzdHJpbmc7XG4gIGNvbW11bml0eUlkPzogc3RyaW5nO1xuICB0aW1lc3RhbXA/OiBEYXRlO1xufVxuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgTW9kZXJhdGlvblNlcnZpY2Uge1xuICBwcml2YXRlIHJlYWRvbmx5IGxvZ2dlciA9IG5ldyBMb2dnZXIoTW9kZXJhdGlvblNlcnZpY2UubmFtZSk7XG4gIHByaXZhdGUgcmVhZG9ubHkgbW9kZXJhdGlvbkFwaVVybDogc3RyaW5nO1xuICBwcml2YXRlIHJlYWRvbmx5IGVuYWJsZWQ6IGJvb2xlYW47XG4gIHByaXZhdGUgcmVhZG9ubHkgdGltZW91dDogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgcmVhZG9ubHkgaHR0cFNlcnZpY2U6IEh0dHBTZXJ2aWNlLFxuICAgIHByaXZhdGUgcmVhZG9ubHkgY29uZmlnU2VydmljZTogQ29uZmlnU2VydmljZSxcbiAgKSB7XG4gICAgdGhpcy5tb2RlcmF0aW9uQXBpVXJsID0gdGhpcy5jb25maWdTZXJ2aWNlLmdldDxzdHJpbmc+KFxuICAgICAgJ01PREVSQVRJT05fQVBJX1VSTCcsXG4gICAgICAnaHR0cDovL2xvY2FsaG9zdDo1MDAxJyxcbiAgICApO1xuICAgIHRoaXMuZW5hYmxlZCA9IHRoaXMuY29uZmlnU2VydmljZS5nZXQ8Ym9vbGVhbj4oJ01PREVSQVRJT05fRU5BQkxFRCcsIHRydWUpO1xuICAgIHRoaXMudGltZW91dCA9IHRoaXMuY29uZmlnU2VydmljZS5nZXQ8bnVtYmVyPignTU9ERVJBVElPTl9USU1FT1VUJywgNTAwMCk7XG4gIH1cblxuICAvKipcbiAgICogQ2xhc3NpZnkgY29udGVudCB1c2luZyB0aGUgQUkgbW9kZXJhdGlvbiBzZXJ2aWNlXG4gICAqL1xuICBhc3luYyBjbGFzc2lmeUNvbnRlbnQoXG4gICAgdGV4dDogc3RyaW5nLFxuICAgIGNvbnRleHQ6IE1vZGVyYXRpb25Db250ZXh0LFxuICApOiBQcm9taXNlPE1vZGVyYXRpb25SZXN1bHQ+IHtcbiAgICBpZiAoIXRoaXMuZW5hYmxlZCkge1xuICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlU2FmZVJlc3VsdCh0ZXh0KTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmaXJzdFZhbHVlRnJvbShcbiAgICAgICAgdGhpcy5odHRwU2VydmljZS5wb3N0KFxuICAgICAgICAgIGAke3RoaXMubW9kZXJhdGlvbkFwaVVybH0vYXBpL3YxL2NsYXNzaWZ5YCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0ZXh0LFxuICAgICAgICAgICAgY29udGV4dDogY29udGV4dC5jb250ZXh0LFxuICAgICAgICAgICAgdXNlcl9pZDogY29udGV4dC51c2VySWQsXG4gICAgICAgICAgICB1c2VyX3JvbGU6IGNvbnRleHQudXNlclJvbGUsXG4gICAgICAgICAgICBjb252ZXJzYXRpb25faWQ6IGNvbnRleHQuY29udmVyc2F0aW9uSWQsXG4gICAgICAgICAgICBjb21tdW5pdHlfaWQ6IGNvbnRleHQuY29tbXVuaXR5SWQsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IGNvbnRleHQudGltZXN0YW1wPy50b0lTT1N0cmluZygpLFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgdGltZW91dDogdGhpcy50aW1lb3V0LFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICApLFxuICAgICAgKTtcblxuICAgICAgY29uc3QgcHJvY2Vzc2luZ1RpbWUgPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xuICAgICAgY29uc3QgcmVzdWx0OiBNb2RlcmF0aW9uUmVzdWx0ID0ge1xuICAgICAgICAuLi5yZXNwb25zZS5kYXRhLFxuICAgICAgICBwcm9jZXNzaW5nVGltZSxcbiAgICAgIH07XG5cbiAgICAgIC8vIExvZyBjcmlzaXMgZGV0ZWN0aW9uIGZvciBpbW1lZGlhdGUgZXNjYWxhdGlvblxuICAgICAgaWYgKHJlc3VsdC5jcmlzaXNMZXZlbCA9PT0gJ2NyaXRpY2FsJyB8fCByZXN1bHQuaW1tZWRpYXRlRXNjYWxhdGlvbikge1xuICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFxuICAgICAgICAgIGBDUklTSVMgREVURUNURUQ6IFVzZXIgJHtjb250ZXh0LnVzZXJJZH0gaW4gJHtjb250ZXh0LmNvbnRleHR9YCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0ZXh0OiB0ZXh0LnN1YnN0cmluZygwLCAxMDApLFxuICAgICAgICAgICAgY3Jpc2lzTGV2ZWw6IHJlc3VsdC5jcmlzaXNMZXZlbCxcbiAgICAgICAgICAgIGNvbmZpZGVuY2U6IHJlc3VsdC5jb25maWRlbmNlLFxuICAgICAgICAgICAgZmxhZ3M6IHJlc3VsdC5mbGFncyxcbiAgICAgICAgICB9LFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICAvLyBMb2cgdG94aWMgY29udGVudCBkZXRlY3Rpb25cbiAgICAgIGlmIChyZXN1bHQuY2xhc3NpZmljYXRpb24gPT09ICd0b3hpYycpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIud2FybihcbiAgICAgICAgICBgVE9YSUMgQ09OVEVOVCBERVRFQ1RFRDogVXNlciAke2NvbnRleHQudXNlcklkfSBpbiAke2NvbnRleHQuY29udGV4dH1gLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRleHQ6IHRleHQuc3Vic3RyaW5nKDAsIDEwMCksXG4gICAgICAgICAgICBjb25maWRlbmNlOiByZXN1bHQuY29uZmlkZW5jZSxcbiAgICAgICAgICAgIGZsYWdzOiByZXN1bHQuZmxhZ3MsXG4gICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ01vZGVyYXRpb24gc2VydmljZSBlcnJvcjonLCBlcnJvcik7XG5cbiAgICAgIC8vIEZhbGxiYWNrIHRvIHNhZmUgY2xhc3NpZmljYXRpb24gaWYgc2VydmljZSBpcyB1bmF2YWlsYWJsZVxuICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlU2FmZVJlc3VsdCh0ZXh0LCB7XG4gICAgICAgIGZsYWdzOiBbJ3NlcnZpY2VfdW5hdmFpbGFibGUnXSxcbiAgICAgICAgcHJvY2Vzc2luZ1RpbWU6IERhdGUubm93KCkgLSBEYXRlLm5vdygpLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGNvbnRlbnQgcmVxdWlyZXMgY3Jpc2lzIGludGVydmVudGlvblxuICAgKi9cbiAgYXN5bmMgY2hlY2tDcmlzaXNDb250ZW50KFxuICAgIHRleHQ6IHN0cmluZyxcbiAgICBjb250ZXh0OiBNb2RlcmF0aW9uQ29udGV4dCxcbiAgKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5jbGFzc2lmeUNvbnRlbnQodGV4dCwgY29udGV4dCk7XG4gICAgcmV0dXJuIChcbiAgICAgIHJlc3VsdC5jcmlzaXNMZXZlbCA9PT0gJ2NyaXRpY2FsJyB8fCAocmVzdWx0LmltbWVkaWF0ZUVzY2FsYXRpb24gPz8gZmFsc2UpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBCYXRjaCBjbGFzc2lmaWNhdGlvbiBmb3IgbXVsdGlwbGUgY29udGVudCBpdGVtc1xuICAgKi9cbiAgYXN5bmMgYmF0Y2hDbGFzc2lmeShcbiAgICBpdGVtczogQXJyYXk8eyB0ZXh0OiBzdHJpbmc7IGNvbnRleHQ6IE1vZGVyYXRpb25Db250ZXh0IH0+LFxuICApOiBQcm9taXNlPE1vZGVyYXRpb25SZXN1bHRbXT4ge1xuICAgIGlmICghdGhpcy5lbmFibGVkKSB7XG4gICAgICByZXR1cm4gaXRlbXMubWFwKChpdGVtKSA9PiB0aGlzLmNyZWF0ZVNhZmVSZXN1bHQoaXRlbS50ZXh0KSk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmlyc3RWYWx1ZUZyb20oXG4gICAgICAgIHRoaXMuaHR0cFNlcnZpY2UucG9zdChcbiAgICAgICAgICBgJHt0aGlzLm1vZGVyYXRpb25BcGlVcmx9L2FwaS92MS9jbGFzc2lmeS9iYXRjaGAsXG4gICAgICAgICAge1xuICAgICAgICAgICAgaXRlbXM6IGl0ZW1zLm1hcCgoaXRlbSkgPT4gKHtcbiAgICAgICAgICAgICAgdGV4dDogaXRlbS50ZXh0LFxuICAgICAgICAgICAgICBjb250ZXh0OiBpdGVtLmNvbnRleHQuY29udGV4dCxcbiAgICAgICAgICAgICAgdXNlcl9pZDogaXRlbS5jb250ZXh0LnVzZXJJZCxcbiAgICAgICAgICAgICAgdXNlcl9yb2xlOiBpdGVtLmNvbnRleHQudXNlclJvbGUsXG4gICAgICAgICAgICAgIGNvbnZlcnNhdGlvbl9pZDogaXRlbS5jb250ZXh0LmNvbnZlcnNhdGlvbklkLFxuICAgICAgICAgICAgICBjb21tdW5pdHlfaWQ6IGl0ZW0uY29udGV4dC5jb21tdW5pdHlJZCxcbiAgICAgICAgICAgICAgdGltZXN0YW1wOiBpdGVtLmNvbnRleHQudGltZXN0YW1wPy50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgfSkpLFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgdGltZW91dDogdGhpcy50aW1lb3V0ICogMiwgLy8gTG9uZ2VyIHRpbWVvdXQgZm9yIGJhdGNoIHByb2Nlc3NpbmdcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgKSxcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IHByb2Nlc3NpbmdUaW1lID0gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZTtcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhLm1hcCgocmVzdWx0OiBhbnkpID0+ICh7XG4gICAgICAgIC4uLnJlc3VsdCxcbiAgICAgICAgcHJvY2Vzc2luZ1RpbWU6IHByb2Nlc3NpbmdUaW1lIC8gaXRlbXMubGVuZ3RoLCAvLyBBdmVyYWdlIHBlciBpdGVtXG4gICAgICB9KSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRoaXMubG9nZ2VyLmVycm9yKCdCYXRjaCBtb2RlcmF0aW9uIHNlcnZpY2UgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIGl0ZW1zLm1hcCgoaXRlbSkgPT4gdGhpcy5jcmVhdGVTYWZlUmVzdWx0KGl0ZW0udGV4dCkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIZWFsdGggY2hlY2sgZm9yIHRoZSBtb2RlcmF0aW9uIHNlcnZpY2VcbiAgICovXG4gIGFzeW5jIGhlYWx0aENoZWNrKCk6IFByb21pc2U8e1xuICAgIHN0YXR1czogJ2hlYWx0aHknIHwgJ3VuaGVhbHRoeScgfCAnZGlzYWJsZWQnO1xuICAgIHJlc3BvbnNlVGltZT86IG51bWJlcjtcbiAgICBlcnJvcj86IHN0cmluZztcbiAgfT4ge1xuICAgIGlmICghdGhpcy5lbmFibGVkKSB7XG4gICAgICByZXR1cm4geyBzdGF0dXM6ICdkaXNhYmxlZCcgfTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcblxuICAgICAgYXdhaXQgZmlyc3RWYWx1ZUZyb20oXG4gICAgICAgIHRoaXMuaHR0cFNlcnZpY2UuZ2V0KGAke3RoaXMubW9kZXJhdGlvbkFwaVVybH0vaGVhbHRoYCwge1xuICAgICAgICAgIHRpbWVvdXQ6IHRoaXMudGltZW91dCxcbiAgICAgICAgfSksXG4gICAgICApO1xuXG4gICAgICBjb25zdCByZXNwb25zZVRpbWUgPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xuICAgICAgcmV0dXJuIHsgc3RhdHVzOiAnaGVhbHRoeScsIHJlc3BvbnNlVGltZSB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aGlzLmxvZ2dlci5lcnJvcignTW9kZXJhdGlvbiBzZXJ2aWNlIGhlYWx0aCBjaGVjayBmYWlsZWQ6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3RhdHVzOiAndW5oZWFsdGh5JyxcbiAgICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InLFxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IG1vZGVyYXRpb24gc2VydmljZSBzdGF0aXN0aWNzXG4gICAqL1xuICBhc3luYyBnZXRTdGF0cygpOiBQcm9taXNlPHtcbiAgICByZXF1ZXN0Q291bnQ6IG51bWJlcjtcbiAgICBhdmVyYWdlUmVzcG9uc2VUaW1lOiBudW1iZXI7XG4gICAgZXJyb3JSYXRlOiBudW1iZXI7XG4gICAgY3Jpc2lzRGV0ZWN0aW9uczogbnVtYmVyO1xuICB9PiB7XG4gICAgaWYgKCF0aGlzLmVuYWJsZWQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlcXVlc3RDb3VudDogMCxcbiAgICAgICAgYXZlcmFnZVJlc3BvbnNlVGltZTogMCxcbiAgICAgICAgZXJyb3JSYXRlOiAwLFxuICAgICAgICBjcmlzaXNEZXRlY3Rpb25zOiAwLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmaXJzdFZhbHVlRnJvbShcbiAgICAgICAgdGhpcy5odHRwU2VydmljZS5nZXQoYCR7dGhpcy5tb2RlcmF0aW9uQXBpVXJsfS9hcGkvdjEvc3RhdHNgLCB7XG4gICAgICAgICAgdGltZW91dDogdGhpcy50aW1lb3V0LFxuICAgICAgICB9KSxcbiAgICAgICk7XG5cbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aGlzLmxvZ2dlci5lcnJvcignRmFpbGVkIHRvIGdldCBtb2RlcmF0aW9uIHN0YXRzOicsIGVycm9yKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlcXVlc3RDb3VudDogMCxcbiAgICAgICAgYXZlcmFnZVJlc3BvbnNlVGltZTogMCxcbiAgICAgICAgZXJyb3JSYXRlOiAxMDAsXG4gICAgICAgIGNyaXNpc0RldGVjdGlvbnM6IDAsXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBzYWZlIHJlc3VsdCBmb3IgZmFsbGJhY2sgc2NlbmFyaW9zXG4gICAqL1xuICBwcml2YXRlIGNyZWF0ZVNhZmVSZXN1bHQoXG4gICAgdGV4dDogc3RyaW5nLFxuICAgIG92ZXJyaWRlcz86IFBhcnRpYWw8TW9kZXJhdGlvblJlc3VsdD4sXG4gICk6IE1vZGVyYXRpb25SZXN1bHQge1xuICAgIHJldHVybiB7XG4gICAgICBjbGFzc2lmaWNhdGlvbjogJ3NhZmUnLFxuICAgICAgY29uZmlkZW5jZTogMC41LFxuICAgICAgbWVudGFsSGVhbHRoQ29udGV4dDogZmFsc2UsXG4gICAgICBmbGFnczogW10sXG4gICAgICBwcm9jZXNzaW5nVGltZTogMCxcbiAgICAgIC4uLm92ZXJyaWRlcyxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBtb2RlcmF0aW9uIGNvbnRleHQgZm9yIHBvc3RzXG4gICAqL1xuICBjcmVhdGVQb3N0Q29udGV4dChcbiAgICB1c2VySWQ6IHN0cmluZyxcbiAgICB1c2VyUm9sZTogc3RyaW5nLFxuICAgIGNvbW11bml0eUlkPzogc3RyaW5nLFxuICApOiBNb2RlcmF0aW9uQ29udGV4dCB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbnRleHQ6ICdwb3N0JyxcbiAgICAgIHVzZXJJZCxcbiAgICAgIHVzZXJSb2xlLFxuICAgICAgY29tbXVuaXR5SWQsXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgbW9kZXJhdGlvbiBjb250ZXh0IGZvciBjb21tZW50c1xuICAgKi9cbiAgY3JlYXRlQ29tbWVudENvbnRleHQoXG4gICAgdXNlcklkOiBzdHJpbmcsXG4gICAgdXNlclJvbGU6IHN0cmluZyxcbiAgICBjb21tdW5pdHlJZD86IHN0cmluZyxcbiAgKTogTW9kZXJhdGlvbkNvbnRleHQge1xuICAgIHJldHVybiB7XG4gICAgICBjb250ZXh0OiAnY29tbWVudCcsXG4gICAgICB1c2VySWQsXG4gICAgICB1c2VyUm9sZSxcbiAgICAgIGNvbW11bml0eUlkLFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIG1vZGVyYXRpb24gY29udGV4dCBmb3IgbWVzc2FnZXNcbiAgICovXG4gIGNyZWF0ZU1lc3NhZ2VDb250ZXh0KFxuICAgIHVzZXJJZDogc3RyaW5nLFxuICAgIHVzZXJSb2xlOiBzdHJpbmcsXG4gICAgY29udmVyc2F0aW9uSWQ6IHN0cmluZyxcbiAgKTogTW9kZXJhdGlvbkNvbnRleHQge1xuICAgIHJldHVybiB7XG4gICAgICBjb250ZXh0OiAnbWVzc2FnZScsXG4gICAgICB1c2VySWQsXG4gICAgICB1c2VyUm9sZSxcbiAgICAgIGNvbnZlcnNhdGlvbklkLFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIG1vZGVyYXRpb24gY29udGV4dCBmb3IgdGhlcmFweSBzZXNzaW9uc1xuICAgKi9cbiAgY3JlYXRlVGhlcmFweUNvbnRleHQoXG4gICAgdXNlcklkOiBzdHJpbmcsXG4gICAgdXNlclJvbGU6IHN0cmluZyxcbiAgICBzZXNzaW9uSWQ6IHN0cmluZyxcbiAgKTogTW9kZXJhdGlvbkNvbnRleHQge1xuICAgIHJldHVybiB7XG4gICAgICBjb250ZXh0OiAndGhlcmFweScsXG4gICAgICB1c2VySWQsXG4gICAgICB1c2VyUm9sZSxcbiAgICAgIGNvbnZlcnNhdGlvbklkOiBzZXNzaW9uSWQsXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgfTtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBQ0E7SUFBQUEsY0FBQSxZQUFBQSxDQUFBO01BQUEsT0FBQUMsY0FBQTtJQUFBO0VBQUE7RUFBQSxPQUFBQSxjQUFBO0FBQUE7QUFBQUQsY0FBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFEQSxNQUFBRSxRQUFBO0FBQUE7QUFBQSxDQUFBRixjQUFBLEdBQUFHLENBQUEsUUFBQUMsT0FBQTtBQUNBLE1BQUFDLE9BQUE7QUFBQTtBQUFBLENBQUFMLGNBQUEsR0FBQUcsQ0FBQSxRQUFBQyxPQUFBO0FBQ0EsTUFBQUUsTUFBQTtBQUFBO0FBQUEsQ0FBQU4sY0FBQSxHQUFBRyxDQUFBLFFBQUFDLE9BQUE7QUFDQSxNQUFBRyxRQUFBO0FBQUE7QUFBQSxDQUFBUCxjQUFBLEdBQUFHLENBQUEsUUFBQUMsT0FBQTtBQXNCTyxJQUFNSSxpQkFBaUI7QUFBQTtBQUFBLENBQUFSLGNBQUEsR0FBQUcsQ0FBQSxRQUFBTSxtQkFBQSxHQUF2QixNQUFNRCxpQkFBaUI7RUFPVEUsV0FBQTtFQUNBQyxhQUFBO0VBUEZDLE1BQU07RUFBQTtFQUFBLENBQUFaLGNBQUEsR0FBQUcsQ0FBQSxRQUFHLElBQUlELFFBQUEsQ0FBQVcsTUFBTSxDQUFDSixtQkFBaUIsQ0FBQ0ssSUFBSSxDQUFDO0VBQzNDQyxnQkFBZ0I7RUFDaEJDLE9BQU87RUFDUEMsT0FBTztFQUV4QkMsWUFDbUJSLFdBQXdCLEVBQ3hCQyxhQUE0QjtJQUFBO0lBQUFYLGNBQUEsR0FBQW1CLENBQUE7SUFBQW5CLGNBQUEsR0FBQUcsQ0FBQTtJQUQ1QixLQUFBTyxXQUFXLEdBQVhBLFdBQVc7SUFBYTtJQUFBVixjQUFBLEdBQUFHLENBQUE7SUFDeEIsS0FBQVEsYUFBYSxHQUFiQSxhQUFhO0lBQWU7SUFBQVgsY0FBQSxHQUFBRyxDQUFBO0lBRTdDLElBQUksQ0FBQ1ksZ0JBQWdCLEdBQUcsSUFBSSxDQUFDSixhQUFhLENBQUNTLEdBQUcsQ0FDNUMsb0JBQW9CLEVBQ3BCLHVCQUF1QixDQUN4QjtJQUFDO0lBQUFwQixjQUFBLEdBQUFHLENBQUE7SUFDRixJQUFJLENBQUNhLE9BQU8sR0FBRyxJQUFJLENBQUNMLGFBQWEsQ0FBQ1MsR0FBRyxDQUFVLG9CQUFvQixFQUFFLElBQUksQ0FBQztJQUFDO0lBQUFwQixjQUFBLEdBQUFHLENBQUE7SUFDM0UsSUFBSSxDQUFDYyxPQUFPLEdBQUcsSUFBSSxDQUFDTixhQUFhLENBQUNTLEdBQUcsQ0FBUyxvQkFBb0IsRUFBRSxJQUFJLENBQUM7RUFDM0U7RUFFQTs7O0VBR0EsTUFBTUMsZUFBZUEsQ0FDbkJDLElBQVksRUFDWkMsT0FBMEI7SUFBQTtJQUFBdkIsY0FBQSxHQUFBbUIsQ0FBQTtJQUFBbkIsY0FBQSxHQUFBRyxDQUFBO0lBRTFCLElBQUksQ0FBQyxJQUFJLENBQUNhLE9BQU8sRUFBRTtNQUFBO01BQUFoQixjQUFBLEdBQUF3QixDQUFBO01BQUF4QixjQUFBLEdBQUFHLENBQUE7TUFDakIsT0FBTyxJQUFJLENBQUNzQixnQkFBZ0IsQ0FBQ0gsSUFBSSxDQUFDO0lBQ3BDLENBQUM7SUFBQTtJQUFBO01BQUF0QixjQUFBLEdBQUF3QixDQUFBO0lBQUE7SUFBQXhCLGNBQUEsR0FBQUcsQ0FBQTtJQUVELElBQUk7TUFDRixNQUFNdUIsU0FBUztNQUFBO01BQUEsQ0FBQTFCLGNBQUEsR0FBQUcsQ0FBQSxRQUFHd0IsSUFBSSxDQUFDQyxHQUFHLEVBQUU7TUFFNUIsTUFBTUMsUUFBUTtNQUFBO01BQUEsQ0FBQTdCLGNBQUEsR0FBQUcsQ0FBQSxRQUFHLE1BQU0sSUFBQUcsTUFBQSxDQUFBd0IsY0FBYyxFQUNuQyxJQUFJLENBQUNwQixXQUFXLENBQUNxQixJQUFJLENBQ25CLEdBQUcsSUFBSSxDQUFDaEIsZ0JBQWdCLGtCQUFrQixFQUMxQztRQUNFTyxJQUFJO1FBQ0pDLE9BQU8sRUFBRUEsT0FBTyxDQUFDQSxPQUFPO1FBQ3hCUyxPQUFPLEVBQUVULE9BQU8sQ0FBQ1UsTUFBTTtRQUN2QkMsU0FBUyxFQUFFWCxPQUFPLENBQUNZLFFBQVE7UUFDM0JDLGVBQWUsRUFBRWIsT0FBTyxDQUFDYyxjQUFjO1FBQ3ZDQyxZQUFZLEVBQUVmLE9BQU8sQ0FBQ2dCLFdBQVc7UUFDakNDLFNBQVMsRUFBRWpCLE9BQU8sQ0FBQ2lCLFNBQVMsRUFBRUMsV0FBVztPQUMxQyxFQUNEO1FBQ0V4QixPQUFPLEVBQUUsSUFBSSxDQUFDQSxPQUFPO1FBQ3JCeUIsT0FBTyxFQUFFO1VBQ1AsY0FBYyxFQUFFOztPQUVuQixDQUNGLENBQ0Y7TUFFRCxNQUFNQyxjQUFjO01BQUE7TUFBQSxDQUFBM0MsY0FBQSxHQUFBRyxDQUFBLFFBQUd3QixJQUFJLENBQUNDLEdBQUcsRUFBRSxHQUFHRixTQUFTO01BQzdDLE1BQU1rQixNQUFNO01BQUE7TUFBQSxDQUFBNUMsY0FBQSxHQUFBRyxDQUFBLFFBQXFCO1FBQy9CLEdBQUcwQixRQUFRLENBQUNnQixJQUFJO1FBQ2hCRjtPQUNEO01BRUQ7TUFBQTtNQUFBM0MsY0FBQSxHQUFBRyxDQUFBO01BQ0E7TUFBSTtNQUFBLENBQUFILGNBQUEsR0FBQXdCLENBQUEsV0FBQW9CLE1BQU0sQ0FBQ0UsV0FBVyxLQUFLLFVBQVU7TUFBQTtNQUFBLENBQUE5QyxjQUFBLEdBQUF3QixDQUFBLFdBQUlvQixNQUFNLENBQUNHLG1CQUFtQixHQUFFO1FBQUE7UUFBQS9DLGNBQUEsR0FBQXdCLENBQUE7UUFBQXhCLGNBQUEsR0FBQUcsQ0FBQTtRQUNuRSxJQUFJLENBQUNTLE1BQU0sQ0FBQ29DLElBQUksQ0FDZCx5QkFBeUJ6QixPQUFPLENBQUNVLE1BQU0sT0FBT1YsT0FBTyxDQUFDQSxPQUFPLEVBQUUsRUFDL0Q7VUFDRUQsSUFBSSxFQUFFQSxJQUFJLENBQUMyQixTQUFTLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQztVQUM1QkgsV0FBVyxFQUFFRixNQUFNLENBQUNFLFdBQVc7VUFDL0JJLFVBQVUsRUFBRU4sTUFBTSxDQUFDTSxVQUFVO1VBQzdCQyxLQUFLLEVBQUVQLE1BQU0sQ0FBQ087U0FDZixDQUNGO01BQ0gsQ0FBQztNQUFBO01BQUE7UUFBQW5ELGNBQUEsR0FBQXdCLENBQUE7TUFBQTtNQUVEO01BQUF4QixjQUFBLEdBQUFHLENBQUE7TUFDQSxJQUFJeUMsTUFBTSxDQUFDUSxjQUFjLEtBQUssT0FBTyxFQUFFO1FBQUE7UUFBQXBELGNBQUEsR0FBQXdCLENBQUE7UUFBQXhCLGNBQUEsR0FBQUcsQ0FBQTtRQUNyQyxJQUFJLENBQUNTLE1BQU0sQ0FBQ29DLElBQUksQ0FDZCxnQ0FBZ0N6QixPQUFPLENBQUNVLE1BQU0sT0FBT1YsT0FBTyxDQUFDQSxPQUFPLEVBQUUsRUFDdEU7VUFDRUQsSUFBSSxFQUFFQSxJQUFJLENBQUMyQixTQUFTLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQztVQUM1QkMsVUFBVSxFQUFFTixNQUFNLENBQUNNLFVBQVU7VUFDN0JDLEtBQUssRUFBRVAsTUFBTSxDQUFDTztTQUNmLENBQ0Y7TUFDSCxDQUFDO01BQUE7TUFBQTtRQUFBbkQsY0FBQSxHQUFBd0IsQ0FBQTtNQUFBO01BQUF4QixjQUFBLEdBQUFHLENBQUE7TUFFRCxPQUFPeUMsTUFBTTtJQUNmLENBQUMsQ0FBQyxPQUFPUyxLQUFLLEVBQUU7TUFBQTtNQUFBckQsY0FBQSxHQUFBRyxDQUFBO01BQ2QsSUFBSSxDQUFDUyxNQUFNLENBQUN5QyxLQUFLLENBQUMsMkJBQTJCLEVBQUVBLEtBQUssQ0FBQztNQUVyRDtNQUFBO01BQUFyRCxjQUFBLEdBQUFHLENBQUE7TUFDQSxPQUFPLElBQUksQ0FBQ3NCLGdCQUFnQixDQUFDSCxJQUFJLEVBQUU7UUFDakM2QixLQUFLLEVBQUUsQ0FBQyxxQkFBcUIsQ0FBQztRQUM5QlIsY0FBYyxFQUFFaEIsSUFBSSxDQUFDQyxHQUFHLEVBQUUsR0FBR0QsSUFBSSxDQUFDQyxHQUFHO09BQ3RDLENBQUM7SUFDSjtFQUNGO0VBRUE7OztFQUdBLE1BQU0wQixrQkFBa0JBLENBQ3RCaEMsSUFBWSxFQUNaQyxPQUEwQjtJQUFBO0lBQUF2QixjQUFBLEdBQUFtQixDQUFBO0lBRTFCLE1BQU15QixNQUFNO0lBQUE7SUFBQSxDQUFBNUMsY0FBQSxHQUFBRyxDQUFBLFFBQUcsTUFBTSxJQUFJLENBQUNrQixlQUFlLENBQUNDLElBQUksRUFBRUMsT0FBTyxDQUFDO0lBQUM7SUFBQXZCLGNBQUEsR0FBQUcsQ0FBQTtJQUN6RCxPQUNFLDJCQUFBSCxjQUFBLEdBQUF3QixDQUFBLFdBQUFvQixNQUFNLENBQUNFLFdBQVcsS0FBSyxVQUFVO0lBQUs7SUFBQSxDQUFBOUMsY0FBQSxHQUFBd0IsQ0FBQSxXQUFBb0IsTUFBTSxDQUFDRyxtQkFBbUI7SUFBQTtJQUFBLENBQUEvQyxjQUFBLEdBQUF3QixDQUFBLFdBQUksS0FBSyxFQUFDO0VBRTlFO0VBRUE7OztFQUdBLE1BQU0rQixhQUFhQSxDQUNqQkMsS0FBMEQ7SUFBQTtJQUFBeEQsY0FBQSxHQUFBbUIsQ0FBQTtJQUFBbkIsY0FBQSxHQUFBRyxDQUFBO0lBRTFELElBQUksQ0FBQyxJQUFJLENBQUNhLE9BQU8sRUFBRTtNQUFBO01BQUFoQixjQUFBLEdBQUF3QixDQUFBO01BQUF4QixjQUFBLEdBQUFHLENBQUE7TUFDakIsT0FBT3FELEtBQUssQ0FBQ0MsR0FBRyxDQUFFQyxJQUFJLElBQUs7UUFBQTtRQUFBMUQsY0FBQSxHQUFBbUIsQ0FBQTtRQUFBbkIsY0FBQSxHQUFBRyxDQUFBO1FBQUEsV0FBSSxDQUFDc0IsZ0JBQWdCLENBQUNpQyxJQUFJLENBQUNwQyxJQUFJLENBQUM7TUFBRCxDQUFDLENBQUM7SUFDOUQsQ0FBQztJQUFBO0lBQUE7TUFBQXRCLGNBQUEsR0FBQXdCLENBQUE7SUFBQTtJQUFBeEIsY0FBQSxHQUFBRyxDQUFBO0lBRUQsSUFBSTtNQUNGLE1BQU11QixTQUFTO01BQUE7TUFBQSxDQUFBMUIsY0FBQSxHQUFBRyxDQUFBLFFBQUd3QixJQUFJLENBQUNDLEdBQUcsRUFBRTtNQUU1QixNQUFNQyxRQUFRO01BQUE7TUFBQSxDQUFBN0IsY0FBQSxHQUFBRyxDQUFBLFFBQUcsTUFBTSxJQUFBRyxNQUFBLENBQUF3QixjQUFjLEVBQ25DLElBQUksQ0FBQ3BCLFdBQVcsQ0FBQ3FCLElBQUksQ0FDbkIsR0FBRyxJQUFJLENBQUNoQixnQkFBZ0Isd0JBQXdCLEVBQ2hEO1FBQ0V5QyxLQUFLLEVBQUVBLEtBQUssQ0FBQ0MsR0FBRyxDQUFFQyxJQUFJLElBQU07VUFBQTtVQUFBMUQsY0FBQSxHQUFBbUIsQ0FBQTtVQUFBbkIsY0FBQSxHQUFBRyxDQUFBO1VBQUE7WUFDMUJtQixJQUFJLEVBQUVvQyxJQUFJLENBQUNwQyxJQUFJO1lBQ2ZDLE9BQU8sRUFBRW1DLElBQUksQ0FBQ25DLE9BQU8sQ0FBQ0EsT0FBTztZQUM3QlMsT0FBTyxFQUFFMEIsSUFBSSxDQUFDbkMsT0FBTyxDQUFDVSxNQUFNO1lBQzVCQyxTQUFTLEVBQUV3QixJQUFJLENBQUNuQyxPQUFPLENBQUNZLFFBQVE7WUFDaENDLGVBQWUsRUFBRXNCLElBQUksQ0FBQ25DLE9BQU8sQ0FBQ2MsY0FBYztZQUM1Q0MsWUFBWSxFQUFFb0IsSUFBSSxDQUFDbkMsT0FBTyxDQUFDZ0IsV0FBVztZQUN0Q0MsU0FBUyxFQUFFa0IsSUFBSSxDQUFDbkMsT0FBTyxDQUFDaUIsU0FBUyxFQUFFQyxXQUFXO1dBQy9DO1NBQUM7T0FDSCxFQUNEO1FBQ0V4QixPQUFPLEVBQUUsSUFBSSxDQUFDQSxPQUFPLEdBQUcsQ0FBQztRQUFFO1FBQzNCeUIsT0FBTyxFQUFFO1VBQ1AsY0FBYyxFQUFFOztPQUVuQixDQUNGLENBQ0Y7TUFFRCxNQUFNQyxjQUFjO01BQUE7TUFBQSxDQUFBM0MsY0FBQSxHQUFBRyxDQUFBLFFBQUd3QixJQUFJLENBQUNDLEdBQUcsRUFBRSxHQUFHRixTQUFTO01BQUM7TUFBQTFCLGNBQUEsR0FBQUcsQ0FBQTtNQUM5QyxPQUFPMEIsUUFBUSxDQUFDZ0IsSUFBSSxDQUFDWSxHQUFHLENBQUViLE1BQVcsSUFBTTtRQUFBO1FBQUE1QyxjQUFBLEdBQUFtQixDQUFBO1FBQUFuQixjQUFBLEdBQUFHLENBQUE7UUFBQTtVQUN6QyxHQUFHeUMsTUFBTTtVQUNURCxjQUFjLEVBQUVBLGNBQWMsR0FBR2EsS0FBSyxDQUFDRyxNQUFNLENBQUU7U0FDaEQ7T0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLE9BQU9OLEtBQUssRUFBRTtNQUFBO01BQUFyRCxjQUFBLEdBQUFHLENBQUE7TUFDZCxJQUFJLENBQUNTLE1BQU0sQ0FBQ3lDLEtBQUssQ0FBQyxpQ0FBaUMsRUFBRUEsS0FBSyxDQUFDO01BQUM7TUFBQXJELGNBQUEsR0FBQUcsQ0FBQTtNQUM1RCxPQUFPcUQsS0FBSyxDQUFDQyxHQUFHLENBQUVDLElBQUksSUFBSztRQUFBO1FBQUExRCxjQUFBLEdBQUFtQixDQUFBO1FBQUFuQixjQUFBLEdBQUFHLENBQUE7UUFBQSxXQUFJLENBQUNzQixnQkFBZ0IsQ0FBQ2lDLElBQUksQ0FBQ3BDLElBQUksQ0FBQztNQUFELENBQUMsQ0FBQztJQUM5RDtFQUNGO0VBRUE7OztFQUdBLE1BQU1zQyxXQUFXQSxDQUFBO0lBQUE7SUFBQTVELGNBQUEsR0FBQW1CLENBQUE7SUFBQW5CLGNBQUEsR0FBQUcsQ0FBQTtJQUtmLElBQUksQ0FBQyxJQUFJLENBQUNhLE9BQU8sRUFBRTtNQUFBO01BQUFoQixjQUFBLEdBQUF3QixDQUFBO01BQUF4QixjQUFBLEdBQUFHLENBQUE7TUFDakIsT0FBTztRQUFFMEQsTUFBTSxFQUFFO01BQVUsQ0FBRTtJQUMvQixDQUFDO0lBQUE7SUFBQTtNQUFBN0QsY0FBQSxHQUFBd0IsQ0FBQTtJQUFBO0lBQUF4QixjQUFBLEdBQUFHLENBQUE7SUFFRCxJQUFJO01BQ0YsTUFBTXVCLFNBQVM7TUFBQTtNQUFBLENBQUExQixjQUFBLEdBQUFHLENBQUEsUUFBR3dCLElBQUksQ0FBQ0MsR0FBRyxFQUFFO01BQUM7TUFBQTVCLGNBQUEsR0FBQUcsQ0FBQTtNQUU3QixNQUFNLElBQUFHLE1BQUEsQ0FBQXdCLGNBQWMsRUFDbEIsSUFBSSxDQUFDcEIsV0FBVyxDQUFDVSxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUNMLGdCQUFnQixTQUFTLEVBQUU7UUFDdERFLE9BQU8sRUFBRSxJQUFJLENBQUNBO09BQ2YsQ0FBQyxDQUNIO01BRUQsTUFBTTZDLFlBQVk7TUFBQTtNQUFBLENBQUE5RCxjQUFBLEdBQUFHLENBQUEsUUFBR3dCLElBQUksQ0FBQ0MsR0FBRyxFQUFFLEdBQUdGLFNBQVM7TUFBQztNQUFBMUIsY0FBQSxHQUFBRyxDQUFBO01BQzVDLE9BQU87UUFBRTBELE1BQU0sRUFBRSxTQUFTO1FBQUVDO01BQVksQ0FBRTtJQUM1QyxDQUFDLENBQUMsT0FBT1QsS0FBSyxFQUFFO01BQUE7TUFBQXJELGNBQUEsR0FBQUcsQ0FBQTtNQUNkLElBQUksQ0FBQ1MsTUFBTSxDQUFDeUMsS0FBSyxDQUFDLHlDQUF5QyxFQUFFQSxLQUFLLENBQUM7TUFBQztNQUFBckQsY0FBQSxHQUFBRyxDQUFBO01BQ3BFLE9BQU87UUFDTDBELE1BQU0sRUFBRSxXQUFXO1FBQ25CUixLQUFLLEVBQUVBLEtBQUssWUFBWVUsS0FBSztRQUFBO1FBQUEsQ0FBQS9ELGNBQUEsR0FBQXdCLENBQUEsV0FBRzZCLEtBQUssQ0FBQ1csT0FBTztRQUFBO1FBQUEsQ0FBQWhFLGNBQUEsR0FBQXdCLENBQUEsV0FBRyxlQUFlO09BQ2hFO0lBQ0g7RUFDRjtFQUVBOzs7RUFHQSxNQUFNeUMsUUFBUUEsQ0FBQTtJQUFBO0lBQUFqRSxjQUFBLEdBQUFtQixDQUFBO0lBQUFuQixjQUFBLEdBQUFHLENBQUE7SUFNWixJQUFJLENBQUMsSUFBSSxDQUFDYSxPQUFPLEVBQUU7TUFBQTtNQUFBaEIsY0FBQSxHQUFBd0IsQ0FBQTtNQUFBeEIsY0FBQSxHQUFBRyxDQUFBO01BQ2pCLE9BQU87UUFDTCtELFlBQVksRUFBRSxDQUFDO1FBQ2ZDLG1CQUFtQixFQUFFLENBQUM7UUFDdEJDLFNBQVMsRUFBRSxDQUFDO1FBQ1pDLGdCQUFnQixFQUFFO09BQ25CO0lBQ0gsQ0FBQztJQUFBO0lBQUE7TUFBQXJFLGNBQUEsR0FBQXdCLENBQUE7SUFBQTtJQUFBeEIsY0FBQSxHQUFBRyxDQUFBO0lBRUQsSUFBSTtNQUNGLE1BQU0wQixRQUFRO01BQUE7TUFBQSxDQUFBN0IsY0FBQSxHQUFBRyxDQUFBLFFBQUcsTUFBTSxJQUFBRyxNQUFBLENBQUF3QixjQUFjLEVBQ25DLElBQUksQ0FBQ3BCLFdBQVcsQ0FBQ1UsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDTCxnQkFBZ0IsZUFBZSxFQUFFO1FBQzVERSxPQUFPLEVBQUUsSUFBSSxDQUFDQTtPQUNmLENBQUMsQ0FDSDtNQUFDO01BQUFqQixjQUFBLEdBQUFHLENBQUE7TUFFRixPQUFPMEIsUUFBUSxDQUFDZ0IsSUFBSTtJQUN0QixDQUFDLENBQUMsT0FBT1EsS0FBSyxFQUFFO01BQUE7TUFBQXJELGNBQUEsR0FBQUcsQ0FBQTtNQUNkLElBQUksQ0FBQ1MsTUFBTSxDQUFDeUMsS0FBSyxDQUFDLGlDQUFpQyxFQUFFQSxLQUFLLENBQUM7TUFBQztNQUFBckQsY0FBQSxHQUFBRyxDQUFBO01BQzVELE9BQU87UUFDTCtELFlBQVksRUFBRSxDQUFDO1FBQ2ZDLG1CQUFtQixFQUFFLENBQUM7UUFDdEJDLFNBQVMsRUFBRSxHQUFHO1FBQ2RDLGdCQUFnQixFQUFFO09BQ25CO0lBQ0g7RUFDRjtFQUVBOzs7RUFHUTVDLGdCQUFnQkEsQ0FDdEJILElBQVksRUFDWmdELFNBQXFDO0lBQUE7SUFBQXRFLGNBQUEsR0FBQW1CLENBQUE7SUFBQW5CLGNBQUEsR0FBQUcsQ0FBQTtJQUVyQyxPQUFPO01BQ0xpRCxjQUFjLEVBQUUsTUFBTTtNQUN0QkYsVUFBVSxFQUFFLEdBQUc7TUFDZnFCLG1CQUFtQixFQUFFLEtBQUs7TUFDMUJwQixLQUFLLEVBQUUsRUFBRTtNQUNUUixjQUFjLEVBQUUsQ0FBQztNQUNqQixHQUFHMkI7S0FDSjtFQUNIO0VBRUE7OztFQUdBRSxpQkFBaUJBLENBQ2Z2QyxNQUFjLEVBQ2RFLFFBQWdCLEVBQ2hCSSxXQUFvQjtJQUFBO0lBQUF2QyxjQUFBLEdBQUFtQixDQUFBO0lBQUFuQixjQUFBLEdBQUFHLENBQUE7SUFFcEIsT0FBTztNQUNMb0IsT0FBTyxFQUFFLE1BQU07TUFDZlUsTUFBTTtNQUNORSxRQUFRO01BQ1JJLFdBQVc7TUFDWEMsU0FBUyxFQUFFLElBQUliLElBQUk7S0FDcEI7RUFDSDtFQUVBOzs7RUFHQThDLG9CQUFvQkEsQ0FDbEJ4QyxNQUFjLEVBQ2RFLFFBQWdCLEVBQ2hCSSxXQUFvQjtJQUFBO0lBQUF2QyxjQUFBLEdBQUFtQixDQUFBO0lBQUFuQixjQUFBLEdBQUFHLENBQUE7SUFFcEIsT0FBTztNQUNMb0IsT0FBTyxFQUFFLFNBQVM7TUFDbEJVLE1BQU07TUFDTkUsUUFBUTtNQUNSSSxXQUFXO01BQ1hDLFNBQVMsRUFBRSxJQUFJYixJQUFJO0tBQ3BCO0VBQ0g7RUFFQTs7O0VBR0ErQyxvQkFBb0JBLENBQ2xCekMsTUFBYyxFQUNkRSxRQUFnQixFQUNoQkUsY0FBc0I7SUFBQTtJQUFBckMsY0FBQSxHQUFBbUIsQ0FBQTtJQUFBbkIsY0FBQSxHQUFBRyxDQUFBO0lBRXRCLE9BQU87TUFDTG9CLE9BQU8sRUFBRSxTQUFTO01BQ2xCVSxNQUFNO01BQ05FLFFBQVE7TUFDUkUsY0FBYztNQUNkRyxTQUFTLEVBQUUsSUFBSWIsSUFBSTtLQUNwQjtFQUNIO0VBRUE7OztFQUdBZ0Qsb0JBQW9CQSxDQUNsQjFDLE1BQWMsRUFDZEUsUUFBZ0IsRUFDaEJ5QyxTQUFpQjtJQUFBO0lBQUE1RSxjQUFBLEdBQUFtQixDQUFBO0lBQUFuQixjQUFBLEdBQUFHLENBQUE7SUFFakIsT0FBTztNQUNMb0IsT0FBTyxFQUFFLFNBQVM7TUFDbEJVLE1BQU07TUFDTkUsUUFBUTtNQUNSRSxjQUFjLEVBQUV1QyxTQUFTO01BQ3pCcEMsU0FBUyxFQUFFLElBQUliLElBQUk7S0FDcEI7RUFDSDtDQUNEO0FBQUE7QUFBQTNCLGNBQUEsR0FBQUcsQ0FBQTtBQXJUWTBFLE9BQUEsQ0FBQXJFLGlCQUFBLEdBQUFBLGlCQUFBO0FBQWlCO0FBQUFSLGNBQUEsR0FBQUcsQ0FBQTs0QkFBakJLLGlCQUFpQixHQUFBQyxtQkFBQSxHQUFBcUUsVUFBQSxFQUQ3QixJQUFBNUUsUUFBQSxDQUFBNkUsVUFBVSxHQUFFLEU7O3FDQVFxQjFFLE9BQUEsQ0FBQTJFLFdBQVc7QUFBQTtBQUFBLENBQUFoRixjQUFBLEdBQUF3QixDQUFBLFdBQVhuQixPQUFBLENBQUEyRSxXQUFXO0FBQUE7QUFBQSxDQUFBaEYsY0FBQSxHQUFBd0IsQ0FBQSxXQUFBeUQsRUFBQTtBQUFBO0FBQUEsQ0FBQWpGLGNBQUEsR0FBQXdCLENBQUEsV0FBQTBELE1BQUEsV0FBQUMsRUFBQTtBQUFBO0FBQUEsQ0FBQW5GLGNBQUEsR0FBQXdCLENBQUEsa0JBQ1RqQixRQUFBLENBQUE2RSxhQUFhO0FBQUE7QUFBQSxDQUFBcEYsY0FBQSxHQUFBd0IsQ0FBQSxXQUFiakIsUUFBQSxDQUFBNkUsYUFBYTtBQUFBO0FBQUEsQ0FBQXBGLGNBQUEsR0FBQXdCLENBQUEsV0FBQTJELEVBQUE7QUFBQTtBQUFBLENBQUFuRixjQUFBLEdBQUF3QixDQUFBLFdBQUEwRCxNQUFBLEksRUFScEMxRSxpQkFBaUIsQ0FxVDdCIiwiaWdub3JlTGlzdCI6W119