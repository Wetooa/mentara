{"version":3,"names":["cov_13xbrrospa","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","branchMap","s","f","b","inputSourceMap","file","mappings","names","sources","sourcesContent","version","_coverageSchema","coverage","actualCoverage","zod_1","require","ratingSchema","z","number","int","min","max","categoriesSchema","object","communication","optional","professionalism","helpfulness","availability","overall","exports","CreateReviewDtoSchema","rating","comment","string","isAnonymous","boolean","categories","tags","array","wouldRecommend","strict","UpdateReviewDtoSchema","ModerateReviewDtoSchema","action","enum","required_error","invalid_type_error","reason","moderatorNotes","GetReviewsDtoSchema","therapistId","uuid","clientId","minRating","maxRating","status","sortBy","sortOrder","limit","offset","includeModerated","dateFrom","regex","dateTo","ReviewIdParamSchema","id","TherapistIdParamSchema","MeetingIdParamSchema","meetingId","ReviewHelpfulDtoSchema","ReviewReportDtoSchema","description"],"sources":["/home/wetooa/Documents/code/projects/mentara/mentara-api/src/reviews/validation/review.schemas.ts"],"sourcesContent":["/**\n * Reviews Module Validation Schemas - Zod schemas for review operations\n * Separated from types for clean architecture\n */\n\nimport { z } from 'zod';\n\n// Rating validation helper\nconst ratingSchema = z\n  .number()\n  .int()\n  .min(1, 'Rating must be at least 1')\n  .max(5, 'Rating must be at most 5');\n\n// Category ratings schema\nconst categoriesSchema = z.object({\n  communication: ratingSchema.optional(),\n  professionalism: ratingSchema.optional(),\n  helpfulness: ratingSchema.optional(),\n  availability: ratingSchema.optional(),\n  overall: ratingSchema.optional(),\n}).optional();\n\n// Review creation validation\nexport const CreateReviewDtoSchema = z.object({\n  rating: ratingSchema,\n  comment: z\n    .string()\n    .max(2000, 'Comment must be less than 2000 characters')\n    .optional(),\n  isAnonymous: z\n    .boolean()\n    .optional(),\n  categories: categoriesSchema,\n  tags: z\n    .array(z.string().max(50, 'Tag must be less than 50 characters'))\n    .max(10, 'Maximum 10 tags allowed')\n    .optional(),\n  wouldRecommend: z\n    .boolean()\n    .optional(),\n}).strict();\n\n// Review update validation\nexport const UpdateReviewDtoSchema = z.object({\n  rating: ratingSchema.optional(),\n  comment: z\n    .string()\n    .max(2000, 'Comment must be less than 2000 characters')\n    .optional(),\n  isAnonymous: z\n    .boolean()\n    .optional(),\n  categories: categoriesSchema,\n  tags: z\n    .array(z.string().max(50, 'Tag must be less than 50 characters'))\n    .max(10, 'Maximum 10 tags allowed')\n    .optional(),\n  wouldRecommend: z\n    .boolean()\n    .optional(),\n}).strict();\n\n// Review moderation validation\nexport const ModerateReviewDtoSchema = z.object({\n  action: z\n    .enum(['approve', 'reject', 'flag', 'hide'], {\n      required_error: 'Moderation action is required',\n      invalid_type_error: 'Invalid moderation action',\n    }),\n  reason: z\n    .string()\n    .max(500, 'Reason must be less than 500 characters')\n    .optional(),\n  moderatorNotes: z\n    .string()\n    .max(1000, 'Moderator notes must be less than 1000 characters')\n    .optional(),\n}).strict();\n\n// Review query validation\nexport const GetReviewsDtoSchema = z.object({\n  therapistId: z\n    .string()\n    .uuid('Invalid therapist ID')\n    .optional(),\n  clientId: z\n    .string()\n    .uuid('Invalid client ID')\n    .optional(),\n  rating: ratingSchema.optional(),\n  minRating: ratingSchema.optional(),\n  maxRating: ratingSchema.optional(),\n  status: z\n    .enum(['pending', 'approved', 'rejected', 'flagged', 'hidden'], {\n      invalid_type_error: 'Invalid status',\n    })\n    .optional(),\n  isAnonymous: z\n    .boolean()\n    .optional(),\n  sortBy: z\n    .enum(['rating', 'date', 'helpful'], {\n      invalid_type_error: 'Invalid sort field',\n    })\n    .optional(),\n  sortOrder: z\n    .enum(['asc', 'desc'], {\n      invalid_type_error: 'Invalid sort order',\n    })\n    .optional(),\n  limit: z\n    .number()\n    .int()\n    .min(1, 'Limit must be at least 1')\n    .max(100, 'Limit cannot exceed 100')\n    .optional(),\n  offset: z\n    .number()\n    .int()\n    .min(0, 'Offset cannot be negative')\n    .optional(),\n  includeModerated: z\n    .boolean()\n    .optional(),\n  dateFrom: z\n    .string()\n    .regex(/^\\d{4}-\\d{2}-\\d{2}$/, 'Date must be in YYYY-MM-DD format')\n    .optional(),\n  dateTo: z\n    .string()\n    .regex(/^\\d{4}-\\d{2}-\\d{2}$/, 'Date must be in YYYY-MM-DD format')\n    .optional(),\n  tags: z\n    .array(z.string().max(50, 'Tag must be less than 50 characters'))\n    .optional(),\n}).strict();\n\n// Path parameter validation\nexport const ReviewIdParamSchema = z.object({\n  id: z.string().uuid('Invalid review ID format'),\n});\n\nexport const TherapistIdParamSchema = z.object({\n  therapistId: z.string().uuid('Invalid therapist ID format'),\n});\n\nexport const MeetingIdParamSchema = z.object({\n  meetingId: z.string().uuid('Invalid meeting ID format'),\n});\n\n// Review interaction validation\nexport const ReviewHelpfulDtoSchema = z.object({\n  action: z\n    .enum(['helpful', 'unhelpful', 'remove'], {\n      required_error: 'Action is required',\n      invalid_type_error: 'Invalid action type',\n    }),\n}).strict();\n\nexport const ReviewReportDtoSchema = z.object({\n  reason: z\n    .enum(['inappropriate', 'spam', 'fake', 'harassment', 'other'], {\n      required_error: 'Report reason is required',\n      invalid_type_error: 'Invalid report reason',\n    }),\n  description: z\n    .string()\n    .max(1000, 'Description must be less than 1000 characters')\n    .optional(),\n}).strict();"],"mappings":"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","ignoreList":[]}