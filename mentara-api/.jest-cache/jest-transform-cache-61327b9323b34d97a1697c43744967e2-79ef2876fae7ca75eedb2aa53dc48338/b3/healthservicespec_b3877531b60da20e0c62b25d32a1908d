7bca9a679833ea713615898bee798290
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const testing_1 = require("@nestjs/testing");
const common_1 = require("@nestjs/common");
const health_service_1 = require("./health.service");
const prisma_client_provider_1 = require("../providers/prisma-client.provider");
const os = require("os");
const process = require("process");
describe('HealthService', () => {
    let service;
    let prismaService;
    // Mock data structures
    const mockDate = new Date('2024-01-15T10:00:00Z');
    const mockProcessEnv = {
        npm_package_version: '2.1.5',
        NODE_ENV: 'test',
    };
    const mockMemoryUsage = {
        rss: 67108864, // 64MB
        heapTotal: 50331648, // 48MB
        heapUsed: 33554432, // 32MB
        external: 8388608, // 8MB
        arrayBuffers: 1048576, // 1MB
    };
    const mockCpuUsage = {
        user: 1000000, // 1 second in microseconds
        system: 500000, // 0.5 seconds in microseconds
    };
    const mockOsMemory = {
        total: 17179869184, // 16GB
        free: 8589934592, // 8GB
    };
    const mockLoadAverage = [0.85, 1.2, 1.5];
    const mockCpus = Array.from({ length: 8 }, (_, i) => ({
        model: `Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz`,
        speed: 2600,
        times: {
            user: 123456 + i * 1000,
            nice: 0,
            sys: 45678 + i * 500,
            idle: 9876543 + i * 10000,
            irq: 0,
        },
    }));
    beforeEach(async () => {
        const mockPrismaService = {
            $queryRaw: jest.fn(),
        };
        const module = await testing_1.Test.createTestingModule({
            providers: [
                health_service_1.HealthService,
                {
                    provide: prisma_client_provider_1.PrismaService,
                    useValue: mockPrismaService,
                },
            ],
        }).compile();
        service = module.get(health_service_1.HealthService);
        prismaService = module.get(prisma_client_provider_1.PrismaService);
        // Mock Date constructor for consistent testing
        jest.useFakeTimers();
        jest.setSystemTime(mockDate);
        // Mock process and os modules
        jest.spyOn(process, 'memoryUsage').mockReturnValue(mockMemoryUsage);
        jest.spyOn(process, 'cpuUsage').mockReturnValue(mockCpuUsage);
        jest.spyOn(process, 'uptime').mockReturnValue(86400); // 24 hours
        Object.defineProperty(process, 'version', { value: 'v18.17.0' });
        Object.defineProperty(process, 'pid', { value: 12345 });
        Object.defineProperty(process, 'env', { value: mockProcessEnv });
        jest.spyOn(os, 'totalmem').mockReturnValue(mockOsMemory.total);
        jest.spyOn(os, 'freemem').mockReturnValue(mockOsMemory.free);
        jest.spyOn(os, 'loadavg').mockReturnValue(mockLoadAverage);
        jest.spyOn(os, 'cpus').mockReturnValue(mockCpus);
    });
    afterEach(() => {
        jest.clearAllMocks();
        jest.useRealTimers();
        jest.restoreAllMocks();
    });
    it('should be defined', () => {
        expect(service).toBeDefined();
    });
    describe('getBasicHealth', () => {
        it('should return basic health information', async () => {
            const result = await service.getBasicHealth();
            expect(result).toEqual({
                status: 'ok',
                timestamp: mockDate.toISOString(),
                uptime: 0, // Service just started
                version: '2.1.5',
            });
        });
        it('should calculate uptime correctly', async () => {
            // Advance time by 5 minutes
            jest.advanceTimersByTime(5 * 60 * 1000);
            const result = await service.getBasicHealth();
            expect(result.uptime).toBe(300); // 5 minutes in seconds
        });
        it('should use default version when not available', async () => {
            Object.defineProperty(process, 'env', {
                value: { ...mockProcessEnv, npm_package_version: undefined }
            });
            const result = await service.getBasicHealth();
            expect(result.version).toBe('1.0.0');
        });
        it('should return consistent status', async () => {
            const result1 = await service.getBasicHealth();
            const result2 = await service.getBasicHealth();
            expect(result1.status).toBe('ok');
            expect(result2.status).toBe('ok');
        });
        it('should include valid timestamp format', async () => {
            const result = await service.getBasicHealth();
            expect(result.timestamp).toMatch(/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d{3}Z/);
            expect(new Date(result.timestamp)).toBeInstanceOf(Date);
        });
        it('should handle multiple concurrent calls', async () => {
            const promises = Array.from({ length: 10 }, () => service.getBasicHealth());
            const results = await Promise.all(promises);
            results.forEach(result => {
                expect(result.status).toBe('ok');
                expect(result).toHaveProperty('timestamp');
                expect(result).toHaveProperty('uptime');
                expect(result).toHaveProperty('version');
            });
            // All results should have same timestamp (within same millisecond)
            const timestamps = results.map(r => r.timestamp);
            expect(new Set(timestamps).size).toBeLessThanOrEqual(2); // Allow for small timing differences
        });
    });
    describe('getDatabaseHealth', () => {
        beforeEach(() => {
            prismaService.$queryRaw.mockResolvedValue([{ result: 1 }]);
        });
        it('should return connected status when database is healthy', async () => {
            const result = await service.getDatabaseHealth();
            expect(result.status).toBe('connected');
            expect(result).toHaveProperty('responseTime');
            expect(result).toHaveProperty('connections');
            expect(result).toHaveProperty('queryStats');
            expect(result).toHaveProperty('lastBackup');
            expect(typeof result.responseTime).toBe('number');
        });
        it('should measure response time accurately', async () => {
            // Mock a slow database response
            prismaService.$queryRaw.mockImplementation(() => new Promise(resolve => setTimeout(() => resolve([{ result: 1 }]), 100)));
            const startTime = Date.now();
            const result = await service.getDatabaseHealth();
            const actualDuration = Date.now() - startTime;
            expect(result.responseTime).toBeGreaterThan(90);
            expect(result.responseTime).toBeLessThan(actualDuration + 50); // Allow some overhead
        });
        it('should return proper connections structure', async () => {
            const result = await service.getDatabaseHealth();
            expect(result.connections).toEqual({
                active: 5,
                idle: 3,
                total: 10,
            });
            expect(result.connections.active + result.connections.idle).toBeLessThanOrEqual(result.connections.total);
        });
        it('should return proper query statistics', async () => {
            const result = await service.getDatabaseHealth();
            expect(result.queryStats).toEqual({
                totalQueries: 1543,
                averageQueryTime: 45,
                slowQueries: 2,
            });
            expect(result.queryStats.totalQueries).toBeGreaterThan(0);
            expect(result.queryStats.averageQueryTime).toBeGreaterThan(0);
            expect(result.queryStats.slowQueries).toBeGreaterThanOrEqual(0);
        });
        it('should include valid backup timestamp', async () => {
            const result = await service.getDatabaseHealth();
            expect(result.lastBackup).toBeDefined();
            expect(typeof result.lastBackup).toBe('string');
            const backupDate = new Date(result.lastBackup);
            expect(backupDate).toBeInstanceOf(Date);
            expect(backupDate.getTime()).toBeLessThan(Date.now());
        });
        it('should handle database connection failures', async () => {
            const dbError = new Error('Connection timeout');
            prismaService.$queryRaw.mockRejectedValue(dbError);
            const result = await service.getDatabaseHealth();
            expect(result.status).toBe('disconnected');
            expect(result.error).toBe('Connection timeout');
            expect(result).toHaveProperty('timestamp');
            expect(result).not.toHaveProperty('responseTime');
            expect(result).not.toHaveProperty('connections');
        });
        it('should handle unknown database errors', async () => {
            prismaService.$queryRaw.mockRejectedValue('String error');
            const result = await service.getDatabaseHealth();
            expect(result.status).toBe('disconnected');
            expect(result.error).toBe('Unknown error');
        });
        it('should log database errors', async () => {
            const loggerSpy = jest.spyOn(common_1.Logger.prototype, 'error').mockImplementation();
            const dbError = new Error('Database connection failed');
            prismaService.$queryRaw.mockRejectedValue(dbError);
            await service.getDatabaseHealth();
            expect(loggerSpy).toHaveBeenCalledWith('Database health check failed', dbError);
        });
        it('should handle concurrent database health checks', async () => {
            const promises = Array.from({ length: 5 }, () => service.getDatabaseHealth());
            const results = await Promise.all(promises);
            results.forEach(result => {
                expect(result.status).toBe('connected');
                expect(result).toHaveProperty('responseTime');
            });
            expect(prismaService.$queryRaw).toHaveBeenCalledTimes(5);
        });
        it('should handle partial database errors gracefully', async () => {
            // Simulate intermittent connectivity
            prismaService.$queryRaw
                .mockResolvedValueOnce([{ result: 1 }])
                .mockRejectedValueOnce(new Error('Timeout'))
                .mockResolvedValueOnce([{ result: 1 }]);
            const result1 = await service.getDatabaseHealth();
            expect(result1.status).toBe('connected');
            const result2 = await service.getDatabaseHealth();
            expect(result2.status).toBe('disconnected');
            const result3 = await service.getDatabaseHealth();
            expect(result3.status).toBe('connected');
        });
    });
    describe('getServicesHealth', () => {
        it('should return health status for all external services', async () => {
            const result = await service.getServicesHealth();
            expect(result).toHaveProperty('supabase');
            expect(result).toHaveProperty('stripe');
            expect(result).toHaveProperty('emailService');
            expect(result).toHaveProperty('aiService');
            Object.values(result).forEach(serviceHealth => {
                expect(serviceHealth).toHaveProperty('status');
                expect(serviceHealth).toHaveProperty('responseTime');
            });
        });
        it('should return proper service health structure', async () => {
            const result = await service.getServicesHealth();
            // Supabase health
            expect(result.supabase.status).toBe('ok');
            expect(result.supabase).toHaveProperty('region');
            expect(result.supabase.region).toBe('us-east-1');
            // Stripe health
            expect(result.stripe.status).toBe('ok');
            expect(result.stripe).toHaveProperty('webhooksProcessed');
            expect(typeof result.stripe.webhooksProcessed).toBe('number');
            // Email service health
            expect(result.emailService.status).toBe('ok');
            expect(result.emailService).toHaveProperty('emailsSent');
            expect(result.emailService).toHaveProperty('failureRate');
            expect(typeof result.emailService.failureRate).toBe('number');
            // AI service health
            expect(result.aiService.status).toBe('ok');
            expect(result.aiService).toHaveProperty('assessmentsProcessed');
            expect(typeof result.aiService.assessmentsProcessed).toBe('number');
        });
        it('should measure response times for all services', async () => {
            const result = await service.getServicesHealth();
            expect(result.supabase.responseTime).toBeGreaterThan(40);
            expect(result.supabase.responseTime).toBeLessThan(70);
            expect(result.stripe.responseTime).toBeGreaterThan(20);
            expect(result.stripe.responseTime).toBeLessThan(50);
            expect(result.emailService.responseTime).toBeGreaterThan(15);
            expect(result.emailService.responseTime).toBeLessThan(45);
            expect(result.aiService.responseTime).toBeGreaterThan(65);
            expect(result.aiService.responseTime).toBeLessThan(95);
        });
        it('should handle concurrent service health checks', async () => {
            const promises = Array.from({ length: 3 }, () => service.getServicesHealth());
            const results = await Promise.all(promises);
            results.forEach(result => {
                expect(Object.keys(result)).toHaveLength(4);
                Object.values(result).forEach(serviceHealth => {
                    expect(serviceHealth.status).toBe('ok');
                });
            });
        });
        it('should validate service metrics ranges', async () => {
            const result = await service.getServicesHealth();
            expect(result.stripe.webhooksProcessed).toBeGreaterThan(0);
            expect(result.emailService.emailsSent).toBeGreaterThan(0);
            expect(result.emailService.failureRate).toBeGreaterThanOrEqual(0);
            expect(result.emailService.failureRate).toBeLessThanOrEqual(1);
            expect(result.aiService.assessmentsProcessed).toBeGreaterThan(0);
        });
    });
    describe('checkSupabaseHealth', () => {
        it('should return proper Supabase health status', async () => {
            const result = await service.checkSupabaseHealth();
            expect(result.status).toBe('ok');
            expect(result).toHaveProperty('responseTime');
            expect(result).toHaveProperty('region');
            expect(result.region).toBe('us-east-1');
            expect(typeof result.responseTime).toBe('number');
        });
        it('should handle Supabase service errors', async () => {
            // Mock a failure by rejecting the promise in the timeout
            jest.spyOn(global, 'setTimeout').mockImplementation((callback, delay) => {
                if (typeof callback === 'function') {
                    throw new Error('Supabase API unavailable');
                }
                return {};
            });
            const result = await service.checkSupabaseHealth();
            expect(result.status).toBe('error');
            expect(result.error).toBe('Supabase API unavailable');
            expect(result).not.toHaveProperty('responseTime');
        });
        it('should handle unknown Supabase errors', async () => {
            jest.spyOn(global, 'setTimeout').mockImplementation(() => {
                throw 'String error';
            });
            const result = await service.checkSupabaseHealth();
            expect(result.status).toBe('error');
            expect(result.error).toBe('Unknown error');
        });
    });
    describe('checkStripeHealth', () => {
        it('should return proper Stripe health status', async () => {
            const result = await service.checkStripeHealth();
            expect(result.status).toBe('ok');
            expect(result).toHaveProperty('responseTime');
            expect(result).toHaveProperty('webhooksProcessed');
            expect(result.webhooksProcessed).toBe(1247);
            expect(typeof result.responseTime).toBe('number');
        });
        it('should handle Stripe service errors', async () => {
            const originalSetTimeout = global.setTimeout;
            jest.spyOn(global, 'setTimeout').mockImplementation((callback, delay) => {
                if (delay === 30) {
                    throw new Error('Stripe API rate limit exceeded');
                }
                return originalSetTimeout(callback, delay);
            });
            const result = await service.checkStripeHealth();
            expect(result.status).toBe('error');
            expect(result.error).toBe('Stripe API rate limit exceeded');
        });
    });
    describe('checkEmailServiceHealth', () => {
        it('should return proper email service health status', async () => {
            const result = await service.checkEmailServiceHealth();
            expect(result.status).toBe('ok');
            expect(result).toHaveProperty('responseTime');
            expect(result).toHaveProperty('emailsSent');
            expect(result).toHaveProperty('failureRate');
            expect(result.emailsSent).toBe(892);
            expect(result.failureRate).toBe(0.02);
        });
        it('should handle email service errors', async () => {
            const originalSetTimeout = global.setTimeout;
            jest.spyOn(global, 'setTimeout').mockImplementation((callback, delay) => {
                if (delay === 25) {
                    throw new Error('SMTP server unreachable');
                }
                return originalSetTimeout(callback, delay);
            });
            const result = await service.checkEmailServiceHealth();
            expect(result.status).toBe('error');
            expect(result.error).toBe('SMTP server unreachable');
        });
        it('should validate email metrics', async () => {
            const result = await service.checkEmailServiceHealth();
            expect(result.emailsSent).toBeGreaterThan(0);
            expect(result.failureRate).toBeGreaterThanOrEqual(0);
            expect(result.failureRate).toBeLessThanOrEqual(1);
        });
    });
    describe('checkAiServiceHealth', () => {
        it('should return proper AI service health status', async () => {
            const result = await service.checkAiServiceHealth();
            expect(result.status).toBe('ok');
            expect(result).toHaveProperty('responseTime');
            expect(result).toHaveProperty('assessmentsProcessed');
            expect(result.assessmentsProcessed).toBe(234);
        });
        it('should handle AI service errors', async () => {
            const originalSetTimeout = global.setTimeout;
            jest.spyOn(global, 'setTimeout').mockImplementation((callback, delay) => {
                if (delay === 75) {
                    throw new Error('AI model loading failed');
                }
                return originalSetTimeout(callback, delay);
            });
            const result = await service.checkAiServiceHealth();
            expect(result.status).toBe('error');
            expect(result.error).toBe('AI model loading failed');
        });
        it('should validate AI service metrics', async () => {
            const result = await service.checkAiServiceHealth();
            expect(result.assessmentsProcessed).toBeGreaterThan(0);
            expect(result.responseTime).toBeGreaterThan(0);
        });
    });
    describe('getSystemMetrics', () => {
        it('should return comprehensive system metrics', async () => {
            const result = await service.getSystemMetrics();
            expect(result).toHaveProperty('memory');
            expect(result).toHaveProperty('cpu');
            expect(result).toHaveProperty('disk');
            expect(result).toHaveProperty('network');
            expect(result).toHaveProperty('nodejs');
        });
        it('should return proper memory metrics', async () => {
            const result = await service.getSystemMetrics();
            expect(result.memory).toEqual({
                used: mockMemoryUsage.heapUsed,
                free: mockOsMemory.free,
                total: mockOsMemory.total,
                percentage: ((mockOsMemory.total - mockOsMemory.free) / mockOsMemory.total) * 100,
            });
            expect(result.memory.percentage).toBeGreaterThanOrEqual(0);
            expect(result.memory.percentage).toBeLessThanOrEqual(100);
        });
        it('should return proper CPU metrics', async () => {
            const result = await service.getSystemMetrics();
            expect(result.cpu).toEqual({
                usage: mockCpuUsage,
                loadAverage: mockLoadAverage,
                cores: mockCpus.length,
            });
            expect(result.cpu.cores).toBe(8);
            expect(Array.isArray(result.cpu.loadAverage)).toBe(true);
            expect(result.cpu.loadAverage).toHaveLength(3);
        });
        it('should return mock disk metrics', async () => {
            const result = await service.getSystemMetrics();
            expect(result.disk).toEqual({
                used: 85 * 1024 * 1024 * 1024,
                free: 15 * 1024 * 1024 * 1024,
                total: 100 * 1024 * 1024 * 1024,
                percentage: 85,
            });
            expect(result.disk.used + result.disk.free).toBe(result.disk.total);
            expect(result.disk.percentage).toBe(85);
        });
        it('should return proper network metrics', async () => {
            const result = await service.getSystemMetrics();
            expect(result.network).toEqual({
                bytesReceived: 1024 * 1024 * 150,
                bytesSent: 1024 * 1024 * 200,
                packetsReceived: 50000,
                packetsSent: 45000,
            });
            expect(result.network.bytesReceived).toBeGreaterThan(0);
            expect(result.network.bytesSent).toBeGreaterThan(0);
            expect(result.network.packetsReceived).toBeGreaterThan(0);
            expect(result.network.packetsSent).toBeGreaterThan(0);
        });
        it('should return proper Node.js metrics', async () => {
            const result = await service.getSystemMetrics();
            expect(result.nodejs).toEqual({
                version: 'v18.17.0',
                uptime: 86400,
                pid: 12345,
            });
            expect(result.nodejs.version).toMatch(/^v\d+\.\d+\.\d+$/);
            expect(result.nodejs.uptime).toBe(86400);
            expect(result.nodejs.pid).toBe(12345);
        });
        it('should handle concurrent system metrics requests', async () => {
            const promises = Array.from({ length: 5 }, () => service.getSystemMetrics());
            const results = await Promise.all(promises);
            results.forEach(result => {
                expect(result).toHaveProperty('memory');
                expect(result).toHaveProperty('cpu');
                expect(result).toHaveProperty('disk');
                expect(result).toHaveProperty('network');
                expect(result).toHaveProperty('nodejs');
            });
            // All results should be identical
            const firstResult = results[0];
            results.slice(1).forEach(result => {
                expect(result).toEqual(firstResult);
            });
        });
        it('should calculate memory percentage correctly', async () => {
            const result = await service.getSystemMetrics();
            const expectedPercentage = ((mockOsMemory.total - mockOsMemory.free) / mockOsMemory.total) * 100;
            expect(result.memory.percentage).toBeCloseTo(expectedPercentage, 2);
            expect(result.memory.percentage).toBe(50); // 8GB used of 16GB total
        });
    });
    describe('getDetailedHealth', () => {
        beforeEach(() => {
            prismaService.$queryRaw.mockResolvedValue([{ result: 1 }]);
        });
        it('should return comprehensive health status', async () => {
            const result = await service.getDetailedHealth();
            expect(result).toHaveProperty('status');
            expect(result).toHaveProperty('timestamp');
            expect(result).toHaveProperty('uptime');
            expect(result).toHaveProperty('version');
            expect(result).toHaveProperty('database');
            expect(result).toHaveProperty('services');
            expect(result).toHaveProperty('system');
            expect(result).toHaveProperty('errors');
        });
        it('should return ok status when all services are healthy', async () => {
            const result = await service.getDetailedHealth();
            expect(result.status).toBe('ok');
            expect(result.errors).toEqual([]);
            expect(result.database.status).toBe('connected');
            Object.values(result.services).forEach(service => {
                expect(service.status).toBe('ok');
            });
        });
        it('should return error status when database is unhealthy', async () => {
            prismaService.$queryRaw.mockRejectedValue(new Error('Database down'));
            const result = await service.getDetailedHealth();
            expect(result.status).toBe('error');
            expect(result.errors).toContain('One or more services are unhealthy');
            expect(result.database.status).toBe('disconnected');
        });
        it('should include all service health data', async () => {
            const result = await service.getDetailedHealth();
            expect(result.services).toHaveProperty('supabase');
            expect(result.services).toHaveProperty('stripe');
            expect(result.services).toHaveProperty('emailService');
            expect(result.services).toHaveProperty('aiService');
            Object.values(result.services).forEach(service => {
                expect(service).toHaveProperty('status');
                expect(service).toHaveProperty('responseTime');
            });
        });
        it('should include system metrics', async () => {
            const result = await service.getDetailedHealth();
            expect(result.system).toHaveProperty('memory');
            expect(result.system).toHaveProperty('cpu');
            expect(result.system).toHaveProperty('disk');
            expect(result.system).toHaveProperty('network');
            expect(result.system).toHaveProperty('nodejs');
        });
        it('should handle partial service failures', async () => {
            // Mock one service failing
            const originalSetTimeout = global.setTimeout;
            jest.spyOn(global, 'setTimeout').mockImplementation((callback, delay) => {
                if (delay === 30) { // Stripe timeout
                    throw new Error('Stripe API unavailable');
                }
                return originalSetTimeout(callback, delay);
            });
            const result = await service.getDetailedHealth();
            expect(result.status).toBe('error');
            expect(result.services.stripe.status).toBe('error');
            expect(result.services.supabase.status).toBe('ok');
            expect(result.services.emailService.status).toBe('ok');
            expect(result.services.aiService.status).toBe('ok');
        });
        it('should handle complete service failure gracefully', async () => {
            const loggerSpy = jest.spyOn(common_1.Logger.prototype, 'error').mockImplementation();
            prismaService.$queryRaw.mockRejectedValue(new Error('Critical system failure'));
            // Make all service checks fail
            jest.spyOn(global, 'setTimeout').mockImplementation(() => {
                throw new Error('All services down');
            });
            const result = await service.getDetailedHealth();
            expect(result.status).toBe('error');
            expect(result).toHaveProperty('timestamp');
            expect(result.errors).toContain('One or more services are unhealthy');
            expect(loggerSpy).toHaveBeenCalled();
        });
        it('should handle exception during health check', async () => {
            const loggerSpy = jest.spyOn(common_1.Logger.prototype, 'error').mockImplementation();
            // Mock a critical failure
            jest.spyOn(service, 'getDatabaseHealth').mockRejectedValue(new Error('Critical failure'));
            const result = await service.getDetailedHealth();
            expect(result.status).toBe('error');
            expect(result.errors).toContain('Failed to retrieve health information');
            expect(result).toHaveProperty('timestamp');
            expect(loggerSpy).toHaveBeenCalledWith('Failed to get detailed health', expect.any(Error));
        });
        it('should maintain consistent timing across calls', async () => {
            const promises = Array.from({ length: 3 }, () => service.getDetailedHealth());
            const results = await Promise.all(promises);
            // All should complete with similar timing (within same second)
            const timestamps = results.map(r => new Date(r.timestamp).getTime());
            const maxTimeDiff = Math.max(...timestamps) - Math.min(...timestamps);
            expect(maxTimeDiff).toBeLessThan(1000); // Within 1 second
        });
    });
    describe('getAdminHealthDashboard', () => {
        beforeEach(() => {
            prismaService.$queryRaw.mockResolvedValue([{ result: 1 }]);
        });
        it('should return comprehensive admin dashboard', async () => {
            const result = await service.getAdminHealthDashboard();
            expect(result).toHaveProperty('overview');
            expect(result).toHaveProperty('alerts');
            expect(result).toHaveProperty('performance');
            expect(result).toHaveProperty('resources');
        });
        it('should return proper overview structure', async () => {
            const result = await service.getAdminHealthDashboard();
            expect(result.overview).toHaveProperty('status');
            expect(result.overview).toHaveProperty('uptime');
            expect(result.overview).toHaveProperty('lastRestart');
            expect(result.overview).toHaveProperty('errorRate');
            expect(result.overview.status).toBe('ok');
            expect(typeof result.overview.uptime).toBe('number');
            expect(typeof result.overview.errorRate).toBe('number');
            expect(result.overview.errorRate).toBe(0.12);
        });
        it('should return mock alerts with proper structure', async () => {
            const result = await service.getAdminHealthDashboard();
            expect(Array.isArray(result.alerts)).toBe(true);
            expect(result.alerts).toHaveLength(2);
            result.alerts.forEach(alert => {
                expect(alert).toHaveProperty('severity');
                expect(alert).toHaveProperty('message');
                expect(alert).toHaveProperty('timestamp');
                expect(alert).toHaveProperty('resolved');
                expect(['low', 'medium', 'high', 'critical']).toContain(alert.severity);
                expect(typeof alert.resolved).toBe('boolean');
            });
            // Check specific alerts
            const unresolvedAlerts = result.alerts.filter(a => !a.resolved);
            const resolvedAlerts = result.alerts.filter(a => a.resolved);
            expect(unresolvedAlerts).toHaveLength(1);
            expect(resolvedAlerts).toHaveLength(1);
        });
        it('should return performance metrics', async () => {
            const result = await service.getAdminHealthDashboard();
            expect(result.performance).toEqual({
                averageResponseTime: 245,
                requestsPerMinute: 127,
                activeConnections: 23,
                errorCount: 3,
            });
            expect(result.performance.averageResponseTime).toBeGreaterThan(0);
            expect(result.performance.requestsPerMinute).toBeGreaterThan(0);
            expect(result.performance.activeConnections).toBeGreaterThan(0);
            expect(result.performance.errorCount).toBeGreaterThanOrEqual(0);
        });
        it('should return proper resources structure', async () => {
            const result = await service.getAdminHealthDashboard();
            expect(result.resources).toHaveProperty('memory');
            expect(result.resources).toHaveProperty('cpu');
            expect(result.resources).toHaveProperty('database');
            expect(result.resources).toHaveProperty('storage');
            // Should match system metrics
            expect(result.resources.memory).toHaveProperty('used');
            expect(result.resources.memory).toHaveProperty('free');
            expect(result.resources.memory).toHaveProperty('total');
            expect(result.resources.memory).toHaveProperty('percentage');
            expect(result.resources.database).toHaveProperty('status');
            expect(result.resources.database.status).toBe('connected');
        });
        it('should calculate last restart time correctly', async () => {
            // Advance time by 1 hour
            jest.advanceTimersByTime(60 * 60 * 1000);
            const result = await service.getAdminHealthDashboard();
            const lastRestart = new Date(result.overview.lastRestart);
            const expectedRestart = new Date(mockDate.getTime() - (result.overview.uptime * 1000));
            expect(lastRestart.getTime()).toBeCloseTo(expectedRestart.getTime(), -2);
        });
        it('should handle database errors in admin dashboard', async () => {
            prismaService.$queryRaw.mockRejectedValue(new Error('DB connection failed'));
            const result = await service.getAdminHealthDashboard();
            expect(result.overview.status).toBe('error');
            expect(result.resources.database.status).toBe('disconnected');
        });
        it('should maintain consistency between detailed health and admin dashboard', async () => {
            const [detailedHealth, adminDashboard] = await Promise.all([
                service.getDetailedHealth(),
                service.getAdminHealthDashboard(),
            ]);
            expect(adminDashboard.overview.status).toBe(detailedHealth.status);
            expect(adminDashboard.overview.uptime).toBe(detailedHealth.uptime);
            expect(adminDashboard.resources.memory).toEqual(detailedHealth.system.memory);
            expect(adminDashboard.resources.cpu).toEqual(detailedHealth.system.cpu);
            expect(adminDashboard.resources.database).toEqual(detailedHealth.database);
        });
    });
    describe('Error Handling and Edge Cases', () => {
        it('should handle system resource unavailability', async () => {
            jest.spyOn(os, 'totalmem').mockImplementation(() => {
                throw new Error('System metrics unavailable');
            });
            await expect(service.getSystemMetrics()).rejects.toThrow('System metrics unavailable');
        });
        it('should handle process metrics unavailability', async () => {
            jest.spyOn(process, 'memoryUsage').mockImplementation(() => {
                throw new Error('Process metrics unavailable');
            });
            await expect(service.getSystemMetrics()).rejects.toThrow('Process metrics unavailable');
        });
        it('should handle malformed environment variables', async () => {
            Object.defineProperty(process, 'env', {
                value: { npm_package_version: null }
            });
            const result = await service.getBasicHealth();
            expect(result.version).toBe('1.0.0');
        });
        it('should handle extreme memory conditions', async () => {
            jest.spyOn(os, 'freemem').mockReturnValue(0); // No free memory
            jest.spyOn(os, 'totalmem').mockReturnValue(1024 * 1024 * 1024); // 1GB total
            const result = await service.getSystemMetrics();
            expect(result.memory.percentage).toBe(100);
            expect(result.memory.free).toBe(0);
        });
        it('should handle extreme CPU load conditions', async () => {
            jest.spyOn(os, 'loadavg').mockReturnValue([10.5, 15.2, 20.8]); // Very high load
            const result = await service.getSystemMetrics();
            expect(result.cpu.loadAverage).toEqual([10.5, 15.2, 20.8]);
            expect(result.cpu.loadAverage.every(load => load > 1)).toBe(true);
        });
        it('should handle concurrent health checks under load', async () => {
            const concurrencyLevel = 20;
            const promises = Array.from({ length: concurrencyLevel }, () => service.getDetailedHealth());
            const startTime = Date.now();
            const results = await Promise.all(promises);
            const duration = Date.now() - startTime;
            // All should complete successfully
            results.forEach(result => {
                expect(result).toHaveProperty('status');
                expect(result).toHaveProperty('database');
                expect(result).toHaveProperty('services');
                expect(result).toHaveProperty('system');
            });
            // Should complete within reasonable time (5 seconds for 20 concurrent calls)
            expect(duration).toBeLessThan(5000);
        });
        it('should handle memory leaks in long-running health checks', async () => {
            const initialMemory = process.memoryUsage().heapUsed;
            // Run many health checks
            for (let i = 0; i < 100; i++) {
                await service.getBasicHealth();
            }
            const finalMemory = process.memoryUsage().heapUsed;
            const memoryIncrease = finalMemory - initialMemory;
            // Memory increase should be minimal (less than 10MB)
            expect(memoryIncrease).toBeLessThan(10 * 1024 * 1024);
        });
    });
    describe('Performance and Optimization', () => {
        it('should complete basic health check quickly', async () => {
            const startTime = Date.now();
            await service.getBasicHealth();
            const duration = Date.now() - startTime;
            expect(duration).toBeLessThan(50); // Should complete in under 50ms
        });
        it('should handle rapid successive calls efficiently', async () => {
            const calls = 50;
            const startTime = Date.now();
            const promises = Array.from({ length: calls }, () => service.getBasicHealth());
            await Promise.all(promises);
            const duration = Date.now() - startTime;
            const avgDuration = duration / calls;
            expect(avgDuration).toBeLessThan(10); // Each call should average under 10ms
        });
        it('should cache-friendly for identical concurrent requests', async () => {
            const promises = Array.from({ length: 10 }, () => service.getSystemMetrics());
            const startTime = Date.now();
            const results = await Promise.all(promises);
            const duration = Date.now() - startTime;
            // All results should be identical
            const firstResult = results[0];
            results.forEach(result => {
                expect(result).toEqual(firstResult);
            });
            // Should complete quickly even with multiple concurrent calls
            expect(duration).toBeLessThan(100);
        });
        it('should optimize service health checks', async () => {
            const startTime = Date.now();
            await service.getServicesHealth();
            const duration = Date.now() - startTime;
            // Should complete all service checks in reasonable time
            expect(duration).toBeLessThan(500); // All service checks under 500ms
        });
        it('should handle service timeout scenarios', async () => {
            // Mock very slow services
            const originalSetTimeout = global.setTimeout;
            jest.spyOn(global, 'setTimeout').mockImplementation((callback, delay) => {
                if (typeof callback === 'function') {
                    return originalSetTimeout(callback, delay * 10); // Make everything 10x slower
                }
                return originalSetTimeout(callback, delay);
            });
            const startTime = Date.now();
            const result = await service.getServicesHealth();
            const duration = Date.now() - startTime;
            // Should still complete, even if slower
            expect(result).toHaveProperty('supabase');
            expect(result).toHaveProperty('stripe');
            expect(duration).toBeGreaterThan(500); // Should be noticeably slower
        });
    });
    describe('Data Integrity and Validation', () => {
        it('should maintain consistent uptime calculations', async () => {
            const result1 = await service.getBasicHealth();
            jest.advanceTimersByTime(30000); // 30 seconds
            const result2 = await service.getBasicHealth();
            expect(result2.uptime).toBe(result1.uptime + 30);
        });
        it('should validate timestamp formats across all methods', async () => {
            const basicHealth = await service.getBasicHealth();
            const detailedHealth = await service.getDetailedHealth();
            const adminDashboard = await service.getAdminHealthDashboard();
            [basicHealth.timestamp, detailedHealth.timestamp].forEach(timestamp => {
                expect(timestamp).toMatch(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d{3}Z$/);
                expect(new Date(timestamp)).toBeInstanceOf(Date);
                expect(new Date(timestamp).getTime()).not.toBeNaN();
            });
            // Admin dashboard alerts should also have valid timestamps
            adminDashboard.alerts.forEach(alert => {
                expect(alert.timestamp).toMatch(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d{3}Z$/);
            });
        });
        it('should ensure mathematical consistency in metrics', async () => {
            const systemMetrics = await service.getSystemMetrics();
            // Memory calculations
            expect(systemMetrics.memory.used + systemMetrics.memory.free).toBe(systemMetrics.memory.total);
            expect(systemMetrics.memory.percentage).toBe(((systemMetrics.memory.total - systemMetrics.memory.free) / systemMetrics.memory.total) * 100);
            // Disk calculations
            expect(systemMetrics.disk.used + systemMetrics.disk.free).toBe(systemMetrics.disk.total);
            expect(systemMetrics.disk.percentage).toBe((systemMetrics.disk.used / systemMetrics.disk.total) * 100);
            // Network metrics should be non-negative
            expect(systemMetrics.network.bytesReceived).toBeGreaterThanOrEqual(0);
            expect(systemMetrics.network.bytesSent).toBeGreaterThanOrEqual(0);
            expect(systemMetrics.network.packetsReceived).toBeGreaterThanOrEqual(0);
            expect(systemMetrics.network.packetsSent).toBeGreaterThanOrEqual(0);
        });
        it('should maintain referential integrity between health checks', async () => {
            const detailedHealth = await service.getDetailedHealth();
            const adminDashboard = await service.getAdminHealthDashboard();
            // Overview status should match
            expect(adminDashboard.overview.status).toBe(detailedHealth.status);
            // Uptime should match
            expect(adminDashboard.overview.uptime).toBe(detailedHealth.uptime);
            // Database status should match
            expect(adminDashboard.resources.database.status).toBe(detailedHealth.database.status);
            // System metrics should match
            expect(adminDashboard.resources.memory).toEqual(detailedHealth.system.memory);
            expect(adminDashboard.resources.cpu).toEqual(detailedHealth.system.cpu);
        });
        it('should handle edge cases in percentage calculations', async () => {
            // Test with zero values
            jest.spyOn(os, 'totalmem').mockReturnValue(0);
            jest.spyOn(os, 'freemem').mockReturnValue(0);
            const result = await service.getSystemMetrics();
            expect(result.memory.percentage).toBeNaN(); // Division by zero
            // Test with very large values
            jest.spyOn(os, 'totalmem').mockReturnValue(Number.MAX_SAFE_INTEGER);
            jest.spyOn(os, 'freemem').mockReturnValue(Number.MAX_SAFE_INTEGER - 1);
            const result2 = await service.getSystemMetrics();
            expect(result2.memory.percentage).toBeCloseTo(0, 10);
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvd2V0b29hL0RvY3VtZW50cy9jb2RlL3Byb2plY3RzL21lbnRhcmEvbWVudGFyYS1hcGkvc3JjL2hlYWx0aC9oZWFsdGguc2VydmljZS5zcGVjLnRzIiwibWFwcGluZ3MiOiI7O0FBQUEsNkNBQXNEO0FBQ3RELDJDQUF3QztBQUN4QyxxREFBaUQ7QUFDakQsZ0ZBQW9FO0FBQ3BFLHlCQUF5QjtBQUN6QixtQ0FBbUM7QUFFbkMsUUFBUSxDQUFDLGVBQWUsRUFBRSxHQUFHLEVBQUU7SUFDN0IsSUFBSSxPQUFzQixDQUFDO0lBQzNCLElBQUksYUFBeUMsQ0FBQztJQUM5Qyx1QkFBdUI7SUFDdkIsTUFBTSxRQUFRLEdBQUcsSUFBSSxJQUFJLENBQUMsc0JBQXNCLENBQUMsQ0FBQztJQUVsRCxNQUFNLGNBQWMsR0FBRztRQUNyQixtQkFBbUIsRUFBRSxPQUFPO1FBQzVCLFFBQVEsRUFBRSxNQUFNO0tBQ2pCLENBQUM7SUFFRixNQUFNLGVBQWUsR0FBRztRQUN0QixHQUFHLEVBQUUsUUFBUSxFQUFFLE9BQU87UUFDdEIsU0FBUyxFQUFFLFFBQVEsRUFBRSxPQUFPO1FBQzVCLFFBQVEsRUFBRSxRQUFRLEVBQUUsT0FBTztRQUMzQixRQUFRLEVBQUUsT0FBTyxFQUFFLE1BQU07UUFDekIsWUFBWSxFQUFFLE9BQU8sRUFBRSxNQUFNO0tBQzlCLENBQUM7SUFFRixNQUFNLFlBQVksR0FBRztRQUNuQixJQUFJLEVBQUUsT0FBTyxFQUFFLDJCQUEyQjtRQUMxQyxNQUFNLEVBQUUsTUFBTSxFQUFFLDhCQUE4QjtLQUMvQyxDQUFDO0lBRUYsTUFBTSxZQUFZLEdBQUc7UUFDbkIsS0FBSyxFQUFFLFdBQVcsRUFBRSxPQUFPO1FBQzNCLElBQUksRUFBRSxVQUFVLEVBQUUsTUFBTTtLQUN6QixDQUFDO0lBRUYsTUFBTSxlQUFlLEdBQUcsQ0FBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQ3pDLE1BQU0sUUFBUSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRSxNQUFN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LENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvaG9tZS93ZXRvb2EvRG9jdW1lbnRzL2NvZGUvcHJvamVjdHMvbWVudGFyYS9tZW50YXJhLWFwaS9zcmMvaGVhbHRoL2hlYWx0aC5zZXJ2aWNlLnNwZWMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVGVzdCwgVGVzdGluZ01vZHVsZSB9IGZyb20gJ0BuZXN0anMvdGVzdGluZyc7XG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tICdAbmVzdGpzL2NvbW1vbic7XG5pbXBvcnQgeyBIZWFsdGhTZXJ2aWNlIH0gZnJvbSAnLi9oZWFsdGguc2VydmljZSc7XG5pbXBvcnQgeyBQcmlzbWFTZXJ2aWNlIH0gZnJvbSAnLi4vcHJvdmlkZXJzL3ByaXNtYS1jbGllbnQucHJvdmlkZXInO1xuaW1wb3J0ICogYXMgb3MgZnJvbSAnb3MnO1xuaW1wb3J0ICogYXMgcHJvY2VzcyBmcm9tICdwcm9jZXNzJztcblxuZGVzY3JpYmUoJ0hlYWx0aFNlcnZpY2UnLCAoKSA9PiB7XG4gIGxldCBzZXJ2aWNlOiBIZWFsdGhTZXJ2aWNlO1xuICBsZXQgcHJpc21hU2VydmljZTogamVzdC5Nb2NrZWQ8UHJpc21hU2VydmljZT47XG4gIC8vIE1vY2sgZGF0YSBzdHJ1Y3R1cmVzXG4gIGNvbnN0IG1vY2tEYXRlID0gbmV3IERhdGUoJzIwMjQtMDEtMTVUMTA6MDA6MDBaJyk7XG5cbiAgY29uc3QgbW9ja1Byb2Nlc3NFbnYgPSB7XG4gICAgbnBtX3BhY2thZ2VfdmVyc2lvbjogJzIuMS41JyxcbiAgICBOT0RFX0VOVjogJ3Rlc3QnLFxuICB9O1xuXG4gIGNvbnN0IG1vY2tNZW1vcnlVc2FnZSA9IHtcbiAgICByc3M6IDY3MTA4ODY0LCAvLyA2NE1CXG4gICAgaGVhcFRvdGFsOiA1MDMzMTY0OCwgLy8gNDhNQlxuICAgIGhlYXBVc2VkOiAzMzU1NDQzMiwgLy8gMzJNQlxuICAgIGV4dGVybmFsOiA4Mzg4NjA4LCAvLyA4TUJcbiAgICBhcnJheUJ1ZmZlcnM6IDEwNDg1NzYsIC8vIDFNQlxuICB9O1xuXG4gIGNvbnN0IG1vY2tDcHVVc2FnZSA9IHtcbiAgICB1c2VyOiAxMDAwMDAwLCAvLyAxIHNlY29uZCBpbiBtaWNyb3NlY29uZHNcbiAgICBzeXN0ZW06IDUwMDAwMCwgLy8gMC41IHNlY29uZHMgaW4gbWljcm9zZWNvbmRzXG4gIH07XG5cbiAgY29uc3QgbW9ja09zTWVtb3J5ID0ge1xuICAgIHRvdGFsOiAxNzE3OTg2OTE4NCwgLy8gMTZHQlxuICAgIGZyZWU6IDg1ODk5MzQ1OTIsIC8vIDhHQlxuICB9O1xuXG4gIGNvbnN0IG1vY2tMb2FkQXZlcmFnZSA9IFswLjg1LCAxLjIsIDEuNV07XG4gIGNvbnN0IG1vY2tDcHVzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogOCB9LCAoXywgaSkgPT4gKHtcbiAgICBtb2RlbDogYEludGVsKFIpIENvcmUoVE0pIGk3LTk3NTBIIENQVSBAIDIuNjBHSHpgLFxuICAgIHNwZWVkOiAyNjAwLFxuICAgIHRpbWVzOiB7XG4gICAgICB1c2VyOiAxMjM0NTYgKyBpICogMTAwMCxcbiAgICAgIG5pY2U6IDAsXG4gICAgICBzeXM6IDQ1Njc4ICsgaSAqIDUwMCxcbiAgICAgIGlkbGU6IDk4NzY1NDMgKyBpICogMTAwMDAsXG4gICAgICBpcnE6IDAsXG4gICAgfSxcbiAgfSkpO1xuXG4gIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IG1vY2tQcmlzbWFTZXJ2aWNlID0ge1xuICAgICAgJHF1ZXJ5UmF3OiBqZXN0LmZuKCksXG4gICAgfTtcblxuICAgIGNvbnN0IG1vZHVsZTogVGVzdGluZ01vZHVsZSA9IGF3YWl0IFRlc3QuY3JlYXRlVGVzdGluZ01vZHVsZSh7XG4gICAgICBwcm92aWRlcnM6IFtcbiAgICAgICAgSGVhbHRoU2VydmljZSxcbiAgICAgICAge1xuICAgICAgICAgIHByb3ZpZGU6IFByaXNtYVNlcnZpY2UsXG4gICAgICAgICAgdXNlVmFsdWU6IG1vY2tQcmlzbWFTZXJ2aWNlLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICB9KS5jb21waWxlKCk7XG5cbiAgICBzZXJ2aWNlID0gbW9kdWxlLmdldDxIZWFsdGhTZXJ2aWNlPihIZWFsdGhTZXJ2aWNlKTtcbiAgICBwcmlzbWFTZXJ2aWNlID0gbW9kdWxlLmdldChQcmlzbWFTZXJ2aWNlKTtcblxuICAgIC8vIE1vY2sgRGF0ZSBjb25zdHJ1Y3RvciBmb3IgY29uc2lzdGVudCB0ZXN0aW5nXG4gICAgamVzdC51c2VGYWtlVGltZXJzKCk7XG4gICAgamVzdC5zZXRTeXN0ZW1UaW1lKG1vY2tEYXRlKTtcblxuICAgIC8vIE1vY2sgcHJvY2VzcyBhbmQgb3MgbW9kdWxlc1xuICAgIGplc3Quc3B5T24ocHJvY2VzcywgJ21lbW9yeVVzYWdlJykubW9ja1JldHVyblZhbHVlKG1vY2tNZW1vcnlVc2FnZSk7XG4gICAgamVzdC5zcHlPbihwcm9jZXNzLCAnY3B1VXNhZ2UnKS5tb2NrUmV0dXJuVmFsdWUobW9ja0NwdVVzYWdlKTtcbiAgICBqZXN0LnNweU9uKHByb2Nlc3MsICd1cHRpbWUnKS5tb2NrUmV0dXJuVmFsdWUoODY0MDApOyAvLyAyNCBob3Vyc1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9jZXNzLCAndmVyc2lvbicsIHsgdmFsdWU6ICd2MTguMTcuMCcgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb2Nlc3MsICdwaWQnLCB7IHZhbHVlOiAxMjM0NSB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvY2VzcywgJ2VudicsIHsgdmFsdWU6IG1vY2tQcm9jZXNzRW52IH0pO1xuXG4gICAgamVzdC5zcHlPbihvcywgJ3RvdGFsbWVtJykubW9ja1JldHVyblZhbHVlKG1vY2tPc01lbW9yeS50b3RhbCk7XG4gICAgamVzdC5zcHlPbihvcywgJ2ZyZWVtZW0nKS5tb2NrUmV0dXJuVmFsdWUobW9ja09zTWVtb3J5LmZyZWUpO1xuICAgIGplc3Quc3B5T24ob3MsICdsb2FkYXZnJykubW9ja1JldHVyblZhbHVlKG1vY2tMb2FkQXZlcmFnZSk7XG4gICAgamVzdC5zcHlPbihvcywgJ2NwdXMnKS5tb2NrUmV0dXJuVmFsdWUobW9ja0NwdXMpO1xuICB9KTtcblxuICBhZnRlckVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICAgIGplc3QudXNlUmVhbFRpbWVycygpO1xuICAgIGplc3QucmVzdG9yZUFsbE1vY2tzKCk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgYmUgZGVmaW5lZCcsICgpID0+IHtcbiAgICBleHBlY3Qoc2VydmljZSkudG9CZURlZmluZWQoKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2dldEJhc2ljSGVhbHRoJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIGJhc2ljIGhlYWx0aCBpbmZvcm1hdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlcnZpY2UuZ2V0QmFzaWNIZWFsdGgoKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9FcXVhbCh7XG4gICAgICAgIHN0YXR1czogJ29rJyxcbiAgICAgICAgdGltZXN0YW1wOiBtb2NrRGF0ZS50b0lTT1N0cmluZygpLFxuICAgICAgICB1cHRpbWU6IDAsIC8vIFNlcnZpY2UganVzdCBzdGFydGVkXG4gICAgICAgIHZlcnNpb246ICcyLjEuNScsXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgY2FsY3VsYXRlIHVwdGltZSBjb3JyZWN0bHknLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBBZHZhbmNlIHRpbWUgYnkgNSBtaW51dGVzXG4gICAgICBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUoNSAqIDYwICogMTAwMCk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlcnZpY2UuZ2V0QmFzaWNIZWFsdGgoKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC51cHRpbWUpLnRvQmUoMzAwKTsgLy8gNSBtaW51dGVzIGluIHNlY29uZHNcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdXNlIGRlZmF1bHQgdmVyc2lvbiB3aGVuIG5vdCBhdmFpbGFibGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvY2VzcywgJ2VudicsIHsgXG4gICAgICAgIHZhbHVlOiB7IC4uLm1vY2tQcm9jZXNzRW52LCBucG1fcGFja2FnZV92ZXJzaW9uOiB1bmRlZmluZWQgfVxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlcnZpY2UuZ2V0QmFzaWNIZWFsdGgoKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC52ZXJzaW9uKS50b0JlKCcxLjAuMCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gY29uc2lzdGVudCBzdGF0dXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQxID0gYXdhaXQgc2VydmljZS5nZXRCYXNpY0hlYWx0aCgpO1xuICAgICAgY29uc3QgcmVzdWx0MiA9IGF3YWl0IHNlcnZpY2UuZ2V0QmFzaWNIZWFsdGgoKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdDEuc3RhdHVzKS50b0JlKCdvaycpO1xuICAgICAgZXhwZWN0KHJlc3VsdDIuc3RhdHVzKS50b0JlKCdvaycpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBpbmNsdWRlIHZhbGlkIHRpbWVzdGFtcCBmb3JtYXQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZXJ2aWNlLmdldEJhc2ljSGVhbHRoKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQudGltZXN0YW1wKS50b01hdGNoKC9cXGR7NH0tXFxkezJ9LVxcZHsyfVRcXGR7Mn06XFxkezJ9OlxcZHsyfVxcLlxcZHszfVovKTtcbiAgICAgIGV4cGVjdChuZXcgRGF0ZShyZXN1bHQudGltZXN0YW1wKSkudG9CZUluc3RhbmNlT2YoRGF0ZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBtdWx0aXBsZSBjb25jdXJyZW50IGNhbGxzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcHJvbWlzZXMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiAxMCB9LCAoKSA9PiBzZXJ2aWNlLmdldEJhc2ljSGVhbHRoKCkpO1xuICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKTtcblxuICAgICAgcmVzdWx0cy5mb3JFYWNoKHJlc3VsdCA9PiB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQuc3RhdHVzKS50b0JlKCdvaycpO1xuICAgICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVQcm9wZXJ0eSgndGltZXN0YW1wJyk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCd1cHRpbWUnKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlUHJvcGVydHkoJ3ZlcnNpb24nKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBbGwgcmVzdWx0cyBzaG91bGQgaGF2ZSBzYW1lIHRpbWVzdGFtcCAod2l0aGluIHNhbWUgbWlsbGlzZWNvbmQpXG4gICAgICBjb25zdCB0aW1lc3RhbXBzID0gcmVzdWx0cy5tYXAociA9PiByLnRpbWVzdGFtcCk7XG4gICAgICBleHBlY3QobmV3IFNldCh0aW1lc3RhbXBzKS5zaXplKS50b0JlTGVzc1RoYW5PckVxdWFsKDIpOyAvLyBBbGxvdyBmb3Igc21hbGwgdGltaW5nIGRpZmZlcmVuY2VzXG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdnZXREYXRhYmFzZUhlYWx0aCcsICgpID0+IHtcbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgIHByaXNtYVNlcnZpY2UuJHF1ZXJ5UmF3Lm1vY2tSZXNvbHZlZFZhbHVlKFt7IHJlc3VsdDogMSB9XSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBjb25uZWN0ZWQgc3RhdHVzIHdoZW4gZGF0YWJhc2UgaXMgaGVhbHRoeScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlcnZpY2UuZ2V0RGF0YWJhc2VIZWFsdGgoKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdGF0dXMpLnRvQmUoJ2Nvbm5lY3RlZCcpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlUHJvcGVydHkoJ3Jlc3BvbnNlVGltZScpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlUHJvcGVydHkoJ2Nvbm5lY3Rpb25zJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVQcm9wZXJ0eSgncXVlcnlTdGF0cycpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlUHJvcGVydHkoJ2xhc3RCYWNrdXAnKTtcbiAgICAgIGV4cGVjdCh0eXBlb2YgcmVzdWx0LnJlc3BvbnNlVGltZSkudG9CZSgnbnVtYmVyJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIG1lYXN1cmUgcmVzcG9uc2UgdGltZSBhY2N1cmF0ZWx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gTW9jayBhIHNsb3cgZGF0YWJhc2UgcmVzcG9uc2VcbiAgICAgIHByaXNtYVNlcnZpY2UuJHF1ZXJ5UmF3Lm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiBcbiAgICAgICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KCgpID0+IHJlc29sdmUoW3sgcmVzdWx0OiAxIH1dKSwgMTAwKSlcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZXJ2aWNlLmdldERhdGFiYXNlSGVhbHRoKCk7XG4gICAgICBjb25zdCBhY3R1YWxEdXJhdGlvbiA9IERhdGUubm93KCkgLSBzdGFydFRpbWU7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQucmVzcG9uc2VUaW1lKS50b0JlR3JlYXRlclRoYW4oOTApO1xuICAgICAgZXhwZWN0KHJlc3VsdC5yZXNwb25zZVRpbWUpLnRvQmVMZXNzVGhhbihhY3R1YWxEdXJhdGlvbiArIDUwKTsgLy8gQWxsb3cgc29tZSBvdmVyaGVhZFxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gcHJvcGVyIGNvbm5lY3Rpb25zIHN0cnVjdHVyZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlcnZpY2UuZ2V0RGF0YWJhc2VIZWFsdGgoKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5jb25uZWN0aW9ucykudG9FcXVhbCh7XG4gICAgICAgIGFjdGl2ZTogNSxcbiAgICAgICAgaWRsZTogMyxcbiAgICAgICAgdG90YWw6IDEwLFxuICAgICAgfSk7XG4gICAgICBleHBlY3QocmVzdWx0LmNvbm5lY3Rpb25zLmFjdGl2ZSArIHJlc3VsdC5jb25uZWN0aW9ucy5pZGxlKS50b0JlTGVzc1RoYW5PckVxdWFsKHJlc3VsdC5jb25uZWN0aW9ucy50b3RhbCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBwcm9wZXIgcXVlcnkgc3RhdGlzdGljcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlcnZpY2UuZ2V0RGF0YWJhc2VIZWFsdGgoKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5xdWVyeVN0YXRzKS50b0VxdWFsKHtcbiAgICAgICAgdG90YWxRdWVyaWVzOiAxNTQzLFxuICAgICAgICBhdmVyYWdlUXVlcnlUaW1lOiA0NSxcbiAgICAgICAgc2xvd1F1ZXJpZXM6IDIsXG4gICAgICB9KTtcbiAgICAgIGV4cGVjdChyZXN1bHQucXVlcnlTdGF0cy50b3RhbFF1ZXJpZXMpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIGV4cGVjdChyZXN1bHQucXVlcnlTdGF0cy5hdmVyYWdlUXVlcnlUaW1lKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICBleHBlY3QocmVzdWx0LnF1ZXJ5U3RhdHMuc2xvd1F1ZXJpZXMpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGluY2x1ZGUgdmFsaWQgYmFja3VwIHRpbWVzdGFtcCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlcnZpY2UuZ2V0RGF0YWJhc2VIZWFsdGgoKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5sYXN0QmFja3VwKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHR5cGVvZiByZXN1bHQubGFzdEJhY2t1cCkudG9CZSgnc3RyaW5nJyk7XG4gICAgICBjb25zdCBiYWNrdXBEYXRlID0gbmV3IERhdGUocmVzdWx0Lmxhc3RCYWNrdXApO1xuICAgICAgZXhwZWN0KGJhY2t1cERhdGUpLnRvQmVJbnN0YW5jZU9mKERhdGUpO1xuICAgICAgZXhwZWN0KGJhY2t1cERhdGUuZ2V0VGltZSgpKS50b0JlTGVzc1RoYW4oRGF0ZS5ub3coKSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBkYXRhYmFzZSBjb25uZWN0aW9uIGZhaWx1cmVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZGJFcnJvciA9IG5ldyBFcnJvcignQ29ubmVjdGlvbiB0aW1lb3V0Jyk7XG4gICAgICBwcmlzbWFTZXJ2aWNlLiRxdWVyeVJhdy5tb2NrUmVqZWN0ZWRWYWx1ZShkYkVycm9yKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VydmljZS5nZXREYXRhYmFzZUhlYWx0aCgpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN0YXR1cykudG9CZSgnZGlzY29ubmVjdGVkJyk7XG4gICAgICBleHBlY3QocmVzdWx0LmVycm9yKS50b0JlKCdDb25uZWN0aW9uIHRpbWVvdXQnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCd0aW1lc3RhbXAnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLm5vdC50b0hhdmVQcm9wZXJ0eSgncmVzcG9uc2VUaW1lJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS5ub3QudG9IYXZlUHJvcGVydHkoJ2Nvbm5lY3Rpb25zJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSB1bmtub3duIGRhdGFiYXNlIGVycm9ycycsIGFzeW5jICgpID0+IHtcbiAgICAgIHByaXNtYVNlcnZpY2UuJHF1ZXJ5UmF3Lm1vY2tSZWplY3RlZFZhbHVlKCdTdHJpbmcgZXJyb3InKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VydmljZS5nZXREYXRhYmFzZUhlYWx0aCgpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN0YXR1cykudG9CZSgnZGlzY29ubmVjdGVkJyk7XG4gICAgICBleHBlY3QocmVzdWx0LmVycm9yKS50b0JlKCdVbmtub3duIGVycm9yJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGxvZyBkYXRhYmFzZSBlcnJvcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBsb2dnZXJTcHkgPSBqZXN0LnNweU9uKExvZ2dlci5wcm90b3R5cGUsICdlcnJvcicpLm1vY2tJbXBsZW1lbnRhdGlvbigpO1xuICAgICAgY29uc3QgZGJFcnJvciA9IG5ldyBFcnJvcignRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWQnKTtcbiAgICAgIHByaXNtYVNlcnZpY2UuJHF1ZXJ5UmF3Lm1vY2tSZWplY3RlZFZhbHVlKGRiRXJyb3IpO1xuXG4gICAgICBhd2FpdCBzZXJ2aWNlLmdldERhdGFiYXNlSGVhbHRoKCk7XG5cbiAgICAgIGV4cGVjdChsb2dnZXJTcHkpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdEYXRhYmFzZSBoZWFsdGggY2hlY2sgZmFpbGVkJywgZGJFcnJvcik7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBjb25jdXJyZW50IGRhdGFiYXNlIGhlYWx0aCBjaGVja3MnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBwcm9taXNlcyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDUgfSwgKCkgPT4gc2VydmljZS5nZXREYXRhYmFzZUhlYWx0aCgpKTtcbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG5cbiAgICAgIHJlc3VsdHMuZm9yRWFjaChyZXN1bHQgPT4ge1xuICAgICAgICBleHBlY3QocmVzdWx0LnN0YXR1cykudG9CZSgnY29ubmVjdGVkJyk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCdyZXNwb25zZVRpbWUnKTtcbiAgICAgIH0pO1xuICAgICAgZXhwZWN0KHByaXNtYVNlcnZpY2UuJHF1ZXJ5UmF3KS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoNSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBwYXJ0aWFsIGRhdGFiYXNlIGVycm9ycyBncmFjZWZ1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gU2ltdWxhdGUgaW50ZXJtaXR0ZW50IGNvbm5lY3Rpdml0eVxuICAgICAgcHJpc21hU2VydmljZS4kcXVlcnlSYXdcbiAgICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZShbeyByZXN1bHQ6IDEgfV0pXG4gICAgICAgIC5tb2NrUmVqZWN0ZWRWYWx1ZU9uY2UobmV3IEVycm9yKCdUaW1lb3V0JykpXG4gICAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2UoW3sgcmVzdWx0OiAxIH1dKTtcblxuICAgICAgY29uc3QgcmVzdWx0MSA9IGF3YWl0IHNlcnZpY2UuZ2V0RGF0YWJhc2VIZWFsdGgoKTtcbiAgICAgIGV4cGVjdChyZXN1bHQxLnN0YXR1cykudG9CZSgnY29ubmVjdGVkJyk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdDIgPSBhd2FpdCBzZXJ2aWNlLmdldERhdGFiYXNlSGVhbHRoKCk7XG4gICAgICBleHBlY3QocmVzdWx0Mi5zdGF0dXMpLnRvQmUoJ2Rpc2Nvbm5lY3RlZCcpO1xuXG4gICAgICBjb25zdCByZXN1bHQzID0gYXdhaXQgc2VydmljZS5nZXREYXRhYmFzZUhlYWx0aCgpO1xuICAgICAgZXhwZWN0KHJlc3VsdDMuc3RhdHVzKS50b0JlKCdjb25uZWN0ZWQnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2dldFNlcnZpY2VzSGVhbHRoJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIGhlYWx0aCBzdGF0dXMgZm9yIGFsbCBleHRlcm5hbCBzZXJ2aWNlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlcnZpY2UuZ2V0U2VydmljZXNIZWFsdGgoKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlUHJvcGVydHkoJ3N1cGFiYXNlJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVQcm9wZXJ0eSgnc3RyaXBlJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVQcm9wZXJ0eSgnZW1haWxTZXJ2aWNlJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVQcm9wZXJ0eSgnYWlTZXJ2aWNlJyk7XG5cbiAgICAgIE9iamVjdC52YWx1ZXMocmVzdWx0KS5mb3JFYWNoKHNlcnZpY2VIZWFsdGggPT4ge1xuICAgICAgICBleHBlY3Qoc2VydmljZUhlYWx0aCkudG9IYXZlUHJvcGVydHkoJ3N0YXR1cycpO1xuICAgICAgICBleHBlY3Qoc2VydmljZUhlYWx0aCkudG9IYXZlUHJvcGVydHkoJ3Jlc3BvbnNlVGltZScpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBwcm9wZXIgc2VydmljZSBoZWFsdGggc3RydWN0dXJlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VydmljZS5nZXRTZXJ2aWNlc0hlYWx0aCgpO1xuXG4gICAgICAvLyBTdXBhYmFzZSBoZWFsdGhcbiAgICAgIGV4cGVjdChyZXN1bHQuc3VwYWJhc2Uuc3RhdHVzKS50b0JlKCdvaycpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5zdXBhYmFzZSkudG9IYXZlUHJvcGVydHkoJ3JlZ2lvbicpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5zdXBhYmFzZS5yZWdpb24pLnRvQmUoJ3VzLWVhc3QtMScpO1xuXG4gICAgICAvLyBTdHJpcGUgaGVhbHRoXG4gICAgICBleHBlY3QocmVzdWx0LnN0cmlwZS5zdGF0dXMpLnRvQmUoJ29rJyk7XG4gICAgICBleHBlY3QocmVzdWx0LnN0cmlwZSkudG9IYXZlUHJvcGVydHkoJ3dlYmhvb2tzUHJvY2Vzc2VkJyk7XG4gICAgICBleHBlY3QodHlwZW9mIHJlc3VsdC5zdHJpcGUud2ViaG9va3NQcm9jZXNzZWQpLnRvQmUoJ251bWJlcicpO1xuXG4gICAgICAvLyBFbWFpbCBzZXJ2aWNlIGhlYWx0aFxuICAgICAgZXhwZWN0KHJlc3VsdC5lbWFpbFNlcnZpY2Uuc3RhdHVzKS50b0JlKCdvaycpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5lbWFpbFNlcnZpY2UpLnRvSGF2ZVByb3BlcnR5KCdlbWFpbHNTZW50Jyk7XG4gICAgICBleHBlY3QocmVzdWx0LmVtYWlsU2VydmljZSkudG9IYXZlUHJvcGVydHkoJ2ZhaWx1cmVSYXRlJyk7XG4gICAgICBleHBlY3QodHlwZW9mIHJlc3VsdC5lbWFpbFNlcnZpY2UuZmFpbHVyZVJhdGUpLnRvQmUoJ251bWJlcicpO1xuXG4gICAgICAvLyBBSSBzZXJ2aWNlIGhlYWx0aFxuICAgICAgZXhwZWN0KHJlc3VsdC5haVNlcnZpY2Uuc3RhdHVzKS50b0JlKCdvaycpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5haVNlcnZpY2UpLnRvSGF2ZVByb3BlcnR5KCdhc3Nlc3NtZW50c1Byb2Nlc3NlZCcpO1xuICAgICAgZXhwZWN0KHR5cGVvZiByZXN1bHQuYWlTZXJ2aWNlLmFzc2Vzc21lbnRzUHJvY2Vzc2VkKS50b0JlKCdudW1iZXInKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgbWVhc3VyZSByZXNwb25zZSB0aW1lcyBmb3IgYWxsIHNlcnZpY2VzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VydmljZS5nZXRTZXJ2aWNlc0hlYWx0aCgpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1cGFiYXNlLnJlc3BvbnNlVGltZSkudG9CZUdyZWF0ZXJUaGFuKDQwKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuc3VwYWJhc2UucmVzcG9uc2VUaW1lKS50b0JlTGVzc1RoYW4oNzApO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN0cmlwZS5yZXNwb25zZVRpbWUpLnRvQmVHcmVhdGVyVGhhbigyMCk7XG4gICAgICBleHBlY3QocmVzdWx0LnN0cmlwZS5yZXNwb25zZVRpbWUpLnRvQmVMZXNzVGhhbig1MCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuZW1haWxTZXJ2aWNlLnJlc3BvbnNlVGltZSkudG9CZUdyZWF0ZXJUaGFuKDE1KTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZW1haWxTZXJ2aWNlLnJlc3BvbnNlVGltZSkudG9CZUxlc3NUaGFuKDQ1KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5haVNlcnZpY2UucmVzcG9uc2VUaW1lKS50b0JlR3JlYXRlclRoYW4oNjUpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5haVNlcnZpY2UucmVzcG9uc2VUaW1lKS50b0JlTGVzc1RoYW4oOTUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgY29uY3VycmVudCBzZXJ2aWNlIGhlYWx0aCBjaGVja3MnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBwcm9taXNlcyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDMgfSwgKCkgPT4gc2VydmljZS5nZXRTZXJ2aWNlc0hlYWx0aCgpKTtcbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG5cbiAgICAgIHJlc3VsdHMuZm9yRWFjaChyZXN1bHQgPT4ge1xuICAgICAgICBleHBlY3QoT2JqZWN0LmtleXMocmVzdWx0KSkudG9IYXZlTGVuZ3RoKDQpO1xuICAgICAgICBPYmplY3QudmFsdWVzKHJlc3VsdCkuZm9yRWFjaChzZXJ2aWNlSGVhbHRoID0+IHtcbiAgICAgICAgICBleHBlY3Qoc2VydmljZUhlYWx0aC5zdGF0dXMpLnRvQmUoJ29rJyk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHZhbGlkYXRlIHNlcnZpY2UgbWV0cmljcyByYW5nZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZXJ2aWNlLmdldFNlcnZpY2VzSGVhbHRoKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3RyaXBlLndlYmhvb2tzUHJvY2Vzc2VkKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICBleHBlY3QocmVzdWx0LmVtYWlsU2VydmljZS5lbWFpbHNTZW50KS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICBleHBlY3QocmVzdWx0LmVtYWlsU2VydmljZS5mYWlsdXJlUmF0ZSkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZW1haWxTZXJ2aWNlLmZhaWx1cmVSYXRlKS50b0JlTGVzc1RoYW5PckVxdWFsKDEpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5haVNlcnZpY2UuYXNzZXNzbWVudHNQcm9jZXNzZWQpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2NoZWNrU3VwYWJhc2VIZWFsdGgnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gcHJvcGVyIFN1cGFiYXNlIGhlYWx0aCBzdGF0dXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCAoc2VydmljZSBhcyBhbnkpLmNoZWNrU3VwYWJhc2VIZWFsdGgoKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdGF0dXMpLnRvQmUoJ29rJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVQcm9wZXJ0eSgncmVzcG9uc2VUaW1lJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVQcm9wZXJ0eSgncmVnaW9uJyk7XG4gICAgICBleHBlY3QocmVzdWx0LnJlZ2lvbikudG9CZSgndXMtZWFzdC0xJyk7XG4gICAgICBleHBlY3QodHlwZW9mIHJlc3VsdC5yZXNwb25zZVRpbWUpLnRvQmUoJ251bWJlcicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgU3VwYWJhc2Ugc2VydmljZSBlcnJvcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBNb2NrIGEgZmFpbHVyZSBieSByZWplY3RpbmcgdGhlIHByb21pc2UgaW4gdGhlIHRpbWVvdXRcbiAgICAgIGplc3Quc3B5T24oZ2xvYmFsLCAnc2V0VGltZW91dCcpLm1vY2tJbXBsZW1lbnRhdGlvbigoY2FsbGJhY2ssIGRlbGF5KSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N1cGFiYXNlIEFQSSB1bmF2YWlsYWJsZScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7fSBhcyBhbnk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgKHNlcnZpY2UgYXMgYW55KS5jaGVja1N1cGFiYXNlSGVhbHRoKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3RhdHVzKS50b0JlKCdlcnJvcicpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvcikudG9CZSgnU3VwYWJhc2UgQVBJIHVuYXZhaWxhYmxlJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS5ub3QudG9IYXZlUHJvcGVydHkoJ3Jlc3BvbnNlVGltZScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgdW5rbm93biBTdXBhYmFzZSBlcnJvcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBqZXN0LnNweU9uKGdsb2JhbCwgJ3NldFRpbWVvdXQnKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4ge1xuICAgICAgICB0aHJvdyAnU3RyaW5nIGVycm9yJztcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCAoc2VydmljZSBhcyBhbnkpLmNoZWNrU3VwYWJhc2VIZWFsdGgoKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdGF0dXMpLnRvQmUoJ2Vycm9yJyk7XG4gICAgICBleHBlY3QocmVzdWx0LmVycm9yKS50b0JlKCdVbmtub3duIGVycm9yJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdjaGVja1N0cmlwZUhlYWx0aCcsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJldHVybiBwcm9wZXIgU3RyaXBlIGhlYWx0aCBzdGF0dXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCAoc2VydmljZSBhcyBhbnkpLmNoZWNrU3RyaXBlSGVhbHRoKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3RhdHVzKS50b0JlKCdvaycpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlUHJvcGVydHkoJ3Jlc3BvbnNlVGltZScpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlUHJvcGVydHkoJ3dlYmhvb2tzUHJvY2Vzc2VkJyk7XG4gICAgICBleHBlY3QocmVzdWx0LndlYmhvb2tzUHJvY2Vzc2VkKS50b0JlKDEyNDcpO1xuICAgICAgZXhwZWN0KHR5cGVvZiByZXN1bHQucmVzcG9uc2VUaW1lKS50b0JlKCdudW1iZXInKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIFN0cmlwZSBzZXJ2aWNlIGVycm9ycycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG9yaWdpbmFsU2V0VGltZW91dCA9IGdsb2JhbC5zZXRUaW1lb3V0O1xuICAgICAgamVzdC5zcHlPbihnbG9iYWwsICdzZXRUaW1lb3V0JykubW9ja0ltcGxlbWVudGF0aW9uKChjYWxsYmFjaywgZGVsYXkpID0+IHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSAzMCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU3RyaXBlIEFQSSByYXRlIGxpbWl0IGV4Y2VlZGVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9yaWdpbmFsU2V0VGltZW91dChjYWxsYmFjaywgZGVsYXkpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IChzZXJ2aWNlIGFzIGFueSkuY2hlY2tTdHJpcGVIZWFsdGgoKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdGF0dXMpLnRvQmUoJ2Vycm9yJyk7XG4gICAgICBleHBlY3QocmVzdWx0LmVycm9yKS50b0JlKCdTdHJpcGUgQVBJIHJhdGUgbGltaXQgZXhjZWVkZWQnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2NoZWNrRW1haWxTZXJ2aWNlSGVhbHRoJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIHByb3BlciBlbWFpbCBzZXJ2aWNlIGhlYWx0aCBzdGF0dXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCAoc2VydmljZSBhcyBhbnkpLmNoZWNrRW1haWxTZXJ2aWNlSGVhbHRoKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3RhdHVzKS50b0JlKCdvaycpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlUHJvcGVydHkoJ3Jlc3BvbnNlVGltZScpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlUHJvcGVydHkoJ2VtYWlsc1NlbnQnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCdmYWlsdXJlUmF0ZScpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5lbWFpbHNTZW50KS50b0JlKDg5Mik7XG4gICAgICBleHBlY3QocmVzdWx0LmZhaWx1cmVSYXRlKS50b0JlKDAuMDIpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZW1haWwgc2VydmljZSBlcnJvcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBvcmlnaW5hbFNldFRpbWVvdXQgPSBnbG9iYWwuc2V0VGltZW91dDtcbiAgICAgIGplc3Quc3B5T24oZ2xvYmFsLCAnc2V0VGltZW91dCcpLm1vY2tJbXBsZW1lbnRhdGlvbigoY2FsbGJhY2ssIGRlbGF5KSA9PiB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gMjUpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NNVFAgc2VydmVyIHVucmVhY2hhYmxlJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9yaWdpbmFsU2V0VGltZW91dChjYWxsYmFjaywgZGVsYXkpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IChzZXJ2aWNlIGFzIGFueSkuY2hlY2tFbWFpbFNlcnZpY2VIZWFsdGgoKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdGF0dXMpLnRvQmUoJ2Vycm9yJyk7XG4gICAgICBleHBlY3QocmVzdWx0LmVycm9yKS50b0JlKCdTTVRQIHNlcnZlciB1bnJlYWNoYWJsZScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSBlbWFpbCBtZXRyaWNzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgKHNlcnZpY2UgYXMgYW55KS5jaGVja0VtYWlsU2VydmljZUhlYWx0aCgpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmVtYWlsc1NlbnQpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZmFpbHVyZVJhdGUpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XG4gICAgICBleHBlY3QocmVzdWx0LmZhaWx1cmVSYXRlKS50b0JlTGVzc1RoYW5PckVxdWFsKDEpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnY2hlY2tBaVNlcnZpY2VIZWFsdGgnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gcHJvcGVyIEFJIHNlcnZpY2UgaGVhbHRoIHN0YXR1cycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IChzZXJ2aWNlIGFzIGFueSkuY2hlY2tBaVNlcnZpY2VIZWFsdGgoKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdGF0dXMpLnRvQmUoJ29rJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVQcm9wZXJ0eSgncmVzcG9uc2VUaW1lJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVQcm9wZXJ0eSgnYXNzZXNzbWVudHNQcm9jZXNzZWQnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuYXNzZXNzbWVudHNQcm9jZXNzZWQpLnRvQmUoMjM0KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIEFJIHNlcnZpY2UgZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgb3JpZ2luYWxTZXRUaW1lb3V0ID0gZ2xvYmFsLnNldFRpbWVvdXQ7XG4gICAgICBqZXN0LnNweU9uKGdsb2JhbCwgJ3NldFRpbWVvdXQnKS5tb2NrSW1wbGVtZW50YXRpb24oKGNhbGxiYWNrLCBkZWxheSkgPT4ge1xuICAgICAgICBpZiAoZGVsYXkgPT09IDc1KSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBSSBtb2RlbCBsb2FkaW5nIGZhaWxlZCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvcmlnaW5hbFNldFRpbWVvdXQoY2FsbGJhY2ssIGRlbGF5KTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCAoc2VydmljZSBhcyBhbnkpLmNoZWNrQWlTZXJ2aWNlSGVhbHRoKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3RhdHVzKS50b0JlKCdlcnJvcicpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvcikudG9CZSgnQUkgbW9kZWwgbG9hZGluZyBmYWlsZWQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgQUkgc2VydmljZSBtZXRyaWNzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgKHNlcnZpY2UgYXMgYW55KS5jaGVja0FpU2VydmljZUhlYWx0aCgpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmFzc2Vzc21lbnRzUHJvY2Vzc2VkKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICBleHBlY3QocmVzdWx0LnJlc3BvbnNlVGltZSkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnZ2V0U3lzdGVtTWV0cmljcycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJldHVybiBjb21wcmVoZW5zaXZlIHN5c3RlbSBtZXRyaWNzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VydmljZS5nZXRTeXN0ZW1NZXRyaWNzKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCdtZW1vcnknKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCdjcHUnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCdkaXNrJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVQcm9wZXJ0eSgnbmV0d29yaycpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlUHJvcGVydHkoJ25vZGVqcycpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gcHJvcGVyIG1lbW9yeSBtZXRyaWNzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VydmljZS5nZXRTeXN0ZW1NZXRyaWNzKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQubWVtb3J5KS50b0VxdWFsKHtcbiAgICAgICAgdXNlZDogbW9ja01lbW9yeVVzYWdlLmhlYXBVc2VkLFxuICAgICAgICBmcmVlOiBtb2NrT3NNZW1vcnkuZnJlZSxcbiAgICAgICAgdG90YWw6IG1vY2tPc01lbW9yeS50b3RhbCxcbiAgICAgICAgcGVyY2VudGFnZTogKChtb2NrT3NNZW1vcnkudG90YWwgLSBtb2NrT3NNZW1vcnkuZnJlZSkgLyBtb2NrT3NNZW1vcnkudG90YWwpICogMTAwLFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQubWVtb3J5LnBlcmNlbnRhZ2UpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XG4gICAgICBleHBlY3QocmVzdWx0Lm1lbW9yeS5wZXJjZW50YWdlKS50b0JlTGVzc1RoYW5PckVxdWFsKDEwMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBwcm9wZXIgQ1BVIG1ldHJpY3MnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZXJ2aWNlLmdldFN5c3RlbU1ldHJpY3MoKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5jcHUpLnRvRXF1YWwoe1xuICAgICAgICB1c2FnZTogbW9ja0NwdVVzYWdlLFxuICAgICAgICBsb2FkQXZlcmFnZTogbW9ja0xvYWRBdmVyYWdlLFxuICAgICAgICBjb3JlczogbW9ja0NwdXMubGVuZ3RoLFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY3B1LmNvcmVzKS50b0JlKDgpO1xuICAgICAgZXhwZWN0KEFycmF5LmlzQXJyYXkocmVzdWx0LmNwdS5sb2FkQXZlcmFnZSkpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocmVzdWx0LmNwdS5sb2FkQXZlcmFnZSkudG9IYXZlTGVuZ3RoKDMpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gbW9jayBkaXNrIG1ldHJpY3MnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZXJ2aWNlLmdldFN5c3RlbU1ldHJpY3MoKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5kaXNrKS50b0VxdWFsKHtcbiAgICAgICAgdXNlZDogODUgKiAxMDI0ICogMTAyNCAqIDEwMjQsXG4gICAgICAgIGZyZWU6IDE1ICogMTAyNCAqIDEwMjQgKiAxMDI0LFxuICAgICAgICB0b3RhbDogMTAwICogMTAyNCAqIDEwMjQgKiAxMDI0LFxuICAgICAgICBwZXJjZW50YWdlOiA4NSxcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmRpc2sudXNlZCArIHJlc3VsdC5kaXNrLmZyZWUpLnRvQmUocmVzdWx0LmRpc2sudG90YWwpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5kaXNrLnBlcmNlbnRhZ2UpLnRvQmUoODUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gcHJvcGVyIG5ldHdvcmsgbWV0cmljcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlcnZpY2UuZ2V0U3lzdGVtTWV0cmljcygpO1xuXG4gICAgICBleHBlY3QocmVzdWx0Lm5ldHdvcmspLnRvRXF1YWwoe1xuICAgICAgICBieXRlc1JlY2VpdmVkOiAxMDI0ICogMTAyNCAqIDE1MCxcbiAgICAgICAgYnl0ZXNTZW50OiAxMDI0ICogMTAyNCAqIDIwMCxcbiAgICAgICAgcGFja2V0c1JlY2VpdmVkOiA1MDAwMCxcbiAgICAgICAgcGFja2V0c1NlbnQ6IDQ1MDAwLFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQubmV0d29yay5ieXRlc1JlY2VpdmVkKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICBleHBlY3QocmVzdWx0Lm5ldHdvcmsuYnl0ZXNTZW50KS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICBleHBlY3QocmVzdWx0Lm5ldHdvcmsucGFja2V0c1JlY2VpdmVkKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICBleHBlY3QocmVzdWx0Lm5ldHdvcmsucGFja2V0c1NlbnQpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIHByb3BlciBOb2RlLmpzIG1ldHJpY3MnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZXJ2aWNlLmdldFN5c3RlbU1ldHJpY3MoKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5ub2RlanMpLnRvRXF1YWwoe1xuICAgICAgICB2ZXJzaW9uOiAndjE4LjE3LjAnLFxuICAgICAgICB1cHRpbWU6IDg2NDAwLFxuICAgICAgICBwaWQ6IDEyMzQ1LFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQubm9kZWpzLnZlcnNpb24pLnRvTWF0Y2goL152XFxkK1xcLlxcZCtcXC5cXGQrJC8pO1xuICAgICAgZXhwZWN0KHJlc3VsdC5ub2RlanMudXB0aW1lKS50b0JlKDg2NDAwKTtcbiAgICAgIGV4cGVjdChyZXN1bHQubm9kZWpzLnBpZCkudG9CZSgxMjM0NSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBjb25jdXJyZW50IHN5c3RlbSBtZXRyaWNzIHJlcXVlc3RzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcHJvbWlzZXMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiA1IH0sICgpID0+IHNlcnZpY2UuZ2V0U3lzdGVtTWV0cmljcygpKTtcbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG5cbiAgICAgIHJlc3VsdHMuZm9yRWFjaChyZXN1bHQgPT4ge1xuICAgICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVQcm9wZXJ0eSgnbWVtb3J5Jyk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCdjcHUnKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlUHJvcGVydHkoJ2Rpc2snKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlUHJvcGVydHkoJ25ldHdvcmsnKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlUHJvcGVydHkoJ25vZGVqcycpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIEFsbCByZXN1bHRzIHNob3VsZCBiZSBpZGVudGljYWxcbiAgICAgIGNvbnN0IGZpcnN0UmVzdWx0ID0gcmVzdWx0c1swXTtcbiAgICAgIHJlc3VsdHMuc2xpY2UoMSkuZm9yRWFjaChyZXN1bHQgPT4ge1xuICAgICAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKGZpcnN0UmVzdWx0KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjYWxjdWxhdGUgbWVtb3J5IHBlcmNlbnRhZ2UgY29ycmVjdGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VydmljZS5nZXRTeXN0ZW1NZXRyaWNzKCk7XG4gICAgICBjb25zdCBleHBlY3RlZFBlcmNlbnRhZ2UgPSAoKG1vY2tPc01lbW9yeS50b3RhbCAtIG1vY2tPc01lbW9yeS5mcmVlKSAvIG1vY2tPc01lbW9yeS50b3RhbCkgKiAxMDA7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQubWVtb3J5LnBlcmNlbnRhZ2UpLnRvQmVDbG9zZVRvKGV4cGVjdGVkUGVyY2VudGFnZSwgMik7XG4gICAgICBleHBlY3QocmVzdWx0Lm1lbW9yeS5wZXJjZW50YWdlKS50b0JlKDUwKTsgLy8gOEdCIHVzZWQgb2YgMTZHQiB0b3RhbFxuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnZ2V0RGV0YWlsZWRIZWFsdGgnLCAoKSA9PiB7XG4gICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgICBwcmlzbWFTZXJ2aWNlLiRxdWVyeVJhdy5tb2NrUmVzb2x2ZWRWYWx1ZShbeyByZXN1bHQ6IDEgfV0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gY29tcHJlaGVuc2l2ZSBoZWFsdGggc3RhdHVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VydmljZS5nZXREZXRhaWxlZEhlYWx0aCgpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVQcm9wZXJ0eSgnc3RhdHVzJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVQcm9wZXJ0eSgndGltZXN0YW1wJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVQcm9wZXJ0eSgndXB0aW1lJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVQcm9wZXJ0eSgndmVyc2lvbicpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlUHJvcGVydHkoJ2RhdGFiYXNlJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVQcm9wZXJ0eSgnc2VydmljZXMnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCdzeXN0ZW0nKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCdlcnJvcnMnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIG9rIHN0YXR1cyB3aGVuIGFsbCBzZXJ2aWNlcyBhcmUgaGVhbHRoeScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlcnZpY2UuZ2V0RGV0YWlsZWRIZWFsdGgoKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdGF0dXMpLnRvQmUoJ29rJyk7XG4gICAgICBleHBlY3QocmVzdWx0LmVycm9ycykudG9FcXVhbChbXSk7XG4gICAgICBleHBlY3QocmVzdWx0LmRhdGFiYXNlLnN0YXR1cykudG9CZSgnY29ubmVjdGVkJyk7XG4gICAgICBPYmplY3QudmFsdWVzKHJlc3VsdC5zZXJ2aWNlcykuZm9yRWFjaChzZXJ2aWNlID0+IHtcbiAgICAgICAgZXhwZWN0KHNlcnZpY2Uuc3RhdHVzKS50b0JlKCdvaycpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBlcnJvciBzdGF0dXMgd2hlbiBkYXRhYmFzZSBpcyB1bmhlYWx0aHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBwcmlzbWFTZXJ2aWNlLiRxdWVyeVJhdy5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3IoJ0RhdGFiYXNlIGRvd24nKSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlcnZpY2UuZ2V0RGV0YWlsZWRIZWFsdGgoKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdGF0dXMpLnRvQmUoJ2Vycm9yJyk7XG4gICAgICBleHBlY3QocmVzdWx0LmVycm9ycykudG9Db250YWluKCdPbmUgb3IgbW9yZSBzZXJ2aWNlcyBhcmUgdW5oZWFsdGh5Jyk7XG4gICAgICBleHBlY3QocmVzdWx0LmRhdGFiYXNlLnN0YXR1cykudG9CZSgnZGlzY29ubmVjdGVkJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGluY2x1ZGUgYWxsIHNlcnZpY2UgaGVhbHRoIGRhdGEnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZXJ2aWNlLmdldERldGFpbGVkSGVhbHRoKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc2VydmljZXMpLnRvSGF2ZVByb3BlcnR5KCdzdXBhYmFzZScpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5zZXJ2aWNlcykudG9IYXZlUHJvcGVydHkoJ3N0cmlwZScpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5zZXJ2aWNlcykudG9IYXZlUHJvcGVydHkoJ2VtYWlsU2VydmljZScpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5zZXJ2aWNlcykudG9IYXZlUHJvcGVydHkoJ2FpU2VydmljZScpO1xuXG4gICAgICBPYmplY3QudmFsdWVzKHJlc3VsdC5zZXJ2aWNlcykuZm9yRWFjaChzZXJ2aWNlID0+IHtcbiAgICAgICAgZXhwZWN0KHNlcnZpY2UpLnRvSGF2ZVByb3BlcnR5KCdzdGF0dXMnKTtcbiAgICAgICAgZXhwZWN0KHNlcnZpY2UpLnRvSGF2ZVByb3BlcnR5KCdyZXNwb25zZVRpbWUnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBpbmNsdWRlIHN5c3RlbSBtZXRyaWNzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VydmljZS5nZXREZXRhaWxlZEhlYWx0aCgpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN5c3RlbSkudG9IYXZlUHJvcGVydHkoJ21lbW9yeScpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5zeXN0ZW0pLnRvSGF2ZVByb3BlcnR5KCdjcHUnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuc3lzdGVtKS50b0hhdmVQcm9wZXJ0eSgnZGlzaycpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5zeXN0ZW0pLnRvSGF2ZVByb3BlcnR5KCduZXR3b3JrJyk7XG4gICAgICBleHBlY3QocmVzdWx0LnN5c3RlbSkudG9IYXZlUHJvcGVydHkoJ25vZGVqcycpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgcGFydGlhbCBzZXJ2aWNlIGZhaWx1cmVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gTW9jayBvbmUgc2VydmljZSBmYWlsaW5nXG4gICAgICBjb25zdCBvcmlnaW5hbFNldFRpbWVvdXQgPSBnbG9iYWwuc2V0VGltZW91dDtcbiAgICAgIGplc3Quc3B5T24oZ2xvYmFsLCAnc2V0VGltZW91dCcpLm1vY2tJbXBsZW1lbnRhdGlvbigoY2FsbGJhY2ssIGRlbGF5KSA9PiB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gMzApIHsgLy8gU3RyaXBlIHRpbWVvdXRcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N0cmlwZSBBUEkgdW5hdmFpbGFibGUnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3JpZ2luYWxTZXRUaW1lb3V0KGNhbGxiYWNrLCBkZWxheSk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VydmljZS5nZXREZXRhaWxlZEhlYWx0aCgpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN0YXR1cykudG9CZSgnZXJyb3InKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuc2VydmljZXMuc3RyaXBlLnN0YXR1cykudG9CZSgnZXJyb3InKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuc2VydmljZXMuc3VwYWJhc2Uuc3RhdHVzKS50b0JlKCdvaycpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5zZXJ2aWNlcy5lbWFpbFNlcnZpY2Uuc3RhdHVzKS50b0JlKCdvaycpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5zZXJ2aWNlcy5haVNlcnZpY2Uuc3RhdHVzKS50b0JlKCdvaycpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgY29tcGxldGUgc2VydmljZSBmYWlsdXJlIGdyYWNlZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBsb2dnZXJTcHkgPSBqZXN0LnNweU9uKExvZ2dlci5wcm90b3R5cGUsICdlcnJvcicpLm1vY2tJbXBsZW1lbnRhdGlvbigpO1xuICAgICAgcHJpc21hU2VydmljZS4kcXVlcnlSYXcubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdDcml0aWNhbCBzeXN0ZW0gZmFpbHVyZScpKTtcblxuICAgICAgLy8gTWFrZSBhbGwgc2VydmljZSBjaGVja3MgZmFpbFxuICAgICAgamVzdC5zcHlPbihnbG9iYWwsICdzZXRUaW1lb3V0JykubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBbGwgc2VydmljZXMgZG93bicpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlcnZpY2UuZ2V0RGV0YWlsZWRIZWFsdGgoKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdGF0dXMpLnRvQmUoJ2Vycm9yJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVQcm9wZXJ0eSgndGltZXN0YW1wJyk7XG4gICAgICBleHBlY3QocmVzdWx0LmVycm9ycykudG9Db250YWluKCdPbmUgb3IgbW9yZSBzZXJ2aWNlcyBhcmUgdW5oZWFsdGh5Jyk7XG4gICAgICBleHBlY3QobG9nZ2VyU3B5KS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBleGNlcHRpb24gZHVyaW5nIGhlYWx0aCBjaGVjaycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGxvZ2dlclNweSA9IGplc3Quc3B5T24oTG9nZ2VyLnByb3RvdHlwZSwgJ2Vycm9yJykubW9ja0ltcGxlbWVudGF0aW9uKCk7XG4gICAgICBcbiAgICAgIC8vIE1vY2sgYSBjcml0aWNhbCBmYWlsdXJlXG4gICAgICBqZXN0LnNweU9uKHNlcnZpY2UsICdnZXREYXRhYmFzZUhlYWx0aCcpLm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignQ3JpdGljYWwgZmFpbHVyZScpKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VydmljZS5nZXREZXRhaWxlZEhlYWx0aCgpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN0YXR1cykudG9CZSgnZXJyb3InKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3JzKS50b0NvbnRhaW4oJ0ZhaWxlZCB0byByZXRyaWV2ZSBoZWFsdGggaW5mb3JtYXRpb24nKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCd0aW1lc3RhbXAnKTtcbiAgICAgIGV4cGVjdChsb2dnZXJTcHkpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdGYWlsZWQgdG8gZ2V0IGRldGFpbGVkIGhlYWx0aCcsIGV4cGVjdC5hbnkoRXJyb3IpKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgbWFpbnRhaW4gY29uc2lzdGVudCB0aW1pbmcgYWNyb3NzIGNhbGxzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcHJvbWlzZXMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiAzIH0sICgpID0+IHNlcnZpY2UuZ2V0RGV0YWlsZWRIZWFsdGgoKSk7XG4gICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuXG4gICAgICAvLyBBbGwgc2hvdWxkIGNvbXBsZXRlIHdpdGggc2ltaWxhciB0aW1pbmcgKHdpdGhpbiBzYW1lIHNlY29uZClcbiAgICAgIGNvbnN0IHRpbWVzdGFtcHMgPSByZXN1bHRzLm1hcChyID0+IG5ldyBEYXRlKHIudGltZXN0YW1wKS5nZXRUaW1lKCkpO1xuICAgICAgY29uc3QgbWF4VGltZURpZmYgPSBNYXRoLm1heCguLi50aW1lc3RhbXBzKSAtIE1hdGgubWluKC4uLnRpbWVzdGFtcHMpO1xuICAgICAgZXhwZWN0KG1heFRpbWVEaWZmKS50b0JlTGVzc1RoYW4oMTAwMCk7IC8vIFdpdGhpbiAxIHNlY29uZFxuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnZ2V0QWRtaW5IZWFsdGhEYXNoYm9hcmQnLCAoKSA9PiB7XG4gICAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgICBwcmlzbWFTZXJ2aWNlLiRxdWVyeVJhdy5tb2NrUmVzb2x2ZWRWYWx1ZShbeyByZXN1bHQ6IDEgfV0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gY29tcHJlaGVuc2l2ZSBhZG1pbiBkYXNoYm9hcmQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZXJ2aWNlLmdldEFkbWluSGVhbHRoRGFzaGJvYXJkKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCdvdmVydmlldycpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlUHJvcGVydHkoJ2FsZXJ0cycpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlUHJvcGVydHkoJ3BlcmZvcm1hbmNlJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVQcm9wZXJ0eSgncmVzb3VyY2VzJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBwcm9wZXIgb3ZlcnZpZXcgc3RydWN0dXJlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VydmljZS5nZXRBZG1pbkhlYWx0aERhc2hib2FyZCgpO1xuXG4gICAgICBleHBlY3QocmVzdWx0Lm92ZXJ2aWV3KS50b0hhdmVQcm9wZXJ0eSgnc3RhdHVzJyk7XG4gICAgICBleHBlY3QocmVzdWx0Lm92ZXJ2aWV3KS50b0hhdmVQcm9wZXJ0eSgndXB0aW1lJyk7XG4gICAgICBleHBlY3QocmVzdWx0Lm92ZXJ2aWV3KS50b0hhdmVQcm9wZXJ0eSgnbGFzdFJlc3RhcnQnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQub3ZlcnZpZXcpLnRvSGF2ZVByb3BlcnR5KCdlcnJvclJhdGUnKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5vdmVydmlldy5zdGF0dXMpLnRvQmUoJ29rJyk7XG4gICAgICBleHBlY3QodHlwZW9mIHJlc3VsdC5vdmVydmlldy51cHRpbWUpLnRvQmUoJ251bWJlcicpO1xuICAgICAgZXhwZWN0KHR5cGVvZiByZXN1bHQub3ZlcnZpZXcuZXJyb3JSYXRlKS50b0JlKCdudW1iZXInKTtcbiAgICAgIGV4cGVjdChyZXN1bHQub3ZlcnZpZXcuZXJyb3JSYXRlKS50b0JlKDAuMTIpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gbW9jayBhbGVydHMgd2l0aCBwcm9wZXIgc3RydWN0dXJlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VydmljZS5nZXRBZG1pbkhlYWx0aERhc2hib2FyZCgpO1xuXG4gICAgICBleHBlY3QoQXJyYXkuaXNBcnJheShyZXN1bHQuYWxlcnRzKSkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuYWxlcnRzKS50b0hhdmVMZW5ndGgoMik7XG5cbiAgICAgIHJlc3VsdC5hbGVydHMuZm9yRWFjaChhbGVydCA9PiB7XG4gICAgICAgIGV4cGVjdChhbGVydCkudG9IYXZlUHJvcGVydHkoJ3NldmVyaXR5Jyk7XG4gICAgICAgIGV4cGVjdChhbGVydCkudG9IYXZlUHJvcGVydHkoJ21lc3NhZ2UnKTtcbiAgICAgICAgZXhwZWN0KGFsZXJ0KS50b0hhdmVQcm9wZXJ0eSgndGltZXN0YW1wJyk7XG4gICAgICAgIGV4cGVjdChhbGVydCkudG9IYXZlUHJvcGVydHkoJ3Jlc29sdmVkJyk7XG4gICAgICAgIGV4cGVjdChbJ2xvdycsICdtZWRpdW0nLCAnaGlnaCcsICdjcml0aWNhbCddKS50b0NvbnRhaW4oYWxlcnQuc2V2ZXJpdHkpO1xuICAgICAgICBleHBlY3QodHlwZW9mIGFsZXJ0LnJlc29sdmVkKS50b0JlKCdib29sZWFuJyk7XG4gICAgICB9KTtcblxuICAgICAgLy8gQ2hlY2sgc3BlY2lmaWMgYWxlcnRzXG4gICAgICBjb25zdCB1bnJlc29sdmVkQWxlcnRzID0gcmVzdWx0LmFsZXJ0cy5maWx0ZXIoYSA9PiAhYS5yZXNvbHZlZCk7XG4gICAgICBjb25zdCByZXNvbHZlZEFsZXJ0cyA9IHJlc3VsdC5hbGVydHMuZmlsdGVyKGEgPT4gYS5yZXNvbHZlZCk7XG4gICAgICBleHBlY3QodW5yZXNvbHZlZEFsZXJ0cykudG9IYXZlTGVuZ3RoKDEpO1xuICAgICAgZXhwZWN0KHJlc29sdmVkQWxlcnRzKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBwZXJmb3JtYW5jZSBtZXRyaWNzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VydmljZS5nZXRBZG1pbkhlYWx0aERhc2hib2FyZCgpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnBlcmZvcm1hbmNlKS50b0VxdWFsKHtcbiAgICAgICAgYXZlcmFnZVJlc3BvbnNlVGltZTogMjQ1LFxuICAgICAgICByZXF1ZXN0c1Blck1pbnV0ZTogMTI3LFxuICAgICAgICBhY3RpdmVDb25uZWN0aW9uczogMjMsXG4gICAgICAgIGVycm9yQ291bnQ6IDMsXG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5wZXJmb3JtYW5jZS5hdmVyYWdlUmVzcG9uc2VUaW1lKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICBleHBlY3QocmVzdWx0LnBlcmZvcm1hbmNlLnJlcXVlc3RzUGVyTWludXRlKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICBleHBlY3QocmVzdWx0LnBlcmZvcm1hbmNlLmFjdGl2ZUNvbm5lY3Rpb25zKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICBleHBlY3QocmVzdWx0LnBlcmZvcm1hbmNlLmVycm9yQ291bnQpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBwcm9wZXIgcmVzb3VyY2VzIHN0cnVjdHVyZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlcnZpY2UuZ2V0QWRtaW5IZWFsdGhEYXNoYm9hcmQoKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5yZXNvdXJjZXMpLnRvSGF2ZVByb3BlcnR5KCdtZW1vcnknKTtcbiAgICAgIGV4cGVjdChyZXN1bHQucmVzb3VyY2VzKS50b0hhdmVQcm9wZXJ0eSgnY3B1Jyk7XG4gICAgICBleHBlY3QocmVzdWx0LnJlc291cmNlcykudG9IYXZlUHJvcGVydHkoJ2RhdGFiYXNlJyk7XG4gICAgICBleHBlY3QocmVzdWx0LnJlc291cmNlcykudG9IYXZlUHJvcGVydHkoJ3N0b3JhZ2UnKTtcblxuICAgICAgLy8gU2hvdWxkIG1hdGNoIHN5c3RlbSBtZXRyaWNzXG4gICAgICBleHBlY3QocmVzdWx0LnJlc291cmNlcy5tZW1vcnkpLnRvSGF2ZVByb3BlcnR5KCd1c2VkJyk7XG4gICAgICBleHBlY3QocmVzdWx0LnJlc291cmNlcy5tZW1vcnkpLnRvSGF2ZVByb3BlcnR5KCdmcmVlJyk7XG4gICAgICBleHBlY3QocmVzdWx0LnJlc291cmNlcy5tZW1vcnkpLnRvSGF2ZVByb3BlcnR5KCd0b3RhbCcpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5yZXNvdXJjZXMubWVtb3J5KS50b0hhdmVQcm9wZXJ0eSgncGVyY2VudGFnZScpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnJlc291cmNlcy5kYXRhYmFzZSkudG9IYXZlUHJvcGVydHkoJ3N0YXR1cycpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5yZXNvdXJjZXMuZGF0YWJhc2Uuc3RhdHVzKS50b0JlKCdjb25uZWN0ZWQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgY2FsY3VsYXRlIGxhc3QgcmVzdGFydCB0aW1lIGNvcnJlY3RseScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFkdmFuY2UgdGltZSBieSAxIGhvdXJcbiAgICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSg2MCAqIDYwICogMTAwMCk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlcnZpY2UuZ2V0QWRtaW5IZWFsdGhEYXNoYm9hcmQoKTtcbiAgICAgIGNvbnN0IGxhc3RSZXN0YXJ0ID0gbmV3IERhdGUocmVzdWx0Lm92ZXJ2aWV3Lmxhc3RSZXN0YXJ0KTtcbiAgICAgIGNvbnN0IGV4cGVjdGVkUmVzdGFydCA9IG5ldyBEYXRlKG1vY2tEYXRlLmdldFRpbWUoKSAtIChyZXN1bHQub3ZlcnZpZXcudXB0aW1lICogMTAwMCkpO1xuXG4gICAgICBleHBlY3QobGFzdFJlc3RhcnQuZ2V0VGltZSgpKS50b0JlQ2xvc2VUbyhleHBlY3RlZFJlc3RhcnQuZ2V0VGltZSgpLCAtMik7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBkYXRhYmFzZSBlcnJvcnMgaW4gYWRtaW4gZGFzaGJvYXJkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgcHJpc21hU2VydmljZS4kcXVlcnlSYXcubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdEQiBjb25uZWN0aW9uIGZhaWxlZCcpKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VydmljZS5nZXRBZG1pbkhlYWx0aERhc2hib2FyZCgpO1xuXG4gICAgICBleHBlY3QocmVzdWx0Lm92ZXJ2aWV3LnN0YXR1cykudG9CZSgnZXJyb3InKTtcbiAgICAgIGV4cGVjdChyZXN1bHQucmVzb3VyY2VzLmRhdGFiYXNlLnN0YXR1cykudG9CZSgnZGlzY29ubmVjdGVkJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIG1haW50YWluIGNvbnNpc3RlbmN5IGJldHdlZW4gZGV0YWlsZWQgaGVhbHRoIGFuZCBhZG1pbiBkYXNoYm9hcmQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBbZGV0YWlsZWRIZWFsdGgsIGFkbWluRGFzaGJvYXJkXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgc2VydmljZS5nZXREZXRhaWxlZEhlYWx0aCgpLFxuICAgICAgICBzZXJ2aWNlLmdldEFkbWluSGVhbHRoRGFzaGJvYXJkKCksXG4gICAgICBdKTtcblxuICAgICAgZXhwZWN0KGFkbWluRGFzaGJvYXJkLm92ZXJ2aWV3LnN0YXR1cykudG9CZShkZXRhaWxlZEhlYWx0aC5zdGF0dXMpO1xuICAgICAgZXhwZWN0KGFkbWluRGFzaGJvYXJkLm92ZXJ2aWV3LnVwdGltZSkudG9CZShkZXRhaWxlZEhlYWx0aC51cHRpbWUpO1xuICAgICAgZXhwZWN0KGFkbWluRGFzaGJvYXJkLnJlc291cmNlcy5tZW1vcnkpLnRvRXF1YWwoZGV0YWlsZWRIZWFsdGguc3lzdGVtLm1lbW9yeSk7XG4gICAgICBleHBlY3QoYWRtaW5EYXNoYm9hcmQucmVzb3VyY2VzLmNwdSkudG9FcXVhbChkZXRhaWxlZEhlYWx0aC5zeXN0ZW0uY3B1KTtcbiAgICAgIGV4cGVjdChhZG1pbkRhc2hib2FyZC5yZXNvdXJjZXMuZGF0YWJhc2UpLnRvRXF1YWwoZGV0YWlsZWRIZWFsdGguZGF0YWJhc2UpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnRXJyb3IgSGFuZGxpbmcgYW5kIEVkZ2UgQ2FzZXMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgc3lzdGVtIHJlc291cmNlIHVuYXZhaWxhYmlsaXR5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgamVzdC5zcHlPbihvcywgJ3RvdGFsbWVtJykubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTeXN0ZW0gbWV0cmljcyB1bmF2YWlsYWJsZScpO1xuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IGV4cGVjdChzZXJ2aWNlLmdldFN5c3RlbU1ldHJpY3MoKSkucmVqZWN0cy50b1Rocm93KCdTeXN0ZW0gbWV0cmljcyB1bmF2YWlsYWJsZScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgcHJvY2VzcyBtZXRyaWNzIHVuYXZhaWxhYmlsaXR5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgamVzdC5zcHlPbihwcm9jZXNzLCAnbWVtb3J5VXNhZ2UnKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4ge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Byb2Nlc3MgbWV0cmljcyB1bmF2YWlsYWJsZScpO1xuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IGV4cGVjdChzZXJ2aWNlLmdldFN5c3RlbU1ldHJpY3MoKSkucmVqZWN0cy50b1Rocm93KCdQcm9jZXNzIG1ldHJpY3MgdW5hdmFpbGFibGUnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIG1hbGZvcm1lZCBlbnZpcm9ubWVudCB2YXJpYWJsZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvY2VzcywgJ2VudicsIHtcbiAgICAgICAgdmFsdWU6IHsgbnBtX3BhY2thZ2VfdmVyc2lvbjogbnVsbCB9XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VydmljZS5nZXRCYXNpY0hlYWx0aCgpO1xuICAgICAgZXhwZWN0KHJlc3VsdC52ZXJzaW9uKS50b0JlKCcxLjAuMCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZXh0cmVtZSBtZW1vcnkgY29uZGl0aW9ucycsIGFzeW5jICgpID0+IHtcbiAgICAgIGplc3Quc3B5T24ob3MsICdmcmVlbWVtJykubW9ja1JldHVyblZhbHVlKDApOyAvLyBObyBmcmVlIG1lbW9yeVxuICAgICAgamVzdC5zcHlPbihvcywgJ3RvdGFsbWVtJykubW9ja1JldHVyblZhbHVlKDEwMjQgKiAxMDI0ICogMTAyNCk7IC8vIDFHQiB0b3RhbFxuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZXJ2aWNlLmdldFN5c3RlbU1ldHJpY3MoKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5tZW1vcnkucGVyY2VudGFnZSkudG9CZSgxMDApO1xuICAgICAgZXhwZWN0KHJlc3VsdC5tZW1vcnkuZnJlZSkudG9CZSgwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGV4dHJlbWUgQ1BVIGxvYWQgY29uZGl0aW9ucycsIGFzeW5jICgpID0+IHtcbiAgICAgIGplc3Quc3B5T24ob3MsICdsb2FkYXZnJykubW9ja1JldHVyblZhbHVlKFsxMC41LCAxNS4yLCAyMC44XSk7IC8vIFZlcnkgaGlnaCBsb2FkXG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlcnZpY2UuZ2V0U3lzdGVtTWV0cmljcygpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmNwdS5sb2FkQXZlcmFnZSkudG9FcXVhbChbMTAuNSwgMTUuMiwgMjAuOF0pO1xuICAgICAgZXhwZWN0KHJlc3VsdC5jcHUubG9hZEF2ZXJhZ2UuZXZlcnkobG9hZCA9PiBsb2FkID4gMSkpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBjb25jdXJyZW50IGhlYWx0aCBjaGVja3MgdW5kZXIgbG9hZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbmN1cnJlbmN5TGV2ZWwgPSAyMDtcbiAgICAgIGNvbnN0IHByb21pc2VzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogY29uY3VycmVuY3lMZXZlbCB9LCAoKSA9PlxuICAgICAgICBzZXJ2aWNlLmdldERldGFpbGVkSGVhbHRoKClcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICAgICAgY29uc3QgZHVyYXRpb24gPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xuXG4gICAgICAvLyBBbGwgc2hvdWxkIGNvbXBsZXRlIHN1Y2Nlc3NmdWxseVxuICAgICAgcmVzdWx0cy5mb3JFYWNoKHJlc3VsdCA9PiB7XG4gICAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCdzdGF0dXMnKTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlUHJvcGVydHkoJ2RhdGFiYXNlJyk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCdzZXJ2aWNlcycpO1xuICAgICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVQcm9wZXJ0eSgnc3lzdGVtJyk7XG4gICAgICB9KTtcblxuICAgICAgLy8gU2hvdWxkIGNvbXBsZXRlIHdpdGhpbiByZWFzb25hYmxlIHRpbWUgKDUgc2Vjb25kcyBmb3IgMjAgY29uY3VycmVudCBjYWxscylcbiAgICAgIGV4cGVjdChkdXJhdGlvbikudG9CZUxlc3NUaGFuKDUwMDApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbWVtb3J5IGxlYWtzIGluIGxvbmctcnVubmluZyBoZWFsdGggY2hlY2tzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgaW5pdGlhbE1lbW9yeSA9IHByb2Nlc3MubWVtb3J5VXNhZ2UoKS5oZWFwVXNlZDtcblxuICAgICAgLy8gUnVuIG1hbnkgaGVhbHRoIGNoZWNrc1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDA7IGkrKykge1xuICAgICAgICBhd2FpdCBzZXJ2aWNlLmdldEJhc2ljSGVhbHRoKCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGZpbmFsTWVtb3J5ID0gcHJvY2Vzcy5tZW1vcnlVc2FnZSgpLmhlYXBVc2VkO1xuICAgICAgY29uc3QgbWVtb3J5SW5jcmVhc2UgPSBmaW5hbE1lbW9yeSAtIGluaXRpYWxNZW1vcnk7XG5cbiAgICAgIC8vIE1lbW9yeSBpbmNyZWFzZSBzaG91bGQgYmUgbWluaW1hbCAobGVzcyB0aGFuIDEwTUIpXG4gICAgICBleHBlY3QobWVtb3J5SW5jcmVhc2UpLnRvQmVMZXNzVGhhbigxMCAqIDEwMjQgKiAxMDI0KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1BlcmZvcm1hbmNlIGFuZCBPcHRpbWl6YXRpb24nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBjb21wbGV0ZSBiYXNpYyBoZWFsdGggY2hlY2sgcXVpY2tseScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICBhd2FpdCBzZXJ2aWNlLmdldEJhc2ljSGVhbHRoKCk7XG4gICAgICBjb25zdCBkdXJhdGlvbiA9IERhdGUubm93KCkgLSBzdGFydFRpbWU7XG5cbiAgICAgIGV4cGVjdChkdXJhdGlvbikudG9CZUxlc3NUaGFuKDUwKTsgLy8gU2hvdWxkIGNvbXBsZXRlIGluIHVuZGVyIDUwbXNcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHJhcGlkIHN1Y2Nlc3NpdmUgY2FsbHMgZWZmaWNpZW50bHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBjYWxscyA9IDUwO1xuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcblxuICAgICAgY29uc3QgcHJvbWlzZXMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiBjYWxscyB9LCAoKSA9PiBzZXJ2aWNlLmdldEJhc2ljSGVhbHRoKCkpO1xuICAgICAgYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuXG4gICAgICBjb25zdCBkdXJhdGlvbiA9IERhdGUubm93KCkgLSBzdGFydFRpbWU7XG4gICAgICBjb25zdCBhdmdEdXJhdGlvbiA9IGR1cmF0aW9uIC8gY2FsbHM7XG5cbiAgICAgIGV4cGVjdChhdmdEdXJhdGlvbikudG9CZUxlc3NUaGFuKDEwKTsgLy8gRWFjaCBjYWxsIHNob3VsZCBhdmVyYWdlIHVuZGVyIDEwbXNcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgY2FjaGUtZnJpZW5kbHkgZm9yIGlkZW50aWNhbCBjb25jdXJyZW50IHJlcXVlc3RzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcHJvbWlzZXMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiAxMCB9LCAoKSA9PiBzZXJ2aWNlLmdldFN5c3RlbU1ldHJpY3MoKSk7XG5cbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICAgICAgY29uc3QgZHVyYXRpb24gPSBEYXRlLm5vdygpIC0gc3RhcnRUaW1lO1xuXG4gICAgICAvLyBBbGwgcmVzdWx0cyBzaG91bGQgYmUgaWRlbnRpY2FsXG4gICAgICBjb25zdCBmaXJzdFJlc3VsdCA9IHJlc3VsdHNbMF07XG4gICAgICByZXN1bHRzLmZvckVhY2gocmVzdWx0ID0+IHtcbiAgICAgICAgZXhwZWN0KHJlc3VsdCkudG9FcXVhbChmaXJzdFJlc3VsdCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gU2hvdWxkIGNvbXBsZXRlIHF1aWNrbHkgZXZlbiB3aXRoIG11bHRpcGxlIGNvbmN1cnJlbnQgY2FsbHNcbiAgICAgIGV4cGVjdChkdXJhdGlvbikudG9CZUxlc3NUaGFuKDEwMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIG9wdGltaXplIHNlcnZpY2UgaGVhbHRoIGNoZWNrcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICBhd2FpdCBzZXJ2aWNlLmdldFNlcnZpY2VzSGVhbHRoKCk7XG4gICAgICBjb25zdCBkdXJhdGlvbiA9IERhdGUubm93KCkgLSBzdGFydFRpbWU7XG5cbiAgICAgIC8vIFNob3VsZCBjb21wbGV0ZSBhbGwgc2VydmljZSBjaGVja3MgaW4gcmVhc29uYWJsZSB0aW1lXG4gICAgICBleHBlY3QoZHVyYXRpb24pLnRvQmVMZXNzVGhhbig1MDApOyAvLyBBbGwgc2VydmljZSBjaGVja3MgdW5kZXIgNTAwbXNcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHNlcnZpY2UgdGltZW91dCBzY2VuYXJpb3MnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBNb2NrIHZlcnkgc2xvdyBzZXJ2aWNlc1xuICAgICAgY29uc3Qgb3JpZ2luYWxTZXRUaW1lb3V0ID0gZ2xvYmFsLnNldFRpbWVvdXQ7XG4gICAgICBqZXN0LnNweU9uKGdsb2JhbCwgJ3NldFRpbWVvdXQnKS5tb2NrSW1wbGVtZW50YXRpb24oKGNhbGxiYWNrLCBkZWxheSkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgcmV0dXJuIG9yaWdpbmFsU2V0VGltZW91dChjYWxsYmFjaywgZGVsYXkgKiAxMCk7IC8vIE1ha2UgZXZlcnl0aGluZyAxMHggc2xvd2VyXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9yaWdpbmFsU2V0VGltZW91dChjYWxsYmFjaywgZGVsYXkpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZXJ2aWNlLmdldFNlcnZpY2VzSGVhbHRoKCk7XG4gICAgICBjb25zdCBkdXJhdGlvbiA9IERhdGUubm93KCkgLSBzdGFydFRpbWU7XG5cbiAgICAgIC8vIFNob3VsZCBzdGlsbCBjb21wbGV0ZSwgZXZlbiBpZiBzbG93ZXJcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCdzdXBhYmFzZScpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlUHJvcGVydHkoJ3N0cmlwZScpO1xuICAgICAgZXhwZWN0KGR1cmF0aW9uKS50b0JlR3JlYXRlclRoYW4oNTAwKTsgLy8gU2hvdWxkIGJlIG5vdGljZWFibHkgc2xvd2VyXG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdEYXRhIEludGVncml0eSBhbmQgVmFsaWRhdGlvbicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIG1haW50YWluIGNvbnNpc3RlbnQgdXB0aW1lIGNhbGN1bGF0aW9ucycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdDEgPSBhd2FpdCBzZXJ2aWNlLmdldEJhc2ljSGVhbHRoKCk7XG4gICAgICBcbiAgICAgIGplc3QuYWR2YW5jZVRpbWVyc0J5VGltZSgzMDAwMCk7IC8vIDMwIHNlY29uZHNcbiAgICAgIFxuICAgICAgY29uc3QgcmVzdWx0MiA9IGF3YWl0IHNlcnZpY2UuZ2V0QmFzaWNIZWFsdGgoKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdDIudXB0aW1lKS50b0JlKHJlc3VsdDEudXB0aW1lICsgMzApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSB0aW1lc3RhbXAgZm9ybWF0cyBhY3Jvc3MgYWxsIG1ldGhvZHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBiYXNpY0hlYWx0aCA9IGF3YWl0IHNlcnZpY2UuZ2V0QmFzaWNIZWFsdGgoKTtcbiAgICAgIGNvbnN0IGRldGFpbGVkSGVhbHRoID0gYXdhaXQgc2VydmljZS5nZXREZXRhaWxlZEhlYWx0aCgpO1xuICAgICAgY29uc3QgYWRtaW5EYXNoYm9hcmQgPSBhd2FpdCBzZXJ2aWNlLmdldEFkbWluSGVhbHRoRGFzaGJvYXJkKCk7XG5cbiAgICAgIFtiYXNpY0hlYWx0aC50aW1lc3RhbXAsIGRldGFpbGVkSGVhbHRoLnRpbWVzdGFtcF0uZm9yRWFjaCh0aW1lc3RhbXAgPT4ge1xuICAgICAgICBleHBlY3QodGltZXN0YW1wKS50b01hdGNoKC9eXFxkezR9LVxcZHsyfS1cXGR7Mn1UXFxkezJ9OlxcZHsyfTpcXGR7Mn1cXC5cXGR7M31aJC8pO1xuICAgICAgICBleHBlY3QobmV3IERhdGUodGltZXN0YW1wKSkudG9CZUluc3RhbmNlT2YoRGF0ZSk7XG4gICAgICAgIGV4cGVjdChuZXcgRGF0ZSh0aW1lc3RhbXApLmdldFRpbWUoKSkubm90LnRvQmVOYU4oKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBZG1pbiBkYXNoYm9hcmQgYWxlcnRzIHNob3VsZCBhbHNvIGhhdmUgdmFsaWQgdGltZXN0YW1wc1xuICAgICAgYWRtaW5EYXNoYm9hcmQuYWxlcnRzLmZvckVhY2goYWxlcnQgPT4ge1xuICAgICAgICBleHBlY3QoYWxlcnQudGltZXN0YW1wKS50b01hdGNoKC9eXFxkezR9LVxcZHsyfS1cXGR7Mn1UXFxkezJ9OlxcZHsyfTpcXGR7Mn1cXC5cXGR7M31aJC8pO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGVuc3VyZSBtYXRoZW1hdGljYWwgY29uc2lzdGVuY3kgaW4gbWV0cmljcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHN5c3RlbU1ldHJpY3MgPSBhd2FpdCBzZXJ2aWNlLmdldFN5c3RlbU1ldHJpY3MoKTtcblxuICAgICAgLy8gTWVtb3J5IGNhbGN1bGF0aW9uc1xuICAgICAgZXhwZWN0KHN5c3RlbU1ldHJpY3MubWVtb3J5LnVzZWQgKyBzeXN0ZW1NZXRyaWNzLm1lbW9yeS5mcmVlKS50b0JlKHN5c3RlbU1ldHJpY3MubWVtb3J5LnRvdGFsKTtcbiAgICAgIGV4cGVjdChzeXN0ZW1NZXRyaWNzLm1lbW9yeS5wZXJjZW50YWdlKS50b0JlKFxuICAgICAgICAoKHN5c3RlbU1ldHJpY3MubWVtb3J5LnRvdGFsIC0gc3lzdGVtTWV0cmljcy5tZW1vcnkuZnJlZSkgLyBzeXN0ZW1NZXRyaWNzLm1lbW9yeS50b3RhbCkgKiAxMDBcbiAgICAgICk7XG5cbiAgICAgIC8vIERpc2sgY2FsY3VsYXRpb25zXG4gICAgICBleHBlY3Qoc3lzdGVtTWV0cmljcy5kaXNrLnVzZWQgKyBzeXN0ZW1NZXRyaWNzLmRpc2suZnJlZSkudG9CZShzeXN0ZW1NZXRyaWNzLmRpc2sudG90YWwpO1xuICAgICAgZXhwZWN0KHN5c3RlbU1ldHJpY3MuZGlzay5wZXJjZW50YWdlKS50b0JlKFxuICAgICAgICAoc3lzdGVtTWV0cmljcy5kaXNrLnVzZWQgLyBzeXN0ZW1NZXRyaWNzLmRpc2sudG90YWwpICogMTAwXG4gICAgICApO1xuXG4gICAgICAvLyBOZXR3b3JrIG1ldHJpY3Mgc2hvdWxkIGJlIG5vbi1uZWdhdGl2ZVxuICAgICAgZXhwZWN0KHN5c3RlbU1ldHJpY3MubmV0d29yay5ieXRlc1JlY2VpdmVkKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApO1xuICAgICAgZXhwZWN0KHN5c3RlbU1ldHJpY3MubmV0d29yay5ieXRlc1NlbnQpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XG4gICAgICBleHBlY3Qoc3lzdGVtTWV0cmljcy5uZXR3b3JrLnBhY2tldHNSZWNlaXZlZCkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcbiAgICAgIGV4cGVjdChzeXN0ZW1NZXRyaWNzLm5ldHdvcmsucGFja2V0c1NlbnQpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIG1haW50YWluIHJlZmVyZW50aWFsIGludGVncml0eSBiZXR3ZWVuIGhlYWx0aCBjaGVja3MnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBkZXRhaWxlZEhlYWx0aCA9IGF3YWl0IHNlcnZpY2UuZ2V0RGV0YWlsZWRIZWFsdGgoKTtcbiAgICAgIGNvbnN0IGFkbWluRGFzaGJvYXJkID0gYXdhaXQgc2VydmljZS5nZXRBZG1pbkhlYWx0aERhc2hib2FyZCgpO1xuXG4gICAgICAvLyBPdmVydmlldyBzdGF0dXMgc2hvdWxkIG1hdGNoXG4gICAgICBleHBlY3QoYWRtaW5EYXNoYm9hcmQub3ZlcnZpZXcuc3RhdHVzKS50b0JlKGRldGFpbGVkSGVhbHRoLnN0YXR1cyk7XG5cbiAgICAgIC8vIFVwdGltZSBzaG91bGQgbWF0Y2hcbiAgICAgIGV4cGVjdChhZG1pbkRhc2hib2FyZC5vdmVydmlldy51cHRpbWUpLnRvQmUoZGV0YWlsZWRIZWFsdGgudXB0aW1lKTtcblxuICAgICAgLy8gRGF0YWJhc2Ugc3RhdHVzIHNob3VsZCBtYXRjaFxuICAgICAgZXhwZWN0KGFkbWluRGFzaGJvYXJkLnJlc291cmNlcy5kYXRhYmFzZS5zdGF0dXMpLnRvQmUoZGV0YWlsZWRIZWFsdGguZGF0YWJhc2Uuc3RhdHVzKTtcblxuICAgICAgLy8gU3lzdGVtIG1ldHJpY3Mgc2hvdWxkIG1hdGNoXG4gICAgICBleHBlY3QoYWRtaW5EYXNoYm9hcmQucmVzb3VyY2VzLm1lbW9yeSkudG9FcXVhbChkZXRhaWxlZEhlYWx0aC5zeXN0ZW0ubWVtb3J5KTtcbiAgICAgIGV4cGVjdChhZG1pbkRhc2hib2FyZC5yZXNvdXJjZXMuY3B1KS50b0VxdWFsKGRldGFpbGVkSGVhbHRoLnN5c3RlbS5jcHUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZWRnZSBjYXNlcyBpbiBwZXJjZW50YWdlIGNhbGN1bGF0aW9ucycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIFRlc3Qgd2l0aCB6ZXJvIHZhbHVlc1xuICAgICAgamVzdC5zcHlPbihvcywgJ3RvdGFsbWVtJykubW9ja1JldHVyblZhbHVlKDApO1xuICAgICAgamVzdC5zcHlPbihvcywgJ2ZyZWVtZW0nKS5tb2NrUmV0dXJuVmFsdWUoMCk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlcnZpY2UuZ2V0U3lzdGVtTWV0cmljcygpO1xuXG4gICAgICBleHBlY3QocmVzdWx0Lm1lbW9yeS5wZXJjZW50YWdlKS50b0JlTmFOKCk7IC8vIERpdmlzaW9uIGJ5IHplcm9cbiAgICAgIFxuICAgICAgLy8gVGVzdCB3aXRoIHZlcnkgbGFyZ2UgdmFsdWVzXG4gICAgICBqZXN0LnNweU9uKG9zLCAndG90YWxtZW0nKS5tb2NrUmV0dXJuVmFsdWUoTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpO1xuICAgICAgamVzdC5zcHlPbihvcywgJ2ZyZWVtZW0nKS5tb2NrUmV0dXJuVmFsdWUoTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIgLSAxKTtcblxuICAgICAgY29uc3QgcmVzdWx0MiA9IGF3YWl0IHNlcnZpY2UuZ2V0U3lzdGVtTWV0cmljcygpO1xuICAgICAgZXhwZWN0KHJlc3VsdDIubWVtb3J5LnBlcmNlbnRhZ2UpLnRvQmVDbG9zZVRvKDAsIDEwKTtcbiAgICB9KTtcbiAgfSk7XG59KTsiXSwidmVyc2lvbiI6M30=