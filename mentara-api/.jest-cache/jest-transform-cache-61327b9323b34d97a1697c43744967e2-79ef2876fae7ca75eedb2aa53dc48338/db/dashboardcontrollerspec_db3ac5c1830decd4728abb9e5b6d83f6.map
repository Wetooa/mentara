{"file":"/home/wetooa/Documents/code/projects/mentara/mentara-api/src/dashboard/dashboard.controller.spec.ts","mappings":"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","names":[],"sources":["/home/wetooa/Documents/code/projects/mentara/mentara-api/src/dashboard/dashboard.controller.spec.ts"],"sourcesContent":["/**\n * Comprehensive Test Suite for DashboardController\n * Tests role-based dashboard data retrieval for different user types\n */\n\nimport { Test, TestingModule } from '@nestjs/testing';\nimport { UnauthorizedException, HttpStatus } from '@nestjs/common';\nimport { DashboardController } from './dashboard.controller';\nimport { DashboardService } from './dashboard.service';\nimport { JwtAuthGuard } from '../auth/guards/jwt-auth.guard';\nimport { SecurityGuardTestUtils, RoleBasedTestUtils } from '../test-utils/auth-testing-helpers';\nimport { MockBuilder, TestDataGenerator, TestAssertions } from '../test-utils/enhanced-test-helpers';\nimport { TEST_USER_IDS, TEST_EMAILS } from '../test-utils/index';\n\ndescribe('DashboardController', () => {\n  let controller: DashboardController;\n  let dashboardService: DashboardService;\n  let module: TestingModule;\n\n  // Mock DashboardService\n  const mockDashboardService = {\n    getUserDashboardData: jest.fn(),\n    getTherapistDashboardData: jest.fn(),\n    getAdminDashboardData: jest.fn(),\n  };\n\n  // Mock Guards\n  const mockJwtAuthGuard = {\n    canActivate: jest.fn().mockReturnValue(true),\n  };\n\n  // Test data\n  const mockUserDashboard = {\n    user: {\n      id: TEST_USER_IDS.CLIENT,\n      firstName: 'John',\n      lastName: 'Doe',\n      email: TEST_EMAILS.CLIENT,\n      profileCompleteness: 85,\n    },\n    therapist: {\n      id: TEST_USER_IDS.THERAPIST,\n      firstName: 'Dr. Sarah',\n      lastName: 'Johnson',\n      specializations: ['Anxiety', 'Depression', 'CBT'],\n    },\n    sessions: {\n      total: 12,\n      completed: 10,\n      upcoming: 2,\n      recentSessions: [\n        {\n          id: 'session_1',\n          date: '2024-02-14T15:00:00Z',\n          type: 'Video Call',\n          status: 'completed',\n        },\n        {\n          id: 'session_2',\n          date: '2024-02-12T14:00:00Z',\n          type: 'Video Call',\n          status: 'completed',\n        },\n      ],\n    },\n    worksheets: {\n      assigned: 5,\n      completed: 3,\n      overdue: 1,\n      recent: [\n        {\n          id: 'worksheet_1',\n          title: 'Anxiety Management',\n          status: 'completed',\n          completedAt: '2024-02-13T16:30:00Z',\n        },\n      ],\n    },\n    progress: {\n      moodTrend: [6, 7, 6, 8, 7, 8, 9],\n      goalProgress: 75,\n      streakDays: 14,\n    },\n    recommendations: [\n      {\n        type: 'community',\n        title: 'Join Anxiety Support Group',\n        description: 'Connect with others experiencing similar challenges',\n      },\n      {\n        type: 'worksheet',\n        title: 'Daily Mood Journal',\n        description: 'Track your mood patterns to identify triggers',\n      },\n    ],\n  };\n\n  const mockTherapistDashboard = {\n    therapist: {\n      id: TEST_USER_IDS.THERAPIST,\n      firstName: 'Dr. Sarah',\n      lastName: 'Johnson',\n      specializations: ['Anxiety', 'Depression', 'CBT'],\n      verified: true,\n    },\n    clients: {\n      total: 24,\n      active: 18,\n      newThisMonth: 3,\n      recentClients: [\n        {\n          id: 'client_1',\n          firstName: 'John',\n          lastName: 'D.',\n          lastSession: '2024-02-14T15:00:00Z',\n          progress: 'improving',\n        },\n        {\n          id: 'client_2',\n          firstName: 'Jane',\n          lastName: 'S.',\n          lastSession: '2024-02-13T10:00:00Z',\n          progress: 'stable',\n        },\n      ],\n    },\n    sessions: {\n      today: 5,\n      thisWeek: 23,\n      thisMonth: 89,\n      upcomingSessions: [\n        {\n          id: 'session_upcoming_1',\n          clientName: 'John D.',\n          scheduledTime: '2024-02-15T14:00:00Z',\n          type: 'Video Call',\n        },\n        {\n          id: 'session_upcoming_2',\n          clientName: 'Jane S.',\n          scheduledTime: '2024-02-15T16:00:00Z',\n          type: 'In-person',\n        },\n      ],\n    },\n    worksheets: {\n      assigned: 45,\n      completed: 38,\n      pendingReview: 7,\n    },\n    analytics: {\n      averageSessionRating: 4.7,\n      clientSatisfaction: 92,\n      sessionCompletionRate: 96,\n      responseTime: 2.3,\n    },\n  };\n\n  const mockAdminDashboard = {\n    platformStats: {\n      totalUsers: 15647,\n      totalTherapists: 234,\n      totalClients: 14823,\n      totalModerators: 12,\n      activeUsers: 8934,\n      newUsersThisMonth: 423,\n    },\n    therapistApplications: {\n      pending: 23,\n      approved: 189,\n      rejected: 34,\n      recentApplications: [\n        {\n          id: 'app_1',\n          name: 'Dr. Michael Brown',\n          email: 'mbrown@example.com',\n          submittedAt: '2024-02-14T09:30:00Z',\n          status: 'pending',\n        },\n        {\n          id: 'app_2',\n          name: 'Dr. Lisa Chen',\n          email: 'lchen@example.com',\n          submittedAt: '2024-02-13T14:15:00Z',\n          status: 'approved',\n        },\n      ],\n    },\n    sessionStats: {\n      totalSessions: 45678,\n      sessionsToday: 234,\n      sessionsThisWeek: 1847,\n      averageSessionDuration: 52.3,\n      sessionsByType: {\n        video: 28456,\n        audio: 8934,\n        chat: 4567,\n        in_person: 3721,\n      },\n    },\n    systemHealth: {\n      status: 'healthy',\n      uptime: 99.97,\n      responseTime: 145,\n      errorRate: 0.02,\n      lastBackup: '2024-02-14T03:00:00Z',\n    },\n    contentModeration: {\n      pendingReports: 12,\n      flaggedContent: 5,\n      moderatorActions: 89,\n    },\n    recentActivity: [\n      {\n        type: 'user_registration',\n        description: 'New client registered: john.doe@example.com',\n        timestamp: '2024-02-14T10:30:00Z',\n        severity: 'info',\n      },\n      {\n        type: 'therapist_application',\n        description: 'Therapist application submitted: Dr. Michael Brown',\n        timestamp: '2024-02-14T09:30:00Z',\n        severity: 'info',\n      },\n      {\n        type: 'security_alert',\n        description: 'Multiple failed login attempts detected',\n        timestamp: '2024-02-14T08:15:00Z',\n        severity: 'warning',\n      },\n    ],\n  };\n\n  beforeEach(async () => {\n    module = await Test.createTestingModule({\n      controllers: [DashboardController],\n      providers: [\n        {\n          provide: DashboardService,\n          useValue: mockDashboardService,\n        },\n      ],\n    })\n      .overrideGuard(JwtAuthGuard)\n      .useValue(mockJwtAuthGuard)\n      .compile();\n\n    controller = module.get<DashboardController>(DashboardController);\n    dashboardService = module.get<DashboardService>(DashboardService);\n  });\n\n  afterEach(() => {\n    jest.clearAllMocks();\n  });\n\n  describe('Controller Initialization', () => {\n    it('should be defined', () => {\n      expect(controller).toBeDefined();\n    });\n\n    it('should have dashboardService injected', () => {\n      expect(dashboardService).toBeDefined();\n    });\n  });\n\n  describe('Security Guards', () => {\n    it('should be protected by JwtAuthGuard', () => {\n      const guards = Reflect.getMetadata('__guards__', DashboardController);\n      expect(guards).toContain(JwtAuthGuard);\n    });\n\n    it('should have proper route decorators', () => {\n      const controllerMetadata = Reflect.getMetadata('path', DashboardController);\n      expect(controllerMetadata).toBe('dashboard');\n    });\n  });\n\n  describe('GET /dashboard/user', () => {\n    it('should get user dashboard successfully for client', async () => {\n      mockDashboardService.getUserDashboardData.mockResolvedValue(mockUserDashboard);\n\n      const result = await controller.getUserDashboard(TEST_USER_IDS.CLIENT, 'client');\n\n      expect(result).toEqual(mockUserDashboard);\n      expect(dashboardService.getUserDashboardData).toHaveBeenCalledWith(TEST_USER_IDS.CLIENT);\n    });\n\n    it('should reject non-client users', async () => {\n      await expect(\n        controller.getUserDashboard(TEST_USER_IDS.THERAPIST, 'therapist')\n      ).rejects.toThrow(UnauthorizedException);\n\n      expect(dashboardService.getUserDashboardData).not.toHaveBeenCalled();\n    });\n\n    it('should reject admin users', async () => {\n      await expect(\n        controller.getUserDashboard(TEST_USER_IDS.ADMIN, 'admin')\n      ).rejects.toThrow(UnauthorizedException);\n\n      expect(dashboardService.getUserDashboardData).not.toHaveBeenCalled();\n    });\n\n    it('should reject moderator users', async () => {\n      await expect(\n        controller.getUserDashboard(TEST_USER_IDS.MODERATOR, 'moderator')\n      ).rejects.toThrow(UnauthorizedException);\n\n      expect(dashboardService.getUserDashboardData).not.toHaveBeenCalled();\n    });\n\n    it('should handle service errors', async () => {\n      const serviceError = new Error('Failed to fetch user dashboard data');\n      mockDashboardService.getUserDashboardData.mockRejectedValue(serviceError);\n\n      await expect(\n        controller.getUserDashboard(TEST_USER_IDS.CLIENT, 'client')\n      ).rejects.toThrow(serviceError);\n    });\n\n    it('should validate dashboard data structure', async () => {\n      mockDashboardService.getUserDashboardData.mockResolvedValue(mockUserDashboard);\n\n      const result = await controller.getUserDashboard(TEST_USER_IDS.CLIENT, 'client');\n\n      expect(result).toHaveProperty('user');\n      expect(result).toHaveProperty('therapist');\n      expect(result).toHaveProperty('sessions');\n      expect(result).toHaveProperty('worksheets');\n      expect(result).toHaveProperty('progress');\n      expect(result).toHaveProperty('recommendations');\n\n      expect(result.user).toHaveProperty('profileCompleteness');\n      expect(typeof result.user.profileCompleteness).toBe('number');\n      expect(result.sessions).toHaveProperty('total');\n      expect(result.sessions).toHaveProperty('completed');\n      expect(result.sessions).toHaveProperty('upcoming');\n    });\n  });\n\n  describe('GET /dashboard/therapist', () => {\n    it('should get therapist dashboard successfully for therapist', async () => {\n      mockDashboardService.getTherapistDashboardData.mockResolvedValue(mockTherapistDashboard);\n\n      const result = await controller.getTherapistDashboard(TEST_USER_IDS.THERAPIST, 'therapist');\n\n      expect(result).toEqual(mockTherapistDashboard);\n      expect(dashboardService.getTherapistDashboardData).toHaveBeenCalledWith(TEST_USER_IDS.THERAPIST);\n    });\n\n    it('should reject non-therapist users', async () => {\n      await expect(\n        controller.getTherapistDashboard(TEST_USER_IDS.CLIENT, 'client')\n      ).rejects.toThrow(UnauthorizedException);\n\n      expect(dashboardService.getTherapistDashboardData).not.toHaveBeenCalled();\n    });\n\n    it('should reject admin users', async () => {\n      await expect(\n        controller.getTherapistDashboard(TEST_USER_IDS.ADMIN, 'admin')\n      ).rejects.toThrow(UnauthorizedException);\n\n      expect(dashboardService.getTherapistDashboardData).not.toHaveBeenCalled();\n    });\n\n    it('should handle service errors', async () => {\n      const serviceError = new Error('Failed to fetch therapist dashboard data');\n      mockDashboardService.getTherapistDashboardData.mockRejectedValue(serviceError);\n\n      await expect(\n        controller.getTherapistDashboard(TEST_USER_IDS.THERAPIST, 'therapist')\n      ).rejects.toThrow(serviceError);\n    });\n\n    it('should validate therapist dashboard structure', async () => {\n      mockDashboardService.getTherapistDashboardData.mockResolvedValue(mockTherapistDashboard);\n\n      const result = await controller.getTherapistDashboard(TEST_USER_IDS.THERAPIST, 'therapist');\n\n      expect(result).toHaveProperty('therapist');\n      expect(result).toHaveProperty('clients');\n      expect(result).toHaveProperty('sessions');\n      expect(result).toHaveProperty('worksheets');\n      expect(result).toHaveProperty('analytics');\n\n      expect(result.therapist).toHaveProperty('verified');\n      expect(typeof result.therapist.verified).toBe('boolean');\n      expect(result.clients).toHaveProperty('total');\n      expect(result.clients).toHaveProperty('active');\n      expect(result.analytics).toHaveProperty('averageSessionRating');\n      expect(typeof result.analytics.averageSessionRating).toBe('number');\n    });\n\n    it('should handle therapist with no clients', async () => {\n      const emptyTherapistDashboard = {\n        ...mockTherapistDashboard,\n        clients: {\n          total: 0,\n          active: 0,\n          newThisMonth: 0,\n          recentClients: [],\n        },\n      };\n      mockDashboardService.getTherapistDashboardData.mockResolvedValue(emptyTherapistDashboard);\n\n      const result = await controller.getTherapistDashboard(TEST_USER_IDS.THERAPIST, 'therapist');\n\n      expect(result.clients.total).toBe(0);\n      expect(result.clients.recentClients).toEqual([]);\n    });\n  });\n\n  describe('GET /dashboard/admin', () => {\n    it('should get admin dashboard successfully for admin', async () => {\n      mockDashboardService.getAdminDashboardData.mockResolvedValue(mockAdminDashboard);\n\n      const result = await controller.getAdminDashboard('admin');\n\n      expect(result).toEqual(mockAdminDashboard);\n      expect(dashboardService.getAdminDashboardData).toHaveBeenCalled();\n    });\n\n    it('should reject non-admin users', async () => {\n      await expect(\n        controller.getAdminDashboard('client')\n      ).rejects.toThrow(UnauthorizedException);\n\n      expect(dashboardService.getAdminDashboardData).not.toHaveBeenCalled();\n    });\n\n    it('should reject therapist users', async () => {\n      await expect(\n        controller.getAdminDashboard('therapist')\n      ).rejects.toThrow(UnauthorizedException);\n\n      expect(dashboardService.getAdminDashboardData).not.toHaveBeenCalled();\n    });\n\n    it('should reject moderator users', async () => {\n      await expect(\n        controller.getAdminDashboard('moderator')\n      ).rejects.toThrow(UnauthorizedException);\n\n      expect(dashboardService.getAdminDashboardData).not.toHaveBeenCalled();\n    });\n\n    it('should handle service errors', async () => {\n      const serviceError = new Error('Failed to fetch admin dashboard data');\n      mockDashboardService.getAdminDashboardData.mockRejectedValue(serviceError);\n\n      await expect(\n        controller.getAdminDashboard('admin')\n      ).rejects.toThrow(serviceError);\n    });\n\n    it('should validate admin dashboard structure', async () => {\n      mockDashboardService.getAdminDashboardData.mockResolvedValue(mockAdminDashboard);\n\n      const result = await controller.getAdminDashboard('admin');\n\n      expect(result).toHaveProperty('platformStats');\n      expect(result).toHaveProperty('therapistApplications');\n      expect(result).toHaveProperty('sessionStats');\n      expect(result).toHaveProperty('systemHealth');\n      expect(result).toHaveProperty('contentModeration');\n      expect(result).toHaveProperty('recentActivity');\n\n      expect(result.platformStats).toHaveProperty('totalUsers');\n      expect(typeof result.platformStats.totalUsers).toBe('number');\n      expect(result.systemHealth).toHaveProperty('status');\n      expect(result.systemHealth).toHaveProperty('uptime');\n      expect(typeof result.systemHealth.uptime).toBe('number');\n      expect(Array.isArray(result.recentActivity)).toBe(true);\n    });\n\n    it('should validate recent activity items', async () => {\n      mockDashboardService.getAdminDashboardData.mockResolvedValue(mockAdminDashboard);\n\n      const result = await controller.getAdminDashboard('admin');\n\n      result.recentActivity.forEach(activity => {\n        expect(activity).toHaveProperty('type');\n        expect(activity).toHaveProperty('description');\n        expect(activity).toHaveProperty('timestamp');\n        expect(activity).toHaveProperty('severity');\n        expect(['info', 'warning', 'error', 'critical']).toContain(activity.severity);\n      });\n    });\n  });\n\n  describe('Response Format Validation', () => {\n    it('should return properly formatted user dashboard response', async () => {\n      mockDashboardService.getUserDashboardData.mockResolvedValue(mockUserDashboard);\n\n      const result = await controller.getUserDashboard(TEST_USER_IDS.CLIENT, 'client');\n\n      TestAssertions.expectValidEntity(result, ['user', 'sessions', 'worksheets', 'progress']);\n      expect(result.user).toHaveProperty('id');\n      expect(result.user).toHaveProperty('email');\n      expect(typeof result.user.profileCompleteness).toBe('number');\n      expect(Array.isArray(result.recommendations)).toBe(true);\n    });\n\n    it('should return properly formatted therapist dashboard response', async () => {\n      mockDashboardService.getTherapistDashboardData.mockResolvedValue(mockTherapistDashboard);\n\n      const result = await controller.getTherapistDashboard(TEST_USER_IDS.THERAPIST, 'therapist');\n\n      TestAssertions.expectValidEntity(result, ['therapist', 'clients', 'sessions', 'analytics']);\n      expect(result.therapist).toHaveProperty('id');\n      expect(Array.isArray(result.therapist.specializations)).toBe(true);\n      expect(typeof result.analytics.averageSessionRating).toBe('number');\n      expect(Array.isArray(result.sessions.upcomingSessions)).toBe(true);\n    });\n\n    it('should return properly formatted admin dashboard response', async () => {\n      mockDashboardService.getAdminDashboardData.mockResolvedValue(mockAdminDashboard);\n\n      const result = await controller.getAdminDashboard('admin');\n\n      TestAssertions.expectValidEntity(result, [\n        'platformStats',\n        'therapistApplications',\n        'sessionStats',\n        'systemHealth',\n      ]);\n      expect(typeof result.platformStats.totalUsers).toBe('number');\n      expect(typeof result.systemHealth.uptime).toBe('number');\n      expect(Array.isArray(result.recentActivity)).toBe(true);\n    });\n  });\n\n  describe('Error Handling', () => {\n    it('should handle service unavailable scenarios', async () => {\n      const serviceError = new Error('Dashboard service temporarily unavailable');\n      mockDashboardService.getUserDashboardData.mockRejectedValue(serviceError);\n\n      await expect(\n        controller.getUserDashboard(TEST_USER_IDS.CLIENT, 'client')\n      ).rejects.toThrow(serviceError);\n    });\n\n    it('should handle database connection errors', async () => {\n      const dbError = new Error('Database connection failed');\n      mockDashboardService.getTherapistDashboardData.mockRejectedValue(dbError);\n\n      await expect(\n        controller.getTherapistDashboard(TEST_USER_IDS.THERAPIST, 'therapist')\n      ).rejects.toThrow(dbError);\n    });\n\n    it('should handle invalid user data', async () => {\n      const invalidDataError = new Error('Invalid user data provided');\n      mockDashboardService.getAdminDashboardData.mockRejectedValue(invalidDataError);\n\n      await expect(\n        controller.getAdminDashboard('admin')\n      ).rejects.toThrow(invalidDataError);\n    });\n  });\n\n  describe('Integration Tests', () => {\n    it('should handle complete user dashboard workflow', async () => {\n      mockDashboardService.getUserDashboardData.mockResolvedValue(mockUserDashboard);\n\n      const result = await controller.getUserDashboard(TEST_USER_IDS.CLIENT, 'client');\n\n      expect(result.user.id).toBe(TEST_USER_IDS.CLIENT);\n      expect(result.sessions.total).toBeGreaterThan(0);\n      expect(result.worksheets.assigned).toBeGreaterThanOrEqual(result.worksheets.completed);\n      expect(result.progress.goalProgress).toBeGreaterThanOrEqual(0);\n      expect(result.progress.goalProgress).toBeLessThanOrEqual(100);\n    });\n\n    it('should handle complete therapist dashboard workflow', async () => {\n      mockDashboardService.getTherapistDashboardData.mockResolvedValue(mockTherapistDashboard);\n\n      const result = await controller.getTherapistDashboard(TEST_USER_IDS.THERAPIST, 'therapist');\n\n      expect(result.therapist.id).toBe(TEST_USER_IDS.THERAPIST);\n      expect(result.clients.total).toBeGreaterThanOrEqual(result.clients.active);\n      expect(result.analytics.averageSessionRating).toBeGreaterThan(0);\n      expect(result.analytics.averageSessionRating).toBeLessThanOrEqual(5);\n      expect(result.analytics.sessionCompletionRate).toBeGreaterThanOrEqual(0);\n      expect(result.analytics.sessionCompletionRate).toBeLessThanOrEqual(100);\n    });\n\n    it('should handle complete admin dashboard workflow', async () => {\n      mockDashboardService.getAdminDashboardData.mockResolvedValue(mockAdminDashboard);\n\n      const result = await controller.getAdminDashboard('admin');\n\n      expect(result.platformStats.totalUsers).toBeGreaterThan(0);\n      expect(result.platformStats.totalTherapists).toBeGreaterThan(0);\n      expect(result.platformStats.totalClients).toBeGreaterThan(0);\n      expect(result.systemHealth.status).toBeDefined();\n      expect(result.systemHealth.uptime).toBeGreaterThan(0);\n      expect(result.recentActivity.length).toBeGreaterThan(0);\n    });\n\n    it('should validate role-based access across all endpoints', async () => {\n      // Test client access\n      mockDashboardService.getUserDashboardData.mockResolvedValue(mockUserDashboard);\n      await expect(controller.getUserDashboard(TEST_USER_IDS.CLIENT, 'client')).resolves.toBeDefined();\n      await expect(controller.getTherapistDashboard(TEST_USER_IDS.CLIENT, 'client')).rejects.toThrow();\n      await expect(controller.getAdminDashboard('client')).rejects.toThrow();\n\n      // Test therapist access\n      mockDashboardService.getTherapistDashboardData.mockResolvedValue(mockTherapistDashboard);\n      await expect(controller.getUserDashboard(TEST_USER_IDS.THERAPIST, 'therapist')).rejects.toThrow();\n      await expect(controller.getTherapistDashboard(TEST_USER_IDS.THERAPIST, 'therapist')).resolves.toBeDefined();\n      await expect(controller.getAdminDashboard('therapist')).rejects.toThrow();\n\n      // Test admin access\n      mockDashboardService.getAdminDashboardData.mockResolvedValue(mockAdminDashboard);\n      await expect(controller.getUserDashboard(TEST_USER_IDS.ADMIN, 'admin')).rejects.toThrow();\n      await expect(controller.getTherapistDashboard(TEST_USER_IDS.ADMIN, 'admin')).rejects.toThrow();\n      await expect(controller.getAdminDashboard('admin')).resolves.toBeDefined();\n    });\n  });\n});"],"version":3}