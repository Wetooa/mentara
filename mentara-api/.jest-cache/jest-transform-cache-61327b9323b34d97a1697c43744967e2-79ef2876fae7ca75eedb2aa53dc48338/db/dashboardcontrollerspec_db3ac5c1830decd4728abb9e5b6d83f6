e024465b42ab36b863648e87e961408c
"use strict";
/**
 * Comprehensive Test Suite for DashboardController
 * Tests role-based dashboard data retrieval for different user types
 */
Object.defineProperty(exports, "__esModule", { value: true });
const testing_1 = require("@nestjs/testing");
const common_1 = require("@nestjs/common");
const dashboard_controller_1 = require("./dashboard.controller");
const dashboard_service_1 = require("./dashboard.service");
const jwt_auth_guard_1 = require("../auth/guards/jwt-auth.guard");
const enhanced_test_helpers_1 = require("../test-utils/enhanced-test-helpers");
const index_1 = require("../test-utils/index");
describe('DashboardController', () => {
    let controller;
    let dashboardService;
    let module;
    // Mock DashboardService
    const mockDashboardService = {
        getUserDashboardData: jest.fn(),
        getTherapistDashboardData: jest.fn(),
        getAdminDashboardData: jest.fn(),
    };
    // Mock Guards
    const mockJwtAuthGuard = {
        canActivate: jest.fn().mockReturnValue(true),
    };
    // Test data
    const mockUserDashboard = {
        user: {
            id: index_1.TEST_USER_IDS.CLIENT,
            firstName: 'John',
            lastName: 'Doe',
            email: index_1.TEST_EMAILS.CLIENT,
            profileCompleteness: 85,
        },
        therapist: {
            id: index_1.TEST_USER_IDS.THERAPIST,
            firstName: 'Dr. Sarah',
            lastName: 'Johnson',
            specializations: ['Anxiety', 'Depression', 'CBT'],
        },
        sessions: {
            total: 12,
            completed: 10,
            upcoming: 2,
            recentSessions: [
                {
                    id: 'session_1',
                    date: '2024-02-14T15:00:00Z',
                    type: 'Video Call',
                    status: 'completed',
                },
                {
                    id: 'session_2',
                    date: '2024-02-12T14:00:00Z',
                    type: 'Video Call',
                    status: 'completed',
                },
            ],
        },
        worksheets: {
            assigned: 5,
            completed: 3,
            overdue: 1,
            recent: [
                {
                    id: 'worksheet_1',
                    title: 'Anxiety Management',
                    status: 'completed',
                    completedAt: '2024-02-13T16:30:00Z',
                },
            ],
        },
        progress: {
            moodTrend: [6, 7, 6, 8, 7, 8, 9],
            goalProgress: 75,
            streakDays: 14,
        },
        recommendations: [
            {
                type: 'community',
                title: 'Join Anxiety Support Group',
                description: 'Connect with others experiencing similar challenges',
            },
            {
                type: 'worksheet',
                title: 'Daily Mood Journal',
                description: 'Track your mood patterns to identify triggers',
            },
        ],
    };
    const mockTherapistDashboard = {
        therapist: {
            id: index_1.TEST_USER_IDS.THERAPIST,
            firstName: 'Dr. Sarah',
            lastName: 'Johnson',
            specializations: ['Anxiety', 'Depression', 'CBT'],
            verified: true,
        },
        clients: {
            total: 24,
            active: 18,
            newThisMonth: 3,
            recentClients: [
                {
                    id: 'client_1',
                    firstName: 'John',
                    lastName: 'D.',
                    lastSession: '2024-02-14T15:00:00Z',
                    progress: 'improving',
                },
                {
                    id: 'client_2',
                    firstName: 'Jane',
                    lastName: 'S.',
                    lastSession: '2024-02-13T10:00:00Z',
                    progress: 'stable',
                },
            ],
        },
        sessions: {
            today: 5,
            thisWeek: 23,
            thisMonth: 89,
            upcomingSessions: [
                {
                    id: 'session_upcoming_1',
                    clientName: 'John D.',
                    scheduledTime: '2024-02-15T14:00:00Z',
                    type: 'Video Call',
                },
                {
                    id: 'session_upcoming_2',
                    clientName: 'Jane S.',
                    scheduledTime: '2024-02-15T16:00:00Z',
                    type: 'In-person',
                },
            ],
        },
        worksheets: {
            assigned: 45,
            completed: 38,
            pendingReview: 7,
        },
        analytics: {
            averageSessionRating: 4.7,
            clientSatisfaction: 92,
            sessionCompletionRate: 96,
            responseTime: 2.3,
        },
    };
    const mockAdminDashboard = {
        platformStats: {
            totalUsers: 15647,
            totalTherapists: 234,
            totalClients: 14823,
            totalModerators: 12,
            activeUsers: 8934,
            newUsersThisMonth: 423,
        },
        therapistApplications: {
            pending: 23,
            approved: 189,
            rejected: 34,
            recentApplications: [
                {
                    id: 'app_1',
                    name: 'Dr. Michael Brown',
                    email: 'mbrown@example.com',
                    submittedAt: '2024-02-14T09:30:00Z',
                    status: 'pending',
                },
                {
                    id: 'app_2',
                    name: 'Dr. Lisa Chen',
                    email: 'lchen@example.com',
                    submittedAt: '2024-02-13T14:15:00Z',
                    status: 'approved',
                },
            ],
        },
        sessionStats: {
            totalSessions: 45678,
            sessionsToday: 234,
            sessionsThisWeek: 1847,
            averageSessionDuration: 52.3,
            sessionsByType: {
                video: 28456,
                audio: 8934,
                chat: 4567,
                in_person: 3721,
            },
        },
        systemHealth: {
            status: 'healthy',
            uptime: 99.97,
            responseTime: 145,
            errorRate: 0.02,
            lastBackup: '2024-02-14T03:00:00Z',
        },
        contentModeration: {
            pendingReports: 12,
            flaggedContent: 5,
            moderatorActions: 89,
        },
        recentActivity: [
            {
                type: 'user_registration',
                description: 'New client registered: john.doe@example.com',
                timestamp: '2024-02-14T10:30:00Z',
                severity: 'info',
            },
            {
                type: 'therapist_application',
                description: 'Therapist application submitted: Dr. Michael Brown',
                timestamp: '2024-02-14T09:30:00Z',
                severity: 'info',
            },
            {
                type: 'security_alert',
                description: 'Multiple failed login attempts detected',
                timestamp: '2024-02-14T08:15:00Z',
                severity: 'warning',
            },
        ],
    };
    beforeEach(async () => {
        module = await testing_1.Test.createTestingModule({
            controllers: [dashboard_controller_1.DashboardController],
            providers: [
                {
                    provide: dashboard_service_1.DashboardService,
                    useValue: mockDashboardService,
                },
            ],
        })
            .overrideGuard(jwt_auth_guard_1.JwtAuthGuard)
            .useValue(mockJwtAuthGuard)
            .compile();
        controller = module.get(dashboard_controller_1.DashboardController);
        dashboardService = module.get(dashboard_service_1.DashboardService);
    });
    afterEach(() => {
        jest.clearAllMocks();
    });
    describe('Controller Initialization', () => {
        it('should be defined', () => {
            expect(controller).toBeDefined();
        });
        it('should have dashboardService injected', () => {
            expect(dashboardService).toBeDefined();
        });
    });
    describe('Security Guards', () => {
        it('should be protected by JwtAuthGuard', () => {
            const guards = Reflect.getMetadata('__guards__', dashboard_controller_1.DashboardController);
            expect(guards).toContain(jwt_auth_guard_1.JwtAuthGuard);
        });
        it('should have proper route decorators', () => {
            const controllerMetadata = Reflect.getMetadata('path', dashboard_controller_1.DashboardController);
            expect(controllerMetadata).toBe('dashboard');
        });
    });
    describe('GET /dashboard/user', () => {
        it('should get user dashboard successfully for client', async () => {
            mockDashboardService.getUserDashboardData.mockResolvedValue(mockUserDashboard);
            const result = await controller.getUserDashboard(index_1.TEST_USER_IDS.CLIENT, 'client');
            expect(result).toEqual(mockUserDashboard);
            expect(dashboardService.getUserDashboardData).toHaveBeenCalledWith(index_1.TEST_USER_IDS.CLIENT);
        });
        it('should reject non-client users', async () => {
            await expect(controller.getUserDashboard(index_1.TEST_USER_IDS.THERAPIST, 'therapist')).rejects.toThrow(common_1.UnauthorizedException);
            expect(dashboardService.getUserDashboardData).not.toHaveBeenCalled();
        });
        it('should reject admin users', async () => {
            await expect(controller.getUserDashboard(index_1.TEST_USER_IDS.ADMIN, 'admin')).rejects.toThrow(common_1.UnauthorizedException);
            expect(dashboardService.getUserDashboardData).not.toHaveBeenCalled();
        });
        it('should reject moderator users', async () => {
            await expect(controller.getUserDashboard(index_1.TEST_USER_IDS.MODERATOR, 'moderator')).rejects.toThrow(common_1.UnauthorizedException);
            expect(dashboardService.getUserDashboardData).not.toHaveBeenCalled();
        });
        it('should handle service errors', async () => {
            const serviceError = new Error('Failed to fetch user dashboard data');
            mockDashboardService.getUserDashboardData.mockRejectedValue(serviceError);
            await expect(controller.getUserDashboard(index_1.TEST_USER_IDS.CLIENT, 'client')).rejects.toThrow(serviceError);
        });
        it('should validate dashboard data structure', async () => {
            mockDashboardService.getUserDashboardData.mockResolvedValue(mockUserDashboard);
            const result = await controller.getUserDashboard(index_1.TEST_USER_IDS.CLIENT, 'client');
            expect(result).toHaveProperty('user');
            expect(result).toHaveProperty('therapist');
            expect(result).toHaveProperty('sessions');
            expect(result).toHaveProperty('worksheets');
            expect(result).toHaveProperty('progress');
            expect(result).toHaveProperty('recommendations');
            expect(result.user).toHaveProperty('profileCompleteness');
            expect(typeof result.user.profileCompleteness).toBe('number');
            expect(result.sessions).toHaveProperty('total');
            expect(result.sessions).toHaveProperty('completed');
            expect(result.sessions).toHaveProperty('upcoming');
        });
    });
    describe('GET /dashboard/therapist', () => {
        it('should get therapist dashboard successfully for therapist', async () => {
            mockDashboardService.getTherapistDashboardData.mockResolvedValue(mockTherapistDashboard);
            const result = await controller.getTherapistDashboard(index_1.TEST_USER_IDS.THERAPIST, 'therapist');
            expect(result).toEqual(mockTherapistDashboard);
            expect(dashboardService.getTherapistDashboardData).toHaveBeenCalledWith(index_1.TEST_USER_IDS.THERAPIST);
        });
        it('should reject non-therapist users', async () => {
            await expect(controller.getTherapistDashboard(index_1.TEST_USER_IDS.CLIENT, 'client')).rejects.toThrow(common_1.UnauthorizedException);
            expect(dashboardService.getTherapistDashboardData).not.toHaveBeenCalled();
        });
        it('should reject admin users', async () => {
            await expect(controller.getTherapistDashboard(index_1.TEST_USER_IDS.ADMIN, 'admin')).rejects.toThrow(common_1.UnauthorizedException);
            expect(dashboardService.getTherapistDashboardData).not.toHaveBeenCalled();
        });
        it('should handle service errors', async () => {
            const serviceError = new Error('Failed to fetch therapist dashboard data');
            mockDashboardService.getTherapistDashboardData.mockRejectedValue(serviceError);
            await expect(controller.getTherapistDashboard(index_1.TEST_USER_IDS.THERAPIST, 'therapist')).rejects.toThrow(serviceError);
        });
        it('should validate therapist dashboard structure', async () => {
            mockDashboardService.getTherapistDashboardData.mockResolvedValue(mockTherapistDashboard);
            const result = await controller.getTherapistDashboard(index_1.TEST_USER_IDS.THERAPIST, 'therapist');
            expect(result).toHaveProperty('therapist');
            expect(result).toHaveProperty('clients');
            expect(result).toHaveProperty('sessions');
            expect(result).toHaveProperty('worksheets');
            expect(result).toHaveProperty('analytics');
            expect(result.therapist).toHaveProperty('verified');
            expect(typeof result.therapist.verified).toBe('boolean');
            expect(result.clients).toHaveProperty('total');
            expect(result.clients).toHaveProperty('active');
            expect(result.analytics).toHaveProperty('averageSessionRating');
            expect(typeof result.analytics.averageSessionRating).toBe('number');
        });
        it('should handle therapist with no clients', async () => {
            const emptyTherapistDashboard = {
                ...mockTherapistDashboard,
                clients: {
                    total: 0,
                    active: 0,
                    newThisMonth: 0,
                    recentClients: [],
                },
            };
            mockDashboardService.getTherapistDashboardData.mockResolvedValue(emptyTherapistDashboard);
            const result = await controller.getTherapistDashboard(index_1.TEST_USER_IDS.THERAPIST, 'therapist');
            expect(result.clients.total).toBe(0);
            expect(result.clients.recentClients).toEqual([]);
        });
    });
    describe('GET /dashboard/admin', () => {
        it('should get admin dashboard successfully for admin', async () => {
            mockDashboardService.getAdminDashboardData.mockResolvedValue(mockAdminDashboard);
            const result = await controller.getAdminDashboard('admin');
            expect(result).toEqual(mockAdminDashboard);
            expect(dashboardService.getAdminDashboardData).toHaveBeenCalled();
        });
        it('should reject non-admin users', async () => {
            await expect(controller.getAdminDashboard('client')).rejects.toThrow(common_1.UnauthorizedException);
            expect(dashboardService.getAdminDashboardData).not.toHaveBeenCalled();
        });
        it('should reject therapist users', async () => {
            await expect(controller.getAdminDashboard('therapist')).rejects.toThrow(common_1.UnauthorizedException);
            expect(dashboardService.getAdminDashboardData).not.toHaveBeenCalled();
        });
        it('should reject moderator users', async () => {
            await expect(controller.getAdminDashboard('moderator')).rejects.toThrow(common_1.UnauthorizedException);
            expect(dashboardService.getAdminDashboardData).not.toHaveBeenCalled();
        });
        it('should handle service errors', async () => {
            const serviceError = new Error('Failed to fetch admin dashboard data');
            mockDashboardService.getAdminDashboardData.mockRejectedValue(serviceError);
            await expect(controller.getAdminDashboard('admin')).rejects.toThrow(serviceError);
        });
        it('should validate admin dashboard structure', async () => {
            mockDashboardService.getAdminDashboardData.mockResolvedValue(mockAdminDashboard);
            const result = await controller.getAdminDashboard('admin');
            expect(result).toHaveProperty('platformStats');
            expect(result).toHaveProperty('therapistApplications');
            expect(result).toHaveProperty('sessionStats');
            expect(result).toHaveProperty('systemHealth');
            expect(result).toHaveProperty('contentModeration');
            expect(result).toHaveProperty('recentActivity');
            expect(result.platformStats).toHaveProperty('totalUsers');
            expect(typeof result.platformStats.totalUsers).toBe('number');
            expect(result.systemHealth).toHaveProperty('status');
            expect(result.systemHealth).toHaveProperty('uptime');
            expect(typeof result.systemHealth.uptime).toBe('number');
            expect(Array.isArray(result.recentActivity)).toBe(true);
        });
        it('should validate recent activity items', async () => {
            mockDashboardService.getAdminDashboardData.mockResolvedValue(mockAdminDashboard);
            const result = await controller.getAdminDashboard('admin');
            result.recentActivity.forEach(activity => {
                expect(activity).toHaveProperty('type');
                expect(activity).toHaveProperty('description');
                expect(activity).toHaveProperty('timestamp');
                expect(activity).toHaveProperty('severity');
                expect(['info', 'warning', 'error', 'critical']).toContain(activity.severity);
            });
        });
    });
    describe('Response Format Validation', () => {
        it('should return properly formatted user dashboard response', async () => {
            mockDashboardService.getUserDashboardData.mockResolvedValue(mockUserDashboard);
            const result = await controller.getUserDashboard(index_1.TEST_USER_IDS.CLIENT, 'client');
            enhanced_test_helpers_1.TestAssertions.expectValidEntity(result, ['user', 'sessions', 'worksheets', 'progress']);
            expect(result.user).toHaveProperty('id');
            expect(result.user).toHaveProperty('email');
            expect(typeof result.user.profileCompleteness).toBe('number');
            expect(Array.isArray(result.recommendations)).toBe(true);
        });
        it('should return properly formatted therapist dashboard response', async () => {
            mockDashboardService.getTherapistDashboardData.mockResolvedValue(mockTherapistDashboard);
            const result = await controller.getTherapistDashboard(index_1.TEST_USER_IDS.THERAPIST, 'therapist');
            enhanced_test_helpers_1.TestAssertions.expectValidEntity(result, ['therapist', 'clients', 'sessions', 'analytics']);
            expect(result.therapist).toHaveProperty('id');
            expect(Array.isArray(result.therapist.specializations)).toBe(true);
            expect(typeof result.analytics.averageSessionRating).toBe('number');
            expect(Array.isArray(result.sessions.upcomingSessions)).toBe(true);
        });
        it('should return properly formatted admin dashboard response', async () => {
            mockDashboardService.getAdminDashboardData.mockResolvedValue(mockAdminDashboard);
            const result = await controller.getAdminDashboard('admin');
            enhanced_test_helpers_1.TestAssertions.expectValidEntity(result, [
                'platformStats',
                'therapistApplications',
                'sessionStats',
                'systemHealth',
            ]);
            expect(typeof result.platformStats.totalUsers).toBe('number');
            expect(typeof result.systemHealth.uptime).toBe('number');
            expect(Array.isArray(result.recentActivity)).toBe(true);
        });
    });
    describe('Error Handling', () => {
        it('should handle service unavailable scenarios', async () => {
            const serviceError = new Error('Dashboard service temporarily unavailable');
            mockDashboardService.getUserDashboardData.mockRejectedValue(serviceError);
            await expect(controller.getUserDashboard(index_1.TEST_USER_IDS.CLIENT, 'client')).rejects.toThrow(serviceError);
        });
        it('should handle database connection errors', async () => {
            const dbError = new Error('Database connection failed');
            mockDashboardService.getTherapistDashboardData.mockRejectedValue(dbError);
            await expect(controller.getTherapistDashboard(index_1.TEST_USER_IDS.THERAPIST, 'therapist')).rejects.toThrow(dbError);
        });
        it('should handle invalid user data', async () => {
            const invalidDataError = new Error('Invalid user data provided');
            mockDashboardService.getAdminDashboardData.mockRejectedValue(invalidDataError);
            await expect(controller.getAdminDashboard('admin')).rejects.toThrow(invalidDataError);
        });
    });
    describe('Integration Tests', () => {
        it('should handle complete user dashboard workflow', async () => {
            mockDashboardService.getUserDashboardData.mockResolvedValue(mockUserDashboard);
            const result = await controller.getUserDashboard(index_1.TEST_USER_IDS.CLIENT, 'client');
            expect(result.user.id).toBe(index_1.TEST_USER_IDS.CLIENT);
            expect(result.sessions.total).toBeGreaterThan(0);
            expect(result.worksheets.assigned).toBeGreaterThanOrEqual(result.worksheets.completed);
            expect(result.progress.goalProgress).toBeGreaterThanOrEqual(0);
            expect(result.progress.goalProgress).toBeLessThanOrEqual(100);
        });
        it('should handle complete therapist dashboard workflow', async () => {
            mockDashboardService.getTherapistDashboardData.mockResolvedValue(mockTherapistDashboard);
            const result = await controller.getTherapistDashboard(index_1.TEST_USER_IDS.THERAPIST, 'therapist');
            expect(result.therapist.id).toBe(index_1.TEST_USER_IDS.THERAPIST);
            expect(result.clients.total).toBeGreaterThanOrEqual(result.clients.active);
            expect(result.analytics.averageSessionRating).toBeGreaterThan(0);
            expect(result.analytics.averageSessionRating).toBeLessThanOrEqual(5);
            expect(result.analytics.sessionCompletionRate).toBeGreaterThanOrEqual(0);
            expect(result.analytics.sessionCompletionRate).toBeLessThanOrEqual(100);
        });
        it('should handle complete admin dashboard workflow', async () => {
            mockDashboardService.getAdminDashboardData.mockResolvedValue(mockAdminDashboard);
            const result = await controller.getAdminDashboard('admin');
            expect(result.platformStats.totalUsers).toBeGreaterThan(0);
            expect(result.platformStats.totalTherapists).toBeGreaterThan(0);
            expect(result.platformStats.totalClients).toBeGreaterThan(0);
            expect(result.systemHealth.status).toBeDefined();
            expect(result.systemHealth.uptime).toBeGreaterThan(0);
            expect(result.recentActivity.length).toBeGreaterThan(0);
        });
        it('should validate role-based access across all endpoints', async () => {
            // Test client access
            mockDashboardService.getUserDashboardData.mockResolvedValue(mockUserDashboard);
            await expect(controller.getUserDashboard(index_1.TEST_USER_IDS.CLIENT, 'client')).resolves.toBeDefined();
            await expect(controller.getTherapistDashboard(index_1.TEST_USER_IDS.CLIENT, 'client')).rejects.toThrow();
            await expect(controller.getAdminDashboard('client')).rejects.toThrow();
            // Test therapist access
            mockDashboardService.getTherapistDashboardData.mockResolvedValue(mockTherapistDashboard);
            await expect(controller.getUserDashboard(index_1.TEST_USER_IDS.THERAPIST, 'therapist')).rejects.toThrow();
            await expect(controller.getTherapistDashboard(index_1.TEST_USER_IDS.THERAPIST, 'therapist')).resolves.toBeDefined();
            await expect(controller.getAdminDashboard('therapist')).rejects.toThrow();
            // Test admin access
            mockDashboardService.getAdminDashboardData.mockResolvedValue(mockAdminDashboard);
            await expect(controller.getUserDashboard(index_1.TEST_USER_IDS.ADMIN, 'admin')).rejects.toThrow();
            await expect(controller.getTherapistDashboard(index_1.TEST_USER_IDS.ADMIN, 'admin')).rejects.toThrow();
            await expect(controller.getAdminDashboard('admin')).resolves.toBeDefined();
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvd2V0b29hL0RvY3VtZW50cy9jb2RlL3Byb2plY3RzL21lbnRhcmEvbWVudGFyYS1hcGkvc3JjL2Rhc2hib2FyZC9kYXNoYm9hcmQuY29udHJvbGxlci5zcGVjLnRzIiwibWFwcGluZ3MiOiI7QUFBQTs7O0dBR0c7O0FBRUgsNkNBQXNEO0FBQ3RELDJDQUFtRTtBQUNuRSxpRUFBNkQ7QUFDN0QsMkRBQXVEO0FBQ3ZELGtFQUE2RDtBQUU3RCwrRUFBcUc7QUFDckcsK0NBQWlFO0FBRWpFLFFBQVEsQ0FBQyxxQkFBcUIsRUFBRSxHQUFHLEVBQUU7SUFDbkMsSUFBSSxVQUErQixDQUFDO0lBQ3BDLElBQUksZ0JBQWtDLENBQUM7SUFDdkMsSUFBSSxNQUFxQixDQUFDO0lBRTFCLHdCQUF3QjtJQUN4QixNQUFNLG9CQUFvQixHQUFHO1FBQzNCLG9CQUFvQixFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7UUFDL0IseUJBQXlCLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtRQUNwQyxxQkFBcUIsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO0tBQ2pDLENBQUM7SUFFRixjQUFjO0lBQ2QsTUFBTSxnQkFBZ0IsR0FBRztRQUN2QixXQUFXLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUM7S0FDN0MsQ0FBQztJQUVGLFlBQVk7SUFDWixNQUFNLGlCQUFpQixHQUFHO1FBQ3hCLElBQUksRUFBRTtZQUNKLEVBQUUsRUFBRSxxQkFBYSxDQUFDLE1BQU07WUFDeEIsU0FBUyxFQUFFLE1BQU07WUFDakIsUUFBUSxFQUFFLEtBQUs7WUFDZixLQUFLLEVBQUUsbUJBQVcsQ0FBQyxNQUFNO1lBQ3pCLG1CQUFtQixFQUFFLEVBQUU7U0FDeEI7UUFDRCxTQUFTLEVBQUU7WUFDVCxFQUFFLEVBQUUscUJBQWEsQ0FBQyxTQUFTO1lBQzNCLFNBQVMsRUFBRSxXQUFXO1lBQ3RCLFFBQVEsRUFBRSxTQUFTO1lBQ25CLGVBQWUsRUFBRSxDQUFDLFNBQVMsRUFBRSxZQUFZ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LENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRSxDQUFDO1lBQzFGLE1BQU0sTUFBTSxDQUFDLFVBQVUsQ0FBQyxxQkFBcUIsQ0FBQyxxQkFBYSxDQUFDLEtBQUssRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUMvRixNQUFNLE1BQU0sQ0FBQyxVQUFVLENBQUMsaUJBQWlCLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDN0UsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9ob21lL3dldG9vYS9Eb2N1bWVudHMvY29kZS9wcm9qZWN0cy9tZW50YXJhL21lbnRhcmEtYXBpL3NyYy9kYXNoYm9hcmQvZGFzaGJvYXJkLmNvbnRyb2xsZXIuc3BlYy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvbXByZWhlbnNpdmUgVGVzdCBTdWl0ZSBmb3IgRGFzaGJvYXJkQ29udHJvbGxlclxuICogVGVzdHMgcm9sZS1iYXNlZCBkYXNoYm9hcmQgZGF0YSByZXRyaWV2YWwgZm9yIGRpZmZlcmVudCB1c2VyIHR5cGVzXG4gKi9cblxuaW1wb3J0IHsgVGVzdCwgVGVzdGluZ01vZHVsZSB9IGZyb20gJ0BuZXN0anMvdGVzdGluZyc7XG5pbXBvcnQgeyBVbmF1dGhvcml6ZWRFeGNlcHRpb24sIEh0dHBTdGF0dXMgfSBmcm9tICdAbmVzdGpzL2NvbW1vbic7XG5pbXBvcnQgeyBEYXNoYm9hcmRDb250cm9sbGVyIH0gZnJvbSAnLi9kYXNoYm9hcmQuY29udHJvbGxlcic7XG5pbXBvcnQgeyBEYXNoYm9hcmRTZXJ2aWNlIH0gZnJvbSAnLi9kYXNoYm9hcmQuc2VydmljZSc7XG5pbXBvcnQgeyBKd3RBdXRoR3VhcmQgfSBmcm9tICcuLi9hdXRoL2d1YXJkcy9qd3QtYXV0aC5ndWFyZCc7XG5pbXBvcnQgeyBTZWN1cml0eUd1YXJkVGVzdFV0aWxzLCBSb2xlQmFzZWRUZXN0VXRpbHMgfSBmcm9tICcuLi90ZXN0LXV0aWxzL2F1dGgtdGVzdGluZy1oZWxwZXJzJztcbmltcG9ydCB7IE1vY2tCdWlsZGVyLCBUZXN0RGF0YUdlbmVyYXRvciwgVGVzdEFzc2VydGlvbnMgfSBmcm9tICcuLi90ZXN0LXV0aWxzL2VuaGFuY2VkLXRlc3QtaGVscGVycyc7XG5pbXBvcnQgeyBURVNUX1VTRVJfSURTLCBURVNUX0VNQUlMUyB9IGZyb20gJy4uL3Rlc3QtdXRpbHMvaW5kZXgnO1xuXG5kZXNjcmliZSgnRGFzaGJvYXJkQ29udHJvbGxlcicsICgpID0+IHtcbiAgbGV0IGNvbnRyb2xsZXI6IERhc2hib2FyZENvbnRyb2xsZXI7XG4gIGxldCBkYXNoYm9hcmRTZXJ2aWNlOiBEYXNoYm9hcmRTZXJ2aWNlO1xuICBsZXQgbW9kdWxlOiBUZXN0aW5nTW9kdWxlO1xuXG4gIC8vIE1vY2sgRGFzaGJvYXJkU2VydmljZVxuICBjb25zdCBtb2NrRGFzaGJvYXJkU2VydmljZSA9IHtcbiAgICBnZXRVc2VyRGFzaGJvYXJkRGF0YTogamVzdC5mbigpLFxuICAgIGdldFRoZXJhcGlzdERhc2hib2FyZERhdGE6IGplc3QuZm4oKSxcbiAgICBnZXRBZG1pbkRhc2hib2FyZERhdGE6IGplc3QuZm4oKSxcbiAgfTtcblxuICAvLyBNb2NrIEd1YXJkc1xuICBjb25zdCBtb2NrSnd0QXV0aEd1YXJkID0ge1xuICAgIGNhbkFjdGl2YXRlOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHRydWUpLFxuICB9O1xuXG4gIC8vIFRlc3QgZGF0YVxuICBjb25zdCBtb2NrVXNlckRhc2hib2FyZCA9IHtcbiAgICB1c2VyOiB7XG4gICAgICBpZDogVEVTVF9VU0VSX0lEUy5DTElFTlQsXG4gICAgICBmaXJzdE5hbWU6ICdKb2huJyxcbiAgICAgIGxhc3ROYW1lOiAnRG9lJyxcbiAgICAgIGVtYWlsOiBURVNUX0VNQUlMUy5DTElFTlQsXG4gICAgICBwcm9maWxlQ29tcGxldGVuZXNzOiA4NSxcbiAgICB9LFxuICAgIHRoZXJhcGlzdDoge1xuICAgICAgaWQ6IFRFU1RfVVNFUl9JRFMuVEhFUkFQSVNULFxuICAgICAgZmlyc3ROYW1lOiAnRHIuIFNhcmFoJyxcbiAgICAgIGxhc3ROYW1lOiAnSm9obnNvbicsXG4gICAgICBzcGVjaWFsaXphdGlvbnM6IFsnQW54aWV0eScsICdEZXByZXNzaW9uJywgJ0NCVCddLFxuICAgIH0sXG4gICAgc2Vzc2lvbnM6IHtcbiAgICAgIHRvdGFsOiAxMixcbiAgICAgIGNvbXBsZXRlZDogMTAsXG4gICAgICB1cGNvbWluZzogMixcbiAgICAgIHJlY2VudFNlc3Npb25zOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ3Nlc3Npb25fMScsXG4gICAgICAgICAgZGF0ZTogJzIwMjQtMDItMTRUMTU6MDA6MDBaJyxcbiAgICAgICAgICB0eXBlOiAnVmlkZW8gQ2FsbCcsXG4gICAgICAgICAgc3RhdHVzOiAnY29tcGxldGVkJyxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnc2Vzc2lvbl8yJyxcbiAgICAgICAgICBkYXRlOiAnMjAyNC0wMi0xMlQxNDowMDowMFonLFxuICAgICAgICAgIHR5cGU6ICdWaWRlbyBDYWxsJyxcbiAgICAgICAgICBzdGF0dXM6ICdjb21wbGV0ZWQnLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICB9LFxuICAgIHdvcmtzaGVldHM6IHtcbiAgICAgIGFzc2lnbmVkOiA1LFxuICAgICAgY29tcGxldGVkOiAzLFxuICAgICAgb3ZlcmR1ZTogMSxcbiAgICAgIHJlY2VudDogW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICd3b3Jrc2hlZXRfMScsXG4gICAgICAgICAgdGl0bGU6ICdBbnhpZXR5IE1hbmFnZW1lbnQnLFxuICAgICAgICAgIHN0YXR1czogJ2NvbXBsZXRlZCcsXG4gICAgICAgICAgY29tcGxldGVkQXQ6ICcyMDI0LTAyLTEzVDE2OjMwOjAwWicsXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgIH0sXG4gICAgcHJvZ3Jlc3M6IHtcbiAgICAgIG1vb2RUcmVuZDogWzYsIDcsIDYsIDgsIDcsIDgsIDldLFxuICAgICAgZ29hbFByb2dyZXNzOiA3NSxcbiAgICAgIHN0cmVha0RheXM6IDE0LFxuICAgIH0sXG4gICAgcmVjb21tZW5kYXRpb25zOiBbXG4gICAgICB7XG4gICAgICAgIHR5cGU6ICdjb21tdW5pdHknLFxuICAgICAgICB0aXRsZTogJ0pvaW4gQW54aWV0eSBTdXBwb3J0IEdyb3VwJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdDb25uZWN0IHdpdGggb3RoZXJzIGV4cGVyaWVuY2luZyBzaW1pbGFyIGNoYWxsZW5nZXMnLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdHlwZTogJ3dvcmtzaGVldCcsXG4gICAgICAgIHRpdGxlOiAnRGFpbHkgTW9vZCBKb3VybmFsJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdUcmFjayB5b3VyIG1vb2QgcGF0dGVybnMgdG8gaWRlbnRpZnkgdHJpZ2dlcnMnLFxuICAgICAgfSxcbiAgICBdLFxuICB9O1xuXG4gIGNvbnN0IG1vY2tUaGVyYXBpc3REYXNoYm9hcmQgPSB7XG4gICAgdGhlcmFwaXN0OiB7XG4gICAgICBpZDogVEVTVF9VU0VSX0lEUy5USEVSQVBJU1QsXG4gICAgICBmaXJzdE5hbWU6ICdEci4gU2FyYWgnLFxuICAgICAgbGFzdE5hbWU6ICdKb2huc29uJyxcbiAgICAgIHNwZWNpYWxpemF0aW9uczogWydBbnhpZXR5JywgJ0RlcHJlc3Npb24nLCAnQ0JUJ10sXG4gICAgICB2ZXJpZmllZDogdHJ1ZSxcbiAgICB9LFxuICAgIGNsaWVudHM6IHtcbiAgICAgIHRvdGFsOiAyNCxcbiAgICAgIGFjdGl2ZTogMTgsXG4gICAgICBuZXdUaGlzTW9udGg6IDMsXG4gICAgICByZWNlbnRDbGllbnRzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ2NsaWVudF8xJyxcbiAgICAgICAgICBmaXJzdE5hbWU6ICdKb2huJyxcbiAgICAgICAgICBsYXN0TmFtZTogJ0QuJyxcbiAgICAgICAgICBsYXN0U2Vzc2lvbjogJzIwMjQtMDItMTRUMTU6MDA6MDBaJyxcbiAgICAgICAgICBwcm9ncmVzczogJ2ltcHJvdmluZycsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ2NsaWVudF8yJyxcbiAgICAgICAgICBmaXJzdE5hbWU6ICdKYW5lJyxcbiAgICAgICAgICBsYXN0TmFtZTogJ1MuJyxcbiAgICAgICAgICBsYXN0U2Vzc2lvbjogJzIwMjQtMDItMTNUMTA6MDA6MDBaJyxcbiAgICAgICAgICBwcm9ncmVzczogJ3N0YWJsZScsXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgIH0sXG4gICAgc2Vzc2lvbnM6IHtcbiAgICAgIHRvZGF5OiA1LFxuICAgICAgdGhpc1dlZWs6IDIzLFxuICAgICAgdGhpc01vbnRoOiA4OSxcbiAgICAgIHVwY29taW5nU2Vzc2lvbnM6IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnc2Vzc2lvbl91cGNvbWluZ18xJyxcbiAgICAgICAgICBjbGllbnROYW1lOiAnSm9obiBELicsXG4gICAgICAgICAgc2NoZWR1bGVkVGltZTogJzIwMjQtMDItMTVUMTQ6MDA6MDBaJyxcbiAgICAgICAgICB0eXBlOiAnVmlkZW8gQ2FsbCcsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ3Nlc3Npb25fdXBjb21pbmdfMicsXG4gICAgICAgICAgY2xpZW50TmFtZTogJ0phbmUgUy4nLFxuICAgICAgICAgIHNjaGVkdWxlZFRpbWU6ICcyMDI0LTAyLTE1VDE2OjAwOjAwWicsXG4gICAgICAgICAgdHlwZTogJ0luLXBlcnNvbicsXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgIH0sXG4gICAgd29ya3NoZWV0czoge1xuICAgICAgYXNzaWduZWQ6IDQ1LFxuICAgICAgY29tcGxldGVkOiAzOCxcbiAgICAgIHBlbmRpbmdSZXZpZXc6IDcsXG4gICAgfSxcbiAgICBhbmFseXRpY3M6IHtcbiAgICAgIGF2ZXJhZ2VTZXNzaW9uUmF0aW5nOiA0LjcsXG4gICAgICBjbGllbnRTYXRpc2ZhY3Rpb246IDkyLFxuICAgICAgc2Vzc2lvbkNvbXBsZXRpb25SYXRlOiA5NixcbiAgICAgIHJlc3BvbnNlVGltZTogMi4zLFxuICAgIH0sXG4gIH07XG5cbiAgY29uc3QgbW9ja0FkbWluRGFzaGJvYXJkID0ge1xuICAgIHBsYXRmb3JtU3RhdHM6IHtcbiAgICAgIHRvdGFsVXNlcnM6IDE1NjQ3LFxuICAgICAgdG90YWxUaGVyYXBpc3RzOiAyMzQsXG4gICAgICB0b3RhbENsaWVudHM6IDE0ODIzLFxuICAgICAgdG90YWxNb2RlcmF0b3JzOiAxMixcbiAgICAgIGFjdGl2ZVVzZXJzOiA4OTM0LFxuICAgICAgbmV3VXNlcnNUaGlzTW9udGg6IDQyMyxcbiAgICB9LFxuICAgIHRoZXJhcGlzdEFwcGxpY2F0aW9uczoge1xuICAgICAgcGVuZGluZzogMjMsXG4gICAgICBhcHByb3ZlZDogMTg5LFxuICAgICAgcmVqZWN0ZWQ6IDM0LFxuICAgICAgcmVjZW50QXBwbGljYXRpb25zOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ2FwcF8xJyxcbiAgICAgICAgICBuYW1lOiAnRHIuIE1pY2hhZWwgQnJvd24nLFxuICAgICAgICAgIGVtYWlsOiAnbWJyb3duQGV4YW1wbGUuY29tJyxcbiAgICAgICAgICBzdWJtaXR0ZWRBdDogJzIwMjQtMDItMTRUMDk6MzA6MDBaJyxcbiAgICAgICAgICBzdGF0dXM6ICdwZW5kaW5nJyxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnYXBwXzInLFxuICAgICAgICAgIG5hbWU6ICdEci4gTGlzYSBDaGVuJyxcbiAgICAgICAgICBlbWFpbDogJ2xjaGVuQGV4YW1wbGUuY29tJyxcbiAgICAgICAgICBzdWJtaXR0ZWRBdDogJzIwMjQtMDItMTNUMTQ6MTU6MDBaJyxcbiAgICAgICAgICBzdGF0dXM6ICdhcHByb3ZlZCcsXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgIH0sXG4gICAgc2Vzc2lvblN0YXRzOiB7XG4gICAgICB0b3RhbFNlc3Npb25zOiA0NTY3OCxcbiAgICAgIHNlc3Npb25zVG9kYXk6IDIzNCxcbiAgICAgIHNlc3Npb25zVGhpc1dlZWs6IDE4NDcsXG4gICAgICBhdmVyYWdlU2Vzc2lvbkR1cmF0aW9uOiA1Mi4zLFxuICAgICAgc2Vzc2lvbnNCeVR5cGU6IHtcbiAgICAgICAgdmlkZW86IDI4NDU2LFxuICAgICAgICBhdWRpbzogODkzNCxcbiAgICAgICAgY2hhdDogNDU2NyxcbiAgICAgICAgaW5fcGVyc29uOiAzNzIxLFxuICAgICAgfSxcbiAgICB9LFxuICAgIHN5c3RlbUhlYWx0aDoge1xuICAgICAgc3RhdHVzOiAnaGVhbHRoeScsXG4gICAgICB1cHRpbWU6IDk5Ljk3LFxuICAgICAgcmVzcG9uc2VUaW1lOiAxNDUsXG4gICAgICBlcnJvclJhdGU6IDAuMDIsXG4gICAgICBsYXN0QmFja3VwOiAnMjAyNC0wMi0xNFQwMzowMDowMFonLFxuICAgIH0sXG4gICAgY29udGVudE1vZGVyYXRpb246IHtcbiAgICAgIHBlbmRpbmdSZXBvcnRzOiAxMixcbiAgICAgIGZsYWdnZWRDb250ZW50OiA1LFxuICAgICAgbW9kZXJhdG9yQWN0aW9uczogODksXG4gICAgfSxcbiAgICByZWNlbnRBY3Rpdml0eTogW1xuICAgICAge1xuICAgICAgICB0eXBlOiAndXNlcl9yZWdpc3RyYXRpb24nLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ05ldyBjbGllbnQgcmVnaXN0ZXJlZDogam9obi5kb2VAZXhhbXBsZS5jb20nLFxuICAgICAgICB0aW1lc3RhbXA6ICcyMDI0LTAyLTE0VDEwOjMwOjAwWicsXG4gICAgICAgIHNldmVyaXR5OiAnaW5mbycsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0eXBlOiAndGhlcmFwaXN0X2FwcGxpY2F0aW9uJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdUaGVyYXBpc3QgYXBwbGljYXRpb24gc3VibWl0dGVkOiBEci4gTWljaGFlbCBCcm93bicsXG4gICAgICAgIHRpbWVzdGFtcDogJzIwMjQtMDItMTRUMDk6MzA6MDBaJyxcbiAgICAgICAgc2V2ZXJpdHk6ICdpbmZvJyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHR5cGU6ICdzZWN1cml0eV9hbGVydCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnTXVsdGlwbGUgZmFpbGVkIGxvZ2luIGF0dGVtcHRzIGRldGVjdGVkJyxcbiAgICAgICAgdGltZXN0YW1wOiAnMjAyNC0wMi0xNFQwODoxNTowMFonLFxuICAgICAgICBzZXZlcml0eTogJ3dhcm5pbmcnLFxuICAgICAgfSxcbiAgICBdLFxuICB9O1xuXG4gIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xuICAgIG1vZHVsZSA9IGF3YWl0IFRlc3QuY3JlYXRlVGVzdGluZ01vZHVsZSh7XG4gICAgICBjb250cm9sbGVyczogW0Rhc2hib2FyZENvbnRyb2xsZXJdLFxuICAgICAgcHJvdmlkZXJzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBwcm92aWRlOiBEYXNoYm9hcmRTZXJ2aWNlLFxuICAgICAgICAgIHVzZVZhbHVlOiBtb2NrRGFzaGJvYXJkU2VydmljZSxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfSlcbiAgICAgIC5vdmVycmlkZUd1YXJkKEp3dEF1dGhHdWFyZClcbiAgICAgIC51c2VWYWx1ZShtb2NrSnd0QXV0aEd1YXJkKVxuICAgICAgLmNvbXBpbGUoKTtcblxuICAgIGNvbnRyb2xsZXIgPSBtb2R1bGUuZ2V0PERhc2hib2FyZENvbnRyb2xsZXI+KERhc2hib2FyZENvbnRyb2xsZXIpO1xuICAgIGRhc2hib2FyZFNlcnZpY2UgPSBtb2R1bGUuZ2V0PERhc2hib2FyZFNlcnZpY2U+KERhc2hib2FyZFNlcnZpY2UpO1xuICB9KTtcblxuICBhZnRlckVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICB9KTtcblxuICBkZXNjcmliZSgnQ29udHJvbGxlciBJbml0aWFsaXphdGlvbicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGJlIGRlZmluZWQnLCAoKSA9PiB7XG4gICAgICBleHBlY3QoY29udHJvbGxlcikudG9CZURlZmluZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGF2ZSBkYXNoYm9hcmRTZXJ2aWNlIGluamVjdGVkJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KGRhc2hib2FyZFNlcnZpY2UpLnRvQmVEZWZpbmVkKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdTZWN1cml0eSBHdWFyZHMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBiZSBwcm90ZWN0ZWQgYnkgSnd0QXV0aEd1YXJkJywgKCkgPT4ge1xuICAgICAgY29uc3QgZ3VhcmRzID0gUmVmbGVjdC5nZXRNZXRhZGF0YSgnX19ndWFyZHNfXycsIERhc2hib2FyZENvbnRyb2xsZXIpO1xuICAgICAgZXhwZWN0KGd1YXJkcykudG9Db250YWluKEp3dEF1dGhHdWFyZCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhdmUgcHJvcGVyIHJvdXRlIGRlY29yYXRvcnMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBjb250cm9sbGVyTWV0YWRhdGEgPSBSZWZsZWN0LmdldE1ldGFkYXRhKCdwYXRoJywgRGFzaGJvYXJkQ29udHJvbGxlcik7XG4gICAgICBleHBlY3QoY29udHJvbGxlck1ldGFkYXRhKS50b0JlKCdkYXNoYm9hcmQnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0dFVCAvZGFzaGJvYXJkL3VzZXInLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBnZXQgdXNlciBkYXNoYm9hcmQgc3VjY2Vzc2Z1bGx5IGZvciBjbGllbnQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRGFzaGJvYXJkU2VydmljZS5nZXRVc2VyRGFzaGJvYXJkRGF0YS5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrVXNlckRhc2hib2FyZCk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbnRyb2xsZXIuZ2V0VXNlckRhc2hib2FyZChURVNUX1VTRVJfSURTLkNMSUVOVCwgJ2NsaWVudCcpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKG1vY2tVc2VyRGFzaGJvYXJkKTtcbiAgICAgIGV4cGVjdChkYXNoYm9hcmRTZXJ2aWNlLmdldFVzZXJEYXNoYm9hcmREYXRhKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChURVNUX1VTRVJfSURTLkNMSUVOVCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlamVjdCBub24tY2xpZW50IHVzZXJzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgZXhwZWN0KFxuICAgICAgICBjb250cm9sbGVyLmdldFVzZXJEYXNoYm9hcmQoVEVTVF9VU0VSX0lEUy5USEVSQVBJU1QsICd0aGVyYXBpc3QnKVxuICAgICAgKS5yZWplY3RzLnRvVGhyb3coVW5hdXRob3JpemVkRXhjZXB0aW9uKTtcblxuICAgICAgZXhwZWN0KGRhc2hib2FyZFNlcnZpY2UuZ2V0VXNlckRhc2hib2FyZERhdGEpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlamVjdCBhZG1pbiB1c2VycycsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IGV4cGVjdChcbiAgICAgICAgY29udHJvbGxlci5nZXRVc2VyRGFzaGJvYXJkKFRFU1RfVVNFUl9JRFMuQURNSU4sICdhZG1pbicpXG4gICAgICApLnJlamVjdHMudG9UaHJvdyhVbmF1dGhvcml6ZWRFeGNlcHRpb24pO1xuXG4gICAgICBleHBlY3QoZGFzaGJvYXJkU2VydmljZS5nZXRVc2VyRGFzaGJvYXJkRGF0YSkubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVqZWN0IG1vZGVyYXRvciB1c2VycycsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IGV4cGVjdChcbiAgICAgICAgY29udHJvbGxlci5nZXRVc2VyRGFzaGJvYXJkKFRFU1RfVVNFUl9JRFMuTU9ERVJBVE9SLCAnbW9kZXJhdG9yJylcbiAgICAgICkucmVqZWN0cy50b1Rocm93KFVuYXV0aG9yaXplZEV4Y2VwdGlvbik7XG5cbiAgICAgIGV4cGVjdChkYXNoYm9hcmRTZXJ2aWNlLmdldFVzZXJEYXNoYm9hcmREYXRhKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgc2VydmljZSBlcnJvcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBzZXJ2aWNlRXJyb3IgPSBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCB1c2VyIGRhc2hib2FyZCBkYXRhJyk7XG4gICAgICBtb2NrRGFzaGJvYXJkU2VydmljZS5nZXRVc2VyRGFzaGJvYXJkRGF0YS5tb2NrUmVqZWN0ZWRWYWx1ZShzZXJ2aWNlRXJyb3IpO1xuXG4gICAgICBhd2FpdCBleHBlY3QoXG4gICAgICAgIGNvbnRyb2xsZXIuZ2V0VXNlckRhc2hib2FyZChURVNUX1VTRVJfSURTLkNMSUVOVCwgJ2NsaWVudCcpXG4gICAgICApLnJlamVjdHMudG9UaHJvdyhzZXJ2aWNlRXJyb3IpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSBkYXNoYm9hcmQgZGF0YSBzdHJ1Y3R1cmUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRGFzaGJvYXJkU2VydmljZS5nZXRVc2VyRGFzaGJvYXJkRGF0YS5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrVXNlckRhc2hib2FyZCk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbnRyb2xsZXIuZ2V0VXNlckRhc2hib2FyZChURVNUX1VTRVJfSURTLkNMSUVOVCwgJ2NsaWVudCcpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVQcm9wZXJ0eSgndXNlcicpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlUHJvcGVydHkoJ3RoZXJhcGlzdCcpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlUHJvcGVydHkoJ3Nlc3Npb25zJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVQcm9wZXJ0eSgnd29ya3NoZWV0cycpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlUHJvcGVydHkoJ3Byb2dyZXNzJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVQcm9wZXJ0eSgncmVjb21tZW5kYXRpb25zJyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQudXNlcikudG9IYXZlUHJvcGVydHkoJ3Byb2ZpbGVDb21wbGV0ZW5lc3MnKTtcbiAgICAgIGV4cGVjdCh0eXBlb2YgcmVzdWx0LnVzZXIucHJvZmlsZUNvbXBsZXRlbmVzcykudG9CZSgnbnVtYmVyJyk7XG4gICAgICBleHBlY3QocmVzdWx0LnNlc3Npb25zKS50b0hhdmVQcm9wZXJ0eSgndG90YWwnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuc2Vzc2lvbnMpLnRvSGF2ZVByb3BlcnR5KCdjb21wbGV0ZWQnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuc2Vzc2lvbnMpLnRvSGF2ZVByb3BlcnR5KCd1cGNvbWluZycpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnR0VUIC9kYXNoYm9hcmQvdGhlcmFwaXN0JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZ2V0IHRoZXJhcGlzdCBkYXNoYm9hcmQgc3VjY2Vzc2Z1bGx5IGZvciB0aGVyYXBpc3QnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRGFzaGJvYXJkU2VydmljZS5nZXRUaGVyYXBpc3REYXNoYm9hcmREYXRhLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tUaGVyYXBpc3REYXNoYm9hcmQpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb250cm9sbGVyLmdldFRoZXJhcGlzdERhc2hib2FyZChURVNUX1VTRVJfSURTLlRIRVJBUElTVCwgJ3RoZXJhcGlzdCcpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKG1vY2tUaGVyYXBpc3REYXNoYm9hcmQpO1xuICAgICAgZXhwZWN0KGRhc2hib2FyZFNlcnZpY2UuZ2V0VGhlcmFwaXN0RGFzaGJvYXJkRGF0YSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoVEVTVF9VU0VSX0lEUy5USEVSQVBJU1QpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZWplY3Qgbm9uLXRoZXJhcGlzdCB1c2VycycsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IGV4cGVjdChcbiAgICAgICAgY29udHJvbGxlci5nZXRUaGVyYXBpc3REYXNoYm9hcmQoVEVTVF9VU0VSX0lEUy5DTElFTlQsICdjbGllbnQnKVxuICAgICAgKS5yZWplY3RzLnRvVGhyb3coVW5hdXRob3JpemVkRXhjZXB0aW9uKTtcblxuICAgICAgZXhwZWN0KGRhc2hib2FyZFNlcnZpY2UuZ2V0VGhlcmFwaXN0RGFzaGJvYXJkRGF0YSkubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVqZWN0IGFkbWluIHVzZXJzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgZXhwZWN0KFxuICAgICAgICBjb250cm9sbGVyLmdldFRoZXJhcGlzdERhc2hib2FyZChURVNUX1VTRVJfSURTLkFETUlOLCAnYWRtaW4nKVxuICAgICAgKS5yZWplY3RzLnRvVGhyb3coVW5hdXRob3JpemVkRXhjZXB0aW9uKTtcblxuICAgICAgZXhwZWN0KGRhc2hib2FyZFNlcnZpY2UuZ2V0VGhlcmFwaXN0RGFzaGJvYXJkRGF0YSkubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHNlcnZpY2UgZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgc2VydmljZUVycm9yID0gbmV3IEVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggdGhlcmFwaXN0IGRhc2hib2FyZCBkYXRhJyk7XG4gICAgICBtb2NrRGFzaGJvYXJkU2VydmljZS5nZXRUaGVyYXBpc3REYXNoYm9hcmREYXRhLm1vY2tSZWplY3RlZFZhbHVlKHNlcnZpY2VFcnJvcik7XG5cbiAgICAgIGF3YWl0IGV4cGVjdChcbiAgICAgICAgY29udHJvbGxlci5nZXRUaGVyYXBpc3REYXNoYm9hcmQoVEVTVF9VU0VSX0lEUy5USEVSQVBJU1QsICd0aGVyYXBpc3QnKVxuICAgICAgKS5yZWplY3RzLnRvVGhyb3coc2VydmljZUVycm9yKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgdGhlcmFwaXN0IGRhc2hib2FyZCBzdHJ1Y3R1cmUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRGFzaGJvYXJkU2VydmljZS5nZXRUaGVyYXBpc3REYXNoYm9hcmREYXRhLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tUaGVyYXBpc3REYXNoYm9hcmQpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb250cm9sbGVyLmdldFRoZXJhcGlzdERhc2hib2FyZChURVNUX1VTRVJfSURTLlRIRVJBUElTVCwgJ3RoZXJhcGlzdCcpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVQcm9wZXJ0eSgndGhlcmFwaXN0Jyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVQcm9wZXJ0eSgnY2xpZW50cycpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlUHJvcGVydHkoJ3Nlc3Npb25zJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVQcm9wZXJ0eSgnd29ya3NoZWV0cycpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlUHJvcGVydHkoJ2FuYWx5dGljcycpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnRoZXJhcGlzdCkudG9IYXZlUHJvcGVydHkoJ3ZlcmlmaWVkJyk7XG4gICAgICBleHBlY3QodHlwZW9mIHJlc3VsdC50aGVyYXBpc3QudmVyaWZpZWQpLnRvQmUoJ2Jvb2xlYW4nKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY2xpZW50cykudG9IYXZlUHJvcGVydHkoJ3RvdGFsJyk7XG4gICAgICBleHBlY3QocmVzdWx0LmNsaWVudHMpLnRvSGF2ZVByb3BlcnR5KCdhY3RpdmUnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuYW5hbHl0aWNzKS50b0hhdmVQcm9wZXJ0eSgnYXZlcmFnZVNlc3Npb25SYXRpbmcnKTtcbiAgICAgIGV4cGVjdCh0eXBlb2YgcmVzdWx0LmFuYWx5dGljcy5hdmVyYWdlU2Vzc2lvblJhdGluZykudG9CZSgnbnVtYmVyJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSB0aGVyYXBpc3Qgd2l0aCBubyBjbGllbnRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZW1wdHlUaGVyYXBpc3REYXNoYm9hcmQgPSB7XG4gICAgICAgIC4uLm1vY2tUaGVyYXBpc3REYXNoYm9hcmQsXG4gICAgICAgIGNsaWVudHM6IHtcbiAgICAgICAgICB0b3RhbDogMCxcbiAgICAgICAgICBhY3RpdmU6IDAsXG4gICAgICAgICAgbmV3VGhpc01vbnRoOiAwLFxuICAgICAgICAgIHJlY2VudENsaWVudHM6IFtdLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICAgIG1vY2tEYXNoYm9hcmRTZXJ2aWNlLmdldFRoZXJhcGlzdERhc2hib2FyZERhdGEubW9ja1Jlc29sdmVkVmFsdWUoZW1wdHlUaGVyYXBpc3REYXNoYm9hcmQpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb250cm9sbGVyLmdldFRoZXJhcGlzdERhc2hib2FyZChURVNUX1VTRVJfSURTLlRIRVJBUElTVCwgJ3RoZXJhcGlzdCcpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmNsaWVudHMudG90YWwpLnRvQmUoMCk7XG4gICAgICBleHBlY3QocmVzdWx0LmNsaWVudHMucmVjZW50Q2xpZW50cykudG9FcXVhbChbXSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdHRVQgL2Rhc2hib2FyZC9hZG1pbicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGdldCBhZG1pbiBkYXNoYm9hcmQgc3VjY2Vzc2Z1bGx5IGZvciBhZG1pbicsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tEYXNoYm9hcmRTZXJ2aWNlLmdldEFkbWluRGFzaGJvYXJkRGF0YS5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrQWRtaW5EYXNoYm9hcmQpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb250cm9sbGVyLmdldEFkbWluRGFzaGJvYXJkKCdhZG1pbicpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKG1vY2tBZG1pbkRhc2hib2FyZCk7XG4gICAgICBleHBlY3QoZGFzaGJvYXJkU2VydmljZS5nZXRBZG1pbkRhc2hib2FyZERhdGEpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVqZWN0IG5vbi1hZG1pbiB1c2VycycsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IGV4cGVjdChcbiAgICAgICAgY29udHJvbGxlci5nZXRBZG1pbkRhc2hib2FyZCgnY2xpZW50JylcbiAgICAgICkucmVqZWN0cy50b1Rocm93KFVuYXV0aG9yaXplZEV4Y2VwdGlvbik7XG5cbiAgICAgIGV4cGVjdChkYXNoYm9hcmRTZXJ2aWNlLmdldEFkbWluRGFzaGJvYXJkRGF0YSkubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVqZWN0IHRoZXJhcGlzdCB1c2VycycsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IGV4cGVjdChcbiAgICAgICAgY29udHJvbGxlci5nZXRBZG1pbkRhc2hib2FyZCgndGhlcmFwaXN0JylcbiAgICAgICkucmVqZWN0cy50b1Rocm93KFVuYXV0aG9yaXplZEV4Y2VwdGlvbik7XG5cbiAgICAgIGV4cGVjdChkYXNoYm9hcmRTZXJ2aWNlLmdldEFkbWluRGFzaGJvYXJkRGF0YSkubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVqZWN0IG1vZGVyYXRvciB1c2VycycsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IGV4cGVjdChcbiAgICAgICAgY29udHJvbGxlci5nZXRBZG1pbkRhc2hib2FyZCgnbW9kZXJhdG9yJylcbiAgICAgICkucmVqZWN0cy50b1Rocm93KFVuYXV0aG9yaXplZEV4Y2VwdGlvbik7XG5cbiAgICAgIGV4cGVjdChkYXNoYm9hcmRTZXJ2aWNlLmdldEFkbWluRGFzaGJvYXJkRGF0YSkubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHNlcnZpY2UgZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgc2VydmljZUVycm9yID0gbmV3IEVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggYWRtaW4gZGFzaGJvYXJkIGRhdGEnKTtcbiAgICAgIG1vY2tEYXNoYm9hcmRTZXJ2aWNlLmdldEFkbWluRGFzaGJvYXJkRGF0YS5tb2NrUmVqZWN0ZWRWYWx1ZShzZXJ2aWNlRXJyb3IpO1xuXG4gICAgICBhd2FpdCBleHBlY3QoXG4gICAgICAgIGNvbnRyb2xsZXIuZ2V0QWRtaW5EYXNoYm9hcmQoJ2FkbWluJylcbiAgICAgICkucmVqZWN0cy50b1Rocm93KHNlcnZpY2VFcnJvcik7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHZhbGlkYXRlIGFkbWluIGRhc2hib2FyZCBzdHJ1Y3R1cmUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRGFzaGJvYXJkU2VydmljZS5nZXRBZG1pbkRhc2hib2FyZERhdGEubW9ja1Jlc29sdmVkVmFsdWUobW9ja0FkbWluRGFzaGJvYXJkKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29udHJvbGxlci5nZXRBZG1pbkRhc2hib2FyZCgnYWRtaW4nKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlUHJvcGVydHkoJ3BsYXRmb3JtU3RhdHMnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCd0aGVyYXBpc3RBcHBsaWNhdGlvbnMnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCdzZXNzaW9uU3RhdHMnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCdzeXN0ZW1IZWFsdGgnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCdjb250ZW50TW9kZXJhdGlvbicpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlUHJvcGVydHkoJ3JlY2VudEFjdGl2aXR5Jyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQucGxhdGZvcm1TdGF0cykudG9IYXZlUHJvcGVydHkoJ3RvdGFsVXNlcnMnKTtcbiAgICAgIGV4cGVjdCh0eXBlb2YgcmVzdWx0LnBsYXRmb3JtU3RhdHMudG90YWxVc2VycykudG9CZSgnbnVtYmVyJyk7XG4gICAgICBleHBlY3QocmVzdWx0LnN5c3RlbUhlYWx0aCkudG9IYXZlUHJvcGVydHkoJ3N0YXR1cycpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5zeXN0ZW1IZWFsdGgpLnRvSGF2ZVByb3BlcnR5KCd1cHRpbWUnKTtcbiAgICAgIGV4cGVjdCh0eXBlb2YgcmVzdWx0LnN5c3RlbUhlYWx0aC51cHRpbWUpLnRvQmUoJ251bWJlcicpO1xuICAgICAgZXhwZWN0KEFycmF5LmlzQXJyYXkocmVzdWx0LnJlY2VudEFjdGl2aXR5KSkudG9CZSh0cnVlKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgcmVjZW50IGFjdGl2aXR5IGl0ZW1zJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0Rhc2hib2FyZFNlcnZpY2UuZ2V0QWRtaW5EYXNoYm9hcmREYXRhLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tBZG1pbkRhc2hib2FyZCk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbnRyb2xsZXIuZ2V0QWRtaW5EYXNoYm9hcmQoJ2FkbWluJyk7XG5cbiAgICAgIHJlc3VsdC5yZWNlbnRBY3Rpdml0eS5mb3JFYWNoKGFjdGl2aXR5ID0+IHtcbiAgICAgICAgZXhwZWN0KGFjdGl2aXR5KS50b0hhdmVQcm9wZXJ0eSgndHlwZScpO1xuICAgICAgICBleHBlY3QoYWN0aXZpdHkpLnRvSGF2ZVByb3BlcnR5KCdkZXNjcmlwdGlvbicpO1xuICAgICAgICBleHBlY3QoYWN0aXZpdHkpLnRvSGF2ZVByb3BlcnR5KCd0aW1lc3RhbXAnKTtcbiAgICAgICAgZXhwZWN0KGFjdGl2aXR5KS50b0hhdmVQcm9wZXJ0eSgnc2V2ZXJpdHknKTtcbiAgICAgICAgZXhwZWN0KFsnaW5mbycsICd3YXJuaW5nJywgJ2Vycm9yJywgJ2NyaXRpY2FsJ10pLnRvQ29udGFpbihhY3Rpdml0eS5zZXZlcml0eSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1Jlc3BvbnNlIEZvcm1hdCBWYWxpZGF0aW9uJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIHByb3Blcmx5IGZvcm1hdHRlZCB1c2VyIGRhc2hib2FyZCByZXNwb25zZScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tEYXNoYm9hcmRTZXJ2aWNlLmdldFVzZXJEYXNoYm9hcmREYXRhLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tVc2VyRGFzaGJvYXJkKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29udHJvbGxlci5nZXRVc2VyRGFzaGJvYXJkKFRFU1RfVVNFUl9JRFMuQ0xJRU5ULCAnY2xpZW50Jyk7XG5cbiAgICAgIFRlc3RBc3NlcnRpb25zLmV4cGVjdFZhbGlkRW50aXR5KHJlc3VsdCwgWyd1c2VyJywgJ3Nlc3Npb25zJywgJ3dvcmtzaGVldHMnLCAncHJvZ3Jlc3MnXSk7XG4gICAgICBleHBlY3QocmVzdWx0LnVzZXIpLnRvSGF2ZVByb3BlcnR5KCdpZCcpO1xuICAgICAgZXhwZWN0KHJlc3VsdC51c2VyKS50b0hhdmVQcm9wZXJ0eSgnZW1haWwnKTtcbiAgICAgIGV4cGVjdCh0eXBlb2YgcmVzdWx0LnVzZXIucHJvZmlsZUNvbXBsZXRlbmVzcykudG9CZSgnbnVtYmVyJyk7XG4gICAgICBleHBlY3QoQXJyYXkuaXNBcnJheShyZXN1bHQucmVjb21tZW5kYXRpb25zKSkudG9CZSh0cnVlKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIHByb3Blcmx5IGZvcm1hdHRlZCB0aGVyYXBpc3QgZGFzaGJvYXJkIHJlc3BvbnNlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0Rhc2hib2FyZFNlcnZpY2UuZ2V0VGhlcmFwaXN0RGFzaGJvYXJkRGF0YS5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrVGhlcmFwaXN0RGFzaGJvYXJkKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29udHJvbGxlci5nZXRUaGVyYXBpc3REYXNoYm9hcmQoVEVTVF9VU0VSX0lEUy5USEVSQVBJU1QsICd0aGVyYXBpc3QnKTtcblxuICAgICAgVGVzdEFzc2VydGlvbnMuZXhwZWN0VmFsaWRFbnRpdHkocmVzdWx0LCBbJ3RoZXJhcGlzdCcsICdjbGllbnRzJywgJ3Nlc3Npb25zJywgJ2FuYWx5dGljcyddKTtcbiAgICAgIGV4cGVjdChyZXN1bHQudGhlcmFwaXN0KS50b0hhdmVQcm9wZXJ0eSgnaWQnKTtcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlc3VsdC50aGVyYXBpc3Quc3BlY2lhbGl6YXRpb25zKSkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdCh0eXBlb2YgcmVzdWx0LmFuYWx5dGljcy5hdmVyYWdlU2Vzc2lvblJhdGluZykudG9CZSgnbnVtYmVyJyk7XG4gICAgICBleHBlY3QoQXJyYXkuaXNBcnJheShyZXN1bHQuc2Vzc2lvbnMudXBjb21pbmdTZXNzaW9ucykpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBwcm9wZXJseSBmb3JtYXR0ZWQgYWRtaW4gZGFzaGJvYXJkIHJlc3BvbnNlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0Rhc2hib2FyZFNlcnZpY2UuZ2V0QWRtaW5EYXNoYm9hcmREYXRhLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tBZG1pbkRhc2hib2FyZCk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbnRyb2xsZXIuZ2V0QWRtaW5EYXNoYm9hcmQoJ2FkbWluJyk7XG5cbiAgICAgIFRlc3RBc3NlcnRpb25zLmV4cGVjdFZhbGlkRW50aXR5KHJlc3VsdCwgW1xuICAgICAgICAncGxhdGZvcm1TdGF0cycsXG4gICAgICAgICd0aGVyYXBpc3RBcHBsaWNhdGlvbnMnLFxuICAgICAgICAnc2Vzc2lvblN0YXRzJyxcbiAgICAgICAgJ3N5c3RlbUhlYWx0aCcsXG4gICAgICBdKTtcbiAgICAgIGV4cGVjdCh0eXBlb2YgcmVzdWx0LnBsYXRmb3JtU3RhdHMudG90YWxVc2VycykudG9CZSgnbnVtYmVyJyk7XG4gICAgICBleHBlY3QodHlwZW9mIHJlc3VsdC5zeXN0ZW1IZWFsdGgudXB0aW1lKS50b0JlKCdudW1iZXInKTtcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlc3VsdC5yZWNlbnRBY3Rpdml0eSkpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdFcnJvciBIYW5kbGluZycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBzZXJ2aWNlIHVuYXZhaWxhYmxlIHNjZW5hcmlvcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHNlcnZpY2VFcnJvciA9IG5ldyBFcnJvcignRGFzaGJvYXJkIHNlcnZpY2UgdGVtcG9yYXJpbHkgdW5hdmFpbGFibGUnKTtcbiAgICAgIG1vY2tEYXNoYm9hcmRTZXJ2aWNlLmdldFVzZXJEYXNoYm9hcmREYXRhLm1vY2tSZWplY3RlZFZhbHVlKHNlcnZpY2VFcnJvcik7XG5cbiAgICAgIGF3YWl0IGV4cGVjdChcbiAgICAgICAgY29udHJvbGxlci5nZXRVc2VyRGFzaGJvYXJkKFRFU1RfVVNFUl9JRFMuQ0xJRU5ULCAnY2xpZW50JylcbiAgICAgICkucmVqZWN0cy50b1Rocm93KHNlcnZpY2VFcnJvcik7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBkYXRhYmFzZSBjb25uZWN0aW9uIGVycm9ycycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGRiRXJyb3IgPSBuZXcgRXJyb3IoJ0RhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkJyk7XG4gICAgICBtb2NrRGFzaGJvYXJkU2VydmljZS5nZXRUaGVyYXBpc3REYXNoYm9hcmREYXRhLm1vY2tSZWplY3RlZFZhbHVlKGRiRXJyb3IpO1xuXG4gICAgICBhd2FpdCBleHBlY3QoXG4gICAgICAgIGNvbnRyb2xsZXIuZ2V0VGhlcmFwaXN0RGFzaGJvYXJkKFRFU1RfVVNFUl9JRFMuVEhFUkFQSVNULCAndGhlcmFwaXN0JylcbiAgICAgICkucmVqZWN0cy50b1Rocm93KGRiRXJyb3IpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgaW52YWxpZCB1c2VyIGRhdGEnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBpbnZhbGlkRGF0YUVycm9yID0gbmV3IEVycm9yKCdJbnZhbGlkIHVzZXIgZGF0YSBwcm92aWRlZCcpO1xuICAgICAgbW9ja0Rhc2hib2FyZFNlcnZpY2UuZ2V0QWRtaW5EYXNoYm9hcmREYXRhLm1vY2tSZWplY3RlZFZhbHVlKGludmFsaWREYXRhRXJyb3IpO1xuXG4gICAgICBhd2FpdCBleHBlY3QoXG4gICAgICAgIGNvbnRyb2xsZXIuZ2V0QWRtaW5EYXNoYm9hcmQoJ2FkbWluJylcbiAgICAgICkucmVqZWN0cy50b1Rocm93KGludmFsaWREYXRhRXJyb3IpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnSW50ZWdyYXRpb24gVGVzdHMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgY29tcGxldGUgdXNlciBkYXNoYm9hcmQgd29ya2Zsb3cnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRGFzaGJvYXJkU2VydmljZS5nZXRVc2VyRGFzaGJvYXJkRGF0YS5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrVXNlckRhc2hib2FyZCk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbnRyb2xsZXIuZ2V0VXNlckRhc2hib2FyZChURVNUX1VTRVJfSURTLkNMSUVOVCwgJ2NsaWVudCcpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnVzZXIuaWQpLnRvQmUoVEVTVF9VU0VSX0lEUy5DTElFTlQpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5zZXNzaW9ucy50b3RhbCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgZXhwZWN0KHJlc3VsdC53b3Jrc2hlZXRzLmFzc2lnbmVkKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKHJlc3VsdC53b3Jrc2hlZXRzLmNvbXBsZXRlZCk7XG4gICAgICBleHBlY3QocmVzdWx0LnByb2dyZXNzLmdvYWxQcm9ncmVzcykudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcbiAgICAgIGV4cGVjdChyZXN1bHQucHJvZ3Jlc3MuZ29hbFByb2dyZXNzKS50b0JlTGVzc1RoYW5PckVxdWFsKDEwMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBjb21wbGV0ZSB0aGVyYXBpc3QgZGFzaGJvYXJkIHdvcmtmbG93JywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0Rhc2hib2FyZFNlcnZpY2UuZ2V0VGhlcmFwaXN0RGFzaGJvYXJkRGF0YS5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrVGhlcmFwaXN0RGFzaGJvYXJkKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29udHJvbGxlci5nZXRUaGVyYXBpc3REYXNoYm9hcmQoVEVTVF9VU0VSX0lEUy5USEVSQVBJU1QsICd0aGVyYXBpc3QnKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC50aGVyYXBpc3QuaWQpLnRvQmUoVEVTVF9VU0VSX0lEUy5USEVSQVBJU1QpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5jbGllbnRzLnRvdGFsKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKHJlc3VsdC5jbGllbnRzLmFjdGl2ZSk7XG4gICAgICBleHBlY3QocmVzdWx0LmFuYWx5dGljcy5hdmVyYWdlU2Vzc2lvblJhdGluZykudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgZXhwZWN0KHJlc3VsdC5hbmFseXRpY3MuYXZlcmFnZVNlc3Npb25SYXRpbmcpLnRvQmVMZXNzVGhhbk9yRXF1YWwoNSk7XG4gICAgICBleHBlY3QocmVzdWx0LmFuYWx5dGljcy5zZXNzaW9uQ29tcGxldGlvblJhdGUpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XG4gICAgICBleHBlY3QocmVzdWx0LmFuYWx5dGljcy5zZXNzaW9uQ29tcGxldGlvblJhdGUpLnRvQmVMZXNzVGhhbk9yRXF1YWwoMTAwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGNvbXBsZXRlIGFkbWluIGRhc2hib2FyZCB3b3JrZmxvdycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tEYXNoYm9hcmRTZXJ2aWNlLmdldEFkbWluRGFzaGJvYXJkRGF0YS5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrQWRtaW5EYXNoYm9hcmQpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb250cm9sbGVyLmdldEFkbWluRGFzaGJvYXJkKCdhZG1pbicpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnBsYXRmb3JtU3RhdHMudG90YWxVc2VycykudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgZXhwZWN0KHJlc3VsdC5wbGF0Zm9ybVN0YXRzLnRvdGFsVGhlcmFwaXN0cykudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgZXhwZWN0KHJlc3VsdC5wbGF0Zm9ybVN0YXRzLnRvdGFsQ2xpZW50cykudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgZXhwZWN0KHJlc3VsdC5zeXN0ZW1IZWFsdGguc3RhdHVzKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5zeXN0ZW1IZWFsdGgudXB0aW1lKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICBleHBlY3QocmVzdWx0LnJlY2VudEFjdGl2aXR5Lmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSByb2xlLWJhc2VkIGFjY2VzcyBhY3Jvc3MgYWxsIGVuZHBvaW50cycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIFRlc3QgY2xpZW50IGFjY2Vzc1xuICAgICAgbW9ja0Rhc2hib2FyZFNlcnZpY2UuZ2V0VXNlckRhc2hib2FyZERhdGEubW9ja1Jlc29sdmVkVmFsdWUobW9ja1VzZXJEYXNoYm9hcmQpO1xuICAgICAgYXdhaXQgZXhwZWN0KGNvbnRyb2xsZXIuZ2V0VXNlckRhc2hib2FyZChURVNUX1VTRVJfSURTLkNMSUVOVCwgJ2NsaWVudCcpKS5yZXNvbHZlcy50b0JlRGVmaW5lZCgpO1xuICAgICAgYXdhaXQgZXhwZWN0KGNvbnRyb2xsZXIuZ2V0VGhlcmFwaXN0RGFzaGJvYXJkKFRFU1RfVVNFUl9JRFMuQ0xJRU5ULCAnY2xpZW50JykpLnJlamVjdHMudG9UaHJvdygpO1xuICAgICAgYXdhaXQgZXhwZWN0KGNvbnRyb2xsZXIuZ2V0QWRtaW5EYXNoYm9hcmQoJ2NsaWVudCcpKS5yZWplY3RzLnRvVGhyb3coKTtcblxuICAgICAgLy8gVGVzdCB0aGVyYXBpc3QgYWNjZXNzXG4gICAgICBtb2NrRGFzaGJvYXJkU2VydmljZS5nZXRUaGVyYXBpc3REYXNoYm9hcmREYXRhLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tUaGVyYXBpc3REYXNoYm9hcmQpO1xuICAgICAgYXdhaXQgZXhwZWN0KGNvbnRyb2xsZXIuZ2V0VXNlckRhc2hib2FyZChURVNUX1VTRVJfSURTLlRIRVJBUElTVCwgJ3RoZXJhcGlzdCcpKS5yZWplY3RzLnRvVGhyb3coKTtcbiAgICAgIGF3YWl0IGV4cGVjdChjb250cm9sbGVyLmdldFRoZXJhcGlzdERhc2hib2FyZChURVNUX1VTRVJfSURTLlRIRVJBUElTVCwgJ3RoZXJhcGlzdCcpKS5yZXNvbHZlcy50b0JlRGVmaW5lZCgpO1xuICAgICAgYXdhaXQgZXhwZWN0KGNvbnRyb2xsZXIuZ2V0QWRtaW5EYXNoYm9hcmQoJ3RoZXJhcGlzdCcpKS5yZWplY3RzLnRvVGhyb3coKTtcblxuICAgICAgLy8gVGVzdCBhZG1pbiBhY2Nlc3NcbiAgICAgIG1vY2tEYXNoYm9hcmRTZXJ2aWNlLmdldEFkbWluRGFzaGJvYXJkRGF0YS5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrQWRtaW5EYXNoYm9hcmQpO1xuICAgICAgYXdhaXQgZXhwZWN0KGNvbnRyb2xsZXIuZ2V0VXNlckRhc2hib2FyZChURVNUX1VTRVJfSURTLkFETUlOLCAnYWRtaW4nKSkucmVqZWN0cy50b1Rocm93KCk7XG4gICAgICBhd2FpdCBleHBlY3QoY29udHJvbGxlci5nZXRUaGVyYXBpc3REYXNoYm9hcmQoVEVTVF9VU0VSX0lEUy5BRE1JTiwgJ2FkbWluJykpLnJlamVjdHMudG9UaHJvdygpO1xuICAgICAgYXdhaXQgZXhwZWN0KGNvbnRyb2xsZXIuZ2V0QWRtaW5EYXNoYm9hcmQoJ2FkbWluJykpLnJlc29sdmVzLnRvQmVEZWZpbmVkKCk7XG4gICAgfSk7XG4gIH0pO1xufSk7Il0sInZlcnNpb24iOjN9