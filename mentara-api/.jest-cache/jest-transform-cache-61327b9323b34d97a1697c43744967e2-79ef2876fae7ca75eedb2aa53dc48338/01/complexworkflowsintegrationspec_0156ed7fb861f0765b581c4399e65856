c2a9c7cf8d0fcee6829265bf5e416d79
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const testing_1 = require("@nestjs/testing");
const prisma_client_provider_1 = require("../../providers/prisma-client.provider");
const database_test_setup_1 = require("../database-test.setup");
const enhanced_test_helpers_1 = require("../enhanced-test-helpers");
/**
 * Complex Workflow Integration Tests
 *
 * End-to-end business process validation testing complete user journeys
 * from onboarding through therapy sessions and beyond.
 */
describe('Complex Workflow Integration', () => {
    let app;
    let prisma;
    let moduleRef;
    beforeAll(async () => {
        // Setup test database
        prisma = await database_test_setup_1.DatabaseTestSetup.setupTestDatabase();
        moduleRef = await testing_1.Test.createTestingModule({
            providers: [
                {
                    provide: prisma_client_provider_1.PrismaService,
                    useValue: prisma,
                },
            ],
        }).compile();
        app = moduleRef.createNestApplication();
        await app.init();
    });
    afterEach(async () => {
        // Clean database after each test
        await database_test_setup_1.DatabaseTestSetup.cleanupDatabase();
    });
    afterAll(async () => {
        await database_test_setup_1.DatabaseTestSetup.stopContainer();
        await app.close();
        await moduleRef.close();
    });
    describe('Complete User Onboarding â†’ Assessment â†’ Matching â†’ Booking â†’ Session Workflow', () => {
        it('should execute complete client journey end-to-end', async () => {
            const startTime = Date.now();
            // === PHASE 1: USER ONBOARDING ===
            console.log('ðŸš€ Starting complete client journey workflow...');
            // 1. Create user account
            const clientUser = await prisma.user.create({
                data: enhanced_test_helpers_1.TestDataGenerator.createUser({
                    id: 'journey-client-123',
                    email: 'client-journey@mentara.com',
                    firstName: 'Journey',
                    lastName: 'Client',
                    role: 'client',
                    isActive: true,
                    isVerified: false,
                }),
            });
            // 2. Create client profile
            const client = await prisma.client.create({
                data: {
                    userId: clientUser.id,
                    hasSeenTherapistRecommendations: false,
                },
            });
            // 3. Setup notification preferences
            const notificationSettings = await prisma.notificationSettings.create({
                data: {
                    userId: clientUser.id,
                    emailNotifications: true,
                    pushNotifications: true,
                    smsNotifications: false,
                    marketingEmails: true,
                },
            });
            // 4. Create medical history
            const medicalHistories = await prisma.clientMedicalHistory.createMany({
                data: [
                    {
                        clientId: client.userId,
                        condition: 'Generalized Anxiety Disorder',
                        notes: 'Diagnosed in 2020, currently managing with therapy',
                    },
                    {
                        clientId: client.userId,
                        condition: 'Major Depressive Disorder',
                        notes: 'Episodic, responsive to CBT treatment',
                    },
                ],
            });
            // 5. Set client preferences
            const preferences = await prisma.clientPreference.createMany({
                data: [
                    {
                        clientId: client.userId,
                        key: 'preferred_session_time',
                        value: 'morning',
                    },
                    {
                        clientId: client.userId,
                        key: 'session_frequency',
                        value: 'weekly',
                    },
                    {
                        clientId: client.userId,
                        key: 'therapeutic_approach',
                        value: 'CBT',
                    },
                    {
                        clientId: client.userId,
                        key: 'therapist_gender_preference',
                        value: 'no_preference',
                    },
                ],
            });
            // === PHASE 2: MENTAL HEALTH ASSESSMENT ===
            // 6. Create comprehensive pre-assessment
            const preAssessment = await prisma.preAssessment.create({
                data: {
                    userId: clientUser.id,
                    questionnaires: {
                        PHQ9: [2, 3, 2, 1, 3, 2, 3, 2, 1], // Depression screening
                        GAD7: [3, 2, 3, 3, 2, 2, 3], // Anxiety screening
                        PCL5: [1, 2, 1, 0, 2, 3, 2, 1, 2, 3, 1, 2, 2, 1, 3, 2, 1, 2, 1, 2], // PTSD screening
                        DASS21: [2, 1, 3, 2, 1, 2, 3, 2, 1, 2, 3, 1, 2, 2, 1, 3, 2, 1, 2, 1, 2], // Depression, Anxiety, Stress
                        WHOQOL: [3, 4, 3, 4, 3, 3, 4, 3, 4, 3, 3, 4, 3, 3, 4, 3, 4, 3, 3, 4, 3, 4, 3, 3, 4], // Quality of life
                    },
                    scores: {
                        depression: 18, // Moderate depression
                        anxiety: 16, // Moderate anxiety
                        ptsd: 12, // Mild PTSD symptoms
                        stress: 14, // Moderate stress
                        qualityOfLife: 85, // Good quality of life
                        overallSeverity: 'moderate',
                    },
                    severityLevels: {
                        depression: 'moderate',
                        anxiety: 'moderate',
                        ptsd: 'mild',
                        stress: 'moderate',
                    },
                    recommendations: [
                        'CBT therapy recommended for anxiety and depression',
                        'EMDR consideration for PTSD symptoms',
                        'Stress management techniques',
                        'Regular therapy sessions recommended',
                    ],
                    status: 'COMPLETED',
                },
            });
            // === PHASE 3: THERAPIST MATCHING & RECOMMENDATIONS ===
            // 7. Create therapist profiles for matching
            const therapistProfiles = [];
            for (let i = 1; i <= 3; i++) {
                const therapistUser = await prisma.user.create({
                    data: enhanced_test_helpers_1.TestDataGenerator.createUser({
                        id: `journey-therapist-${i}`,
                        email: `therapist${i}-journey@mentara.com`,
                        firstName: `Dr. Therapist${i}`,
                        lastName: 'Professional',
                        role: 'therapist',
                        isActive: true,
                        isVerified: true,
                    }),
                });
                const therapist = await prisma.therapist.create({
                    data: {
                        userId: therapistUser.id,
                        mobile: `+123456789${i}`,
                        province: 'Ontario',
                        providerType: 'Clinical Psychologist',
                        professionalLicenseType: 'Licensed',
                        isPRCLicensed: 'yes',
                        prcLicenseNumber: `PRC12345${i}`,
                        practiceStartDate: new Date('2020-01-01'),
                        yearsOfExperience: 5 + i,
                        areasOfExpertise: i === 1 ? ['Anxiety', 'Depression', 'CBT'] :
                            i === 2 ? ['PTSD', 'Trauma', 'EMDR'] :
                                ['Stress Management', 'Mindfulness', 'ACT'],
                        assessmentTools: ['PHQ-9', 'GAD-7', 'PCL-5'].slice(0, i + 1),
                        therapeuticApproachesUsedList: i === 1 ? ['CBT', 'DBT'] :
                            i === 2 ? ['EMDR', 'Trauma-Informed CBT'] :
                                ['ACT', 'Mindfulness-Based Therapy'],
                        languagesOffered: ['English'],
                        providedOnlineTherapyBefore: true,
                        comfortableUsingVideoConferencing: true,
                        preferredSessionLength: [60],
                        acceptTypes: ['Individual'],
                        status: 'approved',
                        hourlyRate: 120 + (i * 30),
                        expirationDateOfLicense: new Date('2025-01-01'),
                        compliesWithDataPrivacyAct: true,
                        willingToAbideByPlatformGuidelines: true,
                        treatmentSuccessRates: {
                            anxiety: 0.85 + (i * 0.05),
                            depression: 0.80 + (i * 0.05),
                            ptsd: 0.75 + (i * 0.05),
                        },
                        sessionLength: '60 minutes',
                    },
                });
                therapistProfiles.push({ user: therapistUser, therapist });
            }
            // 8. Create matching analytics and recommendations
            const selectedTherapist = therapistProfiles[0]; // Best match
            const matchHistory = await prisma.matchHistory.create({
                data: {
                    clientId: client.userId,
                    therapistId: selectedTherapist.therapist.userId,
                    totalScore: 92,
                    conditionScore: 95, // Excellent match for anxiety/depression
                    approachScore: 90, // CBT approach matches client preference
                    experienceScore: 88, // Good experience level
                    reviewScore: 85, // Good reviews
                    logisticsScore: 90, // Schedule compatibility
                    compatibilityScore: 89,
                    primaryMatches: ['Anxiety', 'Depression'],
                    secondaryMatches: ['Stress Management'],
                    approachMatches: ['CBT', 'DBT'],
                    recommendationRank: 1,
                    totalRecommendations: 3,
                    wasViewed: true,
                    wasContacted: true,
                    becameClient: true,
                    sessionCount: 0, // Will be updated later
                    recommendationAlgorithm: 'advanced_ml',
                    userAgent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7)',
                },
            });
            // 9. Create client compatibility analysis
            const compatibility = await prisma.clientCompatibility.create({
                data: {
                    clientId: client.userId,
                    therapistId: selectedTherapist.therapist.userId,
                    personalityCompatibility: 88,
                    sessionCompatibility: 92,
                    demographicCompatibility: 85,
                    overallCompatibility: 89,
                    communicationStyleScore: 90,
                    personalityMatchScore: 86,
                    culturalCompatibilityScore: 85,
                    formatMatchScore: 95,
                    durationMatchScore: 90,
                    frequencyMatchScore: 88,
                    schedulingCompatibilityScore: 92,
                    ageCompatibilityScore: 80,
                    genderCompatibilityScore: 85,
                    languageCompatibilityScore: 100,
                    strengths: [
                        'Excellent therapeutic approach match (CBT)',
                        'Strong experience with anxiety and depression',
                        'Compatible session scheduling preferences',
                        'High treatment success rates',
                    ],
                    concerns: [
                        'Consider cultural background alignment',
                    ],
                    recommendations: [
                        'Start with weekly CBT sessions',
                        'Focus on anxiety management techniques',
                        'Monitor depression symptoms closely',
                        'Consider DBT skills integration',
                    ],
                    analysisVersion: '3.1',
                },
            });
            // 10. Update client to show they've seen recommendations
            await prisma.client.update({
                where: { userId: client.userId },
                data: { hasSeenTherapistRecommendations: true },
            });
            // === PHASE 4: THERAPIST ASSIGNMENT & BOOKING ===
            // 11. Create client-therapist assignment
            const assignment = await prisma.clientTherapist.create({
                data: {
                    clientId: client.userId,
                    therapistId: selectedTherapist.therapist.userId,
                    status: 'active',
                    notes: 'Matched based on CBT expertise and anxiety/depression specialization',
                },
            });
            // 12. Create therapy sessions
            const sessions = [];
            const sessionDates = [
                new Date('2024-12-01T10:00:00Z'),
                new Date('2024-12-08T10:00:00Z'),
                new Date('2024-12-15T10:00:00Z'),
                new Date('2024-12-22T10:00:00Z'),
            ];
            for (const [index, sessionDate] of sessionDates.entries()) {
                const meeting = await prisma.meeting.create({
                    data: {
                        clientId: client.userId,
                        therapistId: selectedTherapist.therapist.userId,
                        startTime: sessionDate,
                        duration: 60,
                        status: index < 2 ? 'COMPLETED' : 'SCHEDULED',
                        meetingType: 'video',
                        description: `Session ${index + 1}: ${index === 0 ? 'Initial Assessment and Goal Setting' :
                            index === 1 ? 'CBT Techniques for Anxiety Management' :
                                index === 2 ? 'Depression Coping Strategies' :
                                    'Progress Review and Future Planning'}`,
                    },
                });
                sessions.push(meeting);
                // Create session logs for completed sessions
                if (index < 2) {
                    const sessionLog = await prisma.sessionLog.create({
                        data: {
                            clientId: client.userId,
                            meetingId: meeting.id,
                            sessionDate: sessionDate,
                            duration: 60,
                            sessionType: 'Individual',
                            notes: index === 0
                                ? 'Client presented with moderate anxiety and depression. Established therapeutic goals and introduced CBT concepts. Good rapport established.'
                                : 'Continued CBT work on anxiety management. Client practiced breathing techniques and cognitive restructuring. Showing improvement in anxiety symptoms.',
                            mood: index === 0 ? 'anxious' : 'improving',
                            progress: index === 0 ? 'baseline' : 'good',
                        },
                    });
                }
            }
            // === PHASE 5: ONGOING THERAPY & FEEDBACK ===
            // 13. Create review and feedback
            const review = await prisma.review.create({
                data: {
                    clientId: client.userId,
                    therapistId: selectedTherapist.therapist.userId,
                    rating: 5,
                    comment: 'Dr. Therapist1 has been incredibly helpful. The CBT techniques have really helped me manage my anxiety, and I feel more hopeful about my depression.',
                    isAnonymous: false,
                },
            });
            // 14. Create recommendation feedback
            const feedback = await prisma.recommendationFeedback.create({
                data: {
                    clientId: client.userId,
                    therapistId: selectedTherapist.therapist.userId,
                    matchHistoryId: matchHistory.id,
                    relevanceScore: 5,
                    accuracyScore: 5,
                    helpfulnessScore: 5,
                    feedbackText: 'The recommendation was perfect! The therapist specializes exactly in what I needed help with.',
                    selectedTherapist: true,
                    hadInitialSession: true,
                    continuedTherapy: true,
                    overallSatisfaction: 5,
                },
            });
            // 15. Update match history with session progress
            await prisma.matchHistory.update({
                where: { id: matchHistory.id },
                data: {
                    sessionCount: 2, // Two completed sessions
                    clientSatisfactionScore: 5,
                },
            });
            // === PHASE 6: COMMUNITY ENGAGEMENT ===
            // 16. Create community and user participation
            const community = await prisma.community.create({
                data: {
                    name: 'Anxiety Support Group',
                    description: 'A supportive community for people managing anxiety',
                    isPrivate: false,
                    memberLimit: 50,
                },
            });
            const roomGroup = await prisma.roomGroup.create({
                data: {
                    communityId: community.id,
                    name: 'General Support',
                    description: 'General discussions and support',
                },
            });
            const room = await prisma.room.create({
                data: {
                    communityId: community.id,
                    roomGroupId: roomGroup.id,
                    name: 'Daily Check-ins',
                    description: 'Share your daily progress and challenges',
                    postingRole: 'MEMBER',
                },
            });
            // 17. Join community
            const membership = await prisma.membership.create({
                data: {
                    userId: clientUser.id,
                    communityId: community.id,
                    role: 'MEMBER',
                    status: 'ACTIVE',
                },
            });
            // 18. Create community post
            const post = await prisma.post.create({
                data: {
                    authorId: clientUser.id,
                    communityId: community.id,
                    roomId: room.id,
                    title: 'Progress Update: Two Months of Therapy',
                    content: 'I wanted to share my progress with everyone. After two months of CBT therapy, I\'m seeing real improvements in my anxiety levels. The breathing techniques and cognitive restructuring have been game-changers for me.',
                    type: 'TEXT',
                    isApproved: true,
                },
            });
            // === PHASE 7: ACTIVITY TRACKING & NOTIFICATIONS ===
            // 19. Create comprehensive activity tracking
            const activities = await prisma.userActivity.createMany({
                data: [
                    {
                        userId: clientUser.id,
                        activityType: 'registration',
                        activityData: { source: 'web', completedAt: clientUser.createdAt },
                    },
                    {
                        userId: clientUser.id,
                        activityType: 'assessment_completion',
                        activityData: { assessmentType: 'pre-assessment', score: 18 },
                    },
                    {
                        userId: clientUser.id,
                        activityType: 'therapist_match',
                        activityData: { therapistId: selectedTherapist.therapist.userId, score: 92 },
                    },
                    {
                        userId: clientUser.id,
                        activityType: 'session_completion',
                        activityData: { sessionNumber: 1, meetingId: sessions[0].id },
                    },
                    {
                        userId: clientUser.id,
                        activityType: 'session_completion',
                        activityData: { sessionNumber: 2, meetingId: sessions[1].id },
                    },
                    {
                        userId: clientUser.id,
                        activityType: 'community_post',
                        activityData: { postId: post.id, community: community.name },
                    },
                ],
            });
            // 20. Create notifications
            const notifications = await prisma.notification.createMany({
                data: [
                    {
                        userId: clientUser.id,
                        type: 'welcome',
                        title: 'Welcome to Mentara!',
                        message: 'Complete your mental health assessment to get personalized therapist recommendations.',
                        isRead: true,
                        priority: 'medium',
                    },
                    {
                        userId: clientUser.id,
                        type: 'assessment_complete',
                        title: 'Assessment Complete',
                        message: 'Your mental health assessment is complete. View your therapist recommendations.',
                        isRead: true,
                        priority: 'high',
                    },
                    {
                        userId: clientUser.id,
                        type: 'therapist_match',
                        title: 'Perfect Match Found!',
                        message: 'We found an excellent therapist match for you. Schedule your first session.',
                        isRead: true,
                        priority: 'high',
                    },
                    {
                        userId: clientUser.id,
                        type: 'session_reminder',
                        title: 'Upcoming Session',
                        message: 'You have a therapy session tomorrow at 10:00 AM.',
                        isRead: false,
                        priority: 'high',
                    },
                    {
                        userId: clientUser.id,
                        type: 'community_welcome',
                        title: 'Welcome to Anxiety Support Group',
                        message: 'You\'ve successfully joined the Anxiety Support Group community.',
                        isRead: true,
                        priority: 'medium',
                    },
                ],
            });
            // 21. Create audit logs
            const auditLogs = await prisma.auditLog.createMany({
                data: [
                    {
                        userId: clientUser.id,
                        action: 'USER_REGISTRATION',
                        entity: 'User',
                        entityId: clientUser.id,
                        details: { source: 'web', role: 'client' },
                        severity: 'INFO',
                    },
                    {
                        userId: clientUser.id,
                        action: 'ASSESSMENT_COMPLETION',
                        entity: 'PreAssessment',
                        entityId: preAssessment.id,
                        details: { overallSeverity: 'moderate', status: 'COMPLETED' },
                        severity: 'INFO',
                    },
                    {
                        userId: clientUser.id,
                        action: 'THERAPIST_ASSIGNMENT',
                        entity: 'ClientTherapist',
                        entityId: assignment.id,
                        details: { therapistId: selectedTherapist.therapist.userId, matchScore: 92 },
                        severity: 'INFO',
                    },
                    {
                        userId: clientUser.id,
                        action: 'SESSION_COMPLETION',
                        entity: 'Meeting',
                        entityId: sessions[0].id,
                        details: { sessionNumber: 1, duration: 60 },
                        severity: 'INFO',
                    },
                    {
                        userId: clientUser.id,
                        action: 'COMMUNITY_JOIN',
                        entity: 'Membership',
                        entityId: membership.id,
                        details: { communityId: community.id, role: 'MEMBER' },
                        severity: 'INFO',
                    },
                ],
            });
            const endTime = Date.now();
            const totalDuration = endTime - startTime;
            // === COMPREHENSIVE VERIFICATION ===
            // Verify complete workflow by querying the final state
            const completeUserJourney = await prisma.user.findUnique({
                where: { id: clientUser.id },
                include: {
                    client: {
                        include: {
                            assignedTherapists: {
                                include: {
                                    therapist: {
                                        include: {
                                            user: true,
                                        },
                                    },
                                },
                            },
                            meetings: {
                                include: {
                                    therapist: {
                                        include: {
                                            user: true,
                                        },
                                    },
                                },
                                orderBy: { startTime: 'asc' },
                            },
                            sessionLogs: {
                                orderBy: { sessionDate: 'asc' },
                            },
                            reviews: {
                                include: {
                                    therapist: {
                                        include: {
                                            user: true,
                                        },
                                    },
                                },
                            },
                        },
                    },
                    preAssessment: true,
                    notificationSettings: true,
                    notifications: {
                        orderBy: { createdAt: 'desc' },
                    },
                    activities: {
                        orderBy: { createdAt: 'asc' },
                    },
                    auditLogs: {
                        orderBy: { createdAt: 'asc' },
                    },
                    memberships: {
                        include: {
                            community: true,
                        },
                    },
                    posts: {
                        include: {
                            community: true,
                            room: true,
                        },
                    },
                },
            });
            // Comprehensive assertions
            expect(completeUserJourney).toBeTruthy();
            expect(completeUserJourney?.role).toBe('client');
            expect(completeUserJourney?.client?.hasSeenTherapistRecommendations).toBe(true);
            expect(completeUserJourney?.client?.assignedTherapists).toHaveLength(1);
            expect(completeUserJourney?.client?.meetings).toHaveLength(4);
            expect(completeUserJourney?.client?.sessionLogs).toHaveLength(2);
            expect(completeUserJourney?.client?.reviews).toHaveLength(1);
            expect(completeUserJourney?.preAssessment?.status).toBe('COMPLETED');
            expect(completeUserJourney?.notificationSettings?.emailNotifications).toBe(true);
            expect(completeUserJourney?.notifications).toHaveLength(5);
            expect(completeUserJourney?.activities).toHaveLength(6);
            expect(completeUserJourney?.auditLogs).toHaveLength(5);
            expect(completeUserJourney?.memberships).toHaveLength(1);
            expect(completeUserJourney?.posts).toHaveLength(1);
            // Verify specific workflow outcomes
            const completedSessions = completeUserJourney?.client?.meetings.filter(m => m.status === 'COMPLETED');
            const scheduledSessions = completeUserJourney?.client?.meetings.filter(m => m.status === 'SCHEDULED');
            expect(completedSessions).toHaveLength(2);
            expect(scheduledSessions).toHaveLength(2);
            expect(completeUserJourney?.client?.reviews[0].rating).toBe(5);
            // Verify analytics data exists
            const analyticsData = await Promise.all([
                prisma.matchHistory.findFirst({ where: { clientId: client.userId } }),
                prisma.clientCompatibility.findFirst({ where: { clientId: client.userId } }),
                prisma.recommendationFeedback.findFirst({ where: { clientId: client.userId } }),
            ]);
            expect(analyticsData[0]?.totalScore).toBe(92);
            expect(analyticsData[1]?.overallCompatibility).toBe(89);
            expect(analyticsData[2]?.overallSatisfaction).toBe(5);
            console.log(`âœ… Complete Client Journey Workflow Verified Successfully!
      ðŸ“Š Workflow Statistics:
        â±ï¸  Total Duration: ${totalDuration}ms
        ðŸ‘¤ User Created: ${completeUserJourney?.email}
        ðŸ§  Assessment Score: ${completeUserJourney?.preAssessment?.scores.depression}/27 (Depression)
        ðŸŽ¯ Match Score: ${analyticsData[0]?.totalScore}/100
        ðŸ’œ Compatibility: ${analyticsData[1]?.overallCompatibility}/100
        â­ Satisfaction: ${analyticsData[2]?.overallSatisfaction}/5
        ðŸ“… Sessions Completed: ${completedSessions?.length}
        ðŸ† Therapy Review: ${completeUserJourney?.client?.reviews[0].rating}/5 stars
        ðŸ‘¥ Community Posts: ${completeUserJourney?.posts.length}
        ðŸ”” Notifications: ${completeUserJourney?.notifications.length}
        ðŸ“ Activity Logs: ${completeUserJourney?.activities.length}
      `);
            expect(totalDuration).toBeLessThan(30000); // Should complete within 30 seconds
        }, 45000); // Extended timeout for complex workflow
    });
    describe('Therapist Application â†’ Review â†’ Approval â†’ Client Assignment Workflow', () => {
        it('should execute complete therapist onboarding and client assignment workflow', async () => {
            console.log('ðŸ©º Starting therapist onboarding workflow...');
            // === PHASE 1: THERAPIST APPLICATION ===
            // 1. Create therapist user
            const therapistUser = await prisma.user.create({
                data: enhanced_test_helpers_1.TestDataGenerator.createUser({
                    id: 'workflow-therapist-123',
                    email: 'new-therapist@mentara.com',
                    firstName: 'Dr. Sarah',
                    lastName: 'Johnson',
                    role: 'therapist',
                    isActive: true,
                    isVerified: false, // Not verified until approved
                }),
            });
            // 2. Create comprehensive therapist application
            const therapist = await prisma.therapist.create({
                data: {
                    userId: therapistUser.id,
                    mobile: '+1234567890',
                    province: 'British Columbia',
                    providerType: 'Licensed Clinical Social Worker',
                    professionalLicenseType: 'Licensed',
                    isPRCLicensed: 'yes',
                    prcLicenseNumber: 'PRC789012',
                    isLicenseActive: 'yes',
                    practiceStartDate: new Date('2018-06-01'),
                    yearsOfExperience: 6,
                    areasOfExpertise: [
                        'Trauma Therapy',
                        'PTSD',
                        'Anxiety Disorders',
                        'Depression',
                        'EMDR',
                    ],
                    assessmentTools: [
                        'PHQ-9',
                        'GAD-7',
                        'PCL-5',
                        'CAPS-5',
                        'PTSD Checklist',
                    ],
                    therapeuticApproachesUsedList: [
                        'EMDR',
                        'Trauma-Informed CBT',
                        'Somatic Experiencing',
                        'Mindfulness-Based Therapy',
                    ],
                    languagesOffered: ['English', 'French'],
                    providedOnlineTherapyBefore: true,
                    comfortableUsingVideoConferencing: true,
                    weeklyAvailability: '25',
                    preferredSessionLength: [60, 90],
                    acceptTypes: ['Individual', 'Couples'],
                    hourlyRate: 180,
                    expirationDateOfLicense: new Date('2025-12-31'),
                    compliesWithDataPrivacyAct: true,
                    willingToAbideByPlatformGuidelines: true,
                    status: 'pending', // Pending review
                    bio: 'Specialized trauma therapist with 6 years of experience helping clients heal from PTSD and complex trauma using EMDR and somatic approaches.',
                    education: 'MSW from University of British Columbia',
                    certifications: ['EMDR Level II', 'Trauma-Informed Care Certificate'],
                    treatmentSuccessRates: {},
                    sessionLength: '60-90 minutes',
                },
            });
            // === PHASE 2: ADMIN REVIEW PROCESS ===
            // 3. Create admin user for review
            const adminUser = await prisma.user.create({
                data: enhanced_test_helpers_1.TestDataGenerator.createUser({
                    id: 'workflow-admin-123',
                    email: 'admin@mentara.com',
                    firstName: 'Admin',
                    lastName: 'Reviewer',
                    role: 'admin',
                    isActive: true,
                    isVerified: true,
                }),
            });
            const admin = await prisma.admin.create({
                data: {
                    userId: adminUser.id,
                    permissions: ['review_therapists', 'approve_therapists', 'manage_users'],
                    adminLevel: 'admin',
                },
            });
            // 4. Create audit log for application submission
            await prisma.auditLog.create({
                data: {
                    userId: therapistUser.id,
                    action: 'THERAPIST_APPLICATION_SUBMITTED',
                    entity: 'Therapist',
                    entityId: therapist.userId,
                    details: {
                        applicationStatus: 'pending',
                        providerType: therapist.providerType,
                        specializations: therapist.areasOfExpertise,
                    },
                    severity: 'INFO',
                },
            });
            // 5. Admin reviews and approves therapist
            const approvedTherapist = await prisma.therapist.update({
                where: { userId: therapist.userId },
                data: {
                    status: 'approved',
                    processedBy: admin.userId,
                    processedAt: new Date(),
                    reviewNotes: 'Excellent credentials and experience. EMDR certification verified. Approved for platform.',
                },
            });
            // 6. Update user verification status
            await prisma.user.update({
                where: { id: therapistUser.id },
                data: { isVerified: true },
            });
            // 7. Create approval audit log
            await prisma.auditLog.create({
                data: {
                    userId: adminUser.id,
                    action: 'THERAPIST_APPROVED',
                    entity: 'Therapist',
                    entityId: therapist.userId,
                    details: {
                        reviewedBy: adminUser.id,
                        previousStatus: 'pending',
                        newStatus: 'approved',
                        reviewNotes: 'Excellent credentials and experience',
                    },
                    severity: 'INFO',
                },
            });
            // === PHASE 3: CLIENT MATCHING AND ASSIGNMENT ===
            // 8. Create client needing trauma therapy
            const traumaClientUser = await prisma.user.create({
                data: enhanced_test_helpers_1.TestDataGenerator.createUser({
                    id: 'trauma-client-123',
                    email: 'trauma-client@mentara.com',
                    firstName: 'Alex',
                    lastName: 'Rivera',
                    role: 'client',
                }),
            });
            const traumaClient = await prisma.client.create({
                data: {
                    userId: traumaClientUser.id,
                    hasSeenTherapistRecommendations: false,
                },
            });
            // 9. Create trauma-focused pre-assessment
            const traumaAssessment = await prisma.preAssessment.create({
                data: {
                    userId: traumaClientUser.id,
                    questionnaires: {
                        PHQ9: [3, 3, 2, 2, 3, 3, 3, 2, 2], // Moderate-severe depression
                        GAD7: [3, 3, 3, 2, 3, 3, 3], // Severe anxiety
                        PCL5: [3, 4, 3, 4, 3, 3, 4, 3, 4, 3, 3, 4, 3, 3, 4, 3, 4, 3, 3, 4], // Significant PTSD symptoms
                    },
                    scores: {
                        depression: 23, // Moderate-severe
                        anxiety: 20, // Severe
                        ptsd: 68, // Significant PTSD symptoms
                    },
                    severityLevels: {
                        depression: 'moderate-severe',
                        anxiety: 'severe',
                        ptsd: 'significant',
                    },
                    status: 'COMPLETED',
                },
            });
            // 10. Create client medical history indicating trauma
            await prisma.clientMedicalHistory.createMany({
                data: [
                    {
                        clientId: traumaClient.userId,
                        condition: 'Post-Traumatic Stress Disorder',
                        notes: 'Motor vehicle accident 18 months ago, experiencing flashbacks and nightmares',
                    },
                    {
                        clientId: traumaClient.userId,
                        condition: 'Major Depressive Disorder',
                        notes: 'Secondary to PTSD, began after trauma',
                    },
                ],
            });
            // 11. Create matching analysis showing therapist as perfect match
            const traumaMatchHistory = await prisma.matchHistory.create({
                data: {
                    clientId: traumaClient.userId,
                    therapistId: approvedTherapist.userId,
                    totalScore: 96, // Excellent match
                    conditionScore: 98, // Perfect specialization match
                    approachScore: 95, // EMDR exactly what client needs
                    experienceScore: 94, // Strong trauma experience
                    reviewScore: 90, // New therapist, no reviews yet
                    logisticsScore: 92, // Good availability match
                    compatibilityScore: 94,
                    primaryMatches: ['PTSD', 'Trauma Therapy'],
                    secondaryMatches: ['Depression', 'Anxiety'],
                    approachMatches: ['EMDR', 'Trauma-Informed CBT'],
                    recommendationRank: 1,
                    totalRecommendations: 1, // Only one perfect match
                    wasViewed: true,
                    wasContacted: true,
                    becameClient: true,
                    sessionCount: 0,
                    recommendationAlgorithm: 'trauma_specialized',
                },
            });
            // 12. Create compatibility analysis
            const traumaCompatibility = await prisma.clientCompatibility.create({
                data: {
                    clientId: traumaClient.userId,
                    therapistId: approvedTherapist.userId,
                    personalityCompatibility: 92,
                    sessionCompatibility: 95,
                    demographicCompatibility: 88,
                    overallCompatibility: 94,
                    communicationStyleScore: 90,
                    personalityMatchScore: 94,
                    culturalCompatibilityScore: 85,
                    formatMatchScore: 98, // Individual therapy preference
                    durationMatchScore: 95, // 60-90 min sessions ideal for trauma
                    frequencyMatchScore: 92,
                    schedulingCompatibilityScore: 88,
                    ageCompatibilityScore: 85,
                    genderCompatibilityScore: 90,
                    languageCompatibilityScore: 100,
                    strengths: [
                        'Specialized EMDR training perfect for PTSD treatment',
                        'Extensive trauma therapy experience',
                        'Excellent session format match for trauma processing',
                        'Strong therapeutic approach alignment',
                    ],
                    concerns: [
                        'New to platform - building review history',
                    ],
                    recommendations: [
                        'Begin with EMDR assessment and preparation',
                        'Schedule 90-minute sessions for trauma processing',
                        'Weekly sessions recommended initially',
                        'Monitor dissociation and grounding techniques',
                    ],
                    analysisVersion: '4.0',
                },
            });
            // === PHASE 4: ASSIGNMENT AND FIRST SESSION ===
            // 13. Create client-therapist assignment
            const traumaAssignment = await prisma.clientTherapist.create({
                data: {
                    clientId: traumaClient.userId,
                    therapistId: approvedTherapist.userId,
                    status: 'active',
                    notes: 'Specialized trauma therapy assignment. Client has PTSD from MVA, excellent match for EMDR treatment.',
                },
            });
            // 14. Schedule first session
            const firstSession = await prisma.meeting.create({
                data: {
                    clientId: traumaClient.userId,
                    therapistId: approvedTherapist.userId,
                    startTime: new Date('2024-12-10T14:00:00Z'),
                    duration: 90, // Extended session for trauma work
                    status: 'COMPLETED',
                    meetingType: 'video',
                    description: 'Initial EMDR Assessment and Trauma History',
                },
            });
            // 15. Create session log
            const traumaSessionLog = await prisma.sessionLog.create({
                data: {
                    clientId: traumaClient.userId,
                    meetingId: firstSession.id,
                    sessionDate: firstSession.startTime,
                    duration: 90,
                    sessionType: 'Individual',
                    notes: 'Comprehensive trauma assessment completed. Client reports MVA trauma with significant PTSD symptoms. EMDR suitability confirmed. Established safety and grounding protocols. Client motivated for treatment.',
                    mood: 'anxious but hopeful',
                    progress: 'assessment complete',
                },
            });
            // 16. Update client to show they've seen recommendations
            await prisma.client.update({
                where: { userId: traumaClient.userId },
                data: { hasSeenTherapistRecommendations: true },
            });
            // 17. Create follow-up feedback
            const traumaFeedback = await prisma.recommendationFeedback.create({
                data: {
                    clientId: traumaClient.userId,
                    therapistId: approvedTherapist.userId,
                    matchHistoryId: traumaMatchHistory.id,
                    relevanceScore: 5,
                    accuracyScore: 5,
                    helpfulnessScore: 5,
                    feedbackText: 'Perfect match! Finally found a therapist who truly understands trauma and has the specialized training I need.',
                    selectedTherapist: true,
                    hadInitialSession: true,
                    continuedTherapy: true,
                    overallSatisfaction: 5,
                },
            });
            // === COMPREHENSIVE VERIFICATION ===
            // Verify complete therapist workflow
            const completeTherapistWorkflow = await prisma.therapist.findUnique({
                where: { userId: approvedTherapist.userId },
                include: {
                    user: true,
                    processedByAdmin: {
                        include: {
                            user: true,
                        },
                    },
                    assignedClients: {
                        include: {
                            client: {
                                include: {
                                    user: true,
                                    preAssessment: true,
                                    sessionLogs: true,
                                },
                            },
                        },
                    },
                    meetings: {
                        include: {
                            client: {
                                include: {
                                    user: true,
                                },
                            },
                        },
                    },
                    reviews: true,
                    matchHistory: true,
                    clientCompatibility: true,
                    recommendationFeedback: true,
                },
            });
            // Comprehensive assertions
            expect(completeTherapistWorkflow).toBeTruthy();
            expect(completeTherapistWorkflow?.status).toBe('approved');
            expect(completeTherapistWorkflow?.user.isVerified).toBe(true);
            expect(completeTherapistWorkflow?.processedByAdmin?.user.role).toBe('admin');
            expect(completeTherapistWorkflow?.assignedClients).toHaveLength(1);
            expect(completeTherapistWorkflow?.meetings).toHaveLength(1);
            expect(completeTherapistWorkflow?.matchHistory).toHaveLength(1);
            expect(completeTherapistWorkflow?.clientCompatibility).toHaveLength(1);
            expect(completeTherapistWorkflow?.recommendationFeedback).toHaveLength(1);
            // Verify match quality
            const matchQuality = completeTherapistWorkflow?.matchHistory[0];
            const compatibility = completeTherapistWorkflow?.clientCompatibility[0];
            const feedback = completeTherapistWorkflow?.recommendationFeedback[0];
            expect(matchQuality?.totalScore).toBe(96);
            expect(compatibility?.overallCompatibility).toBe(94);
            expect(feedback?.overallSatisfaction).toBe(5);
            // Verify client received proper trauma-specialized care
            const traumaClient = completeTherapistWorkflow?.assignedClients[0].client;
            expect(traumaClient?.preAssessment?.severityLevels.ptsd).toBe('significant');
            expect(traumaClient?.sessionLogs).toHaveLength(1);
            expect(traumaClient?.sessionLogs[0].notes).toContain('EMDR');
            console.log(`âœ… Complete Therapist Workflow Verified Successfully!
      ðŸ©º Therapist Onboarding Statistics:
        ðŸ‘¨â€âš•ï¸  Therapist: ${completeTherapistWorkflow?.user.firstName} ${completeTherapistWorkflow?.user.lastName}
        ðŸ“‹ Specialization: ${completeTherapistWorkflow?.areasOfExpertise.join(', ')}
        âœ… Status: ${completeTherapistWorkflow?.status}
        ðŸ‘¤ Reviewed by: ${completeTherapistWorkflow?.processedByAdmin?.user.firstName}
        ðŸ‘¥ Assigned Clients: ${completeTherapistWorkflow?.assignedClients.length}
        ðŸŽ¯ Match Score: ${matchQuality?.totalScore}/100
        ðŸ’œ Compatibility: ${compatibility?.overallCompatibility}/100
        â­ Client Satisfaction: ${feedback?.overallSatisfaction}/5
        ðŸ”§ Specialized for: ${matchQuality?.primaryMatches.join(', ')}
      `);
        });
    });
    describe('Community Participation â†’ Content Creation â†’ Moderation Workflow', () => {
        it('should execute complete community engagement workflow', async () => {
            console.log('ðŸ‘¥ Starting community engagement workflow...');
            // === PHASE 1: COMMUNITY SETUP ===
            // 1. Create community
            const community = await prisma.community.create({
                data: {
                    name: 'Depression Support Network',
                    description: 'A safe space for people experiencing depression to share, support, and heal together',
                    isPrivate: false,
                    memberLimit: 100,
                },
            });
            // 2. Create room structure
            const roomGroups = await prisma.roomGroup.createMany({
                data: [
                    {
                        communityId: community.id,
                        name: 'Support & Sharing',
                        description: 'Share experiences and support each other',
                    },
                    {
                        communityId: community.id,
                        name: 'Resources & Tips',
                        description: 'Share helpful resources and coping strategies',
                    },
                    {
                        communityId: community.id,
                        name: 'General Discussion',
                        description: 'General conversations and community updates',
                    },
                ],
            });
            const createdRoomGroups = await prisma.roomGroup.findMany({
                where: { communityId: community.id },
            });
            const rooms = await prisma.room.createMany({
                data: [
                    {
                        communityId: community.id,
                        roomGroupId: createdRoomGroups[0].id,
                        name: 'Daily Check-ins',
                        description: 'Share how you are feeling today',
                        postingRole: 'MEMBER',
                    },
                    {
                        communityId: community.id,
                        roomGroupId: createdRoomGroups[0].id,
                        name: 'Breakthrough Moments',
                        description: 'Celebrate your wins and progress',
                        postingRole: 'MEMBER',
                    },
                    {
                        communityId: community.id,
                        roomGroupId: createdRoomGroups[1].id,
                        name: 'Coping Strategies',
                        description: 'Share what works for you',
                        postingRole: 'MEMBER',
                    },
                    {
                        communityId: community.id,
                        roomGroupId: createdRoomGroups[2].id,
                        name: 'Community Updates',
                        description: 'Important community announcements',
                        postingRole: 'MODERATOR',
                    },
                ],
            });
            const createdRooms = await prisma.room.findMany({
                where: { communityId: community.id },
            });
            // === PHASE 2: USER PARTICIPATION ===
            // 3. Create community members
            const memberUsers = [];
            for (let i = 1; i <= 5; i++) {
                const user = await prisma.user.create({
                    data: enhanced_test_helpers_1.TestDataGenerator.createUser({
                        id: `community-member-${i}`,
                        email: `member${i}@community.com`,
                        firstName: `Member${i}`,
                        lastName: 'User',
                        role: 'client',
                    }),
                });
                memberUsers.push(user);
            }
            // 4. Create moderator
            const moderatorUser = await prisma.user.create({
                data: enhanced_test_helpers_1.TestDataGenerator.createUser({
                    id: 'community-moderator',
                    email: 'moderator@community.com',
                    firstName: 'Community',
                    lastName: 'Moderator',
                    role: 'moderator',
                }),
            });
            const moderator = await prisma.moderator.create({
                data: {
                    userId: moderatorUser.id,
                    permissions: ['moderate_content', 'manage_members', 'post_announcements'],
                    assignedCommunities: { [community.id]: 'active' },
                },
            });
            // 5. Create memberships
            const memberships = [];
            for (const user of memberUsers) {
                const membership = await prisma.membership.create({
                    data: {
                        userId: user.id,
                        communityId: community.id,
                        role: 'MEMBER',
                        status: 'ACTIVE',
                    },
                });
                memberships.push(membership);
            }
            // Add moderator membership
            await prisma.membership.create({
                data: {
                    userId: moderatorUser.id,
                    communityId: community.id,
                    role: 'MODERATOR',
                    status: 'ACTIVE',
                },
            });
            // === PHASE 3: CONTENT CREATION ===
            // 6. Create community posts
            const posts = [];
            // Member 1: Daily check-in
            const checkInPost = await prisma.post.create({
                data: {
                    authorId: memberUsers[0].id,
                    communityId: community.id,
                    roomId: createdRooms[0].id, // Daily Check-ins room
                    title: 'Struggling today but here',
                    content: 'Having a rough day with my depression. The grey weather isn\'t helping, but I\'m trying to remember that this feeling will pass. Just wanted to check in and let everyone know I\'m still fighting.',
                    type: 'TEXT',
                    isApproved: true,
                },
            });
            posts.push(checkInPost);
            // Member 2: Breakthrough moment
            const breakthroughPost = await prisma.post.create({
                data: {
                    authorId: memberUsers[1].id,
                    communityId: community.id,
                    roomId: createdRooms[1].id, // Breakthrough Moments room
                    title: 'Small victory: Made it to therapy today!',
                    content: 'I almost cancelled my therapy session this morning because my depression was telling me it wouldn\'t help. But I pushed through and went anyway. My therapist reminded me how much progress I\'ve made. Sometimes we need those outside perspectives to see our own growth.',
                    type: 'TEXT',
                    isApproved: true,
                },
            });
            posts.push(breakthroughPost);
            // Member 3: Coping strategy
            const copingPost = await prisma.post.create({
                data: {
                    authorId: memberUsers[2].id,
                    communityId: community.id,
                    roomId: createdRooms[2].id, // Coping Strategies room
                    title: 'The 5-4-3-2-1 grounding technique that saves me',
                    content: 'When my depression spirals and I feel disconnected, I use this grounding technique: 5 things I can see, 4 things I can touch, 3 things I can hear, 2 things I can smell, 1 thing I can taste. It brings me back to the present moment and helps me feel more anchored.',
                    type: 'TEXT',
                    isApproved: true,
                },
            });
            posts.push(copingPost);
            // Moderator: Community update
            const updatePost = await prisma.post.create({
                data: {
                    authorId: moderatorUser.id,
                    communityId: community.id,
                    roomId: createdRooms[3].id, // Community Updates room
                    title: 'Welcome to our new community members!',
                    content: 'We\'ve grown to over 50 members this month! Remember our community guidelines: be kind, respect privacy, no medical advice, and support each other\'s journeys. We\'re here for each other.',
                    type: 'TEXT',
                    isApproved: true,
                },
            });
            posts.push(updatePost);
            // === PHASE 4: COMMUNITY INTERACTION ===
            // 7. Create comments and replies
            const comments = [];
            // Support comment on struggling post
            const supportComment = await prisma.comment.create({
                data: {
                    authorId: memberUsers[3].id,
                    postId: checkInPost.id,
                    content: 'Sending you virtual hugs. The fact that you checked in today shows incredible strength. You\'re not alone in this fight.',
                    isApproved: true,
                },
            });
            comments.push(supportComment);
            // Reply to support comment
            const thankYouReply = await prisma.reply.create({
                data: {
                    authorId: memberUsers[0].id,
                    commentId: supportComment.id,
                    content: 'Thank you so much. This community means everything to me.',
                    isApproved: true,
                },
            });
            // Encouraging comment on breakthrough post
            const encouragingComment = await prisma.comment.create({
                data: {
                    authorId: memberUsers[4].id,
                    postId: breakthroughPost.id,
                    content: 'This is amazing! I needed to read this today. You\'re inspiring me to keep my own therapy appointment tomorrow.',
                    isApproved: true,
                },
            });
            comments.push(encouragingComment);
            // Helpful comment on coping strategy
            const helpfulComment = await prisma.comment.create({
                data: {
                    authorId: moderatorUser.id,
                    postId: copingPost.id,
                    content: 'Thank you for sharing this technique! Grounding exercises are so helpful for managing depression symptoms. This is exactly the kind of resource sharing we love to see.',
                    isApproved: true,
                },
            });
            comments.push(helpfulComment);
            // === PHASE 5: HEARTS AND ENGAGEMENT ===
            // 8. Create hearts (likes) on posts
            await prisma.postHeart.createMany({
                data: [
                    { userId: memberUsers[1].id, postId: checkInPost.id },
                    { userId: memberUsers[2].id, postId: checkInPost.id },
                    { userId: memberUsers[3].id, postId: checkInPost.id },
                    { userId: memberUsers[4].id, postId: checkInPost.id },
                    { userId: moderatorUser.id, postId: checkInPost.id },
                    { userId: memberUsers[0].id, postId: breakthroughPost.id },
                    { userId: memberUsers[2].id, postId: breakthroughPost.id },
                    { userId: memberUsers[3].id, postId: breakthroughPost.id },
                    { userId: memberUsers[0].id, postId: copingPost.id },
                    { userId: memberUsers[1].id, postId: copingPost.id },
                    { userId: memberUsers[3].id, postId: copingPost.id },
                    { userId: memberUsers[4].id, postId: copingPost.id },
                    { userId: moderatorUser.id, postId: copingPost.id },
                ],
            });
            // 9. Create hearts on comments
            await prisma.commentHeart.createMany({
                data: [
                    { userId: memberUsers[0].id, commentId: supportComment.id },
                    { userId: memberUsers[1].id, commentId: supportComment.id },
                    { userId: memberUsers[2].id, commentId: supportComment.id },
                    { userId: memberUsers[1].id, commentId: encouragingComment.id },
                    { userId: memberUsers[2].id, commentId: encouragingComment.id },
                    { userId: memberUsers[0].id, commentId: helpfulComment.id },
                    { userId: memberUsers[1].id, commentId: helpfulComment.id },
                ],
            });
            // 10. Create hearts on replies
            await prisma.replyHeart.createMany({
                data: [
                    { userId: memberUsers[3].id, replyId: thankYouReply.id },
                    { userId: memberUsers[4].id, replyId: thankYouReply.id },
                    { userId: moderatorUser.id, replyId: thankYouReply.id },
                ],
            });
            // === PHASE 6: MODERATION ACTIVITY ===
            // 11. Create moderation activities (simulated content review)
            await prisma.auditLog.createMany({
                data: [
                    {
                        userId: moderatorUser.id,
                        action: 'CONTENT_APPROVED',
                        entity: 'Post',
                        entityId: checkInPost.id,
                        details: { reason: 'Appropriate content, supportive message' },
                        severity: 'INFO',
                    },
                    {
                        userId: moderatorUser.id,
                        action: 'CONTENT_APPROVED',
                        entity: 'Post',
                        entityId: breakthroughPost.id,
                        details: { reason: 'Positive content, encouraging message' },
                        severity: 'INFO',
                    },
                    {
                        userId: moderatorUser.id,
                        action: 'CONTENT_APPROVED',
                        entity: 'Post',
                        entityId: copingPost.id,
                        details: { reason: 'Valuable resource sharing, helpful content' },
                        severity: 'INFO',
                    },
                ],
            });
            // === COMPREHENSIVE VERIFICATION ===
            // Verify complete community workflow
            const completeCommunityWorkflow = await prisma.community.findUnique({
                where: { id: community.id },
                include: {
                    roomGroups: {
                        include: {
                            rooms: {
                                include: {
                                    posts: {
                                        include: {
                                            author: true,
                                            comments: {
                                                include: {
                                                    author: true,
                                                    replies: {
                                                        include: {
                                                            author: true,
                                                            hearts: true,
                                                        },
                                                    },
                                                    hearts: true,
                                                },
                                            },
                                            hearts: true,
                                        },
                                    },
                                },
                            },
                        },
                    },
                    memberships: {
                        include: {
                            user: true,
                        },
                    },
                },
            });
            // Count engagement metrics
            const totalPosts = completeCommunityWorkflow?.roomGroups
                .flatMap(rg => rg.rooms)
                .flatMap(r => r.posts).length || 0;
            const totalComments = completeCommunityWorkflow?.roomGroups
                .flatMap(rg => rg.rooms)
                .flatMap(r => r.posts)
                .flatMap(p => p.comments).length || 0;
            const totalReplies = completeCommunityWorkflow?.roomGroups
                .flatMap(rg => rg.rooms)
                .flatMap(r => r.posts)
                .flatMap(p => p.comments)
                .flatMap(c => c.replies).length || 0;
            const totalPostHearts = completeCommunityWorkflow?.roomGroups
                .flatMap(rg => rg.rooms)
                .flatMap(r => r.posts)
                .flatMap(p => p.hearts).length || 0;
            // Comprehensive assertions
            expect(completeCommunityWorkflow).toBeTruthy();
            expect(completeCommunityWorkflow?.memberships).toHaveLength(6); // 5 members + 1 moderator
            expect(completeCommunityWorkflow?.roomGroups).toHaveLength(3);
            expect(totalPosts).toBe(4);
            expect(totalComments).toBe(3);
            expect(totalReplies).toBe(1);
            expect(totalPostHearts).toBe(13);
            // Verify member roles
            const memberRoles = completeCommunityWorkflow?.memberships.map(m => m.role);
            expect(memberRoles).toContain('MODERATOR');
            expect(memberRoles?.filter(r => r === 'MEMBER')).toHaveLength(5);
            // Verify content distribution across rooms
            const roomPostCounts = completeCommunityWorkflow?.roomGroups
                .flatMap(rg => rg.rooms)
                .map(r => ({ name: r.name, posts: r.posts.length }));
            expect(roomPostCounts?.find(r => r.name === 'Daily Check-ins')?.posts).toBe(1);
            expect(roomPostCounts?.find(r => r.name === 'Breakthrough Moments')?.posts).toBe(1);
            expect(roomPostCounts?.find(r => r.name === 'Coping Strategies')?.posts).toBe(1);
            expect(roomPostCounts?.find(r => r.name === 'Community Updates')?.posts).toBe(1);
            console.log(`âœ… Complete Community Workflow Verified Successfully!
      ðŸ‘¥ Community Engagement Statistics:
        ðŸ˜ï¸  Community: ${completeCommunityWorkflow?.name}
        ðŸ‘¥ Total Members: ${completeCommunityWorkflow?.memberships.length}
        ðŸ  Room Groups: ${completeCommunityWorkflow?.roomGroups.length}
        ðŸ˜ï¸  Rooms: ${completeCommunityWorkflow?.roomGroups.flatMap(rg => rg.rooms).length}
        ðŸ“ Posts Created: ${totalPosts}
        ðŸ’¬ Comments: ${totalComments}
        ðŸ”— Replies: ${totalReplies}
        ðŸ’œ Post Hearts: ${totalPostHearts}
        ðŸ›¡ï¸  Moderator Actions: 3 content approvals
        ðŸ“Š Engagement Rate: ${((totalComments + totalReplies + totalPostHearts) / totalPosts).toFixed(1)} interactions per post
      `);
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvd2V0b29hL0RvY3VtZW50cy9jb2RlL3Byb2plY3RzL21lbnRhcmEvbWVudGFyYS1hcGkvc3JjL3Rlc3QtdXRpbHMvaW50ZWdyYXRpb24tdGVzdHMvY29tcGxleC13b3JrZmxvd3MuaW50ZWdyYXRpb24uc3BlYy50cyIsIm1hcHBpbmdzIjoiOztBQUFBLDZDQUFzRDtBQUV0RCxtRkFBdUU7QUFDdkUsZ0VBQTJEO0FBQzNELG9FQUE2RDtBQUU3RDs7Ozs7R0FLRztBQUNILFFBQVEsQ0FBQyw4QkFBOEIsRUFBRSxHQUFHLEVBQUU7SUFDNUMsSUFBSSxHQUFxQixDQUFDO0lBQzFCLElBQUksTUFBcUIsQ0FBQztJQUMxQixJQUFJLFNBQXdCLENBQUM7SUFFN0IsU0FBUyxDQUFDLEtBQUssSUFBSSxFQUFFO1FBQ25CLHNCQUFzQjtRQUN0QixNQUFNLEdBQUcsTUFBTSx1Q0FBaUIsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1FBRXJELFNBQVMsR0FBRyxNQUFNLGNBQUksQ0FBQyxtQkFBbUIsQ0FBQztZQUN6QyxTQUFTLEVBQUU7Z0JBQ1Q7b0JBQ0UsT0FBTyxFQUFFLHNDQUFhO29CQUN0QixRQUFRLEVBQUUsTUFBTTtpQkFDakI7YUFDRjtTQUNGLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUViLEdBQUcsR0FBRyxTQUFTLENBQUMscUJBQXFCLEVBQUUsQ0FBQztRQUN4QyxNQUFNLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNuQixDQUFDLENBQUMsQ0FBQztJQUVILFNBQVMsQ0FBQyxLQUFLLElBQUksRUFBRTtRQUNuQixpQ0FBaUM7UUFDakMsTUFBTSx1Q0FBaUIsQ0FBQyxlQUFlLEVBQUUsQ0FBQztJQUM1QyxDQUFDLENBQUMsQ0FBQztJQUVILFFBQVEsQ0FBQyxLQUFLLElBQUksRUFBRTtRQUNsQixNQUFNLHVDQUFpQixDQUFDLGFBQWEsRUFBRSxDQUFDO1FBQ3hDLE1BQU0sR0FBRyxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ2xCLE1BQU0sU0FBUyxDQUFDLEtBQUssRUFB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RTtvQkFDckQsRUFBRSxNQUFNLEVBQUUsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxNQUFNLEVBQUUsV0FBVyxDQUFDLEVBQUUsRUFBRTtvQkFDckQsRUFBRSxNQUFNLEVBQUUsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxNQUFNLEVBQUUsV0FBVyxDQUFDLEVBQUUsRUFBRTtvQkFDckQsRUFBRSxNQUFNLEVBQUUsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxNQUFNLEVBQUUsV0FBVyxDQUFDLEVBQUUsRUFBRTtvQkFDckQsRUFBRSxNQUFNLEVBQUUsYUFBYSxDQUFDLEVBQUUsRUFBRSxNQUFNLEVBQUUsV0FBVyxDQUFDLEVBQUUsRUFBRTtvQkFDcEQsRUFBRSxNQUFNLEVBQUUsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxNQUFNLEVBQUUsZ0JBQWdCLENBQUMsRUFBRSxFQUFFO29CQUMxRCxFQUFFLE1BQU0sRUFBRSxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxnQkFBZ0IsQ0FBQyxFQUFFLEVBQUU7b0JBQzFELEVBQUUsTUFBTSxFQUFFLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsTUFBTSxFQUFFLGdCQUFnQixDQUFDLEVBQUUsRUFBRTtvQkFDMUQsRUFBRSxNQUFNLEVBQUUsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxNQUFNLEVBQUUsVUFBVSxDQUFDLEVBQUUsRUFBRTtvQkFDcEQsRUFBRSxNQUFNLEVBQUUsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxNQUFNLEVBQUUsVUFBVSxDQUFDLEVBQUUsRUFBRTtvQkFDcEQsRUFBRSxNQUFNLEVBQUUsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxNQUFNLEVBQUUsVUFBVSxDQUFDLEVBQUUsRUFBRTtvQkFDcEQsRUFBRSxNQUFNLEVBQUUsV0FBVyxDQUFDLENBQUMs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QUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksS0FBSyxzQkFBc0IsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNwRixNQUFNLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLEtBQUssbUJBQW1CLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDakYsTUFBTSxDQUFDLGNBQWMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxLQUFLLG1CQUFtQixDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRWpGLE9BQU8sQ0FBQyxHQUFHLENBQUM7OzBCQUVRLHlCQUF5QixFQUFFLElBQUk7NEJBQzdCLHlCQUF5QixFQUFFLFdBQVcsQ0FBQyxNQUFNOzBCQUMvQyx5QkFBeUIsRUFBRSxVQUFVLENBQUMsTUFBTTtzQkFDaEQseUJBQXlCLEVBQUUsVUFBVSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNOzRCQUM5RCxVQUFVO3VCQUNmLGFBQWE7c0JBQ2QsWUFBWTswQkFDUixlQUFlOzs4QkFFWCxDQUFDLENBQUMsYUFBYSxHQUFHLFlBQVksR0FBRyxlQUFlLENBQUMsR0FBRyxVQUFVLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO09BQ2pHLENBQUMsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvaG9tZS93ZXRvb2EvRG9jdW1lbnRzL2NvZGUvcHJvamVjdHMvbWVudGFyYS9tZW50YXJhLWFwaS9zcmMvdGVzdC11dGlscy9pbnRlZ3JhdGlvbi10ZXN0cy9jb21wbGV4LXdvcmtmbG93cy5pbnRlZ3JhdGlvbi5zcGVjLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFRlc3QsIFRlc3RpbmdNb2R1bGUgfSBmcm9tICdAbmVzdGpzL3Rlc3RpbmcnO1xuaW1wb3J0IHsgSU5lc3RBcHBsaWNhdGlvbiB9IGZyb20gJ0BuZXN0anMvY29tbW9uJztcbmltcG9ydCB7IFByaXNtYVNlcnZpY2UgfSBmcm9tICcuLi8uLi9wcm92aWRlcnMvcHJpc21hLWNsaWVudC5wcm92aWRlcic7XG5pbXBvcnQgeyBEYXRhYmFzZVRlc3RTZXR1cCB9IGZyb20gJy4uL2RhdGFiYXNlLXRlc3Quc2V0dXAnO1xuaW1wb3J0IHsgVGVzdERhdGFHZW5lcmF0b3IgfSBmcm9tICcuLi9lbmhhbmNlZC10ZXN0LWhlbHBlcnMnO1xuXG4vKipcbiAqIENvbXBsZXggV29ya2Zsb3cgSW50ZWdyYXRpb24gVGVzdHNcbiAqIFxuICogRW5kLXRvLWVuZCBidXNpbmVzcyBwcm9jZXNzIHZhbGlkYXRpb24gdGVzdGluZyBjb21wbGV0ZSB1c2VyIGpvdXJuZXlzXG4gKiBmcm9tIG9uYm9hcmRpbmcgdGhyb3VnaCB0aGVyYXB5IHNlc3Npb25zIGFuZCBiZXlvbmQuXG4gKi9cbmRlc2NyaWJlKCdDb21wbGV4IFdvcmtmbG93IEludGVncmF0aW9uJywgKCkgPT4ge1xuICBsZXQgYXBwOiBJTmVzdEFwcGxpY2F0aW9uO1xuICBsZXQgcHJpc21hOiBQcmlzbWFTZXJ2aWNlO1xuICBsZXQgbW9kdWxlUmVmOiBUZXN0aW5nTW9kdWxlO1xuXG4gIGJlZm9yZUFsbChhc3luYyAoKSA9PiB7XG4gICAgLy8gU2V0dXAgdGVzdCBkYXRhYmFzZVxuICAgIHByaXNtYSA9IGF3YWl0IERhdGFiYXNlVGVzdFNldHVwLnNldHVwVGVzdERhdGFiYXNlKCk7XG5cbiAgICBtb2R1bGVSZWYgPSBhd2FpdCBUZXN0LmNyZWF0ZVRlc3RpbmdNb2R1bGUoe1xuICAgICAgcHJvdmlkZXJzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBwcm92aWRlOiBQcmlzbWFTZXJ2aWNlLFxuICAgICAgICAgIHVzZVZhbHVlOiBwcmlzbWEsXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgIH0pLmNvbXBpbGUoKTtcblxuICAgIGFwcCA9IG1vZHVsZVJlZi5jcmVhdGVOZXN0QXBwbGljYXRpb24oKTtcbiAgICBhd2FpdCBhcHAuaW5pdCgpO1xuICB9KTtcblxuICBhZnRlckVhY2goYXN5bmMgKCkgPT4ge1xuICAgIC8vIENsZWFuIGRhdGFiYXNlIGFmdGVyIGVhY2ggdGVzdFxuICAgIGF3YWl0IERhdGFiYXNlVGVzdFNldHVwLmNsZWFudXBEYXRhYmFzZSgpO1xuICB9KTtcblxuICBhZnRlckFsbChhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgRGF0YWJhc2VUZXN0U2V0dXAuc3RvcENvbnRhaW5lcigpO1xuICAgIGF3YWl0IGFwcC5jbG9zZSgpO1xuICAgIGF3YWl0IG1vZHVsZVJlZi5jbG9zZSgpO1xuICB9KTtcblxuICBkZXNjcmliZSgnQ29tcGxldGUgVXNlciBPbmJvYXJkaW5nIOKGkiBBc3Nlc3NtZW50IOKGkiBNYXRjaGluZyDihpIgQm9va2luZyDihpIgU2Vzc2lvbiBXb3JrZmxvdycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGV4ZWN1dGUgY29tcGxldGUgY2xpZW50IGpvdXJuZXkgZW5kLXRvLWVuZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICBcbiAgICAgIC8vID09PSBQSEFTRSAxOiBVU0VSIE9OQk9BUkRJTkcgPT09XG4gICAgICBjb25zb2xlLmxvZygn8J+agCBTdGFydGluZyBjb21wbGV0ZSBjbGllbnQgam91cm5leSB3b3JrZmxvdy4uLicpO1xuICAgICAgXG4gICAgICAvLyAxLiBDcmVhdGUgdXNlciBhY2NvdW50XG4gICAgICBjb25zdCBjbGllbnRVc2VyID0gYXdhaXQgcHJpc21hLnVzZXIuY3JlYXRlKHtcbiAgICAgICAgZGF0YTogVGVzdERhdGFHZW5lcmF0b3IuY3JlYXRlVXNlcih7XG4gICAgICAgICAgaWQ6ICdqb3VybmV5LWNsaWVudC0xMjMnLFxuICAgICAgICAgIGVtYWlsOiAnY2xpZW50LWpvdXJuZXlAbWVudGFyYS5jb20nLFxuICAgICAgICAgIGZpcnN0TmFtZTogJ0pvdXJuZXknLFxuICAgICAgICAgIGxhc3ROYW1lOiAnQ2xpZW50JyxcbiAgICAgICAgICByb2xlOiAnY2xpZW50JyxcbiAgICAgICAgICBpc0FjdGl2ZTogdHJ1ZSxcbiAgICAgICAgICBpc1ZlcmlmaWVkOiBmYWxzZSxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgLy8gMi4gQ3JlYXRlIGNsaWVudCBwcm9maWxlXG4gICAgICBjb25zdCBjbGllbnQgPSBhd2FpdCBwcmlzbWEuY2xpZW50LmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICB1c2VySWQ6IGNsaWVudFVzZXIuaWQsXG4gICAgICAgICAgaGFzU2VlblRoZXJhcGlzdFJlY29tbWVuZGF0aW9uczogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gMy4gU2V0dXAgbm90aWZpY2F0aW9uIHByZWZlcmVuY2VzXG4gICAgICBjb25zdCBub3RpZmljYXRpb25TZXR0aW5ncyA9IGF3YWl0IHByaXNtYS5ub3RpZmljYXRpb25TZXR0aW5ncy5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdXNlcklkOiBjbGllbnRVc2VyLmlkLFxuICAgICAgICAgIGVtYWlsTm90aWZpY2F0aW9uczogdHJ1ZSxcbiAgICAgICAgICBwdXNoTm90aWZpY2F0aW9uczogdHJ1ZSxcbiAgICAgICAgICBzbXNOb3RpZmljYXRpb25zOiBmYWxzZSxcbiAgICAgICAgICBtYXJrZXRpbmdFbWFpbHM6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gNC4gQ3JlYXRlIG1lZGljYWwgaGlzdG9yeVxuICAgICAgY29uc3QgbWVkaWNhbEhpc3RvcmllcyA9IGF3YWl0IHByaXNtYS5jbGllbnRNZWRpY2FsSGlzdG9yeS5jcmVhdGVNYW55KHtcbiAgICAgICAgZGF0YTogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNsaWVudElkOiBjbGllbnQudXNlcklkLFxuICAgICAgICAgICAgY29uZGl0aW9uOiAnR2VuZXJhbGl6ZWQgQW54aWV0eSBEaXNvcmRlcicsXG4gICAgICAgICAgICBub3RlczogJ0RpYWdub3NlZCBpbiAyMDIwLCBjdXJyZW50bHkgbWFuYWdpbmcgd2l0aCB0aGVyYXB5JyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNsaWVudElkOiBjbGllbnQudXNlcklkLFxuICAgICAgICAgICAgY29uZGl0aW9uOiAnTWFqb3IgRGVwcmVzc2l2ZSBEaXNvcmRlcicsXG4gICAgICAgICAgICBub3RlczogJ0VwaXNvZGljLCByZXNwb25zaXZlIHRvIENCVCB0cmVhdG1lbnQnLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICB9KTtcblxuICAgICAgLy8gNS4gU2V0IGNsaWVudCBwcmVmZXJlbmNlc1xuICAgICAgY29uc3QgcHJlZmVyZW5jZXMgPSBhd2FpdCBwcmlzbWEuY2xpZW50UHJlZmVyZW5jZS5jcmVhdGVNYW55KHtcbiAgICAgICAgZGF0YTogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNsaWVudElkOiBjbGllbnQudXNlcklkLFxuICAgICAgICAgICAga2V5OiAncHJlZmVycmVkX3Nlc3Npb25fdGltZScsXG4gICAgICAgICAgICB2YWx1ZTogJ21vcm5pbmcnLFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgY2xpZW50SWQ6IGNsaWVudC51c2VySWQsXG4gICAgICAgICAgICBrZXk6ICdzZXNzaW9uX2ZyZXF1ZW5jeScsXG4gICAgICAgICAgICB2YWx1ZTogJ3dlZWtseScsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjbGllbnRJZDogY2xpZW50LnVzZXJJZCxcbiAgICAgICAgICAgIGtleTogJ3RoZXJhcGV1dGljX2FwcHJvYWNoJyxcbiAgICAgICAgICAgIHZhbHVlOiAnQ0JUJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNsaWVudElkOiBjbGllbnQudXNlcklkLFxuICAgICAgICAgICAga2V5OiAndGhlcmFwaXN0X2dlbmRlcl9wcmVmZXJlbmNlJyxcbiAgICAgICAgICAgIHZhbHVlOiAnbm9fcHJlZmVyZW5jZScsXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyA9PT0gUEhBU0UgMjogTUVOVEFMIEhFQUxUSCBBU1NFU1NNRU5UID09PVxuICAgICAgXG4gICAgICAvLyA2LiBDcmVhdGUgY29tcHJlaGVuc2l2ZSBwcmUtYXNzZXNzbWVudFxuICAgICAgY29uc3QgcHJlQXNzZXNzbWVudCA9IGF3YWl0IHByaXNtYS5wcmVBc3Nlc3NtZW50LmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICB1c2VySWQ6IGNsaWVudFVzZXIuaWQsXG4gICAgICAgICAgcXVlc3Rpb25uYWlyZXM6IHtcbiAgICAgICAgICAgIFBIUTk6IFsyLCAzLCAyLCAxLCAzLCAyLCAzLCAyLCAxXSwgLy8gRGVwcmVzc2lvbiBzY3JlZW5pbmdcbiAgICAgICAgICAgIEdBRDc6IFszLCAyLCAzLCAzLCAyLCAyLCAzXSwgLy8gQW54aWV0eSBzY3JlZW5pbmdcbiAgICAgICAgICAgIFBDTDU6IFsxLCAyLCAxLCAwLCAyLCAzLCAyLCAxLCAyLCAzLCAxLCAyLCAyLCAxLCAzLCAyLCAxLCAyLCAxLCAyXSwgLy8gUFRTRCBzY3JlZW5pbmdcbiAgICAgICAgICAgIERBU1MyMTogWzIsIDEsIDMsIDIsIDEsIDIsIDMsIDIsIDEsIDIsIDMsIDEsIDIsIDIsIDEsIDMsIDIsIDEsIDIsIDEsIDJdLCAvLyBEZXByZXNzaW9uLCBBbnhpZXR5LCBTdHJlc3NcbiAgICAgICAgICAgIFdIT1FPTDogWzMsIDQsIDMsIDQsIDMsIDMsIDQsIDMsIDQsIDMsIDMsIDQsIDMsIDMsIDQsIDMsIDQsIDMsIDMsIDQsIDMsIDQsIDMsIDMsIDRdLCAvLyBRdWFsaXR5IG9mIGxpZmVcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNjb3Jlczoge1xuICAgICAgICAgICAgZGVwcmVzc2lvbjogMTgsIC8vIE1vZGVyYXRlIGRlcHJlc3Npb25cbiAgICAgICAgICAgIGFueGlldHk6IDE2LCAvLyBNb2RlcmF0ZSBhbnhpZXR5XG4gICAgICAgICAgICBwdHNkOiAxMiwgLy8gTWlsZCBQVFNEIHN5bXB0b21zXG4gICAgICAgICAgICBzdHJlc3M6IDE0LCAvLyBNb2RlcmF0ZSBzdHJlc3NcbiAgICAgICAgICAgIHF1YWxpdHlPZkxpZmU6IDg1LCAvLyBHb29kIHF1YWxpdHkgb2YgbGlmZVxuICAgICAgICAgICAgb3ZlcmFsbFNldmVyaXR5OiAnbW9kZXJhdGUnLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgc2V2ZXJpdHlMZXZlbHM6IHtcbiAgICAgICAgICAgIGRlcHJlc3Npb246ICdtb2RlcmF0ZScsXG4gICAgICAgICAgICBhbnhpZXR5OiAnbW9kZXJhdGUnLFxuICAgICAgICAgICAgcHRzZDogJ21pbGQnLFxuICAgICAgICAgICAgc3RyZXNzOiAnbW9kZXJhdGUnLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVjb21tZW5kYXRpb25zOiBbXG4gICAgICAgICAgICAnQ0JUIHRoZXJhcHkgcmVjb21tZW5kZWQgZm9yIGFueGlldHkgYW5kIGRlcHJlc3Npb24nLFxuICAgICAgICAgICAgJ0VNRFIgY29uc2lkZXJhdGlvbiBmb3IgUFRTRCBzeW1wdG9tcycsXG4gICAgICAgICAgICAnU3RyZXNzIG1hbmFnZW1lbnQgdGVjaG5pcXVlcycsXG4gICAgICAgICAgICAnUmVndWxhciB0aGVyYXB5IHNlc3Npb25zIHJlY29tbWVuZGVkJyxcbiAgICAgICAgICBdLFxuICAgICAgICAgIHN0YXR1czogJ0NPTVBMRVRFRCcsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gPT09IFBIQVNFIDM6IFRIRVJBUElTVCBNQVRDSElORyAmIFJFQ09NTUVOREFUSU9OUyA9PT1cbiAgICAgIFxuICAgICAgLy8gNy4gQ3JlYXRlIHRoZXJhcGlzdCBwcm9maWxlcyBmb3IgbWF0Y2hpbmdcbiAgICAgIGNvbnN0IHRoZXJhcGlzdFByb2ZpbGVzID0gW107XG4gICAgICBcbiAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IDM7IGkrKykge1xuICAgICAgICBjb25zdCB0aGVyYXBpc3RVc2VyID0gYXdhaXQgcHJpc21hLnVzZXIuY3JlYXRlKHtcbiAgICAgICAgICBkYXRhOiBUZXN0RGF0YUdlbmVyYXRvci5jcmVhdGVVc2VyKHtcbiAgICAgICAgICAgIGlkOiBgam91cm5leS10aGVyYXBpc3QtJHtpfWAsXG4gICAgICAgICAgICBlbWFpbDogYHRoZXJhcGlzdCR7aX0tam91cm5leUBtZW50YXJhLmNvbWAsXG4gICAgICAgICAgICBmaXJzdE5hbWU6IGBEci4gVGhlcmFwaXN0JHtpfWAsXG4gICAgICAgICAgICBsYXN0TmFtZTogJ1Byb2Zlc3Npb25hbCcsXG4gICAgICAgICAgICByb2xlOiAndGhlcmFwaXN0JyxcbiAgICAgICAgICAgIGlzQWN0aXZlOiB0cnVlLFxuICAgICAgICAgICAgaXNWZXJpZmllZDogdHJ1ZSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgdGhlcmFwaXN0ID0gYXdhaXQgcHJpc21hLnRoZXJhcGlzdC5jcmVhdGUoe1xuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHVzZXJJZDogdGhlcmFwaXN0VXNlci5pZCxcbiAgICAgICAgICAgIG1vYmlsZTogYCsxMjM0NTY3ODkke2l9YCxcbiAgICAgICAgICAgIHByb3ZpbmNlOiAnT250YXJpbycsXG4gICAgICAgICAgICBwcm92aWRlclR5cGU6ICdDbGluaWNhbCBQc3ljaG9sb2dpc3QnLFxuICAgICAgICAgICAgcHJvZmVzc2lvbmFsTGljZW5zZVR5cGU6ICdMaWNlbnNlZCcsXG4gICAgICAgICAgICBpc1BSQ0xpY2Vuc2VkOiAneWVzJyxcbiAgICAgICAgICAgIHByY0xpY2Vuc2VOdW1iZXI6IGBQUkMxMjM0NSR7aX1gLFxuICAgICAgICAgICAgcHJhY3RpY2VTdGFydERhdGU6IG5ldyBEYXRlKCcyMDIwLTAxLTAxJyksXG4gICAgICAgICAgICB5ZWFyc09mRXhwZXJpZW5jZTogNSArIGksXG4gICAgICAgICAgICBhcmVhc09mRXhwZXJ0aXNlOiBpID09PSAxID8gWydBbnhpZXR5JywgJ0RlcHJlc3Npb24nLCAnQ0JUJ10gOiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9PT0gMiA/IFsnUFRTRCcsICdUcmF1bWEnLCAnRU1EUiddIDogXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIFsnU3RyZXNzIE1hbmFnZW1lbnQnLCAnTWluZGZ1bG5lc3MnLCAnQUNUJ10sXG4gICAgICAgICAgICBhc3Nlc3NtZW50VG9vbHM6IFsnUEhRLTknLCAnR0FELTcnLCAnUENMLTUnXS5zbGljZSgwLCBpICsgMSksXG4gICAgICAgICAgICB0aGVyYXBldXRpY0FwcHJvYWNoZXNVc2VkTGlzdDogaSA9PT0gMSA/IFsnQ0JUJywgJ0RCVCddIDogXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPT09IDIgPyBbJ0VNRFInLCAnVHJhdW1hLUluZm9ybWVkIENCVCddIDogXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFsnQUNUJywgJ01pbmRmdWxuZXNzLUJhc2VkIFRoZXJhcHknXSxcbiAgICAgICAgICAgIGxhbmd1YWdlc09mZmVyZWQ6IFsnRW5nbGlzaCddLFxuICAgICAgICAgICAgcHJvdmlkZWRPbmxpbmVUaGVyYXB5QmVmb3JlOiB0cnVlLFxuICAgICAgICAgICAgY29tZm9ydGFibGVVc2luZ1ZpZGVvQ29uZmVyZW5jaW5nOiB0cnVlLFxuICAgICAgICAgICAgcHJlZmVycmVkU2Vzc2lvbkxlbmd0aDogWzYwXSxcbiAgICAgICAgICAgIGFjY2VwdFR5cGVzOiBbJ0luZGl2aWR1YWwnXSxcbiAgICAgICAgICAgIHN0YXR1czogJ2FwcHJvdmVkJyxcbiAgICAgICAgICAgIGhvdXJseVJhdGU6IDEyMCArIChpICogMzApLFxuICAgICAgICAgICAgZXhwaXJhdGlvbkRhdGVPZkxpY2Vuc2U6IG5ldyBEYXRlKCcyMDI1LTAxLTAxJyksXG4gICAgICAgICAgICBjb21wbGllc1dpdGhEYXRhUHJpdmFjeUFjdDogdHJ1ZSxcbiAgICAgICAgICAgIHdpbGxpbmdUb0FiaWRlQnlQbGF0Zm9ybUd1aWRlbGluZXM6IHRydWUsXG4gICAgICAgICAgICB0cmVhdG1lbnRTdWNjZXNzUmF0ZXM6IHtcbiAgICAgICAgICAgICAgYW54aWV0eTogMC44NSArIChpICogMC4wNSksXG4gICAgICAgICAgICAgIGRlcHJlc3Npb246IDAuODAgKyAoaSAqIDAuMDUpLFxuICAgICAgICAgICAgICBwdHNkOiAwLjc1ICsgKGkgKiAwLjA1KSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXNzaW9uTGVuZ3RoOiAnNjAgbWludXRlcycsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhlcmFwaXN0UHJvZmlsZXMucHVzaCh7IHVzZXI6IHRoZXJhcGlzdFVzZXIsIHRoZXJhcGlzdCB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gOC4gQ3JlYXRlIG1hdGNoaW5nIGFuYWx5dGljcyBhbmQgcmVjb21tZW5kYXRpb25zXG4gICAgICBjb25zdCBzZWxlY3RlZFRoZXJhcGlzdCA9IHRoZXJhcGlzdFByb2ZpbGVzWzBdOyAvLyBCZXN0IG1hdGNoXG4gICAgICBcbiAgICAgIGNvbnN0IG1hdGNoSGlzdG9yeSA9IGF3YWl0IHByaXNtYS5tYXRjaEhpc3RvcnkuY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGNsaWVudElkOiBjbGllbnQudXNlcklkLFxuICAgICAgICAgIHRoZXJhcGlzdElkOiBzZWxlY3RlZFRoZXJhcGlzdC50aGVyYXBpc3QudXNlcklkLFxuICAgICAgICAgIHRvdGFsU2NvcmU6IDkyLFxuICAgICAgICAgIGNvbmRpdGlvblNjb3JlOiA5NSwgLy8gRXhjZWxsZW50IG1hdGNoIGZvciBhbnhpZXR5L2RlcHJlc3Npb25cbiAgICAgICAgICBhcHByb2FjaFNjb3JlOiA5MCwgLy8gQ0JUIGFwcHJvYWNoIG1hdGNoZXMgY2xpZW50IHByZWZlcmVuY2VcbiAgICAgICAgICBleHBlcmllbmNlU2NvcmU6IDg4LCAvLyBHb29kIGV4cGVyaWVuY2UgbGV2ZWxcbiAgICAgICAgICByZXZpZXdTY29yZTogODUsIC8vIEdvb2QgcmV2aWV3c1xuICAgICAgICAgIGxvZ2lzdGljc1Njb3JlOiA5MCwgLy8gU2NoZWR1bGUgY29tcGF0aWJpbGl0eVxuICAgICAgICAgIGNvbXBhdGliaWxpdHlTY29yZTogODksXG4gICAgICAgICAgcHJpbWFyeU1hdGNoZXM6IFsnQW54aWV0eScsICdEZXByZXNzaW9uJ10sXG4gICAgICAgICAgc2Vjb25kYXJ5TWF0Y2hlczogWydTdHJlc3MgTWFuYWdlbWVudCddLFxuICAgICAgICAgIGFwcHJvYWNoTWF0Y2hlczogWydDQlQnLCAnREJUJ10sXG4gICAgICAgICAgcmVjb21tZW5kYXRpb25SYW5rOiAxLFxuICAgICAgICAgIHRvdGFsUmVjb21tZW5kYXRpb25zOiAzLFxuICAgICAgICAgIHdhc1ZpZXdlZDogdHJ1ZSxcbiAgICAgICAgICB3YXNDb250YWN0ZWQ6IHRydWUsXG4gICAgICAgICAgYmVjYW1lQ2xpZW50OiB0cnVlLFxuICAgICAgICAgIHNlc3Npb25Db3VudDogMCwgLy8gV2lsbCBiZSB1cGRhdGVkIGxhdGVyXG4gICAgICAgICAgcmVjb21tZW5kYXRpb25BbGdvcml0aG06ICdhZHZhbmNlZF9tbCcsXG4gICAgICAgICAgdXNlckFnZW50OiAnTW96aWxsYS81LjAgKE1hY2ludG9zaDsgSW50ZWwgTWFjIE9TIFggMTBfMTVfNyknLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIDkuIENyZWF0ZSBjbGllbnQgY29tcGF0aWJpbGl0eSBhbmFseXNpc1xuICAgICAgY29uc3QgY29tcGF0aWJpbGl0eSA9IGF3YWl0IHByaXNtYS5jbGllbnRDb21wYXRpYmlsaXR5LmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBjbGllbnRJZDogY2xpZW50LnVzZXJJZCxcbiAgICAgICAgICB0aGVyYXBpc3RJZDogc2VsZWN0ZWRUaGVyYXBpc3QudGhlcmFwaXN0LnVzZXJJZCxcbiAgICAgICAgICBwZXJzb25hbGl0eUNvbXBhdGliaWxpdHk6IDg4LFxuICAgICAgICAgIHNlc3Npb25Db21wYXRpYmlsaXR5OiA5MixcbiAgICAgICAgICBkZW1vZ3JhcGhpY0NvbXBhdGliaWxpdHk6IDg1LFxuICAgICAgICAgIG92ZXJhbGxDb21wYXRpYmlsaXR5OiA4OSxcbiAgICAgICAgICBjb21tdW5pY2F0aW9uU3R5bGVTY29yZTogOTAsXG4gICAgICAgICAgcGVyc29uYWxpdHlNYXRjaFNjb3JlOiA4NixcbiAgICAgICAgICBjdWx0dXJhbENvbXBhdGliaWxpdHlTY29yZTogODUsXG4gICAgICAgICAgZm9ybWF0TWF0Y2hTY29yZTogOTUsXG4gICAgICAgICAgZHVyYXRpb25NYXRjaFNjb3JlOiA5MCxcbiAgICAgICAgICBmcmVxdWVuY3lNYXRjaFNjb3JlOiA4OCxcbiAgICAgICAgICBzY2hlZHVsaW5nQ29tcGF0aWJpbGl0eVNjb3JlOiA5MixcbiAgICAgICAgICBhZ2VDb21wYXRpYmlsaXR5U2NvcmU6IDgwLFxuICAgICAgICAgIGdlbmRlckNvbXBhdGliaWxpdHlTY29yZTogODUsXG4gICAgICAgICAgbGFuZ3VhZ2VDb21wYXRpYmlsaXR5U2NvcmU6IDEwMCxcbiAgICAgICAgICBzdHJlbmd0aHM6IFtcbiAgICAgICAgICAgICdFeGNlbGxlbnQgdGhlcmFwZXV0aWMgYXBwcm9hY2ggbWF0Y2ggKENCVCknLFxuICAgICAgICAgICAgJ1N0cm9uZyBleHBlcmllbmNlIHdpdGggYW54aWV0eSBhbmQgZGVwcmVzc2lvbicsXG4gICAgICAgICAgICAnQ29tcGF0aWJsZSBzZXNzaW9uIHNjaGVkdWxpbmcgcHJlZmVyZW5jZXMnLFxuICAgICAgICAgICAgJ0hpZ2ggdHJlYXRtZW50IHN1Y2Nlc3MgcmF0ZXMnLFxuICAgICAgICAgIF0sXG4gICAgICAgICAgY29uY2VybnM6IFtcbiAgICAgICAgICAgICdDb25zaWRlciBjdWx0dXJhbCBiYWNrZ3JvdW5kIGFsaWdubWVudCcsXG4gICAgICAgICAgXSxcbiAgICAgICAgICByZWNvbW1lbmRhdGlvbnM6IFtcbiAgICAgICAgICAgICdTdGFydCB3aXRoIHdlZWtseSBDQlQgc2Vzc2lvbnMnLFxuICAgICAgICAgICAgJ0ZvY3VzIG9uIGFueGlldHkgbWFuYWdlbWVudCB0ZWNobmlxdWVzJyxcbiAgICAgICAgICAgICdNb25pdG9yIGRlcHJlc3Npb24gc3ltcHRvbXMgY2xvc2VseScsXG4gICAgICAgICAgICAnQ29uc2lkZXIgREJUIHNraWxscyBpbnRlZ3JhdGlvbicsXG4gICAgICAgICAgXSxcbiAgICAgICAgICBhbmFseXNpc1ZlcnNpb246ICczLjEnLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIDEwLiBVcGRhdGUgY2xpZW50IHRvIHNob3cgdGhleSd2ZSBzZWVuIHJlY29tbWVuZGF0aW9uc1xuICAgICAgYXdhaXQgcHJpc21hLmNsaWVudC51cGRhdGUoe1xuICAgICAgICB3aGVyZTogeyB1c2VySWQ6IGNsaWVudC51c2VySWQgfSxcbiAgICAgICAgZGF0YTogeyBoYXNTZWVuVGhlcmFwaXN0UmVjb21tZW5kYXRpb25zOiB0cnVlIH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gPT09IFBIQVNFIDQ6IFRIRVJBUElTVCBBU1NJR05NRU5UICYgQk9PS0lORyA9PT1cbiAgICAgIFxuICAgICAgLy8gMTEuIENyZWF0ZSBjbGllbnQtdGhlcmFwaXN0IGFzc2lnbm1lbnRcbiAgICAgIGNvbnN0IGFzc2lnbm1lbnQgPSBhd2FpdCBwcmlzbWEuY2xpZW50VGhlcmFwaXN0LmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBjbGllbnRJZDogY2xpZW50LnVzZXJJZCxcbiAgICAgICAgICB0aGVyYXBpc3RJZDogc2VsZWN0ZWRUaGVyYXBpc3QudGhlcmFwaXN0LnVzZXJJZCxcbiAgICAgICAgICBzdGF0dXM6ICdhY3RpdmUnLFxuICAgICAgICAgIG5vdGVzOiAnTWF0Y2hlZCBiYXNlZCBvbiBDQlQgZXhwZXJ0aXNlIGFuZCBhbnhpZXR5L2RlcHJlc3Npb24gc3BlY2lhbGl6YXRpb24nLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIDEyLiBDcmVhdGUgdGhlcmFweSBzZXNzaW9uc1xuICAgICAgY29uc3Qgc2Vzc2lvbnMgPSBbXTtcbiAgICAgIGNvbnN0IHNlc3Npb25EYXRlcyA9IFtcbiAgICAgICAgbmV3IERhdGUoJzIwMjQtMTItMDFUMTA6MDA6MDBaJyksXG4gICAgICAgIG5ldyBEYXRlKCcyMDI0LTEyLTA4VDEwOjAwOjAwWicpLFxuICAgICAgICBuZXcgRGF0ZSgnMjAyNC0xMi0xNVQxMDowMDowMFonKSxcbiAgICAgICAgbmV3IERhdGUoJzIwMjQtMTItMjJUMTA6MDA6MDBaJyksXG4gICAgICBdO1xuXG4gICAgICBmb3IgKGNvbnN0IFtpbmRleCwgc2Vzc2lvbkRhdGVdIG9mIHNlc3Npb25EYXRlcy5lbnRyaWVzKCkpIHtcbiAgICAgICAgY29uc3QgbWVldGluZyA9IGF3YWl0IHByaXNtYS5tZWV0aW5nLmNyZWF0ZSh7XG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgY2xpZW50SWQ6IGNsaWVudC51c2VySWQsXG4gICAgICAgICAgICB0aGVyYXBpc3RJZDogc2VsZWN0ZWRUaGVyYXBpc3QudGhlcmFwaXN0LnVzZXJJZCxcbiAgICAgICAgICAgIHN0YXJ0VGltZTogc2Vzc2lvbkRhdGUsXG4gICAgICAgICAgICBkdXJhdGlvbjogNjAsXG4gICAgICAgICAgICBzdGF0dXM6IGluZGV4IDwgMiA/ICdDT01QTEVURUQnIDogJ1NDSEVEVUxFRCcsXG4gICAgICAgICAgICBtZWV0aW5nVHlwZTogJ3ZpZGVvJyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBgU2Vzc2lvbiAke2luZGV4ICsgMX06ICR7XG4gICAgICAgICAgICAgIGluZGV4ID09PSAwID8gJ0luaXRpYWwgQXNzZXNzbWVudCBhbmQgR29hbCBTZXR0aW5nJyA6XG4gICAgICAgICAgICAgIGluZGV4ID09PSAxID8gJ0NCVCBUZWNobmlxdWVzIGZvciBBbnhpZXR5IE1hbmFnZW1lbnQnIDpcbiAgICAgICAgICAgICAgaW5kZXggPT09IDIgPyAnRGVwcmVzc2lvbiBDb3BpbmcgU3RyYXRlZ2llcycgOlxuICAgICAgICAgICAgICAnUHJvZ3Jlc3MgUmV2aWV3IGFuZCBGdXR1cmUgUGxhbm5pbmcnXG4gICAgICAgICAgICB9YCxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcblxuICAgICAgICBzZXNzaW9ucy5wdXNoKG1lZXRpbmcpO1xuXG4gICAgICAgIC8vIENyZWF0ZSBzZXNzaW9uIGxvZ3MgZm9yIGNvbXBsZXRlZCBzZXNzaW9uc1xuICAgICAgICBpZiAoaW5kZXggPCAyKSB7XG4gICAgICAgICAgY29uc3Qgc2Vzc2lvbkxvZyA9IGF3YWl0IHByaXNtYS5zZXNzaW9uTG9nLmNyZWF0ZSh7XG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIGNsaWVudElkOiBjbGllbnQudXNlcklkLFxuICAgICAgICAgICAgICBtZWV0aW5nSWQ6IG1lZXRpbmcuaWQsXG4gICAgICAgICAgICAgIHNlc3Npb25EYXRlOiBzZXNzaW9uRGF0ZSxcbiAgICAgICAgICAgICAgZHVyYXRpb246IDYwLFxuICAgICAgICAgICAgICBzZXNzaW9uVHlwZTogJ0luZGl2aWR1YWwnLFxuICAgICAgICAgICAgICBub3RlczogaW5kZXggPT09IDAgXG4gICAgICAgICAgICAgICAgPyAnQ2xpZW50IHByZXNlbnRlZCB3aXRoIG1vZGVyYXRlIGFueGlldHkgYW5kIGRlcHJlc3Npb24uIEVzdGFibGlzaGVkIHRoZXJhcGV1dGljIGdvYWxzIGFuZCBpbnRyb2R1Y2VkIENCVCBjb25jZXB0cy4gR29vZCByYXBwb3J0IGVzdGFibGlzaGVkLidcbiAgICAgICAgICAgICAgICA6ICdDb250aW51ZWQgQ0JUIHdvcmsgb24gYW54aWV0eSBtYW5hZ2VtZW50LiBDbGllbnQgcHJhY3RpY2VkIGJyZWF0aGluZyB0ZWNobmlxdWVzIGFuZCBjb2duaXRpdmUgcmVzdHJ1Y3R1cmluZy4gU2hvd2luZyBpbXByb3ZlbWVudCBpbiBhbnhpZXR5IHN5bXB0b21zLicsXG4gICAgICAgICAgICAgIG1vb2Q6IGluZGV4ID09PSAwID8gJ2FueGlvdXMnIDogJ2ltcHJvdmluZycsXG4gICAgICAgICAgICAgIHByb2dyZXNzOiBpbmRleCA9PT0gMCA/ICdiYXNlbGluZScgOiAnZ29vZCcsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vID09PSBQSEFTRSA1OiBPTkdPSU5HIFRIRVJBUFkgJiBGRUVEQkFDSyA9PT1cbiAgICAgIFxuICAgICAgLy8gMTMuIENyZWF0ZSByZXZpZXcgYW5kIGZlZWRiYWNrXG4gICAgICBjb25zdCByZXZpZXcgPSBhd2FpdCBwcmlzbWEucmV2aWV3LmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBjbGllbnRJZDogY2xpZW50LnVzZXJJZCxcbiAgICAgICAgICB0aGVyYXBpc3RJZDogc2VsZWN0ZWRUaGVyYXBpc3QudGhlcmFwaXN0LnVzZXJJZCxcbiAgICAgICAgICByYXRpbmc6IDUsXG4gICAgICAgICAgY29tbWVudDogJ0RyLiBUaGVyYXBpc3QxIGhhcyBiZWVuIGluY3JlZGlibHkgaGVscGZ1bC4gVGhlIENCVCB0ZWNobmlxdWVzIGhhdmUgcmVhbGx5IGhlbHBlZCBtZSBtYW5hZ2UgbXkgYW54aWV0eSwgYW5kIEkgZmVlbCBtb3JlIGhvcGVmdWwgYWJvdXQgbXkgZGVwcmVzc2lvbi4nLFxuICAgICAgICAgIGlzQW5vbnltb3VzOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyAxNC4gQ3JlYXRlIHJlY29tbWVuZGF0aW9uIGZlZWRiYWNrXG4gICAgICBjb25zdCBmZWVkYmFjayA9IGF3YWl0IHByaXNtYS5yZWNvbW1lbmRhdGlvbkZlZWRiYWNrLmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBjbGllbnRJZDogY2xpZW50LnVzZXJJZCxcbiAgICAgICAgICB0aGVyYXBpc3RJZDogc2VsZWN0ZWRUaGVyYXBpc3QudGhlcmFwaXN0LnVzZXJJZCxcbiAgICAgICAgICBtYXRjaEhpc3RvcnlJZDogbWF0Y2hIaXN0b3J5LmlkLFxuICAgICAgICAgIHJlbGV2YW5jZVNjb3JlOiA1LFxuICAgICAgICAgIGFjY3VyYWN5U2NvcmU6IDUsXG4gICAgICAgICAgaGVscGZ1bG5lc3NTY29yZTogNSxcbiAgICAgICAgICBmZWVkYmFja1RleHQ6ICdUaGUgcmVjb21tZW5kYXRpb24gd2FzIHBlcmZlY3QhIFRoZSB0aGVyYXBpc3Qgc3BlY2lhbGl6ZXMgZXhhY3RseSBpbiB3aGF0IEkgbmVlZGVkIGhlbHAgd2l0aC4nLFxuICAgICAgICAgIHNlbGVjdGVkVGhlcmFwaXN0OiB0cnVlLFxuICAgICAgICAgIGhhZEluaXRpYWxTZXNzaW9uOiB0cnVlLFxuICAgICAgICAgIGNvbnRpbnVlZFRoZXJhcHk6IHRydWUsXG4gICAgICAgICAgb3ZlcmFsbFNhdGlzZmFjdGlvbjogNSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyAxNS4gVXBkYXRlIG1hdGNoIGhpc3Rvcnkgd2l0aCBzZXNzaW9uIHByb2dyZXNzXG4gICAgICBhd2FpdCBwcmlzbWEubWF0Y2hIaXN0b3J5LnVwZGF0ZSh7XG4gICAgICAgIHdoZXJlOiB7IGlkOiBtYXRjaEhpc3RvcnkuaWQgfSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHNlc3Npb25Db3VudDogMiwgLy8gVHdvIGNvbXBsZXRlZCBzZXNzaW9uc1xuICAgICAgICAgIGNsaWVudFNhdGlzZmFjdGlvblNjb3JlOiA1LFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vID09PSBQSEFTRSA2OiBDT01NVU5JVFkgRU5HQUdFTUVOVCA9PT1cbiAgICAgIFxuICAgICAgLy8gMTYuIENyZWF0ZSBjb21tdW5pdHkgYW5kIHVzZXIgcGFydGljaXBhdGlvblxuICAgICAgY29uc3QgY29tbXVuaXR5ID0gYXdhaXQgcHJpc21hLmNvbW11bml0eS5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgbmFtZTogJ0FueGlldHkgU3VwcG9ydCBHcm91cCcsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdBIHN1cHBvcnRpdmUgY29tbXVuaXR5IGZvciBwZW9wbGUgbWFuYWdpbmcgYW54aWV0eScsXG4gICAgICAgICAgaXNQcml2YXRlOiBmYWxzZSxcbiAgICAgICAgICBtZW1iZXJMaW1pdDogNTAsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3Qgcm9vbUdyb3VwID0gYXdhaXQgcHJpc21hLnJvb21Hcm91cC5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgY29tbXVuaXR5SWQ6IGNvbW11bml0eS5pZCxcbiAgICAgICAgICBuYW1lOiAnR2VuZXJhbCBTdXBwb3J0JyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0dlbmVyYWwgZGlzY3Vzc2lvbnMgYW5kIHN1cHBvcnQnLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJvb20gPSBhd2FpdCBwcmlzbWEucm9vbS5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgY29tbXVuaXR5SWQ6IGNvbW11bml0eS5pZCxcbiAgICAgICAgICByb29tR3JvdXBJZDogcm9vbUdyb3VwLmlkLFxuICAgICAgICAgIG5hbWU6ICdEYWlseSBDaGVjay1pbnMnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnU2hhcmUgeW91ciBkYWlseSBwcm9ncmVzcyBhbmQgY2hhbGxlbmdlcycsXG4gICAgICAgICAgcG9zdGluZ1JvbGU6ICdNRU1CRVInLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIDE3LiBKb2luIGNvbW11bml0eVxuICAgICAgY29uc3QgbWVtYmVyc2hpcCA9IGF3YWl0IHByaXNtYS5tZW1iZXJzaGlwLmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICB1c2VySWQ6IGNsaWVudFVzZXIuaWQsXG4gICAgICAgICAgY29tbXVuaXR5SWQ6IGNvbW11bml0eS5pZCxcbiAgICAgICAgICByb2xlOiAnTUVNQkVSJyxcbiAgICAgICAgICBzdGF0dXM6ICdBQ1RJVkUnLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIDE4LiBDcmVhdGUgY29tbXVuaXR5IHBvc3RcbiAgICAgIGNvbnN0IHBvc3QgPSBhd2FpdCBwcmlzbWEucG9zdC5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgYXV0aG9ySWQ6IGNsaWVudFVzZXIuaWQsXG4gICAgICAgICAgY29tbXVuaXR5SWQ6IGNvbW11bml0eS5pZCxcbiAgICAgICAgICByb29tSWQ6IHJvb20uaWQsXG4gICAgICAgICAgdGl0bGU6ICdQcm9ncmVzcyBVcGRhdGU6IFR3byBNb250aHMgb2YgVGhlcmFweScsXG4gICAgICAgICAgY29udGVudDogJ0kgd2FudGVkIHRvIHNoYXJlIG15IHByb2dyZXNzIHdpdGggZXZlcnlvbmUuIEFmdGVyIHR3byBtb250aHMgb2YgQ0JUIHRoZXJhcHksIElcXCdtIHNlZWluZyByZWFsIGltcHJvdmVtZW50cyBpbiBteSBhbnhpZXR5IGxldmVscy4gVGhlIGJyZWF0aGluZyB0ZWNobmlxdWVzIGFuZCBjb2duaXRpdmUgcmVzdHJ1Y3R1cmluZyBoYXZlIGJlZW4gZ2FtZS1jaGFuZ2VycyBmb3IgbWUuJyxcbiAgICAgICAgICB0eXBlOiAnVEVYVCcsXG4gICAgICAgICAgaXNBcHByb3ZlZDogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyA9PT0gUEhBU0UgNzogQUNUSVZJVFkgVFJBQ0tJTkcgJiBOT1RJRklDQVRJT05TID09PVxuICAgICAgXG4gICAgICAvLyAxOS4gQ3JlYXRlIGNvbXByZWhlbnNpdmUgYWN0aXZpdHkgdHJhY2tpbmdcbiAgICAgIGNvbnN0IGFjdGl2aXRpZXMgPSBhd2FpdCBwcmlzbWEudXNlckFjdGl2aXR5LmNyZWF0ZU1hbnkoe1xuICAgICAgICBkYXRhOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgdXNlcklkOiBjbGllbnRVc2VyLmlkLFxuICAgICAgICAgICAgYWN0aXZpdHlUeXBlOiAncmVnaXN0cmF0aW9uJyxcbiAgICAgICAgICAgIGFjdGl2aXR5RGF0YTogeyBzb3VyY2U6ICd3ZWInLCBjb21wbGV0ZWRBdDogY2xpZW50VXNlci5jcmVhdGVkQXQgfSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHVzZXJJZDogY2xpZW50VXNlci5pZCxcbiAgICAgICAgICAgIGFjdGl2aXR5VHlwZTogJ2Fzc2Vzc21lbnRfY29tcGxldGlvbicsXG4gICAgICAgICAgICBhY3Rpdml0eURhdGE6IHsgYXNzZXNzbWVudFR5cGU6ICdwcmUtYXNzZXNzbWVudCcsIHNjb3JlOiAxOCB9LFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgdXNlcklkOiBjbGllbnRVc2VyLmlkLFxuICAgICAgICAgICAgYWN0aXZpdHlUeXBlOiAndGhlcmFwaXN0X21hdGNoJyxcbiAgICAgICAgICAgIGFjdGl2aXR5RGF0YTogeyB0aGVyYXBpc3RJZDogc2VsZWN0ZWRUaGVyYXBpc3QudGhlcmFwaXN0LnVzZXJJZCwgc2NvcmU6IDkyIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB1c2VySWQ6IGNsaWVudFVzZXIuaWQsXG4gICAgICAgICAgICBhY3Rpdml0eVR5cGU6ICdzZXNzaW9uX2NvbXBsZXRpb24nLFxuICAgICAgICAgICAgYWN0aXZpdHlEYXRhOiB7IHNlc3Npb25OdW1iZXI6IDEsIG1lZXRpbmdJZDogc2Vzc2lvbnNbMF0uaWQgfSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHVzZXJJZDogY2xpZW50VXNlci5pZCxcbiAgICAgICAgICAgIGFjdGl2aXR5VHlwZTogJ3Nlc3Npb25fY29tcGxldGlvbicsXG4gICAgICAgICAgICBhY3Rpdml0eURhdGE6IHsgc2Vzc2lvbk51bWJlcjogMiwgbWVldGluZ0lkOiBzZXNzaW9uc1sxXS5pZCB9LFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgdXNlcklkOiBjbGllbnRVc2VyLmlkLFxuICAgICAgICAgICAgYWN0aXZpdHlUeXBlOiAnY29tbXVuaXR5X3Bvc3QnLFxuICAgICAgICAgICAgYWN0aXZpdHlEYXRhOiB7IHBvc3RJZDogcG9zdC5pZCwgY29tbXVuaXR5OiBjb21tdW5pdHkubmFtZSB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICB9KTtcblxuICAgICAgLy8gMjAuIENyZWF0ZSBub3RpZmljYXRpb25zXG4gICAgICBjb25zdCBub3RpZmljYXRpb25zID0gYXdhaXQgcHJpc21hLm5vdGlmaWNhdGlvbi5jcmVhdGVNYW55KHtcbiAgICAgICAgZGF0YTogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHVzZXJJZDogY2xpZW50VXNlci5pZCxcbiAgICAgICAgICAgIHR5cGU6ICd3ZWxjb21lJyxcbiAgICAgICAgICAgIHRpdGxlOiAnV2VsY29tZSB0byBNZW50YXJhIScsXG4gICAgICAgICAgICBtZXNzYWdlOiAnQ29tcGxldGUgeW91ciBtZW50YWwgaGVhbHRoIGFzc2Vzc21lbnQgdG8gZ2V0IHBlcnNvbmFsaXplZCB0aGVyYXBpc3QgcmVjb21tZW5kYXRpb25zLicsXG4gICAgICAgICAgICBpc1JlYWQ6IHRydWUsXG4gICAgICAgICAgICBwcmlvcml0eTogJ21lZGl1bScsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB1c2VySWQ6IGNsaWVudFVzZXIuaWQsXG4gICAgICAgICAgICB0eXBlOiAnYXNzZXNzbWVudF9jb21wbGV0ZScsXG4gICAgICAgICAgICB0aXRsZTogJ0Fzc2Vzc21lbnQgQ29tcGxldGUnLFxuICAgICAgICAgICAgbWVzc2FnZTogJ1lvdXIgbWVudGFsIGhlYWx0aCBhc3Nlc3NtZW50IGlzIGNvbXBsZXRlLiBWaWV3IHlvdXIgdGhlcmFwaXN0IHJlY29tbWVuZGF0aW9ucy4nLFxuICAgICAgICAgICAgaXNSZWFkOiB0cnVlLFxuICAgICAgICAgICAgcHJpb3JpdHk6ICdoaWdoJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHVzZXJJZDogY2xpZW50VXNlci5pZCxcbiAgICAgICAgICAgIHR5cGU6ICd0aGVyYXBpc3RfbWF0Y2gnLFxuICAgICAgICAgICAgdGl0bGU6ICdQZXJmZWN0IE1hdGNoIEZvdW5kIScsXG4gICAgICAgICAgICBtZXNzYWdlOiAnV2UgZm91bmQgYW4gZXhjZWxsZW50IHRoZXJhcGlzdCBtYXRjaCBmb3IgeW91LiBTY2hlZHVsZSB5b3VyIGZpcnN0IHNlc3Npb24uJyxcbiAgICAgICAgICAgIGlzUmVhZDogdHJ1ZSxcbiAgICAgICAgICAgIHByaW9yaXR5OiAnaGlnaCcsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB1c2VySWQ6IGNsaWVudFVzZXIuaWQsXG4gICAgICAgICAgICB0eXBlOiAnc2Vzc2lvbl9yZW1pbmRlcicsXG4gICAgICAgICAgICB0aXRsZTogJ1VwY29taW5nIFNlc3Npb24nLFxuICAgICAgICAgICAgbWVzc2FnZTogJ1lvdSBoYXZlIGEgdGhlcmFweSBzZXNzaW9uIHRvbW9ycm93IGF0IDEwOjAwIEFNLicsXG4gICAgICAgICAgICBpc1JlYWQ6IGZhbHNlLFxuICAgICAgICAgICAgcHJpb3JpdHk6ICdoaWdoJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHVzZXJJZDogY2xpZW50VXNlci5pZCxcbiAgICAgICAgICAgIHR5cGU6ICdjb21tdW5pdHlfd2VsY29tZScsXG4gICAgICAgICAgICB0aXRsZTogJ1dlbGNvbWUgdG8gQW54aWV0eSBTdXBwb3J0IEdyb3VwJyxcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdZb3VcXCd2ZSBzdWNjZXNzZnVsbHkgam9pbmVkIHRoZSBBbnhpZXR5IFN1cHBvcnQgR3JvdXAgY29tbXVuaXR5LicsXG4gICAgICAgICAgICBpc1JlYWQ6IHRydWUsXG4gICAgICAgICAgICBwcmlvcml0eTogJ21lZGl1bScsXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyAyMS4gQ3JlYXRlIGF1ZGl0IGxvZ3NcbiAgICAgIGNvbnN0IGF1ZGl0TG9ncyA9IGF3YWl0IHByaXNtYS5hdWRpdExvZy5jcmVhdGVNYW55KHtcbiAgICAgICAgZGF0YTogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHVzZXJJZDogY2xpZW50VXNlci5pZCxcbiAgICAgICAgICAgIGFjdGlvbjogJ1VTRVJfUkVHSVNUUkFUSU9OJyxcbiAgICAgICAgICAgIGVudGl0eTogJ1VzZXInLFxuICAgICAgICAgICAgZW50aXR5SWQ6IGNsaWVudFVzZXIuaWQsXG4gICAgICAgICAgICBkZXRhaWxzOiB7IHNvdXJjZTogJ3dlYicsIHJvbGU6ICdjbGllbnQnIH0sXG4gICAgICAgICAgICBzZXZlcml0eTogJ0lORk8nLFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgdXNlcklkOiBjbGllbnRVc2VyLmlkLFxuICAgICAgICAgICAgYWN0aW9uOiAnQVNTRVNTTUVOVF9DT01QTEVUSU9OJyxcbiAgICAgICAgICAgIGVudGl0eTogJ1ByZUFzc2Vzc21lbnQnLFxuICAgICAgICAgICAgZW50aXR5SWQ6IHByZUFzc2Vzc21lbnQuaWQsXG4gICAgICAgICAgICBkZXRhaWxzOiB7IG92ZXJhbGxTZXZlcml0eTogJ21vZGVyYXRlJywgc3RhdHVzOiAnQ09NUExFVEVEJyB9LFxuICAgICAgICAgICAgc2V2ZXJpdHk6ICdJTkZPJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHVzZXJJZDogY2xpZW50VXNlci5pZCxcbiAgICAgICAgICAgIGFjdGlvbjogJ1RIRVJBUElTVF9BU1NJR05NRU5UJyxcbiAgICAgICAgICAgIGVudGl0eTogJ0NsaWVudFRoZXJhcGlzdCcsXG4gICAgICAgICAgICBlbnRpdHlJZDogYXNzaWdubWVudC5pZCxcbiAgICAgICAgICAgIGRldGFpbHM6IHsgdGhlcmFwaXN0SWQ6IHNlbGVjdGVkVGhlcmFwaXN0LnRoZXJhcGlzdC51c2VySWQsIG1hdGNoU2NvcmU6IDkyIH0sXG4gICAgICAgICAgICBzZXZlcml0eTogJ0lORk8nLFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgdXNlcklkOiBjbGllbnRVc2VyLmlkLFxuICAgICAgICAgICAgYWN0aW9uOiAnU0VTU0lPTl9DT01QTEVUSU9OJyxcbiAgICAgICAgICAgIGVudGl0eTogJ01lZXRpbmcnLFxuICAgICAgICAgICAgZW50aXR5SWQ6IHNlc3Npb25zWzBdLmlkLFxuICAgICAgICAgICAgZGV0YWlsczogeyBzZXNzaW9uTnVtYmVyOiAxLCBkdXJhdGlvbjogNjAgfSxcbiAgICAgICAgICAgIHNldmVyaXR5OiAnSU5GTycsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB1c2VySWQ6IGNsaWVudFVzZXIuaWQsXG4gICAgICAgICAgICBhY3Rpb246ICdDT01NVU5JVFlfSk9JTicsXG4gICAgICAgICAgICBlbnRpdHk6ICdNZW1iZXJzaGlwJyxcbiAgICAgICAgICAgIGVudGl0eUlkOiBtZW1iZXJzaGlwLmlkLFxuICAgICAgICAgICAgZGV0YWlsczogeyBjb21tdW5pdHlJZDogY29tbXVuaXR5LmlkLCByb2xlOiAnTUVNQkVSJyB9LFxuICAgICAgICAgICAgc2V2ZXJpdHk6ICdJTkZPJyxcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGVuZFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgY29uc3QgdG90YWxEdXJhdGlvbiA9IGVuZFRpbWUgLSBzdGFydFRpbWU7XG5cbiAgICAgIC8vID09PSBDT01QUkVIRU5TSVZFIFZFUklGSUNBVElPTiA9PT1cbiAgICAgIFxuICAgICAgLy8gVmVyaWZ5IGNvbXBsZXRlIHdvcmtmbG93IGJ5IHF1ZXJ5aW5nIHRoZSBmaW5hbCBzdGF0ZVxuICAgICAgY29uc3QgY29tcGxldGVVc2VySm91cm5leSA9IGF3YWl0IHByaXNtYS51c2VyLmZpbmRVbmlxdWUoe1xuICAgICAgICB3aGVyZTogeyBpZDogY2xpZW50VXNlci5pZCB9LFxuICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgY2xpZW50OiB7XG4gICAgICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgICAgIGFzc2lnbmVkVGhlcmFwaXN0czoge1xuICAgICAgICAgICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICAgICAgICAgIHRoZXJhcGlzdDoge1xuICAgICAgICAgICAgICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgdXNlcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgbWVldGluZ3M6IHtcbiAgICAgICAgICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgICAgICAgICB0aGVyYXBpc3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgICAgICAgICAgIHVzZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb3JkZXJCeTogeyBzdGFydFRpbWU6ICdhc2MnIH0sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHNlc3Npb25Mb2dzOiB7XG4gICAgICAgICAgICAgICAgb3JkZXJCeTogeyBzZXNzaW9uRGF0ZTogJ2FzYycgfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgcmV2aWV3czoge1xuICAgICAgICAgICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICAgICAgICAgIHRoZXJhcGlzdDoge1xuICAgICAgICAgICAgICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgdXNlcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgICBwcmVBc3Nlc3NtZW50OiB0cnVlLFxuICAgICAgICAgIG5vdGlmaWNhdGlvblNldHRpbmdzOiB0cnVlLFxuICAgICAgICAgIG5vdGlmaWNhdGlvbnM6IHtcbiAgICAgICAgICAgIG9yZGVyQnk6IHsgY3JlYXRlZEF0OiAnZGVzYycgfSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGFjdGl2aXRpZXM6IHtcbiAgICAgICAgICAgIG9yZGVyQnk6IHsgY3JlYXRlZEF0OiAnYXNjJyB9LFxuICAgICAgICAgIH0sXG4gICAgICAgICAgYXVkaXRMb2dzOiB7XG4gICAgICAgICAgICBvcmRlckJ5OiB7IGNyZWF0ZWRBdDogJ2FzYycgfSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIG1lbWJlcnNoaXBzOiB7XG4gICAgICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgICAgIGNvbW11bml0eTogdHJ1ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgICBwb3N0czoge1xuICAgICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgICBjb21tdW5pdHk6IHRydWUsXG4gICAgICAgICAgICAgIHJvb206IHRydWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gQ29tcHJlaGVuc2l2ZSBhc3NlcnRpb25zXG4gICAgICBleHBlY3QoY29tcGxldGVVc2VySm91cm5leSkudG9CZVRydXRoeSgpO1xuICAgICAgZXhwZWN0KGNvbXBsZXRlVXNlckpvdXJuZXk/LnJvbGUpLnRvQmUoJ2NsaWVudCcpO1xuICAgICAgZXhwZWN0KGNvbXBsZXRlVXNlckpvdXJuZXk/LmNsaWVudD8uaGFzU2VlblRoZXJhcGlzdFJlY29tbWVuZGF0aW9ucykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChjb21wbGV0ZVVzZXJKb3VybmV5Py5jbGllbnQ/LmFzc2lnbmVkVGhlcmFwaXN0cykudG9IYXZlTGVuZ3RoKDEpO1xuICAgICAgZXhwZWN0KGNvbXBsZXRlVXNlckpvdXJuZXk/LmNsaWVudD8ubWVldGluZ3MpLnRvSGF2ZUxlbmd0aCg0KTtcbiAgICAgIGV4cGVjdChjb21wbGV0ZVVzZXJKb3VybmV5Py5jbGllbnQ/LnNlc3Npb25Mb2dzKS50b0hhdmVMZW5ndGgoMik7XG4gICAgICBleHBlY3QoY29tcGxldGVVc2VySm91cm5leT8uY2xpZW50Py5yZXZpZXdzKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICBleHBlY3QoY29tcGxldGVVc2VySm91cm5leT8ucHJlQXNzZXNzbWVudD8uc3RhdHVzKS50b0JlKCdDT01QTEVURUQnKTtcbiAgICAgIGV4cGVjdChjb21wbGV0ZVVzZXJKb3VybmV5Py5ub3RpZmljYXRpb25TZXR0aW5ncz8uZW1haWxOb3RpZmljYXRpb25zKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KGNvbXBsZXRlVXNlckpvdXJuZXk/Lm5vdGlmaWNhdGlvbnMpLnRvSGF2ZUxlbmd0aCg1KTtcbiAgICAgIGV4cGVjdChjb21wbGV0ZVVzZXJKb3VybmV5Py5hY3Rpdml0aWVzKS50b0hhdmVMZW5ndGgoNik7XG4gICAgICBleHBlY3QoY29tcGxldGVVc2VySm91cm5leT8uYXVkaXRMb2dzKS50b0hhdmVMZW5ndGgoNSk7XG4gICAgICBleHBlY3QoY29tcGxldGVVc2VySm91cm5leT8ubWVtYmVyc2hpcHMpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgIGV4cGVjdChjb21wbGV0ZVVzZXJKb3VybmV5Py5wb3N0cykudG9IYXZlTGVuZ3RoKDEpO1xuXG4gICAgICAvLyBWZXJpZnkgc3BlY2lmaWMgd29ya2Zsb3cgb3V0Y29tZXNcbiAgICAgIGNvbnN0IGNvbXBsZXRlZFNlc3Npb25zID0gY29tcGxldGVVc2VySm91cm5leT8uY2xpZW50Py5tZWV0aW5ncy5maWx0ZXIobSA9PiBtLnN0YXR1cyA9PT0gJ0NPTVBMRVRFRCcpO1xuICAgICAgY29uc3Qgc2NoZWR1bGVkU2Vzc2lvbnMgPSBjb21wbGV0ZVVzZXJKb3VybmV5Py5jbGllbnQ/Lm1lZXRpbmdzLmZpbHRlcihtID0+IG0uc3RhdHVzID09PSAnU0NIRURVTEVEJyk7XG4gICAgICBcbiAgICAgIGV4cGVjdChjb21wbGV0ZWRTZXNzaW9ucykudG9IYXZlTGVuZ3RoKDIpO1xuICAgICAgZXhwZWN0KHNjaGVkdWxlZFNlc3Npb25zKS50b0hhdmVMZW5ndGgoMik7XG4gICAgICBleHBlY3QoY29tcGxldGVVc2VySm91cm5leT8uY2xpZW50Py5yZXZpZXdzWzBdLnJhdGluZykudG9CZSg1KTtcblxuICAgICAgLy8gVmVyaWZ5IGFuYWx5dGljcyBkYXRhIGV4aXN0c1xuICAgICAgY29uc3QgYW5hbHl0aWNzRGF0YSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgcHJpc21hLm1hdGNoSGlzdG9yeS5maW5kRmlyc3QoeyB3aGVyZTogeyBjbGllbnRJZDogY2xpZW50LnVzZXJJZCB9IH0pLFxuICAgICAgICBwcmlzbWEuY2xpZW50Q29tcGF0aWJpbGl0eS5maW5kRmlyc3QoeyB3aGVyZTogeyBjbGllbnRJZDogY2xpZW50LnVzZXJJZCB9IH0pLFxuICAgICAgICBwcmlzbWEucmVjb21tZW5kYXRpb25GZWVkYmFjay5maW5kRmlyc3QoeyB3aGVyZTogeyBjbGllbnRJZDogY2xpZW50LnVzZXJJZCB9IH0pLFxuICAgICAgXSk7XG5cbiAgICAgIGV4cGVjdChhbmFseXRpY3NEYXRhWzBdPy50b3RhbFNjb3JlKS50b0JlKDkyKTtcbiAgICAgIGV4cGVjdChhbmFseXRpY3NEYXRhWzFdPy5vdmVyYWxsQ29tcGF0aWJpbGl0eSkudG9CZSg4OSk7XG4gICAgICBleHBlY3QoYW5hbHl0aWNzRGF0YVsyXT8ub3ZlcmFsbFNhdGlzZmFjdGlvbikudG9CZSg1KTtcblxuICAgICAgY29uc29sZS5sb2coYOKchSBDb21wbGV0ZSBDbGllbnQgSm91cm5leSBXb3JrZmxvdyBWZXJpZmllZCBTdWNjZXNzZnVsbHkhXG4gICAgICDwn5OKIFdvcmtmbG93IFN0YXRpc3RpY3M6XG4gICAgICAgIOKPse+4jyAgVG90YWwgRHVyYXRpb246ICR7dG90YWxEdXJhdGlvbn1tc1xuICAgICAgICDwn5GkIFVzZXIgQ3JlYXRlZDogJHtjb21wbGV0ZVVzZXJKb3VybmV5Py5lbWFpbH1cbiAgICAgICAg8J+noCBBc3Nlc3NtZW50IFNjb3JlOiAke2NvbXBsZXRlVXNlckpvdXJuZXk/LnByZUFzc2Vzc21lbnQ/LnNjb3Jlcy5kZXByZXNzaW9ufS8yNyAoRGVwcmVzc2lvbilcbiAgICAgICAg8J+OryBNYXRjaCBTY29yZTogJHthbmFseXRpY3NEYXRhWzBdPy50b3RhbFNjb3JlfS8xMDBcbiAgICAgICAg8J+SnCBDb21wYXRpYmlsaXR5OiAke2FuYWx5dGljc0RhdGFbMV0/Lm92ZXJhbGxDb21wYXRpYmlsaXR5fS8xMDBcbiAgICAgICAg4q2QIFNhdGlzZmFjdGlvbjogJHthbmFseXRpY3NEYXRhWzJdPy5vdmVyYWxsU2F0aXNmYWN0aW9ufS81XG4gICAgICAgIPCfk4UgU2Vzc2lvbnMgQ29tcGxldGVkOiAke2NvbXBsZXRlZFNlc3Npb25zPy5sZW5ndGh9XG4gICAgICAgIPCfj4YgVGhlcmFweSBSZXZpZXc6ICR7Y29tcGxldGVVc2VySm91cm5leT8uY2xpZW50Py5yZXZpZXdzWzBdLnJhdGluZ30vNSBzdGFyc1xuICAgICAgICDwn5GlIENvbW11bml0eSBQb3N0czogJHtjb21wbGV0ZVVzZXJKb3VybmV5Py5wb3N0cy5sZW5ndGh9XG4gICAgICAgIPCflJQgTm90aWZpY2F0aW9uczogJHtjb21wbGV0ZVVzZXJKb3VybmV5Py5ub3RpZmljYXRpb25zLmxlbmd0aH1cbiAgICAgICAg8J+TnSBBY3Rpdml0eSBMb2dzOiAke2NvbXBsZXRlVXNlckpvdXJuZXk/LmFjdGl2aXRpZXMubGVuZ3RofVxuICAgICAgYCk7XG5cbiAgICAgIGV4cGVjdCh0b3RhbER1cmF0aW9uKS50b0JlTGVzc1RoYW4oMzAwMDApOyAvLyBTaG91bGQgY29tcGxldGUgd2l0aGluIDMwIHNlY29uZHNcbiAgICB9LCA0NTAwMCk7IC8vIEV4dGVuZGVkIHRpbWVvdXQgZm9yIGNvbXBsZXggd29ya2Zsb3dcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1RoZXJhcGlzdCBBcHBsaWNhdGlvbiDihpIgUmV2aWV3IOKGkiBBcHByb3ZhbCDihpIgQ2xpZW50IEFzc2lnbm1lbnQgV29ya2Zsb3cnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBleGVjdXRlIGNvbXBsZXRlIHRoZXJhcGlzdCBvbmJvYXJkaW5nIGFuZCBjbGllbnQgYXNzaWdubWVudCB3b3JrZmxvdycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn6m6IFN0YXJ0aW5nIHRoZXJhcGlzdCBvbmJvYXJkaW5nIHdvcmtmbG93Li4uJyk7XG5cbiAgICAgIC8vID09PSBQSEFTRSAxOiBUSEVSQVBJU1QgQVBQTElDQVRJT04gPT09XG4gICAgICBcbiAgICAgIC8vIDEuIENyZWF0ZSB0aGVyYXBpc3QgdXNlclxuICAgICAgY29uc3QgdGhlcmFwaXN0VXNlciA9IGF3YWl0IHByaXNtYS51c2VyLmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IFRlc3REYXRhR2VuZXJhdG9yLmNyZWF0ZVVzZXIoe1xuICAgICAgICAgIGlkOiAnd29ya2Zsb3ctdGhlcmFwaXN0LTEyMycsXG4gICAgICAgICAgZW1haWw6ICduZXctdGhlcmFwaXN0QG1lbnRhcmEuY29tJyxcbiAgICAgICAgICBmaXJzdE5hbWU6ICdEci4gU2FyYWgnLFxuICAgICAgICAgIGxhc3ROYW1lOiAnSm9obnNvbicsXG4gICAgICAgICAgcm9sZTogJ3RoZXJhcGlzdCcsXG4gICAgICAgICAgaXNBY3RpdmU6IHRydWUsXG4gICAgICAgICAgaXNWZXJpZmllZDogZmFsc2UsIC8vIE5vdCB2ZXJpZmllZCB1bnRpbCBhcHByb3ZlZFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyAyLiBDcmVhdGUgY29tcHJlaGVuc2l2ZSB0aGVyYXBpc3QgYXBwbGljYXRpb25cbiAgICAgIGNvbnN0IHRoZXJhcGlzdCA9IGF3YWl0IHByaXNtYS50aGVyYXBpc3QuY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHVzZXJJZDogdGhlcmFwaXN0VXNlci5pZCxcbiAgICAgICAgICBtb2JpbGU6ICcrMTIzNDU2Nzg5MCcsXG4gICAgICAgICAgcHJvdmluY2U6ICdCcml0aXNoIENvbHVtYmlhJyxcbiAgICAgICAgICBwcm92aWRlclR5cGU6ICdMaWNlbnNlZCBDbGluaWNhbCBTb2NpYWwgV29ya2VyJyxcbiAgICAgICAgICBwcm9mZXNzaW9uYWxMaWNlbnNlVHlwZTogJ0xpY2Vuc2VkJyxcbiAgICAgICAgICBpc1BSQ0xpY2Vuc2VkOiAneWVzJyxcbiAgICAgICAgICBwcmNMaWNlbnNlTnVtYmVyOiAnUFJDNzg5MDEyJyxcbiAgICAgICAgICBpc0xpY2Vuc2VBY3RpdmU6ICd5ZXMnLFxuICAgICAgICAgIHByYWN0aWNlU3RhcnREYXRlOiBuZXcgRGF0ZSgnMjAxOC0wNi0wMScpLFxuICAgICAgICAgIHllYXJzT2ZFeHBlcmllbmNlOiA2LFxuICAgICAgICAgIGFyZWFzT2ZFeHBlcnRpc2U6IFtcbiAgICAgICAgICAgICdUcmF1bWEgVGhlcmFweScsXG4gICAgICAgICAgICAnUFRTRCcsXG4gICAgICAgICAgICAnQW54aWV0eSBEaXNvcmRlcnMnLFxuICAgICAgICAgICAgJ0RlcHJlc3Npb24nLFxuICAgICAgICAgICAgJ0VNRFInLFxuICAgICAgICAgIF0sXG4gICAgICAgICAgYXNzZXNzbWVudFRvb2xzOiBbXG4gICAgICAgICAgICAnUEhRLTknLFxuICAgICAgICAgICAgJ0dBRC03JyxcbiAgICAgICAgICAgICdQQ0wtNScsXG4gICAgICAgICAgICAnQ0FQUy01JyxcbiAgICAgICAgICAgICdQVFNEIENoZWNrbGlzdCcsXG4gICAgICAgICAgXSxcbiAgICAgICAgICB0aGVyYXBldXRpY0FwcHJvYWNoZXNVc2VkTGlzdDogW1xuICAgICAgICAgICAgJ0VNRFInLFxuICAgICAgICAgICAgJ1RyYXVtYS1JbmZvcm1lZCBDQlQnLFxuICAgICAgICAgICAgJ1NvbWF0aWMgRXhwZXJpZW5jaW5nJyxcbiAgICAgICAgICAgICdNaW5kZnVsbmVzcy1CYXNlZCBUaGVyYXB5JyxcbiAgICAgICAgICBdLFxuICAgICAgICAgIGxhbmd1YWdlc09mZmVyZWQ6IFsnRW5nbGlzaCcsICdGcmVuY2gnXSxcbiAgICAgICAgICBwcm92aWRlZE9ubGluZVRoZXJhcHlCZWZvcmU6IHRydWUsXG4gICAgICAgICAgY29tZm9ydGFibGVVc2luZ1ZpZGVvQ29uZmVyZW5jaW5nOiB0cnVlLFxuICAgICAgICAgIHdlZWtseUF2YWlsYWJpbGl0eTogJzI1JyxcbiAgICAgICAgICBwcmVmZXJyZWRTZXNzaW9uTGVuZ3RoOiBbNjAsIDkwXSxcbiAgICAgICAgICBhY2NlcHRUeXBlczogWydJbmRpdmlkdWFsJywgJ0NvdXBsZXMnXSxcbiAgICAgICAgICBob3VybHlSYXRlOiAxODAsXG4gICAgICAgICAgZXhwaXJhdGlvbkRhdGVPZkxpY2Vuc2U6IG5ldyBEYXRlKCcyMDI1LTEyLTMxJyksXG4gICAgICAgICAgY29tcGxpZXNXaXRoRGF0YVByaXZhY3lBY3Q6IHRydWUsXG4gICAgICAgICAgd2lsbGluZ1RvQWJpZGVCeVBsYXRmb3JtR3VpZGVsaW5lczogdHJ1ZSxcbiAgICAgICAgICBzdGF0dXM6ICdwZW5kaW5nJywgLy8gUGVuZGluZyByZXZpZXdcbiAgICAgICAgICBiaW86ICdTcGVjaWFsaXplZCB0cmF1bWEgdGhlcmFwaXN0IHdpdGggNiB5ZWFycyBvZiBleHBlcmllbmNlIGhlbHBpbmcgY2xpZW50cyBoZWFsIGZyb20gUFRTRCBhbmQgY29tcGxleCB0cmF1bWEgdXNpbmcgRU1EUiBhbmQgc29tYXRpYyBhcHByb2FjaGVzLicsXG4gICAgICAgICAgZWR1Y2F0aW9uOiAnTVNXIGZyb20gVW5pdmVyc2l0eSBvZiBCcml0aXNoIENvbHVtYmlhJyxcbiAgICAgICAgICBjZXJ0aWZpY2F0aW9uczogWydFTURSIExldmVsIElJJywgJ1RyYXVtYS1JbmZvcm1lZCBDYXJlIENlcnRpZmljYXRlJ10sXG4gICAgICAgICAgdHJlYXRtZW50U3VjY2Vzc1JhdGVzOiB7fSxcbiAgICAgICAgICBzZXNzaW9uTGVuZ3RoOiAnNjAtOTAgbWludXRlcycsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gPT09IFBIQVNFIDI6IEFETUlOIFJFVklFVyBQUk9DRVNTID09PVxuICAgICAgXG4gICAgICAvLyAzLiBDcmVhdGUgYWRtaW4gdXNlciBmb3IgcmV2aWV3XG4gICAgICBjb25zdCBhZG1pblVzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5jcmVhdGUoe1xuICAgICAgICBkYXRhOiBUZXN0RGF0YUdlbmVyYXRvci5jcmVhdGVVc2VyKHtcbiAgICAgICAgICBpZDogJ3dvcmtmbG93LWFkbWluLTEyMycsXG4gICAgICAgICAgZW1haWw6ICdhZG1pbkBtZW50YXJhLmNvbScsXG4gICAgICAgICAgZmlyc3ROYW1lOiAnQWRtaW4nLFxuICAgICAgICAgIGxhc3ROYW1lOiAnUmV2aWV3ZXInLFxuICAgICAgICAgIHJvbGU6ICdhZG1pbicsXG4gICAgICAgICAgaXNBY3RpdmU6IHRydWUsXG4gICAgICAgICAgaXNWZXJpZmllZDogdHJ1ZSxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgYWRtaW4gPSBhd2FpdCBwcmlzbWEuYWRtaW4uY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHVzZXJJZDogYWRtaW5Vc2VyLmlkLFxuICAgICAgICAgIHBlcm1pc3Npb25zOiBbJ3Jldmlld190aGVyYXBpc3RzJywgJ2FwcHJvdmVfdGhlcmFwaXN0cycsICdtYW5hZ2VfdXNlcnMnXSxcbiAgICAgICAgICBhZG1pbkxldmVsOiAnYWRtaW4nLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIDQuIENyZWF0ZSBhdWRpdCBsb2cgZm9yIGFwcGxpY2F0aW9uIHN1Ym1pc3Npb25cbiAgICAgIGF3YWl0IHByaXNtYS5hdWRpdExvZy5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdXNlcklkOiB0aGVyYXBpc3RVc2VyLmlkLFxuICAgICAgICAgIGFjdGlvbjogJ1RIRVJBUElTVF9BUFBMSUNBVElPTl9TVUJNSVRURUQnLFxuICAgICAgICAgIGVudGl0eTogJ1RoZXJhcGlzdCcsXG4gICAgICAgICAgZW50aXR5SWQ6IHRoZXJhcGlzdC51c2VySWQsXG4gICAgICAgICAgZGV0YWlsczoge1xuICAgICAgICAgICAgYXBwbGljYXRpb25TdGF0dXM6ICdwZW5kaW5nJyxcbiAgICAgICAgICAgIHByb3ZpZGVyVHlwZTogdGhlcmFwaXN0LnByb3ZpZGVyVHlwZSxcbiAgICAgICAgICAgIHNwZWNpYWxpemF0aW9uczogdGhlcmFwaXN0LmFyZWFzT2ZFeHBlcnRpc2UsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzZXZlcml0eTogJ0lORk8nLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIDUuIEFkbWluIHJldmlld3MgYW5kIGFwcHJvdmVzIHRoZXJhcGlzdFxuICAgICAgY29uc3QgYXBwcm92ZWRUaGVyYXBpc3QgPSBhd2FpdCBwcmlzbWEudGhlcmFwaXN0LnVwZGF0ZSh7XG4gICAgICAgIHdoZXJlOiB7IHVzZXJJZDogdGhlcmFwaXN0LnVzZXJJZCB9LFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgc3RhdHVzOiAnYXBwcm92ZWQnLFxuICAgICAgICAgIHByb2Nlc3NlZEJ5OiBhZG1pbi51c2VySWQsXG4gICAgICAgICAgcHJvY2Vzc2VkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgcmV2aWV3Tm90ZXM6ICdFeGNlbGxlbnQgY3JlZGVudGlhbHMgYW5kIGV4cGVyaWVuY2UuIEVNRFIgY2VydGlmaWNhdGlvbiB2ZXJpZmllZC4gQXBwcm92ZWQgZm9yIHBsYXRmb3JtLicsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gNi4gVXBkYXRlIHVzZXIgdmVyaWZpY2F0aW9uIHN0YXR1c1xuICAgICAgYXdhaXQgcHJpc21hLnVzZXIudXBkYXRlKHtcbiAgICAgICAgd2hlcmU6IHsgaWQ6IHRoZXJhcGlzdFVzZXIuaWQgfSxcbiAgICAgICAgZGF0YTogeyBpc1ZlcmlmaWVkOiB0cnVlIH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gNy4gQ3JlYXRlIGFwcHJvdmFsIGF1ZGl0IGxvZ1xuICAgICAgYXdhaXQgcHJpc21hLmF1ZGl0TG9nLmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICB1c2VySWQ6IGFkbWluVXNlci5pZCxcbiAgICAgICAgICBhY3Rpb246ICdUSEVSQVBJU1RfQVBQUk9WRUQnLFxuICAgICAgICAgIGVudGl0eTogJ1RoZXJhcGlzdCcsXG4gICAgICAgICAgZW50aXR5SWQ6IHRoZXJhcGlzdC51c2VySWQsXG4gICAgICAgICAgZGV0YWlsczoge1xuICAgICAgICAgICAgcmV2aWV3ZWRCeTogYWRtaW5Vc2VyLmlkLFxuICAgICAgICAgICAgcHJldmlvdXNTdGF0dXM6ICdwZW5kaW5nJyxcbiAgICAgICAgICAgIG5ld1N0YXR1czogJ2FwcHJvdmVkJyxcbiAgICAgICAgICAgIHJldmlld05vdGVzOiAnRXhjZWxsZW50IGNyZWRlbnRpYWxzIGFuZCBleHBlcmllbmNlJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNldmVyaXR5OiAnSU5GTycsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gPT09IFBIQVNFIDM6IENMSUVOVCBNQVRDSElORyBBTkQgQVNTSUdOTUVOVCA9PT1cbiAgICAgIFxuICAgICAgLy8gOC4gQ3JlYXRlIGNsaWVudCBuZWVkaW5nIHRyYXVtYSB0aGVyYXB5XG4gICAgICBjb25zdCB0cmF1bWFDbGllbnRVc2VyID0gYXdhaXQgcHJpc21hLnVzZXIuY3JlYXRlKHtcbiAgICAgICAgZGF0YTogVGVzdERhdGFHZW5lcmF0b3IuY3JlYXRlVXNlcih7XG4gICAgICAgICAgaWQ6ICd0cmF1bWEtY2xpZW50LTEyMycsXG4gICAgICAgICAgZW1haWw6ICd0cmF1bWEtY2xpZW50QG1lbnRhcmEuY29tJyxcbiAgICAgICAgICBmaXJzdE5hbWU6ICdBbGV4JyxcbiAgICAgICAgICBsYXN0TmFtZTogJ1JpdmVyYScsXG4gICAgICAgICAgcm9sZTogJ2NsaWVudCcsXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHRyYXVtYUNsaWVudCA9IGF3YWl0IHByaXNtYS5jbGllbnQuY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHVzZXJJZDogdHJhdW1hQ2xpZW50VXNlci5pZCxcbiAgICAgICAgICBoYXNTZWVuVGhlcmFwaXN0UmVjb21tZW5kYXRpb25zOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyA5LiBDcmVhdGUgdHJhdW1hLWZvY3VzZWQgcHJlLWFzc2Vzc21lbnRcbiAgICAgIGNvbnN0IHRyYXVtYUFzc2Vzc21lbnQgPSBhd2FpdCBwcmlzbWEucHJlQXNzZXNzbWVudC5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdXNlcklkOiB0cmF1bWFDbGllbnRVc2VyLmlkLFxuICAgICAgICAgIHF1ZXN0aW9ubmFpcmVzOiB7XG4gICAgICAgICAgICBQSFE5OiBbMywgMywgMiwgMiwgMywgMywgMywgMiwgMl0sIC8vIE1vZGVyYXRlLXNldmVyZSBkZXByZXNzaW9uXG4gICAgICAgICAgICBHQUQ3OiBbMywgMywgMywgMiwgMywgMywgM10sIC8vIFNldmVyZSBhbnhpZXR5XG4gICAgICAgICAgICBQQ0w1OiBbMywgNCwgMywgNCwgMywgMywgNCwgMywgNCwgMywgMywgNCwgMywgMywgNCwgMywgNCwgMywgMywgNF0sIC8vIFNpZ25pZmljYW50IFBUU0Qgc3ltcHRvbXNcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNjb3Jlczoge1xuICAgICAgICAgICAgZGVwcmVzc2lvbjogMjMsIC8vIE1vZGVyYXRlLXNldmVyZVxuICAgICAgICAgICAgYW54aWV0eTogMjAsIC8vIFNldmVyZVxuICAgICAgICAgICAgcHRzZDogNjgsIC8vIFNpZ25pZmljYW50IFBUU0Qgc3ltcHRvbXNcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNldmVyaXR5TGV2ZWxzOiB7XG4gICAgICAgICAgICBkZXByZXNzaW9uOiAnbW9kZXJhdGUtc2V2ZXJlJyxcbiAgICAgICAgICAgIGFueGlldHk6ICdzZXZlcmUnLFxuICAgICAgICAgICAgcHRzZDogJ3NpZ25pZmljYW50JyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHN0YXR1czogJ0NPTVBMRVRFRCcsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gMTAuIENyZWF0ZSBjbGllbnQgbWVkaWNhbCBoaXN0b3J5IGluZGljYXRpbmcgdHJhdW1hXG4gICAgICBhd2FpdCBwcmlzbWEuY2xpZW50TWVkaWNhbEhpc3RvcnkuY3JlYXRlTWFueSh7XG4gICAgICAgIGRhdGE6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjbGllbnRJZDogdHJhdW1hQ2xpZW50LnVzZXJJZCxcbiAgICAgICAgICAgIGNvbmRpdGlvbjogJ1Bvc3QtVHJhdW1hdGljIFN0cmVzcyBEaXNvcmRlcicsXG4gICAgICAgICAgICBub3RlczogJ01vdG9yIHZlaGljbGUgYWNjaWRlbnQgMTggbW9udGhzIGFnbywgZXhwZXJpZW5jaW5nIGZsYXNoYmFja3MgYW5kIG5pZ2h0bWFyZXMnLFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgY2xpZW50SWQ6IHRyYXVtYUNsaWVudC51c2VySWQsXG4gICAgICAgICAgICBjb25kaXRpb246ICdNYWpvciBEZXByZXNzaXZlIERpc29yZGVyJyxcbiAgICAgICAgICAgIG5vdGVzOiAnU2Vjb25kYXJ5IHRvIFBUU0QsIGJlZ2FuIGFmdGVyIHRyYXVtYScsXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyAxMS4gQ3JlYXRlIG1hdGNoaW5nIGFuYWx5c2lzIHNob3dpbmcgdGhlcmFwaXN0IGFzIHBlcmZlY3QgbWF0Y2hcbiAgICAgIGNvbnN0IHRyYXVtYU1hdGNoSGlzdG9yeSA9IGF3YWl0IHByaXNtYS5tYXRjaEhpc3RvcnkuY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGNsaWVudElkOiB0cmF1bWFDbGllbnQudXNlcklkLFxuICAgICAgICAgIHRoZXJhcGlzdElkOiBhcHByb3ZlZFRoZXJhcGlzdC51c2VySWQsXG4gICAgICAgICAgdG90YWxTY29yZTogOTYsIC8vIEV4Y2VsbGVudCBtYXRjaFxuICAgICAgICAgIGNvbmRpdGlvblNjb3JlOiA5OCwgLy8gUGVyZmVjdCBzcGVjaWFsaXphdGlvbiBtYXRjaFxuICAgICAgICAgIGFwcHJvYWNoU2NvcmU6IDk1LCAvLyBFTURSIGV4YWN0bHkgd2hhdCBjbGllbnQgbmVlZHNcbiAgICAgICAgICBleHBlcmllbmNlU2NvcmU6IDk0LCAvLyBTdHJvbmcgdHJhdW1hIGV4cGVyaWVuY2VcbiAgICAgICAgICByZXZpZXdTY29yZTogOTAsIC8vIE5ldyB0aGVyYXBpc3QsIG5vIHJldmlld3MgeWV0XG4gICAgICAgICAgbG9naXN0aWNzU2NvcmU6IDkyLCAvLyBHb29kIGF2YWlsYWJpbGl0eSBtYXRjaFxuICAgICAgICAgIGNvbXBhdGliaWxpdHlTY29yZTogOTQsXG4gICAgICAgICAgcHJpbWFyeU1hdGNoZXM6IFsnUFRTRCcsICdUcmF1bWEgVGhlcmFweSddLFxuICAgICAgICAgIHNlY29uZGFyeU1hdGNoZXM6IFsnRGVwcmVzc2lvbicsICdBbnhpZXR5J10sXG4gICAgICAgICAgYXBwcm9hY2hNYXRjaGVzOiBbJ0VNRFInLCAnVHJhdW1hLUluZm9ybWVkIENCVCddLFxuICAgICAgICAgIHJlY29tbWVuZGF0aW9uUmFuazogMSxcbiAgICAgICAgICB0b3RhbFJlY29tbWVuZGF0aW9uczogMSwgLy8gT25seSBvbmUgcGVyZmVjdCBtYXRjaFxuICAgICAgICAgIHdhc1ZpZXdlZDogdHJ1ZSxcbiAgICAgICAgICB3YXNDb250YWN0ZWQ6IHRydWUsXG4gICAgICAgICAgYmVjYW1lQ2xpZW50OiB0cnVlLFxuICAgICAgICAgIHNlc3Npb25Db3VudDogMCxcbiAgICAgICAgICByZWNvbW1lbmRhdGlvbkFsZ29yaXRobTogJ3RyYXVtYV9zcGVjaWFsaXplZCcsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gMTIuIENyZWF0ZSBjb21wYXRpYmlsaXR5IGFuYWx5c2lzXG4gICAgICBjb25zdCB0cmF1bWFDb21wYXRpYmlsaXR5ID0gYXdhaXQgcHJpc21hLmNsaWVudENvbXBhdGliaWxpdHkuY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGNsaWVudElkOiB0cmF1bWFDbGllbnQudXNlcklkLFxuICAgICAgICAgIHRoZXJhcGlzdElkOiBhcHByb3ZlZFRoZXJhcGlzdC51c2VySWQsXG4gICAgICAgICAgcGVyc29uYWxpdHlDb21wYXRpYmlsaXR5OiA5MixcbiAgICAgICAgICBzZXNzaW9uQ29tcGF0aWJpbGl0eTogOTUsXG4gICAgICAgICAgZGVtb2dyYXBoaWNDb21wYXRpYmlsaXR5OiA4OCxcbiAgICAgICAgICBvdmVyYWxsQ29tcGF0aWJpbGl0eTogOTQsXG4gICAgICAgICAgY29tbXVuaWNhdGlvblN0eWxlU2NvcmU6IDkwLFxuICAgICAgICAgIHBlcnNvbmFsaXR5TWF0Y2hTY29yZTogOTQsXG4gICAgICAgICAgY3VsdHVyYWxDb21wYXRpYmlsaXR5U2NvcmU6IDg1LFxuICAgICAgICAgIGZvcm1hdE1hdGNoU2NvcmU6IDk4LCAvLyBJbmRpdmlkdWFsIHRoZXJhcHkgcHJlZmVyZW5jZVxuICAgICAgICAgIGR1cmF0aW9uTWF0Y2hTY29yZTogOTUsIC8vIDYwLTkwIG1pbiBzZXNzaW9ucyBpZGVhbCBmb3IgdHJhdW1hXG4gICAgICAgICAgZnJlcXVlbmN5TWF0Y2hTY29yZTogOTIsXG4gICAgICAgICAgc2NoZWR1bGluZ0NvbXBhdGliaWxpdHlTY29yZTogODgsXG4gICAgICAgICAgYWdlQ29tcGF0aWJpbGl0eVNjb3JlOiA4NSxcbiAgICAgICAgICBnZW5kZXJDb21wYXRpYmlsaXR5U2NvcmU6IDkwLFxuICAgICAgICAgIGxhbmd1YWdlQ29tcGF0aWJpbGl0eVNjb3JlOiAxMDAsXG4gICAgICAgICAgc3RyZW5ndGhzOiBbXG4gICAgICAgICAgICAnU3BlY2lhbGl6ZWQgRU1EUiB0cmFpbmluZyBwZXJmZWN0IGZvciBQVFNEIHRyZWF0bWVudCcsXG4gICAgICAgICAgICAnRXh0ZW5zaXZlIHRyYXVtYSB0aGVyYXB5IGV4cGVyaWVuY2UnLFxuICAgICAgICAgICAgJ0V4Y2VsbGVudCBzZXNzaW9uIGZvcm1hdCBtYXRjaCBmb3IgdHJhdW1hIHByb2Nlc3NpbmcnLFxuICAgICAgICAgICAgJ1N0cm9uZyB0aGVyYXBldXRpYyBhcHByb2FjaCBhbGlnbm1lbnQnLFxuICAgICAgICAgIF0sXG4gICAgICAgICAgY29uY2VybnM6IFtcbiAgICAgICAgICAgICdOZXcgdG8gcGxhdGZvcm0gLSBidWlsZGluZyByZXZpZXcgaGlzdG9yeScsXG4gICAgICAgICAgXSxcbiAgICAgICAgICByZWNvbW1lbmRhdGlvbnM6IFtcbiAgICAgICAgICAgICdCZWdpbiB3aXRoIEVNRFIgYXNzZXNzbWVudCBhbmQgcHJlcGFyYXRpb24nLFxuICAgICAgICAgICAgJ1NjaGVkdWxlIDkwLW1pbnV0ZSBzZXNzaW9ucyBmb3IgdHJhdW1hIHByb2Nlc3NpbmcnLFxuICAgICAgICAgICAgJ1dlZWtseSBzZXNzaW9ucyByZWNvbW1lbmRlZCBpbml0aWFsbHknLFxuICAgICAgICAgICAgJ01vbml0b3IgZGlzc29jaWF0aW9uIGFuZCBncm91bmRpbmcgdGVjaG5pcXVlcycsXG4gICAgICAgICAgXSxcbiAgICAgICAgICBhbmFseXNpc1ZlcnNpb246ICc0LjAnLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vID09PSBQSEFTRSA0OiBBU1NJR05NRU5UIEFORCBGSVJTVCBTRVNTSU9OID09PVxuICAgICAgXG4gICAgICAvLyAxMy4gQ3JlYXRlIGNsaWVudC10aGVyYXBpc3QgYXNzaWdubWVudFxuICAgICAgY29uc3QgdHJhdW1hQXNzaWdubWVudCA9IGF3YWl0IHByaXNtYS5jbGllbnRUaGVyYXBpc3QuY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGNsaWVudElkOiB0cmF1bWFDbGllbnQudXNlcklkLFxuICAgICAgICAgIHRoZXJhcGlzdElkOiBhcHByb3ZlZFRoZXJhcGlzdC51c2VySWQsXG4gICAgICAgICAgc3RhdHVzOiAnYWN0aXZlJyxcbiAgICAgICAgICBub3RlczogJ1NwZWNpYWxpemVkIHRyYXVtYSB0aGVyYXB5IGFzc2lnbm1lbnQuIENsaWVudCBoYXMgUFRTRCBmcm9tIE1WQSwgZXhjZWxsZW50IG1hdGNoIGZvciBFTURSIHRyZWF0bWVudC4nLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIDE0LiBTY2hlZHVsZSBmaXJzdCBzZXNzaW9uXG4gICAgICBjb25zdCBmaXJzdFNlc3Npb24gPSBhd2FpdCBwcmlzbWEubWVldGluZy5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgY2xpZW50SWQ6IHRyYXVtYUNsaWVudC51c2VySWQsXG4gICAgICAgICAgdGhlcmFwaXN0SWQ6IGFwcHJvdmVkVGhlcmFwaXN0LnVzZXJJZCxcbiAgICAgICAgICBzdGFydFRpbWU6IG5ldyBEYXRlKCcyMDI0LTEyLTEwVDE0OjAwOjAwWicpLFxuICAgICAgICAgIGR1cmF0aW9uOiA5MCwgLy8gRXh0ZW5kZWQgc2Vzc2lvbiBmb3IgdHJhdW1hIHdvcmtcbiAgICAgICAgICBzdGF0dXM6ICdDT01QTEVURUQnLFxuICAgICAgICAgIG1lZXRpbmdUeXBlOiAndmlkZW8nLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnSW5pdGlhbCBFTURSIEFzc2Vzc21lbnQgYW5kIFRyYXVtYSBIaXN0b3J5JyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyAxNS4gQ3JlYXRlIHNlc3Npb24gbG9nXG4gICAgICBjb25zdCB0cmF1bWFTZXNzaW9uTG9nID0gYXdhaXQgcHJpc21hLnNlc3Npb25Mb2cuY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGNsaWVudElkOiB0cmF1bWFDbGllbnQudXNlcklkLFxuICAgICAgICAgIG1lZXRpbmdJZDogZmlyc3RTZXNzaW9uLmlkLFxuICAgICAgICAgIHNlc3Npb25EYXRlOiBmaXJzdFNlc3Npb24uc3RhcnRUaW1lLFxuICAgICAgICAgIGR1cmF0aW9uOiA5MCxcbiAgICAgICAgICBzZXNzaW9uVHlwZTogJ0luZGl2aWR1YWwnLFxuICAgICAgICAgIG5vdGVzOiAnQ29tcHJlaGVuc2l2ZSB0cmF1bWEgYXNzZXNzbWVudCBjb21wbGV0ZWQuIENsaWVudCByZXBvcnRzIE1WQSB0cmF1bWEgd2l0aCBzaWduaWZpY2FudCBQVFNEIHN5bXB0b21zLiBFTURSIHN1aXRhYmlsaXR5IGNvbmZpcm1lZC4gRXN0YWJsaXNoZWQgc2FmZXR5IGFuZCBncm91bmRpbmcgcHJvdG9jb2xzLiBDbGllbnQgbW90aXZhdGVkIGZvciB0cmVhdG1lbnQuJyxcbiAgICAgICAgICBtb29kOiAnYW54aW91cyBidXQgaG9wZWZ1bCcsXG4gICAgICAgICAgcHJvZ3Jlc3M6ICdhc3Nlc3NtZW50IGNvbXBsZXRlJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyAxNi4gVXBkYXRlIGNsaWVudCB0byBzaG93IHRoZXkndmUgc2VlbiByZWNvbW1lbmRhdGlvbnNcbiAgICAgIGF3YWl0IHByaXNtYS5jbGllbnQudXBkYXRlKHtcbiAgICAgICAgd2hlcmU6IHsgdXNlcklkOiB0cmF1bWFDbGllbnQudXNlcklkIH0sXG4gICAgICAgIGRhdGE6IHsgaGFzU2VlblRoZXJhcGlzdFJlY29tbWVuZGF0aW9uczogdHJ1ZSB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIDE3LiBDcmVhdGUgZm9sbG93LXVwIGZlZWRiYWNrXG4gICAgICBjb25zdCB0cmF1bWFGZWVkYmFjayA9IGF3YWl0IHByaXNtYS5yZWNvbW1lbmRhdGlvbkZlZWRiYWNrLmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBjbGllbnRJZDogdHJhdW1hQ2xpZW50LnVzZXJJZCxcbiAgICAgICAgICB0aGVyYXBpc3RJZDogYXBwcm92ZWRUaGVyYXBpc3QudXNlcklkLFxuICAgICAgICAgIG1hdGNoSGlzdG9yeUlkOiB0cmF1bWFNYXRjaEhpc3RvcnkuaWQsXG4gICAgICAgICAgcmVsZXZhbmNlU2NvcmU6IDUsXG4gICAgICAgICAgYWNjdXJhY3lTY29yZTogNSxcbiAgICAgICAgICBoZWxwZnVsbmVzc1Njb3JlOiA1LFxuICAgICAgICAgIGZlZWRiYWNrVGV4dDogJ1BlcmZlY3QgbWF0Y2ghIEZpbmFsbHkgZm91bmQgYSB0aGVyYXBpc3Qgd2hvIHRydWx5IHVuZGVyc3RhbmRzIHRyYXVtYSBhbmQgaGFzIHRoZSBzcGVjaWFsaXplZCB0cmFpbmluZyBJIG5lZWQuJyxcbiAgICAgICAgICBzZWxlY3RlZFRoZXJhcGlzdDogdHJ1ZSxcbiAgICAgICAgICBoYWRJbml0aWFsU2Vzc2lvbjogdHJ1ZSxcbiAgICAgICAgICBjb250aW51ZWRUaGVyYXB5OiB0cnVlLFxuICAgICAgICAgIG92ZXJhbGxTYXRpc2ZhY3Rpb246IDUsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gPT09IENPTVBSRUhFTlNJVkUgVkVSSUZJQ0FUSU9OID09PVxuICAgICAgXG4gICAgICAvLyBWZXJpZnkgY29tcGxldGUgdGhlcmFwaXN0IHdvcmtmbG93XG4gICAgICBjb25zdCBjb21wbGV0ZVRoZXJhcGlzdFdvcmtmbG93ID0gYXdhaXQgcHJpc21hLnRoZXJhcGlzdC5maW5kVW5pcXVlKHtcbiAgICAgICAgd2hlcmU6IHsgdXNlcklkOiBhcHByb3ZlZFRoZXJhcGlzdC51c2VySWQgfSxcbiAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgIHVzZXI6IHRydWUsXG4gICAgICAgICAgcHJvY2Vzc2VkQnlBZG1pbjoge1xuICAgICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgICB1c2VyOiB0cnVlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGFzc2lnbmVkQ2xpZW50czoge1xuICAgICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgICBjbGllbnQ6IHtcbiAgICAgICAgICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgICAgICAgICB1c2VyOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgcHJlQXNzZXNzbWVudDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIHNlc3Npb25Mb2dzOiB0cnVlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgICAgbWVldGluZ3M6IHtcbiAgICAgICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICAgICAgY2xpZW50OiB7XG4gICAgICAgICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgICAgICAgdXNlcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJldmlld3M6IHRydWUsXG4gICAgICAgICAgbWF0Y2hIaXN0b3J5OiB0cnVlLFxuICAgICAgICAgIGNsaWVudENvbXBhdGliaWxpdHk6IHRydWUsXG4gICAgICAgICAgcmVjb21tZW5kYXRpb25GZWVkYmFjazogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBDb21wcmVoZW5zaXZlIGFzc2VydGlvbnNcbiAgICAgIGV4cGVjdChjb21wbGV0ZVRoZXJhcGlzdFdvcmtmbG93KS50b0JlVHJ1dGh5KCk7XG4gICAgICBleHBlY3QoY29tcGxldGVUaGVyYXBpc3RXb3JrZmxvdz8uc3RhdHVzKS50b0JlKCdhcHByb3ZlZCcpO1xuICAgICAgZXhwZWN0KGNvbXBsZXRlVGhlcmFwaXN0V29ya2Zsb3c/LnVzZXIuaXNWZXJpZmllZCkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChjb21wbGV0ZVRoZXJhcGlzdFdvcmtmbG93Py5wcm9jZXNzZWRCeUFkbWluPy51c2VyLnJvbGUpLnRvQmUoJ2FkbWluJyk7XG4gICAgICBleHBlY3QoY29tcGxldGVUaGVyYXBpc3RXb3JrZmxvdz8uYXNzaWduZWRDbGllbnRzKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICBleHBlY3QoY29tcGxldGVUaGVyYXBpc3RXb3JrZmxvdz8ubWVldGluZ3MpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgIGV4cGVjdChjb21wbGV0ZVRoZXJhcGlzdFdvcmtmbG93Py5tYXRjaEhpc3RvcnkpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgIGV4cGVjdChjb21wbGV0ZVRoZXJhcGlzdFdvcmtmbG93Py5jbGllbnRDb21wYXRpYmlsaXR5KS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICBleHBlY3QoY29tcGxldGVUaGVyYXBpc3RXb3JrZmxvdz8ucmVjb21tZW5kYXRpb25GZWVkYmFjaykudG9IYXZlTGVuZ3RoKDEpO1xuXG4gICAgICAvLyBWZXJpZnkgbWF0Y2ggcXVhbGl0eVxuICAgICAgY29uc3QgbWF0Y2hRdWFsaXR5ID0gY29tcGxldGVUaGVyYXBpc3RXb3JrZmxvdz8ubWF0Y2hIaXN0b3J5WzBdO1xuICAgICAgY29uc3QgY29tcGF0aWJpbGl0eSA9IGNvbXBsZXRlVGhlcmFwaXN0V29ya2Zsb3c/LmNsaWVudENvbXBhdGliaWxpdHlbMF07XG4gICAgICBjb25zdCBmZWVkYmFjayA9IGNvbXBsZXRlVGhlcmFwaXN0V29ya2Zsb3c/LnJlY29tbWVuZGF0aW9uRmVlZGJhY2tbMF07XG5cbiAgICAgIGV4cGVjdChtYXRjaFF1YWxpdHk/LnRvdGFsU2NvcmUpLnRvQmUoOTYpO1xuICAgICAgZXhwZWN0KGNvbXBhdGliaWxpdHk/Lm92ZXJhbGxDb21wYXRpYmlsaXR5KS50b0JlKDk0KTtcbiAgICAgIGV4cGVjdChmZWVkYmFjaz8ub3ZlcmFsbFNhdGlzZmFjdGlvbikudG9CZSg1KTtcblxuICAgICAgLy8gVmVyaWZ5IGNsaWVudCByZWNlaXZlZCBwcm9wZXIgdHJhdW1hLXNwZWNpYWxpemVkIGNhcmVcbiAgICAgIGNvbnN0IHRyYXVtYUNsaWVudCA9IGNvbXBsZXRlVGhlcmFwaXN0V29ya2Zsb3c/LmFzc2lnbmVkQ2xpZW50c1swXS5jbGllbnQ7XG4gICAgICBleHBlY3QodHJhdW1hQ2xpZW50Py5wcmVBc3Nlc3NtZW50Py5zZXZlcml0eUxldmVscy5wdHNkKS50b0JlKCdzaWduaWZpY2FudCcpO1xuICAgICAgZXhwZWN0KHRyYXVtYUNsaWVudD8uc2Vzc2lvbkxvZ3MpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgIGV4cGVjdCh0cmF1bWFDbGllbnQ/LnNlc3Npb25Mb2dzWzBdLm5vdGVzKS50b0NvbnRhaW4oJ0VNRFInKTtcblxuICAgICAgY29uc29sZS5sb2coYOKchSBDb21wbGV0ZSBUaGVyYXBpc3QgV29ya2Zsb3cgVmVyaWZpZWQgU3VjY2Vzc2Z1bGx5IVxuICAgICAg8J+puiBUaGVyYXBpc3QgT25ib2FyZGluZyBTdGF0aXN0aWNzOlxuICAgICAgICDwn5Go4oCN4pqV77iPICBUaGVyYXBpc3Q6ICR7Y29tcGxldGVUaGVyYXBpc3RXb3JrZmxvdz8udXNlci5maXJzdE5hbWV9ICR7Y29tcGxldGVUaGVyYXBpc3RXb3JrZmxvdz8udXNlci5sYXN0TmFtZX1cbiAgICAgICAg8J+TiyBTcGVjaWFsaXphdGlvbjogJHtjb21wbGV0ZVRoZXJhcGlzdFdvcmtmbG93Py5hcmVhc09mRXhwZXJ0aXNlLmpvaW4oJywgJyl9XG4gICAgICAgIOKchSBTdGF0dXM6ICR7Y29tcGxldGVUaGVyYXBpc3RXb3JrZmxvdz8uc3RhdHVzfVxuICAgICAgICDwn5GkIFJldmlld2VkIGJ5OiAke2NvbXBsZXRlVGhlcmFwaXN0V29ya2Zsb3c/LnByb2Nlc3NlZEJ5QWRtaW4/LnVzZXIuZmlyc3ROYW1lfVxuICAgICAgICDwn5GlIEFzc2lnbmVkIENsaWVudHM6ICR7Y29tcGxldGVUaGVyYXBpc3RXb3JrZmxvdz8uYXNzaWduZWRDbGllbnRzLmxlbmd0aH1cbiAgICAgICAg8J+OryBNYXRjaCBTY29yZTogJHttYXRjaFF1YWxpdHk/LnRvdGFsU2NvcmV9LzEwMFxuICAgICAgICDwn5KcIENvbXBhdGliaWxpdHk6ICR7Y29tcGF0aWJpbGl0eT8ub3ZlcmFsbENvbXBhdGliaWxpdHl9LzEwMFxuICAgICAgICDirZAgQ2xpZW50IFNhdGlzZmFjdGlvbjogJHtmZWVkYmFjaz8ub3ZlcmFsbFNhdGlzZmFjdGlvbn0vNVxuICAgICAgICDwn5SnIFNwZWNpYWxpemVkIGZvcjogJHttYXRjaFF1YWxpdHk/LnByaW1hcnlNYXRjaGVzLmpvaW4oJywgJyl9XG4gICAgICBgKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0NvbW11bml0eSBQYXJ0aWNpcGF0aW9uIOKGkiBDb250ZW50IENyZWF0aW9uIOKGkiBNb2RlcmF0aW9uIFdvcmtmbG93JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZXhlY3V0ZSBjb21wbGV0ZSBjb21tdW5pdHkgZW5nYWdlbWVudCB3b3JrZmxvdycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5GlIFN0YXJ0aW5nIGNvbW11bml0eSBlbmdhZ2VtZW50IHdvcmtmbG93Li4uJyk7XG5cbiAgICAgIC8vID09PSBQSEFTRSAxOiBDT01NVU5JVFkgU0VUVVAgPT09XG4gICAgICBcbiAgICAgIC8vIDEuIENyZWF0ZSBjb21tdW5pdHlcbiAgICAgIGNvbnN0IGNvbW11bml0eSA9IGF3YWl0IHByaXNtYS5jb21tdW5pdHkuY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIG5hbWU6ICdEZXByZXNzaW9uIFN1cHBvcnQgTmV0d29yaycsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdBIHNhZmUgc3BhY2UgZm9yIHBlb3BsZSBleHBlcmllbmNpbmcgZGVwcmVzc2lvbiB0byBzaGFyZSwgc3VwcG9ydCwgYW5kIGhlYWwgdG9nZXRoZXInLFxuICAgICAgICAgIGlzUHJpdmF0ZTogZmFsc2UsXG4gICAgICAgICAgbWVtYmVyTGltaXQ6IDEwMCxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyAyLiBDcmVhdGUgcm9vbSBzdHJ1Y3R1cmVcbiAgICAgIGNvbnN0IHJvb21Hcm91cHMgPSBhd2FpdCBwcmlzbWEucm9vbUdyb3VwLmNyZWF0ZU1hbnkoe1xuICAgICAgICBkYXRhOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgY29tbXVuaXR5SWQ6IGNvbW11bml0eS5pZCxcbiAgICAgICAgICAgIG5hbWU6ICdTdXBwb3J0ICYgU2hhcmluZycsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogJ1NoYXJlIGV4cGVyaWVuY2VzIGFuZCBzdXBwb3J0IGVhY2ggb3RoZXInLFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgY29tbXVuaXR5SWQ6IGNvbW11bml0eS5pZCxcbiAgICAgICAgICAgIG5hbWU6ICdSZXNvdXJjZXMgJiBUaXBzJyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnU2hhcmUgaGVscGZ1bCByZXNvdXJjZXMgYW5kIGNvcGluZyBzdHJhdGVnaWVzJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNvbW11bml0eUlkOiBjb21tdW5pdHkuaWQsXG4gICAgICAgICAgICBuYW1lOiAnR2VuZXJhbCBEaXNjdXNzaW9uJyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnR2VuZXJhbCBjb252ZXJzYXRpb25zIGFuZCBjb21tdW5pdHkgdXBkYXRlcycsXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBjcmVhdGVkUm9vbUdyb3VwcyA9IGF3YWl0IHByaXNtYS5yb29tR3JvdXAuZmluZE1hbnkoe1xuICAgICAgICB3aGVyZTogeyBjb21tdW5pdHlJZDogY29tbXVuaXR5LmlkIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3Qgcm9vbXMgPSBhd2FpdCBwcmlzbWEucm9vbS5jcmVhdGVNYW55KHtcbiAgICAgICAgZGF0YTogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNvbW11bml0eUlkOiBjb21tdW5pdHkuaWQsXG4gICAgICAgICAgICByb29tR3JvdXBJZDogY3JlYXRlZFJvb21Hcm91cHNbMF0uaWQsXG4gICAgICAgICAgICBuYW1lOiAnRGFpbHkgQ2hlY2staW5zJyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnU2hhcmUgaG93IHlvdSBhcmUgZmVlbGluZyB0b2RheScsXG4gICAgICAgICAgICBwb3N0aW5nUm9sZTogJ01FTUJFUicsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjb21tdW5pdHlJZDogY29tbXVuaXR5LmlkLFxuICAgICAgICAgICAgcm9vbUdyb3VwSWQ6IGNyZWF0ZWRSb29tR3JvdXBzWzBdLmlkLFxuICAgICAgICAgICAgbmFtZTogJ0JyZWFrdGhyb3VnaCBNb21lbnRzJyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQ2VsZWJyYXRlIHlvdXIgd2lucyBhbmQgcHJvZ3Jlc3MnLFxuICAgICAgICAgICAgcG9zdGluZ1JvbGU6ICdNRU1CRVInLFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgY29tbXVuaXR5SWQ6IGNvbW11bml0eS5pZCxcbiAgICAgICAgICAgIHJvb21Hcm91cElkOiBjcmVhdGVkUm9vbUdyb3Vwc1sxXS5pZCxcbiAgICAgICAgICAgIG5hbWU6ICdDb3BpbmcgU3RyYXRlZ2llcycsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogJ1NoYXJlIHdoYXQgd29ya3MgZm9yIHlvdScsXG4gICAgICAgICAgICBwb3N0aW5nUm9sZTogJ01FTUJFUicsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjb21tdW5pdHlJZDogY29tbXVuaXR5LmlkLFxuICAgICAgICAgICAgcm9vbUdyb3VwSWQ6IGNyZWF0ZWRSb29tR3JvdXBzWzJdLmlkLFxuICAgICAgICAgICAgbmFtZTogJ0NvbW11bml0eSBVcGRhdGVzJyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnSW1wb3J0YW50IGNvbW11bml0eSBhbm5vdW5jZW1lbnRzJyxcbiAgICAgICAgICAgIHBvc3RpbmdSb2xlOiAnTU9ERVJBVE9SJyxcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGNyZWF0ZWRSb29tcyA9IGF3YWl0IHByaXNtYS5yb29tLmZpbmRNYW55KHtcbiAgICAgICAgd2hlcmU6IHsgY29tbXVuaXR5SWQ6IGNvbW11bml0eS5pZCB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vID09PSBQSEFTRSAyOiBVU0VSIFBBUlRJQ0lQQVRJT04gPT09XG4gICAgICBcbiAgICAgIC8vIDMuIENyZWF0ZSBjb21tdW5pdHkgbWVtYmVyc1xuICAgICAgY29uc3QgbWVtYmVyVXNlcnMgPSBbXTtcbiAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IDU7IGkrKykge1xuICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgcHJpc21hLnVzZXIuY3JlYXRlKHtcbiAgICAgICAgICBkYXRhOiBUZXN0RGF0YUdlbmVyYXRvci5jcmVhdGVVc2VyKHtcbiAgICAgICAgICAgIGlkOiBgY29tbXVuaXR5LW1lbWJlci0ke2l9YCxcbiAgICAgICAgICAgIGVtYWlsOiBgbWVtYmVyJHtpfUBjb21tdW5pdHkuY29tYCxcbiAgICAgICAgICAgIGZpcnN0TmFtZTogYE1lbWJlciR7aX1gLFxuICAgICAgICAgICAgbGFzdE5hbWU6ICdVc2VyJyxcbiAgICAgICAgICAgIHJvbGU6ICdjbGllbnQnLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9KTtcbiAgICAgICAgbWVtYmVyVXNlcnMucHVzaCh1c2VyKTtcbiAgICAgIH1cblxuICAgICAgLy8gNC4gQ3JlYXRlIG1vZGVyYXRvclxuICAgICAgY29uc3QgbW9kZXJhdG9yVXNlciA9IGF3YWl0IHByaXNtYS51c2VyLmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IFRlc3REYXRhR2VuZXJhdG9yLmNyZWF0ZVVzZXIoe1xuICAgICAgICAgIGlkOiAnY29tbXVuaXR5LW1vZGVyYXRvcicsXG4gICAgICAgICAgZW1haWw6ICdtb2RlcmF0b3JAY29tbXVuaXR5LmNvbScsXG4gICAgICAgICAgZmlyc3ROYW1lOiAnQ29tbXVuaXR5JyxcbiAgICAgICAgICBsYXN0TmFtZTogJ01vZGVyYXRvcicsXG4gICAgICAgICAgcm9sZTogJ21vZGVyYXRvcicsXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IG1vZGVyYXRvciA9IGF3YWl0IHByaXNtYS5tb2RlcmF0b3IuY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHVzZXJJZDogbW9kZXJhdG9yVXNlci5pZCxcbiAgICAgICAgICBwZXJtaXNzaW9uczogWydtb2RlcmF0ZV9jb250ZW50JywgJ21hbmFnZV9tZW1iZXJzJywgJ3Bvc3RfYW5ub3VuY2VtZW50cyddLFxuICAgICAgICAgIGFzc2lnbmVkQ29tbXVuaXRpZXM6IHsgW2NvbW11bml0eS5pZF06ICdhY3RpdmUnIH0sXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gNS4gQ3JlYXRlIG1lbWJlcnNoaXBzXG4gICAgICBjb25zdCBtZW1iZXJzaGlwcyA9IFtdO1xuICAgICAgZm9yIChjb25zdCB1c2VyIG9mIG1lbWJlclVzZXJzKSB7XG4gICAgICAgIGNvbnN0IG1lbWJlcnNoaXAgPSBhd2FpdCBwcmlzbWEubWVtYmVyc2hpcC5jcmVhdGUoe1xuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHVzZXJJZDogdXNlci5pZCxcbiAgICAgICAgICAgIGNvbW11bml0eUlkOiBjb21tdW5pdHkuaWQsXG4gICAgICAgICAgICByb2xlOiAnTUVNQkVSJyxcbiAgICAgICAgICAgIHN0YXR1czogJ0FDVElWRScsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIG1lbWJlcnNoaXBzLnB1c2gobWVtYmVyc2hpcCk7XG4gICAgICB9XG5cbiAgICAgIC8vIEFkZCBtb2RlcmF0b3IgbWVtYmVyc2hpcFxuICAgICAgYXdhaXQgcHJpc21hLm1lbWJlcnNoaXAuY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHVzZXJJZDogbW9kZXJhdG9yVXNlci5pZCxcbiAgICAgICAgICBjb21tdW5pdHlJZDogY29tbXVuaXR5LmlkLFxuICAgICAgICAgIHJvbGU6ICdNT0RFUkFUT1InLFxuICAgICAgICAgIHN0YXR1czogJ0FDVElWRScsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gPT09IFBIQVNFIDM6IENPTlRFTlQgQ1JFQVRJT04gPT09XG4gICAgICBcbiAgICAgIC8vIDYuIENyZWF0ZSBjb21tdW5pdHkgcG9zdHNcbiAgICAgIGNvbnN0IHBvc3RzID0gW107XG4gICAgICBcbiAgICAgIC8vIE1lbWJlciAxOiBEYWlseSBjaGVjay1pblxuICAgICAgY29uc3QgY2hlY2tJblBvc3QgPSBhd2FpdCBwcmlzbWEucG9zdC5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgYXV0aG9ySWQ6IG1lbWJlclVzZXJzWzBdLmlkLFxuICAgICAgICAgIGNvbW11bml0eUlkOiBjb21tdW5pdHkuaWQsXG4gICAgICAgICAgcm9vbUlkOiBjcmVhdGVkUm9vbXNbMF0uaWQsIC8vIERhaWx5IENoZWNrLWlucyByb29tXG4gICAgICAgICAgdGl0bGU6ICdTdHJ1Z2dsaW5nIHRvZGF5IGJ1dCBoZXJlJyxcbiAgICAgICAgICBjb250ZW50OiAnSGF2aW5nIGEgcm91Z2ggZGF5IHdpdGggbXkgZGVwcmVzc2lvbi4gVGhlIGdyZXkgd2VhdGhlciBpc25cXCd0IGhlbHBpbmcsIGJ1dCBJXFwnbSB0cnlpbmcgdG8gcmVtZW1iZXIgdGhhdCB0aGlzIGZlZWxpbmcgd2lsbCBwYXNzLiBKdXN0IHdhbnRlZCB0byBjaGVjayBpbiBhbmQgbGV0IGV2ZXJ5b25lIGtub3cgSVxcJ20gc3RpbGwgZmlnaHRpbmcuJyxcbiAgICAgICAgICB0eXBlOiAnVEVYVCcsXG4gICAgICAgICAgaXNBcHByb3ZlZDogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgcG9zdHMucHVzaChjaGVja0luUG9zdCk7XG5cbiAgICAgIC8vIE1lbWJlciAyOiBCcmVha3Rocm91Z2ggbW9tZW50XG4gICAgICBjb25zdCBicmVha3Rocm91Z2hQb3N0ID0gYXdhaXQgcHJpc21hLnBvc3QuY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGF1dGhvcklkOiBtZW1iZXJVc2Vyc1sxXS5pZCxcbiAgICAgICAgICBjb21tdW5pdHlJZDogY29tbXVuaXR5LmlkLFxuICAgICAgICAgIHJvb21JZDogY3JlYXRlZFJvb21zWzFdLmlkLCAvLyBCcmVha3Rocm91Z2ggTW9tZW50cyByb29tXG4gICAgICAgICAgdGl0bGU6ICdTbWFsbCB2aWN0b3J5OiBNYWRlIGl0IHRvIHRoZXJhcHkgdG9kYXkhJyxcbiAgICAgICAgICBjb250ZW50OiAnSSBhbG1vc3QgY2FuY2VsbGVkIG15IHRoZXJhcHkgc2Vzc2lvbiB0aGlzIG1vcm5pbmcgYmVjYXVzZSBteSBkZXByZXNzaW9uIHdhcyB0ZWxsaW5nIG1lIGl0IHdvdWxkblxcJ3QgaGVscC4gQnV0IEkgcHVzaGVkIHRocm91Z2ggYW5kIHdlbnQgYW55d2F5LiBNeSB0aGVyYXBpc3QgcmVtaW5kZWQgbWUgaG93IG11Y2ggcHJvZ3Jlc3MgSVxcJ3ZlIG1hZGUuIFNvbWV0aW1lcyB3ZSBuZWVkIHRob3NlIG91dHNpZGUgcGVyc3BlY3RpdmVzIHRvIHNlZSBvdXIgb3duIGdyb3d0aC4nLFxuICAgICAgICAgIHR5cGU6ICdURVhUJyxcbiAgICAgICAgICBpc0FwcHJvdmVkOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICBwb3N0cy5wdXNoKGJyZWFrdGhyb3VnaFBvc3QpO1xuXG4gICAgICAvLyBNZW1iZXIgMzogQ29waW5nIHN0cmF0ZWd5XG4gICAgICBjb25zdCBjb3BpbmdQb3N0ID0gYXdhaXQgcHJpc21hLnBvc3QuY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGF1dGhvcklkOiBtZW1iZXJVc2Vyc1syXS5pZCxcbiAgICAgICAgICBjb21tdW5pdHlJZDogY29tbXVuaXR5LmlkLFxuICAgICAgICAgIHJvb21JZDogY3JlYXRlZFJvb21zWzJdLmlkLCAvLyBDb3BpbmcgU3RyYXRlZ2llcyByb29tXG4gICAgICAgICAgdGl0bGU6ICdUaGUgNS00LTMtMi0xIGdyb3VuZGluZyB0ZWNobmlxdWUgdGhhdCBzYXZlcyBtZScsXG4gICAgICAgICAgY29udGVudDogJ1doZW4gbXkgZGVwcmVzc2lvbiBzcGlyYWxzIGFuZCBJIGZlZWwgZGlzY29ubmVjdGVkLCBJIHVzZSB0aGlzIGdyb3VuZGluZyB0ZWNobmlxdWU6IDUgdGhpbmdzIEkgY2FuIHNlZSwgNCB0aGluZ3MgSSBjYW4gdG91Y2gsIDMgdGhpbmdzIEkgY2FuIGhlYXIsIDIgdGhpbmdzIEkgY2FuIHNtZWxsLCAxIHRoaW5nIEkgY2FuIHRhc3RlLiBJdCBicmluZ3MgbWUgYmFjayB0byB0aGUgcHJlc2VudCBtb21lbnQgYW5kIGhlbHBzIG1lIGZlZWwgbW9yZSBhbmNob3JlZC4nLFxuICAgICAgICAgIHR5cGU6ICdURVhUJyxcbiAgICAgICAgICBpc0FwcHJvdmVkOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICBwb3N0cy5wdXNoKGNvcGluZ1Bvc3QpO1xuXG4gICAgICAvLyBNb2RlcmF0b3I6IENvbW11bml0eSB1cGRhdGVcbiAgICAgIGNvbnN0IHVwZGF0ZVBvc3QgPSBhd2FpdCBwcmlzbWEucG9zdC5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgYXV0aG9ySWQ6IG1vZGVyYXRvclVzZXIuaWQsXG4gICAgICAgICAgY29tbXVuaXR5SWQ6IGNvbW11bml0eS5pZCxcbiAgICAgICAgICByb29tSWQ6IGNyZWF0ZWRSb29tc1szXS5pZCwgLy8gQ29tbXVuaXR5IFVwZGF0ZXMgcm9vbVxuICAgICAgICAgIHRpdGxlOiAnV2VsY29tZSB0byBvdXIgbmV3IGNvbW11bml0eSBtZW1iZXJzIScsXG4gICAgICAgICAgY29udGVudDogJ1dlXFwndmUgZ3Jvd24gdG8gb3ZlciA1MCBtZW1iZXJzIHRoaXMgbW9udGghIFJlbWVtYmVyIG91ciBjb21tdW5pdHkgZ3VpZGVsaW5lczogYmUga2luZCwgcmVzcGVjdCBwcml2YWN5LCBubyBtZWRpY2FsIGFkdmljZSwgYW5kIHN1cHBvcnQgZWFjaCBvdGhlclxcJ3Mgam91cm5leXMuIFdlXFwncmUgaGVyZSBmb3IgZWFjaCBvdGhlci4nLFxuICAgICAgICAgIHR5cGU6ICdURVhUJyxcbiAgICAgICAgICBpc0FwcHJvdmVkOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICBwb3N0cy5wdXNoKHVwZGF0ZVBvc3QpO1xuXG4gICAgICAvLyA9PT0gUEhBU0UgNDogQ09NTVVOSVRZIElOVEVSQUNUSU9OID09PVxuICAgICAgXG4gICAgICAvLyA3LiBDcmVhdGUgY29tbWVudHMgYW5kIHJlcGxpZXNcbiAgICAgIGNvbnN0IGNvbW1lbnRzID0gW107XG4gICAgICBcbiAgICAgIC8vIFN1cHBvcnQgY29tbWVudCBvbiBzdHJ1Z2dsaW5nIHBvc3RcbiAgICAgIGNvbnN0IHN1cHBvcnRDb21tZW50ID0gYXdhaXQgcHJpc21hLmNvbW1lbnQuY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGF1dGhvcklkOiBtZW1iZXJVc2Vyc1szXS5pZCxcbiAgICAgICAgICBwb3N0SWQ6IGNoZWNrSW5Qb3N0LmlkLFxuICAgICAgICAgIGNvbnRlbnQ6ICdTZW5kaW5nIHlvdSB2aXJ0dWFsIGh1Z3MuIFRoZSBmYWN0IHRoYXQgeW91IGNoZWNrZWQgaW4gdG9kYXkgc2hvd3MgaW5jcmVkaWJsZSBzdHJlbmd0aC4gWW91XFwncmUgbm90IGFsb25lIGluIHRoaXMgZmlnaHQuJyxcbiAgICAgICAgICBpc0FwcHJvdmVkOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICBjb21tZW50cy5wdXNoKHN1cHBvcnRDb21tZW50KTtcblxuICAgICAgLy8gUmVwbHkgdG8gc3VwcG9ydCBjb21tZW50XG4gICAgICBjb25zdCB0aGFua1lvdVJlcGx5ID0gYXdhaXQgcHJpc21hLnJlcGx5LmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBhdXRob3JJZDogbWVtYmVyVXNlcnNbMF0uaWQsXG4gICAgICAgICAgY29tbWVudElkOiBzdXBwb3J0Q29tbWVudC5pZCxcbiAgICAgICAgICBjb250ZW50OiAnVGhhbmsgeW91IHNvIG11Y2guIFRoaXMgY29tbXVuaXR5IG1lYW5zIGV2ZXJ5dGhpbmcgdG8gbWUuJyxcbiAgICAgICAgICBpc0FwcHJvdmVkOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIEVuY291cmFnaW5nIGNvbW1lbnQgb24gYnJlYWt0aHJvdWdoIHBvc3RcbiAgICAgIGNvbnN0IGVuY291cmFnaW5nQ29tbWVudCA9IGF3YWl0IHByaXNtYS5jb21tZW50LmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBhdXRob3JJZDogbWVtYmVyVXNlcnNbNF0uaWQsXG4gICAgICAgICAgcG9zdElkOiBicmVha3Rocm91Z2hQb3N0LmlkLFxuICAgICAgICAgIGNvbnRlbnQ6ICdUaGlzIGlzIGFtYXppbmchIEkgbmVlZGVkIHRvIHJlYWQgdGhpcyB0b2RheS4gWW91XFwncmUgaW5zcGlyaW5nIG1lIHRvIGtlZXAgbXkgb3duIHRoZXJhcHkgYXBwb2ludG1lbnQgdG9tb3Jyb3cuJyxcbiAgICAgICAgICBpc0FwcHJvdmVkOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICBjb21tZW50cy5wdXNoKGVuY291cmFnaW5nQ29tbWVudCk7XG5cbiAgICAgIC8vIEhlbHBmdWwgY29tbWVudCBvbiBjb3Bpbmcgc3RyYXRlZ3lcbiAgICAgIGNvbnN0IGhlbHBmdWxDb21tZW50ID0gYXdhaXQgcHJpc21hLmNvbW1lbnQuY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGF1dGhvcklkOiBtb2RlcmF0b3JVc2VyLmlkLFxuICAgICAgICAgIHBvc3RJZDogY29waW5nUG9zdC5pZCxcbiAgICAgICAgICBjb250ZW50OiAnVGhhbmsgeW91IGZvciBzaGFyaW5nIHRoaXMgdGVjaG5pcXVlISBHcm91bmRpbmcgZXhlcmNpc2VzIGFyZSBzbyBoZWxwZnVsIGZvciBtYW5hZ2luZyBkZXByZXNzaW9uIHN5bXB0b21zLiBUaGlzIGlzIGV4YWN0bHkgdGhlIGtpbmQgb2YgcmVzb3VyY2Ugc2hhcmluZyB3ZSBsb3ZlIHRvIHNlZS4nLFxuICAgICAgICAgIGlzQXBwcm92ZWQ6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICAgIGNvbW1lbnRzLnB1c2goaGVscGZ1bENvbW1lbnQpO1xuXG4gICAgICAvLyA9PT0gUEhBU0UgNTogSEVBUlRTIEFORCBFTkdBR0VNRU5UID09PVxuICAgICAgXG4gICAgICAvLyA4LiBDcmVhdGUgaGVhcnRzIChsaWtlcykgb24gcG9zdHNcbiAgICAgIGF3YWl0IHByaXNtYS5wb3N0SGVhcnQuY3JlYXRlTWFueSh7XG4gICAgICAgIGRhdGE6IFtcbiAgICAgICAgICB7IHVzZXJJZDogbWVtYmVyVXNlcnNbMV0uaWQsIHBvc3RJZDogY2hlY2tJblBvc3QuaWQgfSxcbiAgICAgICAgICB7IHVzZXJJZDogbWVtYmVyVXNlcnNbMl0uaWQsIHBvc3RJZDogY2hlY2tJblBvc3QuaWQgfSxcbiAgICAgICAgICB7IHVzZXJJZDogbWVtYmVyVXNlcnNbM10uaWQsIHBvc3RJZDogY2hlY2tJblBvc3QuaWQgfSxcbiAgICAgICAgICB7IHVzZXJJZDogbWVtYmVyVXNlcnNbNF0uaWQsIHBvc3RJZDogY2hlY2tJblBvc3QuaWQgfSxcbiAgICAgICAgICB7IHVzZXJJZDogbW9kZXJhdG9yVXNlci5pZCwgcG9zdElkOiBjaGVja0luUG9zdC5pZCB9LFxuICAgICAgICAgIHsgdXNlcklkOiBtZW1iZXJVc2Vyc1swXS5pZCwgcG9zdElkOiBicmVha3Rocm91Z2hQb3N0LmlkIH0sXG4gICAgICAgICAgeyB1c2VySWQ6IG1lbWJlclVzZXJzWzJdLmlkLCBwb3N0SWQ6IGJyZWFrdGhyb3VnaFBvc3QuaWQgfSxcbiAgICAgICAgICB7IHVzZXJJZDogbWVtYmVyVXNlcnNbM10uaWQsIHBvc3RJZDogYnJlYWt0aHJvdWdoUG9zdC5pZCB9LFxuICAgICAgICAgIHsgdXNlcklkOiBtZW1iZXJVc2Vyc1swXS5pZCwgcG9zdElkOiBjb3BpbmdQb3N0LmlkIH0sXG4gICAgICAgICAgeyB1c2VySWQ6IG1lbWJlclVzZXJzWzFdLmlkLCBwb3N0SWQ6IGNvcGluZ1Bvc3QuaWQgfSxcbiAgICAgICAgICB7IHVzZXJJZDogbWVtYmVyVXNlcnNbM10uaWQsIHBvc3RJZDogY29waW5nUG9zdC5pZCB9LFxuICAgICAgICAgIHsgdXNlcklkOiBtZW1iZXJVc2Vyc1s0XS5pZCwgcG9zdElkOiBjb3BpbmdQb3N0LmlkIH0sXG4gICAgICAgICAgeyB1c2VySWQ6IG1vZGVyYXRvclVzZXIuaWQsIHBvc3RJZDogY29waW5nUG9zdC5pZCB9LFxuICAgICAgICBdLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIDkuIENyZWF0ZSBoZWFydHMgb24gY29tbWVudHNcbiAgICAgIGF3YWl0IHByaXNtYS5jb21tZW50SGVhcnQuY3JlYXRlTWFueSh7XG4gICAgICAgIGRhdGE6IFtcbiAgICAgICAgICB7IHVzZXJJZDogbWVtYmVyVXNlcnNbMF0uaWQsIGNvbW1lbnRJZDogc3VwcG9ydENvbW1lbnQuaWQgfSxcbiAgICAgICAgICB7IHVzZXJJZDogbWVtYmVyVXNlcnNbMV0uaWQsIGNvbW1lbnRJZDogc3VwcG9ydENvbW1lbnQuaWQgfSxcbiAgICAgICAgICB7IHVzZXJJZDogbWVtYmVyVXNlcnNbMl0uaWQsIGNvbW1lbnRJZDogc3VwcG9ydENvbW1lbnQuaWQgfSxcbiAgICAgICAgICB7IHVzZXJJZDogbWVtYmVyVXNlcnNbMV0uaWQsIGNvbW1lbnRJZDogZW5jb3VyYWdpbmdDb21tZW50LmlkIH0sXG4gICAgICAgICAgeyB1c2VySWQ6IG1lbWJlclVzZXJzWzJdLmlkLCBjb21tZW50SWQ6IGVuY291cmFnaW5nQ29tbWVudC5pZCB9LFxuICAgICAgICAgIHsgdXNlcklkOiBtZW1iZXJVc2Vyc1swXS5pZCwgY29tbWVudElkOiBoZWxwZnVsQ29tbWVudC5pZCB9LFxuICAgICAgICAgIHsgdXNlcklkOiBtZW1iZXJVc2Vyc1sxXS5pZCwgY29tbWVudElkOiBoZWxwZnVsQ29tbWVudC5pZCB9LFxuICAgICAgICBdLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIDEwLiBDcmVhdGUgaGVhcnRzIG9uIHJlcGxpZXNcbiAgICAgIGF3YWl0IHByaXNtYS5yZXBseUhlYXJ0LmNyZWF0ZU1hbnkoe1xuICAgICAgICBkYXRhOiBbXG4gICAgICAgICAgeyB1c2VySWQ6IG1lbWJlclVzZXJzWzNdLmlkLCByZXBseUlkOiB0aGFua1lvdVJlcGx5LmlkIH0sXG4gICAgICAgICAgeyB1c2VySWQ6IG1lbWJlclVzZXJzWzRdLmlkLCByZXBseUlkOiB0aGFua1lvdVJlcGx5LmlkIH0sXG4gICAgICAgICAgeyB1c2VySWQ6IG1vZGVyYXRvclVzZXIuaWQsIHJlcGx5SWQ6IHRoYW5rWW91UmVwbHkuaWQgfSxcbiAgICAgICAgXSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyA9PT0gUEhBU0UgNjogTU9ERVJBVElPTiBBQ1RJVklUWSA9PT1cbiAgICAgIFxuICAgICAgLy8gMTEuIENyZWF0ZSBtb2RlcmF0aW9uIGFjdGl2aXRpZXMgKHNpbXVsYXRlZCBjb250ZW50IHJldmlldylcbiAgICAgIGF3YWl0IHByaXNtYS5hdWRpdExvZy5jcmVhdGVNYW55KHtcbiAgICAgICAgZGF0YTogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHVzZXJJZDogbW9kZXJhdG9yVXNlci5pZCxcbiAgICAgICAgICAgIGFjdGlvbjogJ0NPTlRFTlRfQVBQUk9WRUQnLFxuICAgICAgICAgICAgZW50aXR5OiAnUG9zdCcsXG4gICAgICAgICAgICBlbnRpdHlJZDogY2hlY2tJblBvc3QuaWQsXG4gICAgICAgICAgICBkZXRhaWxzOiB7IHJlYXNvbjogJ0FwcHJvcHJpYXRlIGNvbnRlbnQsIHN1cHBvcnRpdmUgbWVzc2FnZScgfSxcbiAgICAgICAgICAgIHNldmVyaXR5OiAnSU5GTycsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB1c2VySWQ6IG1vZGVyYXRvclVzZXIuaWQsXG4gICAgICAgICAgICBhY3Rpb246ICdDT05URU5UX0FQUFJPVkVEJyxcbiAgICAgICAgICAgIGVudGl0eTogJ1Bvc3QnLFxuICAgICAgICAgICAgZW50aXR5SWQ6IGJyZWFrdGhyb3VnaFBvc3QuaWQsXG4gICAgICAgICAgICBkZXRhaWxzOiB7IHJlYXNvbjogJ1Bvc2l0aXZlIGNvbnRlbnQsIGVuY291cmFnaW5nIG1lc3NhZ2UnIH0sXG4gICAgICAgICAgICBzZXZlcml0eTogJ0lORk8nLFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgdXNlcklkOiBtb2RlcmF0b3JVc2VyLmlkLFxuICAgICAgICAgICAgYWN0aW9uOiAnQ09OVEVOVF9BUFBST1ZFRCcsXG4gICAgICAgICAgICBlbnRpdHk6ICdQb3N0JyxcbiAgICAgICAgICAgIGVudGl0eUlkOiBjb3BpbmdQb3N0LmlkLFxuICAgICAgICAgICAgZGV0YWlsczogeyByZWFzb246ICdWYWx1YWJsZSByZXNvdXJjZSBzaGFyaW5nLCBoZWxwZnVsIGNvbnRlbnQnIH0sXG4gICAgICAgICAgICBzZXZlcml0eTogJ0lORk8nLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICB9KTtcblxuICAgICAgLy8gPT09IENPTVBSRUhFTlNJVkUgVkVSSUZJQ0FUSU9OID09PVxuICAgICAgXG4gICAgICAvLyBWZXJpZnkgY29tcGxldGUgY29tbXVuaXR5IHdvcmtmbG93XG4gICAgICBjb25zdCBjb21wbGV0ZUNvbW11bml0eVdvcmtmbG93ID0gYXdhaXQgcHJpc21hLmNvbW11bml0eS5maW5kVW5pcXVlKHtcbiAgICAgICAgd2hlcmU6IHsgaWQ6IGNvbW11bml0eS5pZCB9LFxuICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgcm9vbUdyb3Vwczoge1xuICAgICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgICByb29tczoge1xuICAgICAgICAgICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICAgICAgICAgIHBvc3RzOiB7XG4gICAgICAgICAgICAgICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICBhdXRob3I6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgY29tbWVudHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0aG9yOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXBsaWVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0aG9yOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhcnRzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGhlYXJ0czogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICBoZWFydHM6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgICAgbWVtYmVyc2hpcHM6IHtcbiAgICAgICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICAgICAgdXNlcjogdHJ1ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBDb3VudCBlbmdhZ2VtZW50IG1ldHJpY3NcbiAgICAgIGNvbnN0IHRvdGFsUG9zdHMgPSBjb21wbGV0ZUNvbW11bml0eVdvcmtmbG93Py5yb29tR3JvdXBzXG4gICAgICAgIC5mbGF0TWFwKHJnID0+IHJnLnJvb21zKVxuICAgICAgICAuZmxhdE1hcChyID0+IHIucG9zdHMpLmxlbmd0aCB8fCAwO1xuICAgICAgXG4gICAgICBjb25zdCB0b3RhbENvbW1lbnRzID0gY29tcGxldGVDb21tdW5pdHlXb3JrZmxvdz8ucm9vbUdyb3Vwc1xuICAgICAgICAuZmxhdE1hcChyZyA9PiByZy5yb29tcylcbiAgICAgICAgLmZsYXRNYXAociA9PiByLnBvc3RzKVxuICAgICAgICAuZmxhdE1hcChwID0+IHAuY29tbWVudHMpLmxlbmd0aCB8fCAwO1xuICAgICAgXG4gICAgICBjb25zdCB0b3RhbFJlcGxpZXMgPSBjb21wbGV0ZUNvbW11bml0eVdvcmtmbG93Py5yb29tR3JvdXBzXG4gICAgICAgIC5mbGF0TWFwKHJnID0+IHJnLnJvb21zKVxuICAgICAgICAuZmxhdE1hcChyID0+IHIucG9zdHMpXG4gICAgICAgIC5mbGF0TWFwKHAgPT4gcC5jb21tZW50cylcbiAgICAgICAgLmZsYXRNYXAoYyA9PiBjLnJlcGxpZXMpLmxlbmd0aCB8fCAwO1xuICAgICAgXG4gICAgICBjb25zdCB0b3RhbFBvc3RIZWFydHMgPSBjb21wbGV0ZUNvbW11bml0eVdvcmtmbG93Py5yb29tR3JvdXBzXG4gICAgICAgIC5mbGF0TWFwKHJnID0+IHJnLnJvb21zKVxuICAgICAgICAuZmxhdE1hcChyID0+IHIucG9zdHMpXG4gICAgICAgIC5mbGF0TWFwKHAgPT4gcC5oZWFydHMpLmxlbmd0aCB8fCAwO1xuXG4gICAgICAvLyBDb21wcmVoZW5zaXZlIGFzc2VydGlvbnNcbiAgICAgIGV4cGVjdChjb21wbGV0ZUNvbW11bml0eVdvcmtmbG93KS50b0JlVHJ1dGh5KCk7XG4gICAgICBleHBlY3QoY29tcGxldGVDb21tdW5pdHlXb3JrZmxvdz8ubWVtYmVyc2hpcHMpLnRvSGF2ZUxlbmd0aCg2KTsgLy8gNSBtZW1iZXJzICsgMSBtb2RlcmF0b3JcbiAgICAgIGV4cGVjdChjb21wbGV0ZUNvbW11bml0eVdvcmtmbG93Py5yb29tR3JvdXBzKS50b0hhdmVMZW5ndGgoMyk7XG4gICAgICBleHBlY3QodG90YWxQb3N0cykudG9CZSg0KTtcbiAgICAgIGV4cGVjdCh0b3RhbENvbW1lbnRzKS50b0JlKDMpO1xuICAgICAgZXhwZWN0KHRvdGFsUmVwbGllcykudG9CZSgxKTtcbiAgICAgIGV4cGVjdCh0b3RhbFBvc3RIZWFydHMpLnRvQmUoMTMpO1xuXG4gICAgICAvLyBWZXJpZnkgbWVtYmVyIHJvbGVzXG4gICAgICBjb25zdCBtZW1iZXJSb2xlcyA9IGNvbXBsZXRlQ29tbXVuaXR5V29ya2Zsb3c/Lm1lbWJlcnNoaXBzLm1hcChtID0+IG0ucm9sZSk7XG4gICAgICBleHBlY3QobWVtYmVyUm9sZXMpLnRvQ29udGFpbignTU9ERVJBVE9SJyk7XG4gICAgICBleHBlY3QobWVtYmVyUm9sZXM/LmZpbHRlcihyID0+IHIgPT09ICdNRU1CRVInKSkudG9IYXZlTGVuZ3RoKDUpO1xuXG4gICAgICAvLyBWZXJpZnkgY29udGVudCBkaXN0cmlidXRpb24gYWNyb3NzIHJvb21zXG4gICAgICBjb25zdCByb29tUG9zdENvdW50cyA9IGNvbXBsZXRlQ29tbXVuaXR5V29ya2Zsb3c/LnJvb21Hcm91cHNcbiAgICAgICAgLmZsYXRNYXAocmcgPT4gcmcucm9vbXMpXG4gICAgICAgIC5tYXAociA9PiAoeyBuYW1lOiByLm5hbWUsIHBvc3RzOiByLnBvc3RzLmxlbmd0aCB9KSk7XG4gICAgICBcbiAgICAgIGV4cGVjdChyb29tUG9zdENvdW50cz8uZmluZChyID0+IHIubmFtZSA9PT0gJ0RhaWx5IENoZWNrLWlucycpPy5wb3N0cykudG9CZSgxKTtcbiAgICAgIGV4cGVjdChyb29tUG9zdENvdW50cz8uZmluZChyID0+IHIubmFtZSA9PT0gJ0JyZWFrdGhyb3VnaCBNb21lbnRzJyk/LnBvc3RzKS50b0JlKDEpO1xuICAgICAgZXhwZWN0KHJvb21Qb3N0Q291bnRzPy5maW5kKHIgPT4gci5uYW1lID09PSAnQ29waW5nIFN0cmF0ZWdpZXMnKT8ucG9zdHMpLnRvQmUoMSk7XG4gICAgICBleHBlY3Qocm9vbVBvc3RDb3VudHM/LmZpbmQociA9PiByLm5hbWUgPT09ICdDb21tdW5pdHkgVXBkYXRlcycpPy5wb3N0cykudG9CZSgxKTtcblxuICAgICAgY29uc29sZS5sb2coYOKchSBDb21wbGV0ZSBDb21tdW5pdHkgV29ya2Zsb3cgVmVyaWZpZWQgU3VjY2Vzc2Z1bGx5IVxuICAgICAg8J+RpSBDb21tdW5pdHkgRW5nYWdlbWVudCBTdGF0aXN0aWNzOlxuICAgICAgICDwn4+Y77iPICBDb21tdW5pdHk6ICR7Y29tcGxldGVDb21tdW5pdHlXb3JrZmxvdz8ubmFtZX1cbiAgICAgICAg8J+RpSBUb3RhbCBNZW1iZXJzOiAke2NvbXBsZXRlQ29tbXVuaXR5V29ya2Zsb3c/Lm1lbWJlcnNoaXBzLmxlbmd0aH1cbiAgICAgICAg8J+PoCBSb29tIEdyb3VwczogJHtjb21wbGV0ZUNvbW11bml0eVdvcmtmbG93Py5yb29tR3JvdXBzLmxlbmd0aH1cbiAgICAgICAg8J+PmO+4jyAgUm9vbXM6ICR7Y29tcGxldGVDb21tdW5pdHlXb3JrZmxvdz8ucm9vbUdyb3Vwcy5mbGF0TWFwKHJnID0+IHJnLnJvb21zKS5sZW5ndGh9XG4gICAgICAgIPCfk50gUG9zdHMgQ3JlYXRlZDogJHt0b3RhbFBvc3RzfVxuICAgICAgICDwn5KsIENvbW1lbnRzOiAke3RvdGFsQ29tbWVudHN9XG4gICAgICAgIPCflJcgUmVwbGllczogJHt0b3RhbFJlcGxpZXN9XG4gICAgICAgIPCfkpwgUG9zdCBIZWFydHM6ICR7dG90YWxQb3N0SGVhcnRzfVxuICAgICAgICDwn5uh77iPICBNb2RlcmF0b3IgQWN0aW9uczogMyBjb250ZW50IGFwcHJvdmFsc1xuICAgICAgICDwn5OKIEVuZ2FnZW1lbnQgUmF0ZTogJHsoKHRvdGFsQ29tbWVudHMgKyB0b3RhbFJlcGxpZXMgKyB0b3RhbFBvc3RIZWFydHMpIC8gdG90YWxQb3N0cykudG9GaXhlZCgxKX0gaW50ZXJhY3Rpb25zIHBlciBwb3N0XG4gICAgICBgKTtcbiAgICB9KTtcbiAgfSk7XG59KTsiXSwidmVyc2lvbiI6M30=