{"version":3,"names":["cov_27frzpo90b","actualCoverage","common_1","s","require","jwt_1","passport_1","prisma_client_provider_1","auth_controller_1","auth_service_1","event_bus_service_1","token_service_1","email_verification_service_1","password_reset_service_1","jwt_strategy_1","google_strategy_1","microsoft_strategy_1","email_module_1","client_auth_controller_1","therapist_auth_controller_1","admin_auth_controller_1","moderator_auth_controller_1","client_auth_service_1","therapist_auth_service_1","admin_auth_service_1","moderator_auth_service_1","therapist_module_1","AuthModule","exports","__decorate","Module","imports","PassportModule","JwtModule","register","secret","process","env","JWT_SECRET","signOptions","EmailModule","TherapistModule","controllers","AuthController","ClientAuthController","TherapistAuthController","AdminAuthController","ModeratorAuthController","providers","AuthService","PrismaService","EventBusService","TokenService","EmailVerificationService","PasswordResetService","JwtStrategy","GoogleStrategy","MicrosoftStrategy","ClientAuthService","TherapistAuthService","AdminAuthService","ModeratorAuthService"],"sources":["/home/wetooa/Documents/code/projects/mentara/mentara-api/src/auth/auth.module.ts"],"sourcesContent":["import { Module } from '@nestjs/common';\nimport { JwtModule } from '@nestjs/jwt';\nimport { PassportModule } from '@nestjs/passport';\nimport { PrismaService } from 'src/providers/prisma-client.provider';\nimport { AuthController } from './auth.controller';\nimport { AuthService } from './auth.service';\nimport { EventBusService } from '../common/events/event-bus.service';\nimport { TokenService } from './services/token.service';\nimport { EmailVerificationService } from './services/email-verification.service';\nimport { PasswordResetService } from './services/password-reset.service';\nimport { JwtStrategy } from './strategies/jwt.strategy';\nimport { GoogleStrategy } from './strategies/google.strategy';\nimport { MicrosoftStrategy } from './strategies/microsoft.strategy';\nimport { EmailModule } from '../email/email.module';\n\n// Role-specific controllers\nimport { ClientAuthController } from './controllers/client-auth.controller';\nimport { TherapistAuthController } from './controllers/therapist-auth.controller';\nimport { AdminAuthController } from './controllers/admin-auth.controller';\nimport { ModeratorAuthController } from './controllers/moderator-auth.controller';\n\n// Role-specific services\nimport { ClientAuthService } from './services/client-auth.service';\nimport { TherapistAuthService } from './services/therapist-auth.service';\nimport { AdminAuthService } from './services/admin-auth.service';\nimport { ModeratorAuthService } from './services/moderator-auth.service';\n\nimport { TherapistModule } from '../therapist/therapist.module';\n\n@Module({\n  imports: [\n    PassportModule,\n    JwtModule.register({\n      secret: process.env.JWT_SECRET,\n      signOptions: {\n        // No expiration - tokens don't expire for simplicity\n      },\n    }),\n    EmailModule,\n    TherapistModule,\n  ],\n  controllers: [\n    AuthController,\n    ClientAuthController,\n    TherapistAuthController,\n    AdminAuthController,\n    ModeratorAuthController,\n  ],\n  providers: [\n    AuthService,\n    PrismaService,\n    EventBusService,\n    TokenService,\n    EmailVerificationService,\n    PasswordResetService,\n    JwtStrategy,\n    GoogleStrategy,\n    MicrosoftStrategy,\n\n    // Role-specific services\n    ClientAuthService,\n    TherapistAuthService,\n    AdminAuthService,\n    ModeratorAuthService,\n  ],\n  exports: [\n    AuthService,\n    TokenService,\n    EmailVerificationService,\n    PasswordResetService,\n    JwtStrategy,\n    ClientAuthService,\n    TherapistAuthService,\n    AdminAuthService,\n    ModeratorAuthService,\n  ],\n})\nexport class AuthModule {}\n"],"mappings":"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","ignoreList":[]}