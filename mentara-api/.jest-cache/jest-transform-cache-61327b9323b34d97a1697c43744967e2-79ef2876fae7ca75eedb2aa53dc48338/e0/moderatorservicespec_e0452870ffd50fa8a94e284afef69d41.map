{"file":"/home/wetooa/Documents/code/projects/mentara/mentara-api/src/moderator/moderator.service.spec.ts","mappings":"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","names":[],"sources":["/home/wetooa/Documents/code/projects/mentara/mentara-api/src/moderator/moderator.service.spec.ts"],"sourcesContent":["import { Test, TestingModule } from '@nestjs/testing';\nimport { ModeratorService } from './moderator.service';\nimport { PrismaService } from '../providers/prisma-client.provider';\nimport { Prisma } from '@prisma/client';\n\ndescribe('ModeratorService', () => {\n  let service: ModeratorService;\n  let prismaService: jest.Mocked<PrismaService>;\n\n  // Mock data structures\n  const mockDate = new Date('2024-01-15T10:00:00Z');\n\n  const mockModerator = {\n    id: 'moderator-123',\n    userId: 'user-123',\n    permissions: ['MODERATE_CONTENT', 'MANAGE_REPORTS'],\n    level: 'moderator',\n    isActive: true,\n    createdAt: mockDate,\n    updatedAt: mockDate,\n  };\n\n  const mockModeratorList = [\n    mockModerator,\n    {\n      ...mockModerator,\n      id: 'moderator-124',\n      userId: 'user-124',\n      permissions: ['MODERATE_CONTENT'],\n      level: 'junior_moderator',\n    },\n    {\n      ...mockModerator,\n      id: 'moderator-125',\n      userId: 'user-125',\n      permissions: ['MODERATE_CONTENT', 'MANAGE_REPORTS', 'ESCALATE_ISSUES'],\n      level: 'senior_moderator',\n      isActive: false,\n    },\n  ];\n\n  const mockCreateModeratorData: Prisma.ModeratorCreateInput = {\n    userId: 'user-126',\n    permissions: ['MODERATE_CONTENT'],\n    level: 'moderator',\n    isActive: true,\n  };\n\n  const mockUpdateModeratorData: Prisma.ModeratorUpdateInput = {\n    permissions: ['MODERATE_CONTENT', 'MANAGE_REPORTS', 'ESCALATE_ISSUES'],\n    level: 'senior_moderator',\n    isActive: true,\n  };\n\n  beforeEach(async () => {\n    const mockPrismaService = {\n      moderator: {\n        findMany: jest.fn(),\n        findUnique: jest.fn(),\n        create: jest.fn(),\n        update: jest.fn(),\n        delete: jest.fn(),\n      },\n    };\n\n    const module: TestingModule = await Test.createTestingModule({\n      providers: [\n        ModeratorService,\n        {\n          provide: PrismaService,\n          useValue: mockPrismaService,\n        },\n      ],\n    }).compile();\n\n    service = module.get<ModeratorService>(ModeratorService);\n    prismaService = module.get(PrismaService);\n\n    // Mock Date constructor for consistent testing\n    jest.useFakeTimers();\n    jest.setSystemTime(mockDate);\n  });\n\n  afterEach(() => {\n    jest.clearAllMocks();\n    jest.useRealTimers();\n  });\n\n  it('should be defined', () => {\n    expect(service).toBeDefined();\n  });\n\n  describe('findAll', () => {\n    beforeEach(() => {\n      prismaService.moderator.findMany.mockResolvedValue(mockModeratorList);\n    });\n\n    it('should return all moderators', async () => {\n      const result = await service.findAll();\n\n      expect(prismaService.moderator.findMany).toHaveBeenCalledWith();\n      expect(result).toEqual(mockModeratorList);\n      expect(result).toHaveLength(3);\n    });\n\n    it('should return empty array when no moderators exist', async () => {\n      prismaService.moderator.findMany.mockResolvedValue([]);\n\n      const result = await service.findAll();\n\n      expect(result).toEqual([]);\n      expect(result).toHaveLength(0);\n    });\n\n    it('should handle database errors', async () => {\n      const databaseError = new Error('Database connection failed');\n      prismaService.moderator.findMany.mockRejectedValue(databaseError);\n\n      await expect(service.findAll()).rejects.toThrow('Database connection failed');\n    });\n\n    it('should handle large number of moderators efficiently', async () => {\n      const largeModeratorsArray = Array.from({ length: 1000 }, (_, i) => ({\n        ...mockModerator,\n        id: `moderator-${i}`,\n        userId: `user-${i}`,\n      }));\n\n      prismaService.moderator.findMany.mockResolvedValue(largeModeratorsArray);\n\n      const startTime = Date.now();\n      const result = await service.findAll();\n      const endTime = Date.now();\n\n      expect(result).toHaveLength(1000);\n      expect(endTime - startTime).toBeLessThan(100); // Should be fast\n    });\n\n    it('should handle null and undefined values in moderator data', async () => {\n      const moderatorsWithNulls = [\n        {\n          ...mockModerator,\n          permissions: null,\n          level: undefined,\n        },\n      ];\n\n      prismaService.moderator.findMany.mockResolvedValue(moderatorsWithNulls as any);\n\n      const result = await service.findAll();\n\n      expect(result).toEqual(moderatorsWithNulls);\n    });\n\n    it('should maintain data structure integrity', async () => {\n      const result = await service.findAll();\n\n      result.forEach(moderator => {\n        expect(moderator).toHaveProperty('id');\n        expect(moderator).toHaveProperty('userId');\n        expect(moderator).toHaveProperty('permissions');\n        expect(moderator).toHaveProperty('level');\n        expect(moderator).toHaveProperty('isActive');\n        expect(moderator).toHaveProperty('createdAt');\n        expect(moderator).toHaveProperty('updatedAt');\n      });\n    });\n\n    it('should handle concurrent findAll requests', async () => {\n      const promises = Array.from({ length: 10 }, () => service.findAll());\n\n      const results = await Promise.all(promises);\n\n      expect(results).toHaveLength(10);\n      results.forEach(result => {\n        expect(result).toEqual(mockModeratorList);\n      });\n      expect(prismaService.moderator.findMany).toHaveBeenCalledTimes(10);\n    });\n  });\n\n  describe('findOne', () => {\n    beforeEach(() => {\n      prismaService.moderator.findUnique.mockResolvedValue(mockModerator);\n    });\n\n    it('should return moderator by userId', async () => {\n      const result = await service.findOne('user-123');\n\n      expect(prismaService.moderator.findUnique).toHaveBeenCalledWith({\n        where: { userId: 'user-123' },\n      });\n      expect(result).toEqual(mockModerator);\n    });\n\n    it('should return null for non-existent moderator', async () => {\n      prismaService.moderator.findUnique.mockResolvedValue(null);\n\n      const result = await service.findOne('non-existent-user');\n\n      expect(result).toBeNull();\n    });\n\n    it('should handle database errors', async () => {\n      const databaseError = new Error('Database connection failed');\n      prismaService.moderator.findUnique.mockRejectedValue(databaseError);\n\n      await expect(service.findOne('user-123')).rejects.toThrow('Database connection failed');\n    });\n\n    it('should handle empty string userId', async () => {\n      await service.findOne('');\n\n      expect(prismaService.moderator.findUnique).toHaveBeenCalledWith({\n        where: { userId: '' },\n      });\n    });\n\n    it('should handle null and undefined userId', async () => {\n      await service.findOne(null as any);\n      await service.findOne(undefined as any);\n\n      expect(prismaService.moderator.findUnique).toHaveBeenCalledWith({\n        where: { userId: null },\n      });\n      expect(prismaService.moderator.findUnique).toHaveBeenCalledWith({\n        where: { userId: undefined },\n      });\n    });\n\n    it('should handle special characters in userId', async () => {\n      const specialUserId = 'user-123@domain.com#$%';\n\n      await service.findOne(specialUserId);\n\n      expect(prismaService.moderator.findUnique).toHaveBeenCalledWith({\n        where: { userId: specialUserId },\n      });\n    });\n\n    it('should handle Unicode characters in userId', async () => {\n      const unicodeUserId = 'user-æµ‹è¯•-ðŸ”’-âˆ†âˆ‘Â©';\n\n      await service.findOne(unicodeUserId);\n\n      expect(prismaService.moderator.findUnique).toHaveBeenCalledWith({\n        where: { userId: unicodeUserId },\n      });\n    });\n\n    it('should handle very long userId strings', async () => {\n      const longUserId = 'user-' + 'a'.repeat(1000);\n\n      await service.findOne(longUserId);\n\n      expect(prismaService.moderator.findUnique).toHaveBeenCalledWith({\n        where: { userId: longUserId },\n      });\n    });\n\n    it('should handle concurrent findOne requests for same user', async () => {\n      const promises = Array.from({ length: 5 }, () => service.findOne('user-123'));\n\n      const results = await Promise.all(promises);\n\n      results.forEach(result => {\n        expect(result).toEqual(mockModerator);\n      });\n      expect(prismaService.moderator.findUnique).toHaveBeenCalledTimes(5);\n    });\n\n    it('should handle concurrent findOne requests for different users', async () => {\n      prismaService.moderator.findUnique\n        .mockResolvedValueOnce(mockModerator)\n        .mockResolvedValueOnce({ ...mockModerator, userId: 'user-124' })\n        .mockResolvedValueOnce({ ...mockModerator, userId: 'user-125' });\n\n      const promises = [\n        service.findOne('user-123'),\n        service.findOne('user-124'),\n        service.findOne('user-125'),\n      ];\n\n      const results = await Promise.all(promises);\n\n      expect(results[0].userId).toBe('user-123');\n      expect(results[1].userId).toBe('user-124');\n      expect(results[2].userId).toBe('user-125');\n    });\n  });\n\n  describe('create', () => {\n    beforeEach(() => {\n      prismaService.moderator.create.mockResolvedValue({\n        ...mockModerator,\n        ...mockCreateModeratorData,\n        id: 'moderator-126',\n      });\n    });\n\n    it('should create moderator successfully', async () => {\n      const result = await service.create(mockCreateModeratorData);\n\n      expect(prismaService.moderator.create).toHaveBeenCalledWith({\n        data: mockCreateModeratorData,\n      });\n      expect(result).toEqual({\n        ...mockModerator,\n        ...mockCreateModeratorData,\n        id: 'moderator-126',\n      });\n    });\n\n    it('should handle minimal create data', async () => {\n      const minimalData: Prisma.ModeratorCreateInput = {\n        userId: 'user-minimal',\n      };\n\n      await service.create(minimalData);\n\n      expect(prismaService.moderator.create).toHaveBeenCalledWith({\n        data: minimalData,\n      });\n    });\n\n    it('should handle complex permissions array', async () => {\n      const complexData: Prisma.ModeratorCreateInput = {\n        userId: 'user-complex',\n        permissions: [\n          'MODERATE_CONTENT',\n          'MANAGE_REPORTS',\n          'ESCALATE_ISSUES',\n          'BAN_USERS',\n          'REVIEW_APPEALS',\n          'MODERATE_THERAPY_SESSIONS',\n          'ACCESS_ANALYTICS',\n        ],\n        level: 'senior_moderator',\n        isActive: true,\n      };\n\n      await service.create(complexData);\n\n      expect(prismaService.moderator.create).toHaveBeenCalledWith({\n        data: complexData,\n      });\n    });\n\n    it('should handle create with null values', async () => {\n      const dataWithNulls: Prisma.ModeratorCreateInput = {\n        userId: 'user-nulls',\n        permissions: null,\n        level: null,\n        isActive: null,\n      };\n\n      await service.create(dataWithNulls);\n\n      expect(prismaService.moderator.create).toHaveBeenCalledWith({\n        data: dataWithNulls,\n      });\n    });\n\n    it('should handle create with undefined values', async () => {\n      const dataWithUndefined: Prisma.ModeratorCreateInput = {\n        userId: 'user-undefined',\n        permissions: undefined,\n        level: undefined,\n        isActive: undefined,\n      };\n\n      await service.create(dataWithUndefined);\n\n      expect(prismaService.moderator.create).toHaveBeenCalledWith({\n        data: dataWithUndefined,\n      });\n    });\n\n    it('should handle database constraint violations', async () => {\n      const constraintError = new Error('Unique constraint violation');\n      constraintError.name = 'P2002';\n      prismaService.moderator.create.mockRejectedValue(constraintError);\n\n      await expect(service.create(mockCreateModeratorData)).rejects.toThrow(\n        'Unique constraint violation'\n      );\n    });\n\n    it('should handle foreign key constraint violations', async () => {\n      const foreignKeyError = new Error('Foreign key constraint violation');\n      foreignKeyError.name = 'P2003';\n      prismaService.moderator.create.mockRejectedValue(foreignKeyError);\n\n      await expect(service.create(mockCreateModeratorData)).rejects.toThrow(\n        'Foreign key constraint violation'\n      );\n    });\n\n    it('should handle database timeout errors', async () => {\n      const timeoutError = new Error('Connection timeout');\n      timeoutError.name = 'TimeoutError';\n      prismaService.moderator.create.mockRejectedValue(timeoutError);\n\n      await expect(service.create(mockCreateModeratorData)).rejects.toThrow(\n        'Connection timeout'\n      );\n    });\n\n    it('should handle very large permissions array', async () => {\n      const largePermissions = Array.from({ length: 1000 }, (_, i) => `PERMISSION_${i}`);\n      const dataWithLargePermissions: Prisma.ModeratorCreateInput = {\n        userId: 'user-large-permissions',\n        permissions: largePermissions,\n      };\n\n      await service.create(dataWithLargePermissions);\n\n      expect(prismaService.moderator.create).toHaveBeenCalledWith({\n        data: dataWithLargePermissions,\n      });\n    });\n\n    it('should handle concurrent create operations', async () => {\n      const createPromises = Array.from({ length: 10 }, (_, i) => {\n        const data: Prisma.ModeratorCreateInput = {\n          userId: `user-concurrent-${i}`,\n          permissions: ['MODERATE_CONTENT'],\n        };\n        \n        prismaService.moderator.create.mockResolvedValueOnce({\n          ...mockModerator,\n          id: `moderator-concurrent-${i}`,\n          userId: `user-concurrent-${i}`,\n        });\n\n        return service.create(data);\n      });\n\n      const results = await Promise.all(createPromises);\n\n      expect(results).toHaveLength(10);\n      expect(prismaService.moderator.create).toHaveBeenCalledTimes(10);\n    });\n  });\n\n  describe('update', () => {\n    beforeEach(() => {\n      prismaService.moderator.update.mockResolvedValue({\n        ...mockModerator,\n        ...mockUpdateModeratorData,\n      });\n    });\n\n    it('should update moderator successfully', async () => {\n      const result = await service.update('user-123', mockUpdateModeratorData);\n\n      expect(prismaService.moderator.update).toHaveBeenCalledWith({\n        where: { userId: 'user-123' },\n        data: mockUpdateModeratorData,\n      });\n      expect(result).toEqual({\n        ...mockModerator,\n        ...mockUpdateModeratorData,\n      });\n    });\n\n    it('should handle partial updates', async () => {\n      const partialUpdate: Prisma.ModeratorUpdateInput = {\n        isActive: false,\n      };\n\n      await service.update('user-123', partialUpdate);\n\n      expect(prismaService.moderator.update).toHaveBeenCalledWith({\n        where: { userId: 'user-123' },\n        data: partialUpdate,\n      });\n    });\n\n    it('should handle empty update data', async () => {\n      const emptyUpdate: Prisma.ModeratorUpdateInput = {};\n\n      await service.update('user-123', emptyUpdate);\n\n      expect(prismaService.moderator.update).toHaveBeenCalledWith({\n        where: { userId: 'user-123' },\n        data: emptyUpdate,\n      });\n    });\n\n    it('should handle permission level changes', async () => {\n      const levelChange: Prisma.ModeratorUpdateInput = {\n        level: 'senior_moderator',\n        permissions: [\n          'MODERATE_CONTENT',\n          'MANAGE_REPORTS',\n          'ESCALATE_ISSUES',\n          'BAN_USERS',\n          'ACCESS_ANALYTICS',\n        ],\n      };\n\n      await service.update('user-123', levelChange);\n\n      expect(prismaService.moderator.update).toHaveBeenCalledWith({\n        where: { userId: 'user-123' },\n        data: levelChange,\n      });\n    });\n\n    it('should handle permission removal', async () => {\n      const permissionRemoval: Prisma.ModeratorUpdateInput = {\n        permissions: ['MODERATE_CONTENT'], // Reduced permissions\n      };\n\n      await service.update('user-123', permissionRemoval);\n\n      expect(prismaService.moderator.update).toHaveBeenCalledWith({\n        where: { userId: 'user-123' },\n        data: permissionRemoval,\n      });\n    });\n\n    it('should handle moderator deactivation', async () => {\n      const deactivation: Prisma.ModeratorUpdateInput = {\n        isActive: false,\n      };\n\n      await service.update('user-123', deactivation);\n\n      expect(prismaService.moderator.update).toHaveBeenCalledWith({\n        where: { userId: 'user-123' },\n        data: deactivation,\n      });\n    });\n\n    it('should handle non-existent moderator updates', async () => {\n      const notFoundError = new Error('Record not found');\n      notFoundError.name = 'P2025';\n      prismaService.moderator.update.mockRejectedValue(notFoundError);\n\n      await expect(\n        service.update('non-existent-user', mockUpdateModeratorData)\n      ).rejects.toThrow('Record not found');\n    });\n\n    it('should handle null and undefined in update data', async () => {\n      const updateWithNulls: Prisma.ModeratorUpdateInput = {\n        permissions: null,\n        level: null,\n        isActive: null,\n      };\n\n      await service.update('user-123', updateWithNulls);\n\n      expect(prismaService.moderator.update).toHaveBeenCalledWith({\n        where: { userId: 'user-123' },\n        data: updateWithNulls,\n      });\n    });\n\n    it('should handle concurrent updates on same moderator', async () => {\n      const update1: Prisma.ModeratorUpdateInput = { isActive: false };\n      const update2: Prisma.ModeratorUpdateInput = { level: 'senior_moderator' };\n\n      prismaService.moderator.update\n        .mockResolvedValueOnce({ ...mockModerator, isActive: false })\n        .mockRejectedValueOnce(new Error('Record being updated'));\n\n      const promises = [\n        service.update('user-123', update1),\n        service.update('user-123', update2),\n      ];\n\n      const results = await Promise.allSettled(promises);\n\n      expect(results[0].status).toBe('fulfilled');\n      expect(results[1].status).toBe('rejected');\n    });\n\n    it('should handle complex permission updates', async () => {\n      const complexUpdate: Prisma.ModeratorUpdateInput = {\n        permissions: [\n          'MODERATE_CONTENT',\n          'MANAGE_REPORTS',\n          'ESCALATE_ISSUES',\n          'BAN_USERS',\n          'REVIEW_APPEALS',\n          'MODERATE_THERAPY_SESSIONS',\n          'ACCESS_ANALYTICS',\n          'CONFIGURE_MODERATION_RULES',\n          'MANAGE_MODERATOR_ACCOUNTS',\n          'EMERGENCY_INTERVENTIONS',\n        ],\n        level: 'admin_moderator',\n        isActive: true,\n      };\n\n      await service.update('user-123', complexUpdate);\n\n      expect(prismaService.moderator.update).toHaveBeenCalledWith({\n        where: { userId: 'user-123' },\n        data: complexUpdate,\n      });\n    });\n  });\n\n  describe('remove', () => {\n    beforeEach(() => {\n      prismaService.moderator.delete.mockResolvedValue(mockModerator);\n    });\n\n    it('should remove moderator successfully', async () => {\n      const result = await service.remove('user-123');\n\n      expect(prismaService.moderator.delete).toHaveBeenCalledWith({\n        where: { userId: 'user-123' },\n      });\n      expect(result).toEqual(mockModerator);\n    });\n\n    it('should handle removal of non-existent moderator', async () => {\n      const notFoundError = new Error('Record not found');\n      notFoundError.name = 'P2025';\n      prismaService.moderator.delete.mockRejectedValue(notFoundError);\n\n      await expect(service.remove('non-existent-user')).rejects.toThrow(\n        'Record not found'\n      );\n    });\n\n    it('should handle foreign key constraint violations on delete', async () => {\n      const foreignKeyError = new Error('Foreign key constraint violation');\n      foreignKeyError.name = 'P2003';\n      prismaService.moderator.delete.mockRejectedValue(foreignKeyError);\n\n      await expect(service.remove('user-123')).rejects.toThrow(\n        'Foreign key constraint violation'\n      );\n    });\n\n    it('should handle database connection errors', async () => {\n      const connectionError = new Error('Database connection failed');\n      prismaService.moderator.delete.mockRejectedValue(connectionError);\n\n      await expect(service.remove('user-123')).rejects.toThrow(\n        'Database connection failed'\n      );\n    });\n\n    it('should handle empty string userId', async () => {\n      await service.remove('');\n\n      expect(prismaService.moderator.delete).toHaveBeenCalledWith({\n        where: { userId: '' },\n      });\n    });\n\n    it('should handle null and undefined userId', async () => {\n      await service.remove(null as any);\n      await service.remove(undefined as any);\n\n      expect(prismaService.moderator.delete).toHaveBeenCalledWith({\n        where: { userId: null },\n      });\n      expect(prismaService.moderator.delete).toHaveBeenCalledWith({\n        where: { userId: undefined },\n      });\n    });\n\n    it('should handle concurrent deletion attempts', async () => {\n      prismaService.moderator.delete\n        .mockResolvedValueOnce(mockModerator)\n        .mockRejectedValueOnce(new Error('Record not found'));\n\n      const promises = [\n        service.remove('user-123'),\n        service.remove('user-123'),\n      ];\n\n      const results = await Promise.allSettled(promises);\n\n      expect(results[0].status).toBe('fulfilled');\n      expect(results[1].status).toBe('rejected');\n    });\n\n    it('should handle bulk deletion operations', async () => {\n      const deletePromises = Array.from({ length: 50 }, (_, i) => {\n        const userId = `user-bulk-${i}`;\n        prismaService.moderator.delete.mockResolvedValueOnce({\n          ...mockModerator,\n          userId,\n        });\n        return service.remove(userId);\n      });\n\n      const results = await Promise.all(deletePromises);\n\n      expect(results).toHaveLength(50);\n      expect(prismaService.moderator.delete).toHaveBeenCalledTimes(50);\n    });\n\n    it('should handle transaction isolation during deletion', async () => {\n      // Simulate transaction isolation behavior\n      let deletionCount = 0;\n      prismaService.moderator.delete.mockImplementation(() => {\n        deletionCount++;\n        if (deletionCount > 1) {\n          throw new Error('Record already deleted');\n        }\n        return Promise.resolve(mockModerator);\n      });\n\n      const promises = [\n        service.remove('user-isolated'),\n        service.remove('user-isolated'),\n      ];\n\n      const results = await Promise.allSettled(promises);\n\n      expect(results[0].status).toBe('fulfilled');\n      expect(results[1].status).toBe('rejected');\n    });\n  });\n\n  describe('Edge Cases and Error Handling', () => {\n    it('should handle malformed moderator data gracefully', async () => {\n      const malformedData = {\n        id: 123, // Number instead of string\n        userId: null,\n        permissions: 'not_an_array',\n        level: { invalid: 'object' },\n        isActive: 'not_boolean',\n        createdAt: 'invalid_date',\n      };\n\n      prismaService.moderator.findMany.mockResolvedValue([malformedData] as any);\n\n      const result = await service.findAll();\n\n      expect(result).toEqual([malformedData]);\n    });\n\n    it('should handle extremely large datasets efficiently', async () => {\n      const largeDataset = Array.from({ length: 10000 }, (_, i) => ({\n        ...mockModerator,\n        id: `moderator-${i}`,\n        userId: `user-${i}`,\n      }));\n\n      prismaService.moderator.findMany.mockResolvedValue(largeDataset);\n\n      const startTime = Date.now();\n      const result = await service.findAll();\n      const endTime = Date.now();\n\n      expect(result).toHaveLength(10000);\n      expect(endTime - startTime).toBeLessThan(1000); // Should complete within 1 second\n    });\n\n    it('should handle memory pressure gracefully', async () => {\n      // Simulate memory-intensive operation\n      const memoryIntensiveData = Array.from({ length: 1000 }, (_, i) => ({\n        ...mockModerator,\n        id: `moderator-${i}`,\n        userId: `user-${i}`,\n        permissions: Array.from({ length: 100 }, (_, j) => `PERMISSION_${i}_${j}`),\n        metadata: {\n          largeData: 'x'.repeat(10000), // 10KB per record\n        },\n      }));\n\n      prismaService.moderator.findMany.mockResolvedValue(memoryIntensiveData as any);\n\n      const result = await service.findAll();\n\n      expect(result).toHaveLength(1000);\n      expect(Array.isArray(result)).toBe(true);\n    });\n\n    it('should handle network interruptions during operations', async () => {\n      const networkError = new Error('ECONNRESET');\n      networkError.name = 'NetworkError';\n\n      prismaService.moderator.findMany.mockRejectedValue(networkError);\n\n      await expect(service.findAll()).rejects.toThrow('ECONNRESET');\n    });\n\n    it('should handle database lock timeouts', async () => {\n      const lockTimeoutError = new Error('Lock wait timeout exceeded');\n      lockTimeoutError.name = 'LockTimeoutError';\n\n      prismaService.moderator.update.mockRejectedValue(lockTimeoutError);\n\n      await expect(\n        service.update('user-123', mockUpdateModeratorData)\n      ).rejects.toThrow('Lock wait timeout exceeded');\n    });\n\n    it('should maintain data consistency under concurrent operations', async () => {\n      const concurrentOperations = [\n        service.findOne('user-123'),\n        service.update('user-123', { isActive: false }),\n        service.findOne('user-123'),\n        service.remove('user-123'),\n      ];\n\n      prismaService.moderator.findUnique.mockResolvedValue(mockModerator);\n      prismaService.moderator.update.mockResolvedValue({\n        ...mockModerator,\n        isActive: false,\n      });\n      prismaService.moderator.delete.mockResolvedValue(mockModerator);\n\n      const results = await Promise.allSettled(concurrentOperations);\n\n      expect(results[0].status).toBe('fulfilled');\n      expect(results[1].status).toBe('fulfilled');\n      expect(results[2].status).toBe('fulfilled');\n      expect(results[3].status).toBe('fulfilled');\n    });\n  });\n\n  describe('Performance and Scalability', () => {\n    it('should handle high-throughput operations efficiently', async () => {\n      const operationCount = 1000;\n      const operations = Array.from({ length: operationCount }, (_, i) => {\n        if (i % 4 === 0) return service.findAll();\n        if (i % 4 === 1) return service.findOne(`user-${i}`);\n        if (i % 4 === 2) return service.create({ userId: `user-new-${i}` });\n        return service.update(`user-${i}`, { isActive: i % 2 === 0 });\n      });\n\n      // Mock all responses\n      prismaService.moderator.findMany.mockResolvedValue(mockModeratorList);\n      prismaService.moderator.findUnique.mockResolvedValue(mockModerator);\n      prismaService.moderator.create.mockResolvedValue(mockModerator);\n      prismaService.moderator.update.mockResolvedValue(mockModerator);\n\n      const startTime = Date.now();\n      const results = await Promise.all(operations);\n      const endTime = Date.now();\n\n      expect(results).toHaveLength(operationCount);\n      expect(endTime - startTime).toBeLessThan(5000); // Should complete within 5 seconds\n    });\n\n    it('should handle batch operations efficiently', async () => {\n      const batchSize = 100;\n      const batches = Array.from({ length: 10 }, (_, batchIndex) =>\n        Array.from({ length: batchSize }, (_, i) => {\n          const userId = `batch-${batchIndex}-user-${i}`;\n          prismaService.moderator.create.mockResolvedValueOnce({\n            ...mockModerator,\n            userId,\n          });\n          return service.create({ userId });\n        })\n      );\n\n      const startTime = Date.now();\n      \n      for (const batch of batches) {\n        await Promise.all(batch);\n      }\n      \n      const endTime = Date.now();\n\n      expect(endTime - startTime).toBeLessThan(3000); // Should complete within 3 seconds\n      expect(prismaService.moderator.create).toHaveBeenCalledTimes(1000);\n    });\n\n    it('should optimize memory usage for large result sets', async () => {\n      const largeResultSet = Array.from({ length: 50000 }, (_, i) => ({\n        ...mockModerator,\n        id: `moderator-${i}`,\n        userId: `user-${i}`,\n      }));\n\n      prismaService.moderator.findMany.mockResolvedValue(largeResultSet);\n\n      const initialMemory = process.memoryUsage().heapUsed;\n      const result = await service.findAll();\n      const finalMemory = process.memoryUsage().heapUsed;\n\n      expect(result).toHaveLength(50000);\n      \n      // Memory increase should be reasonable (less than 100MB for this test)\n      const memoryIncrease = finalMemory - initialMemory;\n      expect(memoryIncrease).toBeLessThan(100 * 1024 * 1024);\n    });\n  });\n\n  describe('Data Integrity and Validation', () => {\n    it('should preserve data types throughout operations', async () => {\n      const typedModerator = {\n        id: 'string-id',\n        userId: 'string-userId',\n        permissions: ['array', 'of', 'strings'],\n        level: 'string-level',\n        isActive: true,\n        createdAt: new Date(),\n        updatedAt: new Date(),\n      };\n\n      prismaService.moderator.findUnique.mockResolvedValue(typedModerator);\n\n      const result = await service.findOne('string-userId');\n\n      expect(typeof result.id).toBe('string');\n      expect(typeof result.userId).toBe('string');\n      expect(Array.isArray(result.permissions)).toBe(true);\n      expect(typeof result.level).toBe('string');\n      expect(typeof result.isActive).toBe('boolean');\n      expect(result.createdAt).toBeInstanceOf(Date);\n      expect(result.updatedAt).toBeInstanceOf(Date);\n    });\n\n    it('should maintain referential integrity', async () => {\n      const createData: Prisma.ModeratorCreateInput = {\n        userId: 'valid-user-123',\n        permissions: ['MODERATE_CONTENT'],\n      };\n\n      prismaService.moderator.create.mockResolvedValue({\n        ...mockModerator,\n        userId: 'valid-user-123',\n      });\n\n      const result = await service.create(createData);\n\n      expect(result.userId).toBe('valid-user-123');\n      expect(prismaService.moderator.create).toHaveBeenCalledWith({\n        data: createData,\n      });\n    });\n\n    it('should validate business logic consistency', async () => {\n      const businessLogicUpdate: Prisma.ModeratorUpdateInput = {\n        level: 'senior_moderator',\n        permissions: ['MODERATE_CONTENT', 'MANAGE_REPORTS', 'ESCALATE_ISSUES'],\n        isActive: true,\n      };\n\n      prismaService.moderator.update.mockResolvedValue({\n        ...mockModerator,\n        ...businessLogicUpdate,\n      });\n\n      const result = await service.update('user-123', businessLogicUpdate);\n\n      expect(result.level).toBe('senior_moderator');\n      expect(result.permissions).toContain('ESCALATE_ISSUES');\n      expect(result.isActive).toBe(true);\n    });\n\n    it('should handle edge cases in data validation', async () => {\n      const edgeCaseData: Prisma.ModeratorCreateInput = {\n        userId: '',\n        permissions: [],\n        level: '',\n        isActive: false,\n      };\n\n      await service.create(edgeCaseData);\n\n      expect(prismaService.moderator.create).toHaveBeenCalledWith({\n        data: edgeCaseData,\n      });\n    });\n  });\n});"],"version":3}