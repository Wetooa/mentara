{"file":"/home/wetooa/Documents/code/projects/mentara/mentara-api/src/client/controllers/client-request.controller.spec.ts","mappings":"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","names":[],"sources":["/home/wetooa/Documents/code/projects/mentara/mentara-api/src/client/controllers/client-request.controller.spec.ts"],"sourcesContent":["/**\n * Comprehensive Test Suite for ClientRequestController\n * Tests all client request management endpoints with security, validation, and error handling\n */\n\nimport { Test, TestingModule } from '@nestjs/testing';\nimport { HttpStatus, BadRequestException, NotFoundException } from '@nestjs/common';\nimport { JwtAuthGuard } from '../../auth/guards/jwt-auth.guard';\nimport { ClientRequestController } from './client-request.controller';\nimport { ClientRequestService } from '../services/client-request.service';\nimport { SecurityGuardTestUtils, RoleBasedTestUtils } from '../../test-utils/auth-testing-helpers';\nimport { MockBuilder, TestDataGenerator, TestAssertions } from '../../test-utils/enhanced-test-helpers';\nimport { TEST_USER_IDS, TEST_EMAILS } from '../../test-utils/index';\n\ndescribe('ClientRequestController', () => {\n  let controller: ClientRequestController;\n  let clientRequestService: ClientRequestService;\n  let module: TestingModule;\n\n  // Mock ClientRequestService\n  const mockClientRequestService = {\n    sendTherapistRequest: jest.fn(),\n    sendMultipleTherapistRequests: jest.fn(),\n    getClientRequests: jest.fn(),\n    cancelRequest: jest.fn(),\n    getClientRequestStatistics: jest.fn(),\n    expireStaleRequests: jest.fn(),\n  };\n\n  // Mock JwtAuthGuard\n  const mockJwtAuthGuard = {\n    canActivate: jest.fn().mockReturnValue(true),\n  };\n\n  // Test data\n  const mockTherapistRequest = {\n    id: 'request-123',\n    clientId: TEST_USER_IDS.CLIENT,\n    therapistId: TEST_USER_IDS.THERAPIST,\n    status: 'PENDING',\n    priority: 'NORMAL',\n    message: 'I would like to schedule a session',\n    requestedAt: new Date(),\n    respondedAt: null,\n    expiresAt: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000), // 7 days from now\n  };\n\n  const mockRequestStatistics = {\n    totalSent: 5,\n    pending: 2,\n    accepted: 1,\n    declined: 1,\n    expired: 1,\n    cancelled: 0,\n    withdrawn: 0,\n  };\n\n  const mockPaginatedRequests = {\n    requests: [mockTherapistRequest],\n    pagination: {\n      page: 1,\n      limit: 10,\n      totalCount: 1,\n      totalPages: 1,\n      hasNext: false,\n      hasPrev: false,\n    },\n  };\n\n  const validTherapistId = '12345678-1234-1234-1234-123456789012'; // 36 chars UUID format\n  const validRequestId = '87654321-4321-4321-4321-210987654321'; // 36 chars UUID format\n\n  beforeEach(async () => {\n    module = await Test.createTestingModule({\n      controllers: [ClientRequestController],\n      providers: [\n        {\n          provide: ClientRequestService,\n          useValue: mockClientRequestService,\n        },\n      ],\n    })\n      .overrideGuard(JwtAuthGuard)\n      .useValue(mockJwtAuthGuard)\n      .compile();\n\n    controller = module.get<ClientRequestController>(ClientRequestController);\n    clientRequestService = module.get<ClientRequestService>(ClientRequestService);\n  });\n\n  afterEach(() => {\n    jest.clearAllMocks();\n  });\n\n  describe('Controller Initialization', () => {\n    it('should be defined', () => {\n      expect(controller).toBeDefined();\n    });\n\n    it('should have clientRequestService injected', () => {\n      expect(clientRequestService).toBeDefined();\n    });\n  });\n\n  describe('Security Guards', () => {\n    it('should be protected by JwtAuthGuard', () => {\n      const guards = Reflect.getMetadata('__guards__', ClientRequestController);\n      expect(guards).toContain(JwtAuthGuard);\n    });\n\n    it('should have proper route decorators', () => {\n      const controllerMetadata = Reflect.getMetadata('path', ClientRequestController);\n      expect(controllerMetadata).toBe('client/requests');\n    });\n  });\n\n  describe('POST /client/requests/therapist/:therapistId', () => {\n    const requestDto = {\n      message: 'I would like to schedule a session',\n      priority: 'NORMAL' as const,\n      preferredTimes: ['morning', 'afternoon'],\n    };\n\n    it('should send therapist request successfully', async () => {\n      mockClientRequestService.sendTherapistRequest.mockResolvedValue(mockTherapistRequest);\n\n      const result = await controller.sendTherapistRequest(\n        validTherapistId,\n        requestDto,\n        TEST_USER_IDS.CLIENT,\n      );\n\n      expect(result).toEqual(mockTherapistRequest);\n      expect(clientRequestService.sendTherapistRequest).toHaveBeenCalledWith(\n        TEST_USER_IDS.CLIENT,\n        validTherapistId,\n        requestDto,\n      );\n    });\n\n    it('should validate therapist ID format', async () => {\n      const invalidTherapistId = 'invalid-id';\n\n      await TestAssertions.expectToThrowNestException(\n        () => controller.sendTherapistRequest(invalidTherapistId, requestDto, TEST_USER_IDS.CLIENT),\n        BadRequestException,\n        'Invalid therapist ID format',\n      );\n    });\n\n    it('should handle empty therapist ID', async () => {\n      await TestAssertions.expectToThrowNestException(\n        () => controller.sendTherapistRequest('', requestDto, TEST_USER_IDS.CLIENT),\n        BadRequestException,\n        'Invalid therapist ID format',\n      );\n    });\n\n    it('should handle service errors', async () => {\n      const serviceError = new Error('Therapist not found');\n      mockClientRequestService.sendTherapistRequest.mockRejectedValue(serviceError);\n\n      await expect(\n        controller.sendTherapistRequest(validTherapistId, requestDto, TEST_USER_IDS.CLIENT),\n      ).rejects.toThrow(serviceError);\n    });\n  });\n\n  describe('POST /client/requests/therapists/bulk', () => {\n    const bulkRequestDto = {\n      therapistIds: [validTherapistId, '11111111-2222-3333-4444-555555555555'],\n      message: 'I would like to schedule sessions',\n      priority: 'NORMAL' as const,\n      preferredTimes: ['morning'],\n    };\n\n    it('should send multiple therapist requests successfully', async () => {\n      const bulkResult = {\n        success: true,\n        sentRequests: 2,\n        failedRequests: 0,\n        results: [mockTherapistRequest],\n      };\n      mockClientRequestService.sendMultipleTherapistRequests.mockResolvedValue(bulkResult);\n\n      const result = await controller.sendMultipleTherapistRequests(\n        bulkRequestDto,\n        TEST_USER_IDS.CLIENT,\n      );\n\n      expect(result).toEqual(bulkResult);\n      expect(clientRequestService.sendMultipleTherapistRequests).toHaveBeenCalledWith(\n        TEST_USER_IDS.CLIENT,\n        bulkRequestDto,\n      );\n    });\n\n    it('should handle service errors for bulk requests', async () => {\n      const serviceError = new Error('Some requests failed');\n      mockClientRequestService.sendMultipleTherapistRequests.mockRejectedValue(serviceError);\n\n      await expect(\n        controller.sendMultipleTherapistRequests(bulkRequestDto, TEST_USER_IDS.CLIENT),\n      ).rejects.toThrow(serviceError);\n    });\n  });\n\n  describe('GET /client/requests', () => {\n    const filters = {\n      page: 1,\n      limit: 10,\n      sortBy: 'requestedAt',\n      sortOrder: 'desc',\n    };\n\n    it('should get client requests with filters', async () => {\n      mockClientRequestService.getClientRequests.mockResolvedValue(mockPaginatedRequests);\n\n      const result = await controller.getMyRequests(filters, TEST_USER_IDS.CLIENT);\n\n      expect(result).toEqual(mockPaginatedRequests);\n      expect(clientRequestService.getClientRequests).toHaveBeenCalledWith(\n        TEST_USER_IDS.CLIENT,\n        filters,\n      );\n    });\n\n    it('should handle empty filters', async () => {\n      const emptyFilters = {};\n      mockClientRequestService.getClientRequests.mockResolvedValue(mockPaginatedRequests);\n\n      const result = await controller.getMyRequests(emptyFilters, TEST_USER_IDS.CLIENT);\n\n      expect(result).toEqual(mockPaginatedRequests);\n      expect(clientRequestService.getClientRequests).toHaveBeenCalledWith(\n        TEST_USER_IDS.CLIENT,\n        emptyFilters,\n      );\n    });\n\n    it('should handle service errors', async () => {\n      const serviceError = new Error('Database connection failed');\n      mockClientRequestService.getClientRequests.mockRejectedValue(serviceError);\n\n      await expect(\n        controller.getMyRequests(filters, TEST_USER_IDS.CLIENT),\n      ).rejects.toThrow(serviceError);\n    });\n  });\n\n  describe('GET /client/requests/:id', () => {\n    it('should get request details successfully', async () => {\n      mockClientRequestService.getClientRequests.mockResolvedValue(mockPaginatedRequests);\n\n      const result = await controller.getRequestDetails(validRequestId, TEST_USER_IDS.CLIENT);\n\n      expect(result).toEqual({\n        success: true,\n        request: mockTherapistRequest,\n      });\n      expect(clientRequestService.getClientRequests).toHaveBeenCalledWith(\n        TEST_USER_IDS.CLIENT,\n        {\n          page: 1,\n          limit: 1,\n          sortBy: 'requestedAt',\n          sortOrder: 'desc',\n        },\n      );\n    });\n\n    it('should validate request ID format', async () => {\n      const invalidRequestId = 'invalid-id';\n\n      await TestAssertions.expectToThrowNestException(\n        () => controller.getRequestDetails(invalidRequestId, TEST_USER_IDS.CLIENT),\n        BadRequestException,\n        'Invalid request ID format',\n      );\n    });\n\n    it('should handle request not found', async () => {\n      mockClientRequestService.getClientRequests.mockResolvedValue({\n        requests: [],\n        pagination: { page: 1, limit: 1, totalCount: 0, totalPages: 0, hasNext: false, hasPrev: false },\n      });\n\n      await TestAssertions.expectToThrowNestException(\n        () => controller.getRequestDetails(validRequestId, TEST_USER_IDS.CLIENT),\n        NotFoundException,\n        'Request with ID 87654321-4321-4321-4321-210987654321 not found or not accessible',\n      );\n    });\n\n    it('should handle empty request ID', async () => {\n      await TestAssertions.expectToThrowNestException(\n        () => controller.getRequestDetails('', TEST_USER_IDS.CLIENT),\n        BadRequestException,\n        'Invalid request ID format',\n      );\n    });\n  });\n\n  describe('PUT /client/requests/:id/cancel', () => {\n    const cancelDto = {\n      reason: 'Changed my mind',\n    };\n\n    it('should cancel request successfully', async () => {\n      const cancelResult = {\n        success: true,\n        message: 'Request cancelled successfully',\n        request: { ...mockTherapistRequest, status: 'CANCELLED' },\n      };\n      mockClientRequestService.cancelRequest.mockResolvedValue(cancelResult);\n\n      const result = await controller.cancelRequest(\n        validRequestId,\n        cancelDto,\n        TEST_USER_IDS.CLIENT,\n      );\n\n      expect(result).toEqual(cancelResult);\n      expect(clientRequestService.cancelRequest).toHaveBeenCalledWith(\n        validRequestId,\n        TEST_USER_IDS.CLIENT,\n        cancelDto.reason,\n      );\n    });\n\n    it('should validate request ID format', async () => {\n      const invalidRequestId = 'invalid-id';\n\n      await TestAssertions.expectToThrowNestException(\n        () => controller.cancelRequest(invalidRequestId, cancelDto, TEST_USER_IDS.CLIENT),\n        BadRequestException,\n        'Invalid request ID format',\n      );\n    });\n\n    it('should handle service errors', async () => {\n      const serviceError = new Error('Request cannot be cancelled');\n      mockClientRequestService.cancelRequest.mockRejectedValue(serviceError);\n\n      await expect(\n        controller.cancelRequest(validRequestId, cancelDto, TEST_USER_IDS.CLIENT),\n      ).rejects.toThrow(serviceError);\n    });\n  });\n\n  describe('GET /client/requests/statistics', () => {\n    it('should get request statistics successfully', async () => {\n      mockClientRequestService.getClientRequestStatistics.mockResolvedValue(mockRequestStatistics);\n\n      const result = await controller.getRequestStatistics(TEST_USER_IDS.CLIENT);\n\n      expect(result).toEqual(mockRequestStatistics);\n      expect(clientRequestService.getClientRequestStatistics).toHaveBeenCalledWith(\n        TEST_USER_IDS.CLIENT,\n      );\n    });\n\n    it('should handle service errors', async () => {\n      const serviceError = new Error('Statistics calculation failed');\n      mockClientRequestService.getClientRequestStatistics.mockRejectedValue(serviceError);\n\n      await expect(\n        controller.getRequestStatistics(TEST_USER_IDS.CLIENT),\n      ).rejects.toThrow(serviceError);\n    });\n  });\n\n  describe('GET /client/requests/pending/count', () => {\n    it('should get pending requests count successfully', async () => {\n      mockClientRequestService.getClientRequestStatistics.mockResolvedValue(mockRequestStatistics);\n\n      const result = await controller.getPendingRequestsCount(TEST_USER_IDS.CLIENT);\n\n      expect(result).toEqual({\n        success: true,\n        pendingCount: 2,\n        totalSent: 5,\n      });\n      expect(clientRequestService.getClientRequestStatistics).toHaveBeenCalledWith(\n        TEST_USER_IDS.CLIENT,\n      );\n    });\n\n    it('should handle service errors', async () => {\n      const serviceError = new Error('Statistics calculation failed');\n      mockClientRequestService.getClientRequestStatistics.mockRejectedValue(serviceError);\n\n      await expect(\n        controller.getPendingRequestsCount(TEST_USER_IDS.CLIENT),\n      ).rejects.toThrow(serviceError);\n    });\n  });\n\n  describe('GET /client/requests/recent', () => {\n    it('should get recent requests successfully', async () => {\n      mockClientRequestService.getClientRequests.mockResolvedValue(mockPaginatedRequests);\n\n      const result = await controller.getRecentRequests(TEST_USER_IDS.CLIENT);\n\n      expect(result).toEqual({\n        success: true,\n        recentRequests: [mockTherapistRequest],\n        hasMore: false,\n      });\n      expect(clientRequestService.getClientRequests).toHaveBeenCalledWith(\n        TEST_USER_IDS.CLIENT,\n        {\n          page: 1,\n          limit: 5,\n          sortBy: 'requestedAt',\n          sortOrder: 'desc',\n        },\n      );\n    });\n\n    it('should indicate when there are more requests', async () => {\n      const mockPaginatedWithMore = {\n        ...mockPaginatedRequests,\n        pagination: { ...mockPaginatedRequests.pagination, totalCount: 10 },\n      };\n      mockClientRequestService.getClientRequests.mockResolvedValue(mockPaginatedWithMore);\n\n      const result = await controller.getRecentRequests(TEST_USER_IDS.CLIENT);\n\n      expect(result.hasMore).toBe(true);\n    });\n\n    it('should handle service errors', async () => {\n      const serviceError = new Error('Database query failed');\n      mockClientRequestService.getClientRequests.mockRejectedValue(serviceError);\n\n      await expect(\n        controller.getRecentRequests(TEST_USER_IDS.CLIENT),\n      ).rejects.toThrow(serviceError);\n    });\n  });\n\n  describe('PUT /client/requests/expire-stale', () => {\n    it('should expire stale requests successfully', async () => {\n      const expireResult = {\n        success: true,\n        expiredCount: 3,\n        message: '3 stale requests expired',\n      };\n      mockClientRequestService.expireStaleRequests.mockResolvedValue(expireResult);\n\n      const result = await controller.expireStaleRequests(TEST_USER_IDS.CLIENT);\n\n      expect(result).toEqual(expireResult);\n      expect(clientRequestService.expireStaleRequests).toHaveBeenCalled();\n    });\n\n    it('should handle service errors', async () => {\n      const serviceError = new Error('Expiration process failed');\n      mockClientRequestService.expireStaleRequests.mockRejectedValue(serviceError);\n\n      await expect(\n        controller.expireStaleRequests(TEST_USER_IDS.CLIENT),\n      ).rejects.toThrow(serviceError);\n    });\n  });\n\n  describe('GET /client/requests/therapist/:therapistId/status', () => {\n    it('should get request status with therapist when active request exists', async () => {\n      mockClientRequestService.getClientRequests.mockResolvedValue(mockPaginatedRequests);\n\n      const result = await controller.getRequestStatusWithTherapist(\n        validTherapistId,\n        TEST_USER_IDS.CLIENT,\n      );\n\n      expect(result).toEqual({\n        success: true,\n        hasActiveRequest: true,\n        latestRequest: {\n          id: mockTherapistRequest.id,\n          status: mockTherapistRequest.status,\n          requestedAt: mockTherapistRequest.requestedAt,\n          respondedAt: mockTherapistRequest.respondedAt,\n          expiresAt: mockTherapistRequest.expiresAt,\n        },\n        canSendNewRequest: false,\n      });\n      expect(clientRequestService.getClientRequests).toHaveBeenCalledWith(\n        TEST_USER_IDS.CLIENT,\n        {\n          therapistId: validTherapistId,\n          page: 1,\n          limit: 1,\n          sortBy: 'requestedAt',\n          sortOrder: 'desc',\n        },\n      );\n    });\n\n    it('should handle no active request with therapist', async () => {\n      mockClientRequestService.getClientRequests.mockResolvedValue({\n        requests: [],\n        pagination: { page: 1, limit: 1, totalCount: 0, totalPages: 0, hasNext: false, hasPrev: false },\n      });\n\n      const result = await controller.getRequestStatusWithTherapist(\n        validTherapistId,\n        TEST_USER_IDS.CLIENT,\n      );\n\n      expect(result).toEqual({\n        success: true,\n        hasActiveRequest: false,\n        latestRequest: null,\n        canSendNewRequest: true,\n      });\n    });\n\n    it('should validate therapist ID format', async () => {\n      const invalidTherapistId = 'invalid-id';\n\n      await TestAssertions.expectToThrowNestException(\n        () => controller.getRequestStatusWithTherapist(invalidTherapistId, TEST_USER_IDS.CLIENT),\n        BadRequestException,\n        'Invalid therapist ID format',\n      );\n    });\n\n    it('should handle declined request allowing new request', async () => {\n      const declinedRequest = { ...mockTherapistRequest, status: 'DECLINED' };\n      mockClientRequestService.getClientRequests.mockResolvedValue({\n        requests: [declinedRequest],\n        pagination: { page: 1, limit: 1, totalCount: 1, totalPages: 1, hasNext: false, hasPrev: false },\n      });\n\n      const result = await controller.getRequestStatusWithTherapist(\n        validTherapistId,\n        TEST_USER_IDS.CLIENT,\n      );\n\n      expect(result.canSendNewRequest).toBe(true);\n    });\n\n    it('should handle service errors', async () => {\n      const serviceError = new Error('Database query failed');\n      mockClientRequestService.getClientRequests.mockRejectedValue(serviceError);\n\n      await expect(\n        controller.getRequestStatusWithTherapist(validTherapistId, TEST_USER_IDS.CLIENT),\n      ).rejects.toThrow(serviceError);\n    });\n  });\n\n  describe('GET /client/requests/filters/options', () => {\n    it('should get filter options successfully', async () => {\n      const result = await controller.getFilterOptions(TEST_USER_IDS.CLIENT);\n\n      expect(result).toEqual({\n        success: true,\n        filterOptions: {\n          statuses: ['PENDING', 'ACCEPTED', 'DECLINED', 'EXPIRED', 'CANCELLED', 'WITHDRAWN'],\n          priorities: ['LOW', 'NORMAL', 'HIGH', 'URGENT'],\n          sortOptions: [\n            { value: 'requestedAt', label: 'Request Date' },\n            { value: 'respondedAt', label: 'Response Date' },\n            { value: 'priority', label: 'Priority' },\n            { value: 'status', label: 'Status' },\n          ],\n          sortOrders: [\n            { value: 'desc', label: 'Newest First' },\n            { value: 'asc', label: 'Oldest First' },\n          ],\n        },\n      });\n    });\n\n    it('should return consistent filter options', async () => {\n      const result1 = await controller.getFilterOptions(TEST_USER_IDS.CLIENT);\n      const result2 = await controller.getFilterOptions('another-client-id');\n\n      expect(result1).toEqual(result2);\n    });\n  });\n\n  describe('Integration Testing', () => {\n    it('should handle complete request workflow', async () => {\n      // Step 1: Send therapist request\n      mockClientRequestService.sendTherapistRequest.mockResolvedValue(mockTherapistRequest);\n      const requestResult = await controller.sendTherapistRequest(\n        validTherapistId,\n        { message: 'Test message', priority: 'NORMAL', preferredTimes: ['morning'] },\n        TEST_USER_IDS.CLIENT,\n      );\n      expect(requestResult).toEqual(mockTherapistRequest);\n\n      // Step 2: Get request details\n      mockClientRequestService.getClientRequests.mockResolvedValue(mockPaginatedRequests);\n      const detailsResult = await controller.getRequestDetails(validRequestId, TEST_USER_IDS.CLIENT);\n      expect(detailsResult.success).toBe(true);\n\n      // Step 3: Check statistics\n      mockClientRequestService.getClientRequestStatistics.mockResolvedValue(mockRequestStatistics);\n      const statsResult = await controller.getRequestStatistics(TEST_USER_IDS.CLIENT);\n      expect(statsResult).toEqual(mockRequestStatistics);\n\n      // Step 4: Check status with therapist\n      const statusResult = await controller.getRequestStatusWithTherapist(\n        validTherapistId,\n        TEST_USER_IDS.CLIENT,\n      );\n      expect(statusResult.hasActiveRequest).toBe(true);\n\n      // Step 5: Cancel request\n      const cancelResult = {\n        success: true,\n        message: 'Request cancelled successfully',\n        request: { ...mockTherapistRequest, status: 'CANCELLED' },\n      };\n      mockClientRequestService.cancelRequest.mockResolvedValue(cancelResult);\n      const canceledResult = await controller.cancelRequest(\n        validRequestId,\n        { reason: 'Changed my mind' },\n        TEST_USER_IDS.CLIENT,\n      );\n      expect(canceledResult).toEqual(cancelResult);\n    });\n\n    it('should handle bulk request workflow', async () => {\n      // Step 1: Send multiple requests\n      const bulkResult = {\n        success: true,\n        sentRequests: 2,\n        failedRequests: 0,\n        results: [mockTherapistRequest],\n      };\n      mockClientRequestService.sendMultipleTherapistRequests.mockResolvedValue(bulkResult);\n      const bulkRequestResult = await controller.sendMultipleTherapistRequests(\n        {\n          therapistIds: [validTherapistId, '99999999-8888-7777-6666-555555555555'],\n          message: 'Bulk message',\n          priority: 'HIGH',\n          preferredTimes: ['morning', 'afternoon'],\n        },\n        TEST_USER_IDS.CLIENT,\n      );\n      expect(bulkRequestResult).toEqual(bulkResult);\n\n      // Step 2: Get all requests\n      mockClientRequestService.getClientRequests.mockResolvedValue(mockPaginatedRequests);\n      const allRequestsResult = await controller.getMyRequests(\n        { page: 1, limit: 10, sortBy: 'requestedAt', sortOrder: 'desc' },\n        TEST_USER_IDS.CLIENT,\n      );\n      expect(allRequestsResult).toEqual(mockPaginatedRequests);\n\n      // Step 3: Get recent requests\n      const recentResult = await controller.getRecentRequests(TEST_USER_IDS.CLIENT);\n      expect(recentResult.success).toBe(true);\n      expect(recentResult.recentRequests).toEqual([mockTherapistRequest]);\n    });\n  });\n\n  describe('Error Handling', () => {\n    it('should handle service unavailable scenarios', async () => {\n      const serviceError = new Error('Service temporarily unavailable');\n      mockClientRequestService.sendTherapistRequest.mockRejectedValue(serviceError);\n\n      await expect(\n        controller.sendTherapistRequest(\n          validTherapistId,\n          { message: 'Test', priority: 'NORMAL', preferredTimes: [] },\n          TEST_USER_IDS.CLIENT,\n        ),\n      ).rejects.toThrow(serviceError);\n    });\n\n    it('should handle concurrent access issues', async () => {\n      const concurrencyError = new Error('Request already exists');\n      mockClientRequestService.sendTherapistRequest.mockRejectedValue(concurrencyError);\n\n      await expect(\n        controller.sendTherapistRequest(\n          validTherapistId,\n          { message: 'Test', priority: 'NORMAL', preferredTimes: [] },\n          TEST_USER_IDS.CLIENT,\n        ),\n      ).rejects.toThrow(concurrencyError);\n    });\n\n    it('should handle malformed request data', async () => {\n      const malformedDto = { invalid: 'data' };\n      mockClientRequestService.sendTherapistRequest.mockResolvedValue(mockTherapistRequest);\n\n      const result = await controller.sendTherapistRequest(\n        validTherapistId,\n        malformedDto as any,\n        TEST_USER_IDS.CLIENT,\n      );\n\n      expect(clientRequestService.sendTherapistRequest).toHaveBeenCalledWith(\n        TEST_USER_IDS.CLIENT,\n        validTherapistId,\n        malformedDto,\n      );\n    });\n  });\n\n  describe('Response Format Validation', () => {\n    it('should return properly formatted request response', async () => {\n      mockClientRequestService.sendTherapistRequest.mockResolvedValue(mockTherapistRequest);\n\n      const result = await controller.sendTherapistRequest(\n        validTherapistId,\n        { message: 'Test', priority: 'NORMAL', preferredTimes: [] },\n        TEST_USER_IDS.CLIENT,\n      );\n\n      TestAssertions.expectValidEntity(result, ['id', 'clientId', 'therapistId', 'status']);\n    });\n\n    it('should return properly formatted statistics response', async () => {\n      mockClientRequestService.getClientRequestStatistics.mockResolvedValue(mockRequestStatistics);\n\n      const result = await controller.getRequestStatistics(TEST_USER_IDS.CLIENT);\n\n      expect(result).toHaveProperty('totalSent');\n      expect(result).toHaveProperty('pending');\n      expect(result).toHaveProperty('accepted');\n      expect(result).toHaveProperty('declined');\n      expect(typeof result.totalSent).toBe('number');\n      expect(typeof result.pending).toBe('number');\n    });\n\n    it('should return properly formatted success responses', async () => {\n      mockClientRequestService.getClientRequests.mockResolvedValue(mockPaginatedRequests);\n\n      const result = await controller.getRequestDetails(validRequestId, TEST_USER_IDS.CLIENT);\n\n      expect(result).toHaveProperty('success');\n      expect(result).toHaveProperty('request');\n      expect(result.success).toBe(true);\n    });\n\n    it('should return properly formatted filter options response', async () => {\n      const result = await controller.getFilterOptions(TEST_USER_IDS.CLIENT);\n\n      expect(result).toHaveProperty('success');\n      expect(result).toHaveProperty('filterOptions');\n      expect(result.success).toBe(true);\n      expect(result.filterOptions).toHaveProperty('statuses');\n      expect(result.filterOptions).toHaveProperty('priorities');\n      expect(result.filterOptions).toHaveProperty('sortOptions');\n      expect(result.filterOptions).toHaveProperty('sortOrders');\n      expect(Array.isArray(result.filterOptions.statuses)).toBe(true);\n      expect(Array.isArray(result.filterOptions.priorities)).toBe(true);\n    });\n  });\n});"],"version":3}