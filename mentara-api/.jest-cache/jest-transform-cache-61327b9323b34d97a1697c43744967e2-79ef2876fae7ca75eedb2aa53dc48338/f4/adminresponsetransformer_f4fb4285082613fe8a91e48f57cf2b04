e71b4a7ab1335776788afde43409ac84
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.AdminResponseTransformer = void 0;
/**
 * Transformation functions for Admin module responses
 * Converts service layer data to proper API response DTOs
 */
class AdminResponseTransformer {
    /**
     * Transform service response to TherapistListResponse
     */
    static transformTherapistList(serviceResponse) {
        return {
            therapists: serviceResponse.applications || [],
            total: serviceResponse.summary?.filtered || 0,
            page: 1, // Default page since service doesn't provide pagination info
            limit: serviceResponse.applications?.length || 50,
        };
    }
    /**
     * Transform service response to TherapistApplicationDetailsResponse
     */
    static transformApplicationDetails(serviceResponse) {
        const application = serviceResponse.application;
        return {
            id: application.userId || application.id,
            status: application.status,
            submittedAt: application.submissionDate?.toISOString() || application.createdAt?.toISOString(),
            user: application.user,
            application: application,
        };
    }
    /**
     * Transform service response to TherapistActionResponse
     */
    static transformActionResponse(serviceResponse, therapistId) {
        return {
            success: serviceResponse.success || true,
            message: serviceResponse.message || 'Operation completed successfully',
            therapistId: therapistId,
        };
    }
    /**
     * Transform service response to TherapistApplicationMetricsResponse
     */
    static transformApplicationMetrics(serviceResponse) {
        const summary = serviceResponse.summary || {};
        return {
            total: summary.totalApplications || 0,
            pending: summary.pendingApplications || 0,
            approved: summary.approvedApplications || 0,
            rejected: summary.rejectedApplications || 0,
            suspended: 0, // Service doesn't provide suspended count, defaulting to 0
        };
    }
}
exports.AdminResponseTransformer = AdminResponseTransformer;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvd2V0b29hL0RvY3VtZW50cy9jb2RlL3Byb2plY3RzL21lbnRhcmEvbWVudGFyYS1hcGkvc3JjL2FkbWluL3RyYW5zZm9ybWVycy9hZG1pbi1yZXNwb25zZS50cmFuc2Zvcm1lci50cyIsIm1hcHBpbmdzIjoiOzs7QUFPQTs7O0dBR0c7QUFDSCxNQUFhLHdCQUF3QjtJQUNuQzs7T0FFRztJQUNILE1BQU0sQ0FBQyxzQkFBc0IsQ0FBQyxlQUFvQjtRQUNoRCxPQUFPO1lBQ0wsVUFBVSxFQUFFLGVBQWUsQ0FBQyxZQUFZLElBQUksRUFBRTtZQUM5QyxLQUFLLEVBQUUsZUFBZSxDQUFDLE9BQU8sRUFBRSxRQUFRLElBQUksQ0FBQztZQUM3QyxJQUFJLEVBQUUsQ0FBQyxFQUFFLDZEQUE2RDtZQUN0RSxLQUFLLEVBQUUsZUFBZSxDQUFDLFlBQVksRUFBRSxNQUFNLElBQUksRUFBRTtTQUNsRCxDQUFDO0lBQ0osQ0FBQztJQUVEOztPQUVHO0lBQ0gsTUFBTSxDQUFDLDJCQUEyQixDQUFDLGVBQW9CO1FBQ3JELE1BQU0sV0FBVyxHQUFHLGVBQWUsQ0FBQyxXQUFXLENBQUM7UUFDaEQsT0FBTztZQUNMLEVBQUUsRUFBRSxXQUFXLENBQUMsTUFBTSxJQUFJLFdBQVcsQ0FBQyxFQUFFO1lBQ3hDLE1BQU0sRUFBRSxXQUFXLENBQUMsTUFBTTtZQUMxQixXQUFXLEVBQUUsV0FBVyxDQUFDLGNBQWMsRUFBRSxXQUFXLEVBQUUsSUFBSSxXQUFXLENBQUMsU0FBUyxFQUFFLFdBQVcsRUFBRTtZQUM5RixJQUFJLEVBQUUsV0FBVyxDQUFDLElBQUk7WUFDdEIsV0FBVyxFQUFFLFdBQVc7U0FDekIsQ0FBQztJQUNKLENBQUM7SUFFRDs7T0FFRztJQUNILE1BQU0sQ0FBQyx1QkFBdUIsQ0FBQyxlQUFvQixFQUFFLFdBQW1CO1FBQ3RFLE9BQU87WUFDTCxPQUFPLEVBQUUsZUFBZSxDQUFDLE9BQU8sSUFBSSxJQUFJO1lBQ3hDLE9BQU8sRUFBRSxlQUFlLENBQUMsT0FBTyxJQUFJLGtDQUFrQztZQUN0RSxXQUFXLEVBQUUsV0FBVztTQUN6QixDQUFDO0lBQ0osQ0FBQztJQUVEOztPQUVHO0lBQ0gsTUFBTSxDQUFDLDJCQUEyQixDQUFDLGVBQW9CO1FBQ3JELE1BQU0sT0FBTyxHQUFHLGVBQWUsQ0FBQyxPQUFPLElBQUksRUFBRSxDQUFDO1FBQzlDLE9BQU87WUFDTCxLQUFLLEVBQUUsT0FBTyxDQUFDLGlCQUFpQixJQUFJLENBQUM7WUFDckMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxtQkFBbUIsSUFBSSxDQUFDO1lBQ3pDLFFBQVEsRUFBRSxPQUFPLENBQUMsb0JBQW9CLElBQUksQ0FBQztZQUMzQyxRQUFRLEVBQUUsT0FBTyxDQUFDLG9CQUFvQixJQUFJLENBQUM7WUFDM0MsU0FBUyxFQUFFLENBQUMsRUFBRSwyREFBMkQ7U0FDMUUsQ0FBQztJQUNKLENBQUM7Q0FDRjtBQW5ERCw0REFtREMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL2hvbWUvd2V0b29hL0RvY3VtZW50cy9jb2RlL3Byb2plY3RzL21lbnRhcmEvbWVudGFyYS1hcGkvc3JjL2FkbWluL3RyYW5zZm9ybWVycy9hZG1pbi1yZXNwb25zZS50cmFuc2Zvcm1lci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICB0eXBlIFRoZXJhcGlzdExpc3RSZXNwb25zZSxcbiAgdHlwZSBUaGVyYXBpc3RBcHBsaWNhdGlvbkRldGFpbHNSZXNwb25zZSxcbiAgdHlwZSBUaGVyYXBpc3RBY3Rpb25SZXNwb25zZSxcbiAgdHlwZSBUaGVyYXBpc3RBcHBsaWNhdGlvbk1ldHJpY3NSZXNwb25zZSxcbn0gZnJvbSAnLi4vdHlwZXMnO1xuXG4vKipcbiAqIFRyYW5zZm9ybWF0aW9uIGZ1bmN0aW9ucyBmb3IgQWRtaW4gbW9kdWxlIHJlc3BvbnNlc1xuICogQ29udmVydHMgc2VydmljZSBsYXllciBkYXRhIHRvIHByb3BlciBBUEkgcmVzcG9uc2UgRFRPc1xuICovXG5leHBvcnQgY2xhc3MgQWRtaW5SZXNwb25zZVRyYW5zZm9ybWVyIHtcbiAgLyoqXG4gICAqIFRyYW5zZm9ybSBzZXJ2aWNlIHJlc3BvbnNlIHRvIFRoZXJhcGlzdExpc3RSZXNwb25zZVxuICAgKi9cbiAgc3RhdGljIHRyYW5zZm9ybVRoZXJhcGlzdExpc3Qoc2VydmljZVJlc3BvbnNlOiBhbnkpOiBUaGVyYXBpc3RMaXN0UmVzcG9uc2Uge1xuICAgIHJldHVybiB7XG4gICAgICB0aGVyYXBpc3RzOiBzZXJ2aWNlUmVzcG9uc2UuYXBwbGljYXRpb25zIHx8IFtdLFxuICAgICAgdG90YWw6IHNlcnZpY2VSZXNwb25zZS5zdW1tYXJ5Py5maWx0ZXJlZCB8fCAwLFxuICAgICAgcGFnZTogMSwgLy8gRGVmYXVsdCBwYWdlIHNpbmNlIHNlcnZpY2UgZG9lc24ndCBwcm92aWRlIHBhZ2luYXRpb24gaW5mb1xuICAgICAgbGltaXQ6IHNlcnZpY2VSZXNwb25zZS5hcHBsaWNhdGlvbnM/Lmxlbmd0aCB8fCA1MCxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFRyYW5zZm9ybSBzZXJ2aWNlIHJlc3BvbnNlIHRvIFRoZXJhcGlzdEFwcGxpY2F0aW9uRGV0YWlsc1Jlc3BvbnNlXG4gICAqL1xuICBzdGF0aWMgdHJhbnNmb3JtQXBwbGljYXRpb25EZXRhaWxzKHNlcnZpY2VSZXNwb25zZTogYW55KTogVGhlcmFwaXN0QXBwbGljYXRpb25EZXRhaWxzUmVzcG9uc2Uge1xuICAgIGNvbnN0IGFwcGxpY2F0aW9uID0gc2VydmljZVJlc3BvbnNlLmFwcGxpY2F0aW9uO1xuICAgIHJldHVybiB7XG4gICAgICBpZDogYXBwbGljYXRpb24udXNlcklkIHx8IGFwcGxpY2F0aW9uLmlkLFxuICAgICAgc3RhdHVzOiBhcHBsaWNhdGlvbi5zdGF0dXMsXG4gICAgICBzdWJtaXR0ZWRBdDogYXBwbGljYXRpb24uc3VibWlzc2lvbkRhdGU/LnRvSVNPU3RyaW5nKCkgfHwgYXBwbGljYXRpb24uY3JlYXRlZEF0Py50b0lTT1N0cmluZygpLFxuICAgICAgdXNlcjogYXBwbGljYXRpb24udXNlcixcbiAgICAgIGFwcGxpY2F0aW9uOiBhcHBsaWNhdGlvbixcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFRyYW5zZm9ybSBzZXJ2aWNlIHJlc3BvbnNlIHRvIFRoZXJhcGlzdEFjdGlvblJlc3BvbnNlXG4gICAqL1xuICBzdGF0aWMgdHJhbnNmb3JtQWN0aW9uUmVzcG9uc2Uoc2VydmljZVJlc3BvbnNlOiBhbnksIHRoZXJhcGlzdElkOiBzdHJpbmcpOiBUaGVyYXBpc3RBY3Rpb25SZXNwb25zZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IHNlcnZpY2VSZXNwb25zZS5zdWNjZXNzIHx8IHRydWUsXG4gICAgICBtZXNzYWdlOiBzZXJ2aWNlUmVzcG9uc2UubWVzc2FnZSB8fCAnT3BlcmF0aW9uIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHknLFxuICAgICAgdGhlcmFwaXN0SWQ6IHRoZXJhcGlzdElkLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogVHJhbnNmb3JtIHNlcnZpY2UgcmVzcG9uc2UgdG8gVGhlcmFwaXN0QXBwbGljYXRpb25NZXRyaWNzUmVzcG9uc2VcbiAgICovXG4gIHN0YXRpYyB0cmFuc2Zvcm1BcHBsaWNhdGlvbk1ldHJpY3Moc2VydmljZVJlc3BvbnNlOiBhbnkpOiBUaGVyYXBpc3RBcHBsaWNhdGlvbk1ldHJpY3NSZXNwb25zZSB7XG4gICAgY29uc3Qgc3VtbWFyeSA9IHNlcnZpY2VSZXNwb25zZS5zdW1tYXJ5IHx8IHt9O1xuICAgIHJldHVybiB7XG4gICAgICB0b3RhbDogc3VtbWFyeS50b3RhbEFwcGxpY2F0aW9ucyB8fCAwLFxuICAgICAgcGVuZGluZzogc3VtbWFyeS5wZW5kaW5nQXBwbGljYXRpb25zIHx8IDAsXG4gICAgICBhcHByb3ZlZDogc3VtbWFyeS5hcHByb3ZlZEFwcGxpY2F0aW9ucyB8fCAwLFxuICAgICAgcmVqZWN0ZWQ6IHN1bW1hcnkucmVqZWN0ZWRBcHBsaWNhdGlvbnMgfHwgMCxcbiAgICAgIHN1c3BlbmRlZDogMCwgLy8gU2VydmljZSBkb2Vzbid0IHByb3ZpZGUgc3VzcGVuZGVkIGNvdW50LCBkZWZhdWx0aW5nIHRvIDBcbiAgICB9O1xuICB9XG59Il0sInZlcnNpb24iOjN9