{"file":"/home/wetooa/Documents/code/projects/mentara/mentara-api/src/admin/transformers/admin-response.transformer.ts","mappings":";;;AAOA;;;GAGG;AACH,MAAa,wBAAwB;IACnC;;OAEG;IACH,MAAM,CAAC,sBAAsB,CAAC,eAAoB;QAChD,OAAO;YACL,UAAU,EAAE,eAAe,CAAC,YAAY,IAAI,EAAE;YAC9C,KAAK,EAAE,eAAe,CAAC,OAAO,EAAE,QAAQ,IAAI,CAAC;YAC7C,IAAI,EAAE,CAAC,EAAE,6DAA6D;YACtE,KAAK,EAAE,eAAe,CAAC,YAAY,EAAE,MAAM,IAAI,EAAE;SAClD,CAAC;IACJ,CAAC;IAED;;OAEG;IACH,MAAM,CAAC,2BAA2B,CAAC,eAAoB;QACrD,MAAM,WAAW,GAAG,eAAe,CAAC,WAAW,CAAC;QAChD,OAAO;YACL,EAAE,EAAE,WAAW,CAAC,MAAM,IAAI,WAAW,CAAC,EAAE;YACxC,MAAM,EAAE,WAAW,CAAC,MAAM;YAC1B,WAAW,EAAE,WAAW,CAAC,cAAc,EAAE,WAAW,EAAE,IAAI,WAAW,CAAC,SAAS,EAAE,WAAW,EAAE;YAC9F,IAAI,EAAE,WAAW,CAAC,IAAI;YACtB,WAAW,EAAE,WAAW;SACzB,CAAC;IACJ,CAAC;IAED;;OAEG;IACH,MAAM,CAAC,uBAAuB,CAAC,eAAoB,EAAE,WAAmB;QACtE,OAAO;YACL,OAAO,EAAE,eAAe,CAAC,OAAO,IAAI,IAAI;YACxC,OAAO,EAAE,eAAe,CAAC,OAAO,IAAI,kCAAkC;YACtE,WAAW,EAAE,WAAW;SACzB,CAAC;IACJ,CAAC;IAED;;OAEG;IACH,MAAM,CAAC,2BAA2B,CAAC,eAAoB;QACrD,MAAM,OAAO,GAAG,eAAe,CAAC,OAAO,IAAI,EAAE,CAAC;QAC9C,OAAO;YACL,KAAK,EAAE,OAAO,CAAC,iBAAiB,IAAI,CAAC;YACrC,OAAO,EAAE,OAAO,CAAC,mBAAmB,IAAI,CAAC;YACzC,QAAQ,EAAE,OAAO,CAAC,oBAAoB,IAAI,CAAC;YAC3C,QAAQ,EAAE,OAAO,CAAC,oBAAoB,IAAI,CAAC;YAC3C,SAAS,EAAE,CAAC,EAAE,2DAA2D;SAC1E,CAAC;IACJ,CAAC;CACF;AAnDD,4DAmDC","names":[],"sources":["/home/wetooa/Documents/code/projects/mentara/mentara-api/src/admin/transformers/admin-response.transformer.ts"],"sourcesContent":["import {\n  type TherapistListResponse,\n  type TherapistApplicationDetailsResponse,\n  type TherapistActionResponse,\n  type TherapistApplicationMetricsResponse,\n} from '../types';\n\n/**\n * Transformation functions for Admin module responses\n * Converts service layer data to proper API response DTOs\n */\nexport class AdminResponseTransformer {\n  /**\n   * Transform service response to TherapistListResponse\n   */\n  static transformTherapistList(serviceResponse: any): TherapistListResponse {\n    return {\n      therapists: serviceResponse.applications || [],\n      total: serviceResponse.summary?.filtered || 0,\n      page: 1, // Default page since service doesn't provide pagination info\n      limit: serviceResponse.applications?.length || 50,\n    };\n  }\n\n  /**\n   * Transform service response to TherapistApplicationDetailsResponse\n   */\n  static transformApplicationDetails(serviceResponse: any): TherapistApplicationDetailsResponse {\n    const application = serviceResponse.application;\n    return {\n      id: application.userId || application.id,\n      status: application.status,\n      submittedAt: application.submissionDate?.toISOString() || application.createdAt?.toISOString(),\n      user: application.user,\n      application: application,\n    };\n  }\n\n  /**\n   * Transform service response to TherapistActionResponse\n   */\n  static transformActionResponse(serviceResponse: any, therapistId: string): TherapistActionResponse {\n    return {\n      success: serviceResponse.success || true,\n      message: serviceResponse.message || 'Operation completed successfully',\n      therapistId: therapistId,\n    };\n  }\n\n  /**\n   * Transform service response to TherapistApplicationMetricsResponse\n   */\n  static transformApplicationMetrics(serviceResponse: any): TherapistApplicationMetricsResponse {\n    const summary = serviceResponse.summary || {};\n    return {\n      total: summary.totalApplications || 0,\n      pending: summary.pendingApplications || 0,\n      approved: summary.approvedApplications || 0,\n      rejected: summary.rejectedApplications || 0,\n      suspended: 0, // Service doesn't provide suspended count, defaulting to 0\n    };\n  }\n}"],"version":3}