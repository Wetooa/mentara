{"file":"/home/wetooa/Documents/code/projects/mentara/mentara-api/src/meetings/meetings.controller.ts","mappings":"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","names":[],"sources":["/home/wetooa/Documents/code/projects/mentara/mentara-api/src/meetings/meetings.controller.ts"],"sourcesContent":["import {\n  Controller,\n  Get,\n  Post,\n  Put,\n  Delete,\n  Param,\n  Body,\n  UseGuards,\n  Query,\n  HttpCode,\n  HttpStatus,\n} from '@nestjs/common';\nimport { MeetingsService } from './meetings.service';\nimport { JwtAuthGuard } from '../auth/guards/jwt-auth.guard';\nimport { CurrentUserId } from '../auth/decorators/current-user-id.decorator';\nimport { ZodValidationPipe } from '../common/pipes/zod-validation.pipe';\nimport {\n  ApiTags,\n  ApiOperation,\n  ApiResponse,\n  ApiBody,\n  ApiBearerAuth,\n  ApiParam,\n  ApiQuery,\n} from '@nestjs/swagger';\nimport {\n  CreateVideoRoomDto,\n  CreateVideoRoomDtoSchema,\n  JoinVideoRoomDto,\n  JoinVideoRoomDtoSchema,\n  EndVideoCallDto,\n  EndVideoCallDtoSchema,\n  VideoRoomResponse,\n  VideoCallStatus,\n  UpdateMeetingStatusDto,\n  UpdateMeetingStatusDtoSchema,\n  SaveMeetingSessionDto,\n  SaveMeetingSessionDtoSchema,\n} from 'mentara-commons';\n\n@ApiTags('meetings')\n@ApiBearerAuth('JWT-auth')\n@Controller('meetings')\n@UseGuards(JwtAuthGuard)\nexport class MeetingsController {\n  constructor(private readonly meetingsService: MeetingsService) {}\n\n  @Get(':id')\n  @ApiOperation({\n    summary: 'Retrieve get meeting',\n\n    description: 'Retrieve get meeting',\n  })\n  @ApiResponse({\n    status: 200,\n\n    description: 'Retrieved successfully',\n  })\n  @ApiResponse({ status: 401, description: 'Unauthorized' })\n  async getMeeting(\n    @Param('id') meetingId: string,\n    @CurrentUserId() userId: string,\n  ) {\n    return this.meetingsService.getMeetingById(meetingId, userId);\n  }\n\n  @Put(':id/status')\n  @ApiOperation({\n    summary: 'Update update meeting status',\n\n    description: 'Update update meeting status',\n  })\n  @ApiResponse({\n    status: 200,\n\n    description: 'Updated successfully',\n  })\n  @ApiResponse({ status: 401, description: 'Unauthorized' })\n  @HttpCode(HttpStatus.OK)\n  async updateMeetingStatus(\n    @Param('id') meetingId: string,\n    @CurrentUserId() userId: string,\n    @Body(new ZodValidationPipe(UpdateMeetingStatusDtoSchema))\n    updateStatusDto: UpdateMeetingStatusDto,\n  ) {\n    return this.meetingsService.updateMeetingStatus(\n      meetingId,\n      userId,\n      updateStatusDto,\n    );\n  }\n\n  // ===== VIDEO CALL INTEGRATION ENDPOINTS =====\n\n  @Post(':id/video-room')\n  @ApiOperation({\n    summary: 'Create create video room',\n\n    description: 'Create create video room',\n  })\n  @ApiResponse({\n    status: 201,\n\n    description: 'Created successfully',\n  })\n  @ApiResponse({ status: 401, description: 'Unauthorized' })\n  @HttpCode(HttpStatus.CREATED)\n  async createVideoRoom(\n    @Param('id') meetingId: string,\n    @CurrentUserId() userId: string,\n    @Body(new ZodValidationPipe(CreateVideoRoomDtoSchema))\n    createRoomDto: CreateVideoRoomDto,\n  ): Promise<VideoRoomResponse> {\n    return this.meetingsService.createVideoRoom(\n      meetingId,\n      userId,\n      createRoomDto,\n    );\n  }\n\n  @Post(':id/join-video')\n  @ApiOperation({\n    summary: 'Create join video room',\n\n    description: 'Create join video room',\n  })\n  @ApiResponse({\n    status: 201,\n\n    description: 'Created successfully',\n  })\n  @ApiResponse({ status: 401, description: 'Unauthorized' })\n  @HttpCode(HttpStatus.OK)\n  async joinVideoRoom(\n    @Param('id') meetingId: string,\n    @CurrentUserId() userId: string,\n    @Body(new ZodValidationPipe(JoinVideoRoomDtoSchema))\n    joinRoomDto: JoinVideoRoomDto,\n  ): Promise<VideoRoomResponse> {\n    return this.meetingsService.joinVideoRoom(meetingId, userId, joinRoomDto);\n  }\n\n  @Get(':id/video-status')\n  @ApiOperation({\n    summary: 'Retrieve get video call status',\n\n    description: 'Retrieve get video call status',\n  })\n  @ApiResponse({\n    status: 200,\n\n    description: 'Retrieved successfully',\n  })\n  @ApiResponse({ status: 401, description: 'Unauthorized' })\n  @HttpCode(HttpStatus.OK)\n  async getVideoCallStatus(\n    @Param('id') meetingId: string,\n    @CurrentUserId() userId: string,\n  ): Promise<VideoCallStatus> {\n    return this.meetingsService.getVideoCallStatus(meetingId, userId);\n  }\n\n  @Delete(':id/video-room')\n  @ApiOperation({\n    summary: 'Delete end video call',\n\n    description: 'Delete end video call',\n  })\n  @ApiResponse({\n    status: 200,\n\n    description: 'Deleted successfully',\n  })\n  @ApiResponse({ status: 401, description: 'Unauthorized' })\n  @HttpCode(HttpStatus.NO_CONTENT)\n  async endVideoCall(\n    @Param('id') meetingId: string,\n    @CurrentUserId() userId: string,\n    @Body(new ZodValidationPipe(EndVideoCallDtoSchema))\n    endCallDto: EndVideoCallDto,\n  ): Promise<void> {\n    return this.meetingsService.endVideoCall(meetingId, userId, endCallDto);\n  }\n\n  // Legacy endpoint for backward compatibility\n  @Post(':id/room')\n  @ApiOperation({\n    summary: 'Create generate meeting room',\n\n    description: 'Create generate meeting room',\n  })\n  @ApiResponse({\n    status: 201,\n\n    description: 'Created successfully',\n  })\n  @ApiResponse({ status: 401, description: 'Unauthorized' })\n  async generateMeetingRoom(\n    @Param('id') meetingId: string,\n    @CurrentUserId() userId: string,\n  ) {\n    // Redirect to new video room creation with default settings\n    const defaultCreateDto: CreateVideoRoomDto = {\n      meetingId,\n      roomType: 'video',\n      maxParticipants: 2,\n      enableRecording: false,\n      enableChat: true,\n    };\n    return this.meetingsService.createVideoRoom(\n      meetingId,\n      userId,\n      defaultCreateDto,\n    );\n  }\n\n  @Get('upcoming')\n  @ApiOperation({\n    summary: 'Retrieve get upcoming meetings',\n\n    description: 'Retrieve get upcoming meetings',\n  })\n  @ApiResponse({\n    status: 200,\n\n    description: 'Retrieved successfully',\n  })\n  @ApiResponse({ status: 401, description: 'Unauthorized' })\n  async getUpcomingMeetings(\n    @CurrentUserId() userId: string,\n    @Query('limit') limit?: number,\n  ) {\n    return this.meetingsService.getUpcomingMeetings(userId, limit);\n  }\n\n  @Post(':id/session')\n  @ApiOperation({\n    summary: 'Create save meeting session',\n\n    description: 'Create save meeting session',\n  })\n  @ApiResponse({\n    status: 201,\n\n    description: 'Created successfully',\n  })\n  @ApiResponse({ status: 401, description: 'Unauthorized' })\n  @HttpCode(HttpStatus.CREATED)\n  async saveMeetingSession(\n    @Param('id') meetingId: string,\n    @CurrentUserId() userId: string,\n    @Body(new ZodValidationPipe(SaveMeetingSessionDtoSchema))\n    sessionData: SaveMeetingSessionDto,\n  ) {\n    // Validate user has access to this meeting\n    await this.meetingsService.getMeetingById(meetingId, userId);\n\n    return this.meetingsService.saveMeetingSession(\n      meetingId,\n      userId,\n      sessionData,\n    );\n  }\n\n  @Get('analytics/therapist')\n  @ApiOperation({\n    summary: 'Retrieve get therapist meeting analytics',\n\n    description: 'Retrieve get therapist meeting analytics',\n  })\n  @ApiResponse({\n    status: 200,\n\n    description: 'Retrieved successfully',\n  })\n  @ApiResponse({ status: 401, description: 'Unauthorized' })\n  async getTherapistMeetingAnalytics(\n    @CurrentUserId() userId: string,\n    @Query('startDate') startDate?: string,\n    @Query('endDate') endDate?: string,\n  ) {\n    const dateRange =\n      startDate && endDate\n        ? {\n            start: new Date(startDate),\n            end: new Date(endDate),\n          }\n        : undefined;\n\n    return this.meetingsService.getMeetingAnalytics(userId, dateRange);\n  }\n\n  @Post(':id/emergency-terminate')\n  @ApiOperation({\n    summary: 'Create emergency terminate',\n\n    description: 'Create emergency terminate',\n  })\n  @ApiResponse({\n    status: 201,\n\n    description: 'Created successfully',\n  })\n  @ApiResponse({ status: 401, description: 'Unauthorized' })\n  async emergencyTerminate(\n    @Param('id') meetingId: string,\n    @CurrentUserId() userId: string,\n    @Body() body: { reason: string },\n  ) {\n    return this.meetingsService.emergencyTerminateMeeting(\n      meetingId,\n      body.reason,\n      userId,\n    );\n  }\n}\n"],"version":3}