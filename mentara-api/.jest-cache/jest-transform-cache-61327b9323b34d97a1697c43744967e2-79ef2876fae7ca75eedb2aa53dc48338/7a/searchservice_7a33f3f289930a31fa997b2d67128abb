3f9b5ba9b44c395a4132d87b71d900a5
"use strict";

/* istanbul ignore next */
function cov_i1rgutrrs() {
  var path = "/home/wetooa/Documents/code/projects/mentara/mentara-api/src/search/search.service.ts";
  var hash = "8ef9b20f5fc61b5dd57e0869f91bd1ee12a0e74e";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/home/wetooa/Documents/code/projects/mentara/mentara-api/src/search/search.service.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 17
        },
        end: {
          line: 7,
          column: 1
        }
      },
      "1": {
        start: {
          line: 3,
          column: 12
        },
        end: {
          line: 3,
          column: 28
        }
      },
      "2": {
        start: {
          line: 3,
          column: 34
        },
        end: {
          line: 3,
          column: 125
        }
      },
      "3": {
        start: {
          line: 4,
          column: 4
        },
        end: {
          line: 5,
          column: 150
        }
      },
      "4": {
        start: {
          line: 4,
          column: 79
        },
        end: {
          line: 4,
          column: 131
        }
      },
      "5": {
        start: {
          line: 5,
          column: 9
        },
        end: {
          line: 5,
          column: 150
        }
      },
      "6": {
        start: {
          line: 5,
          column: 22
        },
        end: {
          line: 5,
          column: 43
        }
      },
      "7": {
        start: {
          line: 5,
          column: 58
        },
        end: {
          line: 5,
          column: 150
        }
      },
      "8": {
        start: {
          line: 5,
          column: 81
        },
        end: {
          line: 5,
          column: 150
        }
      },
      "9": {
        start: {
          line: 6,
          column: 4
        },
        end: {
          line: 6,
          column: 66
        }
      },
      "10": {
        start: {
          line: 8,
          column: 17
        },
        end: {
          line: 10,
          column: 1
        }
      },
      "11": {
        start: {
          line: 9,
          column: 4
        },
        end: {
          line: 9,
          column: 109
        }
      },
      "12": {
        start: {
          line: 9,
          column: 79
        },
        end: {
          line: 9,
          column: 109
        }
      },
      "13": {
        start: {
          line: 12,
          column: 0
        },
        end: {
          line: 12,
          column: 62
        }
      },
      "14": {
        start: {
          line: 13,
          column: 0
        },
        end: {
          line: 13,
          column: 31
        }
      },
      "15": {
        start: {
          line: 14,
          column: 17
        },
        end: {
          line: 14,
          column: 42
        }
      },
      "16": {
        start: {
          line: 15,
          column: 33
        },
        end: {
          line: 15,
          column: 79
        }
      },
      "17": {
        start: {
          line: 16,
          column: 20
        },
        end: {
          line: 213,
          column: 1
        }
      },
      "18": {
        start: {
          line: 19,
          column: 8
        },
        end: {
          line: 19,
          column: 29
        }
      },
      "19": {
        start: {
          line: 22,
          column: 8
        },
        end: {
          line: 76,
          column: 9
        }
      },
      "20": {
        start: {
          line: 23,
          column: 26
        },
        end: {
          line: 43,
          column: 13
        }
      },
      "21": {
        start: {
          line: 44,
          column: 12
        },
        end: {
          line: 57,
          column: 13
        }
      },
      "22": {
        start: {
          line: 45,
          column: 16
        },
        end: {
          line: 47,
          column: 17
        }
      },
      "23": {
        start: {
          line: 46,
          column: 20
        },
        end: {
          line: 46,
          column: 54
        }
      },
      "24": {
        start: {
          line: 48,
          column: 16
        },
        end: {
          line: 50,
          column: 17
        }
      },
      "25": {
        start: {
          line: 49,
          column: 20
        },
        end: {
          line: 49,
          column: 69
        }
      },
      "26": {
        start: {
          line: 51,
          column: 16
        },
        end: {
          line: 53,
          column: 17
        }
      },
      "27": {
        start: {
          line: 52,
          column: 20
        },
        end: {
          line: 52,
          column: 70
        }
      },
      "28": {
        start: {
          line: 54,
          column: 16
        },
        end: {
          line: 56,
          column: 17
        }
      },
      "29": {
        start: {
          line: 55,
          column: 20
        },
        end: {
          line: 55,
          column: 77
        }
      },
      "30": {
        start: {
          line: 58,
          column: 12
        },
        end: {
          line: 72,
          column: 15
        }
      },
      "31": {
        start: {
          line: 75,
          column: 12
        },
        end: {
          line: 75,
          column: 150
        }
      },
      "32": {
        start: {
          line: 79,
          column: 8
        },
        end: {
          line: 129,
          column: 9
        }
      },
      "33": {
        start: {
          line: 80,
          column: 26
        },
        end: {
          line: 86,
          column: 13
        }
      },
      "34": {
        start: {
          line: 87,
          column: 12
        },
        end: {
          line: 89,
          column: 13
        }
      },
      "35": {
        start: {
          line: 88,
          column: 16
        },
        end: {
          line: 88,
          column: 48
        }
      },
      "36": {
        start: {
          line: 90,
          column: 12
        },
        end: {
          line: 125,
          column: 15
        }
      },
      "37": {
        start: {
          line: 128,
          column: 12
        },
        end: {
          line: 128,
          column: 145
        }
      },
      "38": {
        start: {
          line: 132,
          column: 8
        },
        end: {
          line: 153,
          column: 9
        }
      },
      "39": {
        start: {
          line: 133,
          column: 12
        },
        end: {
          line: 149,
          column: 15
        }
      },
      "40": {
        start: {
          line: 152,
          column: 12
        },
        end: {
          line: 152,
          column: 151
        }
      },
      "41": {
        start: {
          line: 156,
          column: 8
        },
        end: {
          line: 184,
          column: 9
        }
      },
      "42": {
        start: {
          line: 157,
          column: 26
        },
        end: {
          line: 163,
          column: 13
        }
      },
      "43": {
        start: {
          line: 164,
          column: 12
        },
        end: {
          line: 166,
          column: 13
        }
      },
      "44": {
        start: {
          line: 165,
          column: 16
        },
        end: {
          line: 165,
          column: 34
        }
      },
      "45": {
        start: {
          line: 167,
          column: 12
        },
        end: {
          line: 180,
          column: 15
        }
      },
      "46": {
        start: {
          line: 183,
          column: 12
        },
        end: {
          line: 183,
          column: 145
        }
      },
      "47": {
        start: {
          line: 187,
          column: 8
        },
        end: {
          line: 211,
          column: 9
        }
      },
      "48": {
        start: {
          line: 188,
          column: 28
        },
        end: {
          line: 188,
          column: 30
        }
      },
      "49": {
        start: {
          line: 190,
          column: 31
        },
        end: {
          line: 194,
          column: 69
        }
      },
      "50": {
        start: {
          line: 195,
          column: 12
        },
        end: {
          line: 197,
          column: 13
        }
      },
      "51": {
        start: {
          line: 196,
          column: 16
        },
        end: {
          line: 196,
          column: 72
        }
      },
      "52": {
        start: {
          line: 198,
          column: 12
        },
        end: {
          line: 200,
          column: 13
        }
      },
      "53": {
        start: {
          line: 199,
          column: 16
        },
        end: {
          line: 199,
          column: 62
        }
      },
      "54": {
        start: {
          line: 201,
          column: 12
        },
        end: {
          line: 203,
          column: 13
        }
      },
      "55": {
        start: {
          line: 202,
          column: 16
        },
        end: {
          line: 202,
          column: 74
        }
      },
      "56": {
        start: {
          line: 204,
          column: 12
        },
        end: {
          line: 206,
          column: 13
        }
      },
      "57": {
        start: {
          line: 205,
          column: 16
        },
        end: {
          line: 205,
          column: 62
        }
      },
      "58": {
        start: {
          line: 207,
          column: 12
        },
        end: {
          line: 207,
          column: 27
        }
      },
      "59": {
        start: {
          line: 210,
          column: 12
        },
        end: {
          line: 210,
          column: 154
        }
      },
      "60": {
        start: {
          line: 214,
          column: 0
        },
        end: {
          line: 214,
          column: 38
        }
      },
      "61": {
        start: {
          line: 215,
          column: 0
        },
        end: {
          line: 218,
          column: 18
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 2,
            column: 46
          },
          end: {
            line: 2,
            column: 47
          }
        },
        loc: {
          start: {
            line: 2,
            column: 87
          },
          end: {
            line: 7,
            column: 1
          }
        },
        line: 2
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 8,
            column: 46
          },
          end: {
            line: 8,
            column: 47
          }
        },
        loc: {
          start: {
            line: 8,
            column: 62
          },
          end: {
            line: 10,
            column: 1
          }
        },
        line: 8
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 18,
            column: 4
          },
          end: {
            line: 18,
            column: 5
          }
        },
        loc: {
          start: {
            line: 18,
            column: 24
          },
          end: {
            line: 20,
            column: 5
          }
        },
        line: 18
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 21,
            column: 4
          },
          end: {
            line: 21,
            column: 5
          }
        },
        loc: {
          start: {
            line: 21,
            column: 43
          },
          end: {
            line: 77,
            column: 5
          }
        },
        line: 21
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 78,
            column: 4
          },
          end: {
            line: 78,
            column: 5
          }
        },
        loc: {
          start: {
            line: 78,
            column: 42
          },
          end: {
            line: 130,
            column: 5
          }
        },
        line: 78
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 131,
            column: 4
          },
          end: {
            line: 131,
            column: 5
          }
        },
        loc: {
          start: {
            line: 131,
            column: 35
          },
          end: {
            line: 154,
            column: 5
          }
        },
        line: 131
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 155,
            column: 4
          },
          end: {
            line: 155,
            column: 5
          }
        },
        loc: {
          start: {
            line: 155,
            column: 35
          },
          end: {
            line: 185,
            column: 5
          }
        },
        line: 155
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 186,
            column: 4
          },
          end: {
            line: 186,
            column: 5
          }
        },
        loc: {
          start: {
            line: 186,
            column: 37
          },
          end: {
            line: 212,
            column: 5
          }
        },
        line: 186
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 2,
            column: 17
          },
          end: {
            line: 7,
            column: 1
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 2,
            column: 18
          },
          end: {
            line: 2,
            column: 22
          }
        }, {
          start: {
            line: 2,
            column: 26
          },
          end: {
            line: 2,
            column: 41
          }
        }, {
          start: {
            line: 2,
            column: 46
          },
          end: {
            line: 7,
            column: 1
          }
        }],
        line: 2
      },
      "1": {
        loc: {
          start: {
            line: 3,
            column: 34
          },
          end: {
            line: 3,
            column: 125
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 3,
            column: 42
          },
          end: {
            line: 3,
            column: 48
          }
        }, {
          start: {
            line: 3,
            column: 51
          },
          end: {
            line: 3,
            column: 125
          }
        }],
        line: 3
      },
      "2": {
        loc: {
          start: {
            line: 3,
            column: 51
          },
          end: {
            line: 3,
            column: 125
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 3,
            column: 67
          },
          end: {
            line: 3,
            column: 118
          }
        }, {
          start: {
            line: 3,
            column: 121
          },
          end: {
            line: 3,
            column: 125
          }
        }],
        line: 3
      },
      "3": {
        loc: {
          start: {
            line: 4,
            column: 4
          },
          end: {
            line: 5,
            column: 150
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 4,
            column: 4
          },
          end: {
            line: 5,
            column: 150
          }
        }, {
          start: {
            line: 5,
            column: 9
          },
          end: {
            line: 5,
            column: 150
          }
        }],
        line: 4
      },
      "4": {
        loc: {
          start: {
            line: 4,
            column: 8
          },
          end: {
            line: 4,
            column: 77
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 4,
            column: 8
          },
          end: {
            line: 4,
            column: 35
          }
        }, {
          start: {
            line: 4,
            column: 39
          },
          end: {
            line: 4,
            column: 77
          }
        }],
        line: 4
      },
      "5": {
        loc: {
          start: {
            line: 5,
            column: 58
          },
          end: {
            line: 5,
            column: 150
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 5,
            column: 58
          },
          end: {
            line: 5,
            column: 150
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 5
      },
      "6": {
        loc: {
          start: {
            line: 5,
            column: 85
          },
          end: {
            line: 5,
            column: 149
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 5,
            column: 86
          },
          end: {
            line: 5,
            column: 143
          }
        }, {
          start: {
            line: 5,
            column: 148
          },
          end: {
            line: 5,
            column: 149
          }
        }],
        line: 5
      },
      "7": {
        loc: {
          start: {
            line: 5,
            column: 86
          },
          end: {
            line: 5,
            column: 143
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 5,
            column: 94
          },
          end: {
            line: 5,
            column: 98
          }
        }, {
          start: {
            line: 5,
            column: 101
          },
          end: {
            line: 5,
            column: 143
          }
        }],
        line: 5
      },
      "8": {
        loc: {
          start: {
            line: 5,
            column: 101
          },
          end: {
            line: 5,
            column: 143
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 5,
            column: 109
          },
          end: {
            line: 5,
            column: 126
          }
        }, {
          start: {
            line: 5,
            column: 129
          },
          end: {
            line: 5,
            column: 143
          }
        }],
        line: 5
      },
      "9": {
        loc: {
          start: {
            line: 6,
            column: 11
          },
          end: {
            line: 6,
            column: 62
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 6,
            column: 11
          },
          end: {
            line: 6,
            column: 16
          }
        }, {
          start: {
            line: 6,
            column: 20
          },
          end: {
            line: 6,
            column: 21
          }
        }, {
          start: {
            line: 6,
            column: 25
          },
          end: {
            line: 6,
            column: 62
          }
        }],
        line: 6
      },
      "10": {
        loc: {
          start: {
            line: 8,
            column: 17
          },
          end: {
            line: 10,
            column: 1
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 8,
            column: 18
          },
          end: {
            line: 8,
            column: 22
          }
        }, {
          start: {
            line: 8,
            column: 26
          },
          end: {
            line: 8,
            column: 41
          }
        }, {
          start: {
            line: 8,
            column: 46
          },
          end: {
            line: 10,
            column: 1
          }
        }],
        line: 8
      },
      "11": {
        loc: {
          start: {
            line: 9,
            column: 4
          },
          end: {
            line: 9,
            column: 109
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 9,
            column: 4
          },
          end: {
            line: 9,
            column: 109
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 9
      },
      "12": {
        loc: {
          start: {
            line: 9,
            column: 8
          },
          end: {
            line: 9,
            column: 77
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 9,
            column: 8
          },
          end: {
            line: 9,
            column: 35
          }
        }, {
          start: {
            line: 9,
            column: 39
          },
          end: {
            line: 9,
            column: 77
          }
        }],
        line: 9
      },
      "13": {
        loc: {
          start: {
            line: 44,
            column: 12
          },
          end: {
            line: 57,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 44,
            column: 12
          },
          end: {
            line: 57,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 44
      },
      "14": {
        loc: {
          start: {
            line: 45,
            column: 16
          },
          end: {
            line: 47,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 45,
            column: 16
          },
          end: {
            line: 47,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 45
      },
      "15": {
        loc: {
          start: {
            line: 48,
            column: 16
          },
          end: {
            line: 50,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 48,
            column: 16
          },
          end: {
            line: 50,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 48
      },
      "16": {
        loc: {
          start: {
            line: 48,
            column: 20
          },
          end: {
            line: 48,
            column: 69
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 48,
            column: 20
          },
          end: {
            line: 48,
            column: 37
          }
        }, {
          start: {
            line: 48,
            column: 41
          },
          end: {
            line: 48,
            column: 69
          }
        }],
        line: 48
      },
      "17": {
        loc: {
          start: {
            line: 51,
            column: 16
          },
          end: {
            line: 53,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 51,
            column: 16
          },
          end: {
            line: 53,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 51
      },
      "18": {
        loc: {
          start: {
            line: 54,
            column: 16
          },
          end: {
            line: 56,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 54,
            column: 16
          },
          end: {
            line: 56,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 54
      },
      "19": {
        loc: {
          start: {
            line: 75,
            column: 92
          },
          end: {
            line: 75,
            column: 146
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 75,
            column: 117
          },
          end: {
            line: 75,
            column: 130
          }
        }, {
          start: {
            line: 75,
            column: 133
          },
          end: {
            line: 75,
            column: 146
          }
        }],
        line: 75
      },
      "20": {
        loc: {
          start: {
            line: 87,
            column: 12
          },
          end: {
            line: 89,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 87,
            column: 12
          },
          end: {
            line: 89,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 87
      },
      "21": {
        loc: {
          start: {
            line: 128,
            column: 87
          },
          end: {
            line: 128,
            column: 141
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 128,
            column: 112
          },
          end: {
            line: 128,
            column: 125
          }
        }, {
          start: {
            line: 128,
            column: 128
          },
          end: {
            line: 128,
            column: 141
          }
        }],
        line: 128
      },
      "22": {
        loc: {
          start: {
            line: 152,
            column: 93
          },
          end: {
            line: 152,
            column: 147
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 152,
            column: 118
          },
          end: {
            line: 152,
            column: 131
          }
        }, {
          start: {
            line: 152,
            column: 134
          },
          end: {
            line: 152,
            column: 147
          }
        }],
        line: 152
      },
      "23": {
        loc: {
          start: {
            line: 164,
            column: 12
          },
          end: {
            line: 166,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 164,
            column: 12
          },
          end: {
            line: 166,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 164
      },
      "24": {
        loc: {
          start: {
            line: 183,
            column: 87
          },
          end: {
            line: 183,
            column: 141
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 183,
            column: 112
          },
          end: {
            line: 183,
            column: 125
          }
        }, {
          start: {
            line: 183,
            column: 128
          },
          end: {
            line: 183,
            column: 141
          }
        }],
        line: 183
      },
      "25": {
        loc: {
          start: {
            line: 190,
            column: 31
          },
          end: {
            line: 194,
            column: 69
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 191,
            column: 18
          },
          end: {
            line: 191,
            column: 23
          }
        }, {
          start: {
            line: 192,
            column: 18
          },
          end: {
            line: 194,
            column: 69
          }
        }],
        line: 190
      },
      "26": {
        loc: {
          start: {
            line: 192,
            column: 18
          },
          end: {
            line: 194,
            column: 69
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 193,
            column: 22
          },
          end: {
            line: 193,
            column: 29
          }
        }, {
          start: {
            line: 194,
            column: 22
          },
          end: {
            line: 194,
            column: 69
          }
        }],
        line: 192
      },
      "27": {
        loc: {
          start: {
            line: 195,
            column: 12
          },
          end: {
            line: 197,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 195,
            column: 12
          },
          end: {
            line: 197,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 195
      },
      "28": {
        loc: {
          start: {
            line: 198,
            column: 12
          },
          end: {
            line: 200,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 198,
            column: 12
          },
          end: {
            line: 200,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 198
      },
      "29": {
        loc: {
          start: {
            line: 201,
            column: 12
          },
          end: {
            line: 203,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 201,
            column: 12
          },
          end: {
            line: 203,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 201
      },
      "30": {
        loc: {
          start: {
            line: 204,
            column: 12
          },
          end: {
            line: 206,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 204,
            column: 12
          },
          end: {
            line: 206,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 204
      },
      "31": {
        loc: {
          start: {
            line: 210,
            column: 96
          },
          end: {
            line: 210,
            column: 150
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 210,
            column: 121
          },
          end: {
            line: 210,
            column: 134
          }
        }, {
          start: {
            line: 210,
            column: 137
          },
          end: {
            line: 210,
            column: 150
          }
        }],
        line: 210
      },
      "32": {
        loc: {
          start: {
            line: 217,
            column: 37
          },
          end: {
            line: 217,
            column: 183
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 217,
            column: 172
          },
          end: {
            line: 217,
            column: 174
          }
        }, {
          start: {
            line: 217,
            column: 177
          },
          end: {
            line: 217,
            column: 183
          }
        }],
        line: 217
      },
      "33": {
        loc: {
          start: {
            line: 217,
            column: 50
          },
          end: {
            line: 217,
            column: 153
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 217,
            column: 50
          },
          end: {
            line: 217,
            column: 111
          }
        }, {
          start: {
            line: 217,
            column: 115
          },
          end: {
            line: 217,
            column: 153
          }
        }],
        line: 217
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0
    },
    b: {
      "0": [0, 0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0, 0],
      "10": [0, 0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0],
      "16": [0, 0],
      "17": [0, 0],
      "18": [0, 0],
      "19": [0, 0],
      "20": [0, 0],
      "21": [0, 0],
      "22": [0, 0],
      "23": [0, 0],
      "24": [0, 0],
      "25": [0, 0],
      "26": [0, 0],
      "27": [0, 0],
      "28": [0, 0],
      "29": [0, 0],
      "30": [0, 0],
      "31": [0, 0],
      "32": [0, 0],
      "33": [0, 0]
    },
    inputSourceMap: {
      file: "/home/wetooa/Documents/code/projects/mentara/mentara-api/src/search/search.service.ts",
      mappings: "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",
      names: [],
      sources: ["/home/wetooa/Documents/code/projects/mentara/mentara-api/src/search/search.service.ts"],
      sourcesContent: ["import { Injectable, InternalServerErrorException } from '@nestjs/common';\nimport { PrismaService } from '../providers/prisma-client.provider';\n\n@Injectable()\nexport class SearchService {\n  constructor(private readonly prisma: PrismaService) {}\n\n  async searchTherapists(\n    query: string,\n    filters?: {\n      province?: string;\n      location?: string;\n      expertise?: string[];\n      specialties?: string[];\n      maxHourlyRate?: number;\n      minExperience?: number;\n      experienceYears?: number;\n      rating?: number;\n      gender?: string;\n      languages?: string[];\n      availability?: any;\n      verifiedOnly?: boolean;\n      priceRange?: { min?: number; max?: number };\n    },\n  ) {\n    try {\n      const where: any = {\n        status: 'approved',\n        OR: [\n          {\n            user: {\n              firstName: { contains: query, mode: 'insensitive' },\n            },\n          },\n          {\n            user: {\n              lastName: { contains: query, mode: 'insensitive' },\n            },\n          },\n          {\n            bio: { contains: query, mode: 'insensitive' },\n          },\n          {\n            expertise: { hasSome: [query] },\n          },\n        ],\n      };\n\n      if (filters) {\n        if (filters.province) {\n          where.province = filters.province;\n        }\n        if (filters.expertise && filters.expertise.length > 0) {\n          where.expertise = { hasSome: filters.expertise };\n        }\n        if (filters.maxHourlyRate) {\n          where.hourlyRate = { lte: filters.maxHourlyRate };\n        }\n        if (filters.minExperience) {\n          where.yearsOfExperience = { gte: filters.minExperience };\n        }\n      }\n\n      return this.prisma.therapist.findMany({\n        where,\n        include: {\n          user: {\n            select: {\n              id: true,\n              firstName: true,\n              lastName: true,\n              avatarUrl: true,\n            },\n          },\n        },\n        orderBy: { createdAt: 'desc' },\n        take: 20,\n      });\n    } catch (error) {\n      throw new InternalServerErrorException(\n        `Failed to search therapists: ${error instanceof Error ? error.message : String(error)}`,\n      );\n    }\n  }\n\n  async searchPosts(query: string, communityId?: string) {\n    try {\n      const where: any = {\n        OR: [\n          { title: { contains: query, mode: 'insensitive' } },\n          { content: { contains: query, mode: 'insensitive' } },\n          { tags: { hasSome: [query] } },\n        ],\n      };\n\n      if (communityId) {\n        where.communityId = communityId;\n      }\n\n      return this.prisma.post.findMany({\n        where,\n        include: {\n          user: {\n            select: {\n              id: true,\n              firstName: true,\n              lastName: true,\n              avatarUrl: true,\n            },\n          },\n          room: {\n            include: {\n              roomGroup: {\n                include: {\n                  community: {\n                    select: {\n                      id: true,\n                      name: true,\n                      slug: true,\n                    },\n                  },\n                },\n              },\n            },\n          },\n          _count: {\n            select: {\n              hearts: true,\n              comments: true,\n            },\n          },\n        },\n        orderBy: { createdAt: 'desc' },\n        take: 20,\n      });\n    } catch (error) {\n      throw new InternalServerErrorException(\n        `Failed to search posts: ${error instanceof Error ? error.message : String(error)}`,\n      );\n    }\n  }\n\n  async searchCommunities(query: string) {\n    try {\n      return this.prisma.community.findMany({\n        where: {\n          OR: [\n            { name: { contains: query, mode: 'insensitive' } },\n            { description: { contains: query, mode: 'insensitive' } },\n          ],\n        },\n        include: {\n          _count: {\n            select: {\n              memberships: true,\n            },\n          },\n        },\n        orderBy: { createdAt: 'desc' },\n        take: 20,\n      });\n    } catch (error) {\n      throw new InternalServerErrorException(\n        `Failed to search communities: ${error instanceof Error ? error.message : String(error)}`,\n      );\n    }\n  }\n\n  async searchUsers(query: string, role?: string) {\n    try {\n      const where: any = {\n        OR: [\n          { firstName: { contains: query, mode: 'insensitive' } },\n          { lastName: { contains: query, mode: 'insensitive' } },\n          { email: { contains: query, mode: 'insensitive' } },\n        ],\n      };\n\n      if (role) {\n        where.role = role;\n      }\n\n      return this.prisma.user.findMany({\n        where,\n        select: {\n          id: true,\n          firstName: true,\n          lastName: true,\n          email: true,\n          avatarUrl: true,\n          role: true,\n          createdAt: true,\n        },\n        orderBy: { createdAt: 'desc' },\n        take: 20,\n      });\n    } catch (error) {\n      throw new InternalServerErrorException(\n        `Failed to search users: ${error instanceof Error ? error.message : String(error)}`,\n      );\n    }\n  }\n\n  async globalSearch(\n    query: string,\n    types?:\n      | ('therapists' | 'posts' | 'communities' | 'users')[]\n      | 'therapists'\n      | 'posts'\n      | 'communities'\n      | 'users',\n  ) {\n    try {\n      const results: any = {};\n\n      // Handle both single type and array of types\n      const typesArray = Array.isArray(types)\n        ? types\n        : types\n          ? [types]\n          : ['therapists', 'posts', 'communities', 'users'];\n\n      if (typesArray.includes('therapists')) {\n        results.therapists = await this.searchTherapists(query);\n      }\n\n      if (typesArray.includes('posts')) {\n        results.posts = await this.searchPosts(query);\n      }\n\n      if (typesArray.includes('communities')) {\n        results.communities = await this.searchCommunities(query);\n      }\n\n      if (typesArray.includes('users')) {\n        results.users = await this.searchUsers(query);\n      }\n\n      return results;\n    } catch (error) {\n      throw new InternalServerErrorException(\n        `Failed to perform global search: ${error instanceof Error ? error.message : String(error)}`,\n      );\n    }\n  }\n}\n"],
      version: 3
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "8ef9b20f5fc61b5dd57e0869f91bd1ee12a0e74e"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_i1rgutrrs = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_i1rgutrrs();
var __decorate =
/* istanbul ignore next */
(cov_i1rgutrrs().s[0]++,
/* istanbul ignore next */
(cov_i1rgutrrs().b[0][0]++, this) &&
/* istanbul ignore next */
(cov_i1rgutrrs().b[0][1]++, this.__decorate) ||
/* istanbul ignore next */
(cov_i1rgutrrs().b[0][2]++, function (decorators, target, key, desc) {
  /* istanbul ignore next */
  cov_i1rgutrrs().f[0]++;
  var c =
    /* istanbul ignore next */
    (cov_i1rgutrrs().s[1]++, arguments.length),
    r =
    /* istanbul ignore next */
    (cov_i1rgutrrs().s[2]++, c < 3 ?
    /* istanbul ignore next */
    (cov_i1rgutrrs().b[1][0]++, target) :
    /* istanbul ignore next */
    (cov_i1rgutrrs().b[1][1]++, desc === null ?
    /* istanbul ignore next */
    (cov_i1rgutrrs().b[2][0]++, desc = Object.getOwnPropertyDescriptor(target, key)) :
    /* istanbul ignore next */
    (cov_i1rgutrrs().b[2][1]++, desc))),
    d;
  /* istanbul ignore next */
  cov_i1rgutrrs().s[3]++;
  if (
  /* istanbul ignore next */
  (cov_i1rgutrrs().b[4][0]++, typeof Reflect === "object") &&
  /* istanbul ignore next */
  (cov_i1rgutrrs().b[4][1]++, typeof Reflect.decorate === "function")) {
    /* istanbul ignore next */
    cov_i1rgutrrs().b[3][0]++;
    cov_i1rgutrrs().s[4]++;
    r = Reflect.decorate(decorators, target, key, desc);
  } else {
    /* istanbul ignore next */
    cov_i1rgutrrs().b[3][1]++;
    cov_i1rgutrrs().s[5]++;
    for (var i =
    /* istanbul ignore next */
    (cov_i1rgutrrs().s[6]++, decorators.length - 1); i >= 0; i--) {
      /* istanbul ignore next */
      cov_i1rgutrrs().s[7]++;
      if (d = decorators[i]) {
        /* istanbul ignore next */
        cov_i1rgutrrs().b[5][0]++;
        cov_i1rgutrrs().s[8]++;
        r =
        /* istanbul ignore next */
        (cov_i1rgutrrs().b[6][0]++, c < 3 ?
        /* istanbul ignore next */
        (cov_i1rgutrrs().b[7][0]++, d(r)) :
        /* istanbul ignore next */
        (cov_i1rgutrrs().b[7][1]++, c > 3 ?
        /* istanbul ignore next */
        (cov_i1rgutrrs().b[8][0]++, d(target, key, r)) :
        /* istanbul ignore next */
        (cov_i1rgutrrs().b[8][1]++, d(target, key)))) ||
        /* istanbul ignore next */
        (cov_i1rgutrrs().b[6][1]++, r);
      } else
      /* istanbul ignore next */
      {
        cov_i1rgutrrs().b[5][1]++;
      }
    }
  }
  /* istanbul ignore next */
  cov_i1rgutrrs().s[9]++;
  return /* istanbul ignore next */(cov_i1rgutrrs().b[9][0]++, c > 3) &&
  /* istanbul ignore next */
  (cov_i1rgutrrs().b[9][1]++, r) &&
  /* istanbul ignore next */
  (cov_i1rgutrrs().b[9][2]++, Object.defineProperty(target, key, r)), r;
}));
var __metadata =
/* istanbul ignore next */
(cov_i1rgutrrs().s[10]++,
/* istanbul ignore next */
(cov_i1rgutrrs().b[10][0]++, this) &&
/* istanbul ignore next */
(cov_i1rgutrrs().b[10][1]++, this.__metadata) ||
/* istanbul ignore next */
(cov_i1rgutrrs().b[10][2]++, function (k, v) {
  /* istanbul ignore next */
  cov_i1rgutrrs().f[1]++;
  cov_i1rgutrrs().s[11]++;
  if (
  /* istanbul ignore next */
  (cov_i1rgutrrs().b[12][0]++, typeof Reflect === "object") &&
  /* istanbul ignore next */
  (cov_i1rgutrrs().b[12][1]++, typeof Reflect.metadata === "function")) {
    /* istanbul ignore next */
    cov_i1rgutrrs().b[11][0]++;
    cov_i1rgutrrs().s[12]++;
    return Reflect.metadata(k, v);
  } else
  /* istanbul ignore next */
  {
    cov_i1rgutrrs().b[11][1]++;
  }
}));
var _a;
/* istanbul ignore next */
cov_i1rgutrrs().s[13]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
/* istanbul ignore next */
cov_i1rgutrrs().s[14]++;
exports.SearchService = void 0;
const common_1 =
/* istanbul ignore next */
(cov_i1rgutrrs().s[15]++, require("@nestjs/common"));
const prisma_client_provider_1 =
/* istanbul ignore next */
(cov_i1rgutrrs().s[16]++, require("../providers/prisma-client.provider"));
/* istanbul ignore next */
cov_i1rgutrrs().s[17]++;
let SearchService = class SearchService {
  prisma;
  constructor(prisma) {
    /* istanbul ignore next */
    cov_i1rgutrrs().f[2]++;
    cov_i1rgutrrs().s[18]++;
    this.prisma = prisma;
  }
  async searchTherapists(query, filters) {
    /* istanbul ignore next */
    cov_i1rgutrrs().f[3]++;
    cov_i1rgutrrs().s[19]++;
    try {
      const where =
      /* istanbul ignore next */
      (cov_i1rgutrrs().s[20]++, {
        status: 'approved',
        OR: [{
          user: {
            firstName: {
              contains: query,
              mode: 'insensitive'
            }
          }
        }, {
          user: {
            lastName: {
              contains: query,
              mode: 'insensitive'
            }
          }
        }, {
          bio: {
            contains: query,
            mode: 'insensitive'
          }
        }, {
          expertise: {
            hasSome: [query]
          }
        }]
      });
      /* istanbul ignore next */
      cov_i1rgutrrs().s[21]++;
      if (filters) {
        /* istanbul ignore next */
        cov_i1rgutrrs().b[13][0]++;
        cov_i1rgutrrs().s[22]++;
        if (filters.province) {
          /* istanbul ignore next */
          cov_i1rgutrrs().b[14][0]++;
          cov_i1rgutrrs().s[23]++;
          where.province = filters.province;
        } else
        /* istanbul ignore next */
        {
          cov_i1rgutrrs().b[14][1]++;
        }
        cov_i1rgutrrs().s[24]++;
        if (
        /* istanbul ignore next */
        (cov_i1rgutrrs().b[16][0]++, filters.expertise) &&
        /* istanbul ignore next */
        (cov_i1rgutrrs().b[16][1]++, filters.expertise.length > 0)) {
          /* istanbul ignore next */
          cov_i1rgutrrs().b[15][0]++;
          cov_i1rgutrrs().s[25]++;
          where.expertise = {
            hasSome: filters.expertise
          };
        } else
        /* istanbul ignore next */
        {
          cov_i1rgutrrs().b[15][1]++;
        }
        cov_i1rgutrrs().s[26]++;
        if (filters.maxHourlyRate) {
          /* istanbul ignore next */
          cov_i1rgutrrs().b[17][0]++;
          cov_i1rgutrrs().s[27]++;
          where.hourlyRate = {
            lte: filters.maxHourlyRate
          };
        } else
        /* istanbul ignore next */
        {
          cov_i1rgutrrs().b[17][1]++;
        }
        cov_i1rgutrrs().s[28]++;
        if (filters.minExperience) {
          /* istanbul ignore next */
          cov_i1rgutrrs().b[18][0]++;
          cov_i1rgutrrs().s[29]++;
          where.yearsOfExperience = {
            gte: filters.minExperience
          };
        } else
        /* istanbul ignore next */
        {
          cov_i1rgutrrs().b[18][1]++;
        }
      } else
      /* istanbul ignore next */
      {
        cov_i1rgutrrs().b[13][1]++;
      }
      cov_i1rgutrrs().s[30]++;
      return this.prisma.therapist.findMany({
        where,
        include: {
          user: {
            select: {
              id: true,
              firstName: true,
              lastName: true,
              avatarUrl: true
            }
          }
        },
        orderBy: {
          createdAt: 'desc'
        },
        take: 20
      });
    } catch (error) {
      /* istanbul ignore next */
      cov_i1rgutrrs().s[31]++;
      throw new common_1.InternalServerErrorException(`Failed to search therapists: ${error instanceof Error ?
      /* istanbul ignore next */
      (cov_i1rgutrrs().b[19][0]++, error.message) :
      /* istanbul ignore next */
      (cov_i1rgutrrs().b[19][1]++, String(error))}`);
    }
  }
  async searchPosts(query, communityId) {
    /* istanbul ignore next */
    cov_i1rgutrrs().f[4]++;
    cov_i1rgutrrs().s[32]++;
    try {
      const where =
      /* istanbul ignore next */
      (cov_i1rgutrrs().s[33]++, {
        OR: [{
          title: {
            contains: query,
            mode: 'insensitive'
          }
        }, {
          content: {
            contains: query,
            mode: 'insensitive'
          }
        }, {
          tags: {
            hasSome: [query]
          }
        }]
      });
      /* istanbul ignore next */
      cov_i1rgutrrs().s[34]++;
      if (communityId) {
        /* istanbul ignore next */
        cov_i1rgutrrs().b[20][0]++;
        cov_i1rgutrrs().s[35]++;
        where.communityId = communityId;
      } else
      /* istanbul ignore next */
      {
        cov_i1rgutrrs().b[20][1]++;
      }
      cov_i1rgutrrs().s[36]++;
      return this.prisma.post.findMany({
        where,
        include: {
          user: {
            select: {
              id: true,
              firstName: true,
              lastName: true,
              avatarUrl: true
            }
          },
          room: {
            include: {
              roomGroup: {
                include: {
                  community: {
                    select: {
                      id: true,
                      name: true,
                      slug: true
                    }
                  }
                }
              }
            }
          },
          _count: {
            select: {
              hearts: true,
              comments: true
            }
          }
        },
        orderBy: {
          createdAt: 'desc'
        },
        take: 20
      });
    } catch (error) {
      /* istanbul ignore next */
      cov_i1rgutrrs().s[37]++;
      throw new common_1.InternalServerErrorException(`Failed to search posts: ${error instanceof Error ?
      /* istanbul ignore next */
      (cov_i1rgutrrs().b[21][0]++, error.message) :
      /* istanbul ignore next */
      (cov_i1rgutrrs().b[21][1]++, String(error))}`);
    }
  }
  async searchCommunities(query) {
    /* istanbul ignore next */
    cov_i1rgutrrs().f[5]++;
    cov_i1rgutrrs().s[38]++;
    try {
      /* istanbul ignore next */
      cov_i1rgutrrs().s[39]++;
      return this.prisma.community.findMany({
        where: {
          OR: [{
            name: {
              contains: query,
              mode: 'insensitive'
            }
          }, {
            description: {
              contains: query,
              mode: 'insensitive'
            }
          }]
        },
        include: {
          _count: {
            select: {
              memberships: true
            }
          }
        },
        orderBy: {
          createdAt: 'desc'
        },
        take: 20
      });
    } catch (error) {
      /* istanbul ignore next */
      cov_i1rgutrrs().s[40]++;
      throw new common_1.InternalServerErrorException(`Failed to search communities: ${error instanceof Error ?
      /* istanbul ignore next */
      (cov_i1rgutrrs().b[22][0]++, error.message) :
      /* istanbul ignore next */
      (cov_i1rgutrrs().b[22][1]++, String(error))}`);
    }
  }
  async searchUsers(query, role) {
    /* istanbul ignore next */
    cov_i1rgutrrs().f[6]++;
    cov_i1rgutrrs().s[41]++;
    try {
      const where =
      /* istanbul ignore next */
      (cov_i1rgutrrs().s[42]++, {
        OR: [{
          firstName: {
            contains: query,
            mode: 'insensitive'
          }
        }, {
          lastName: {
            contains: query,
            mode: 'insensitive'
          }
        }, {
          email: {
            contains: query,
            mode: 'insensitive'
          }
        }]
      });
      /* istanbul ignore next */
      cov_i1rgutrrs().s[43]++;
      if (role) {
        /* istanbul ignore next */
        cov_i1rgutrrs().b[23][0]++;
        cov_i1rgutrrs().s[44]++;
        where.role = role;
      } else
      /* istanbul ignore next */
      {
        cov_i1rgutrrs().b[23][1]++;
      }
      cov_i1rgutrrs().s[45]++;
      return this.prisma.user.findMany({
        where,
        select: {
          id: true,
          firstName: true,
          lastName: true,
          email: true,
          avatarUrl: true,
          role: true,
          createdAt: true
        },
        orderBy: {
          createdAt: 'desc'
        },
        take: 20
      });
    } catch (error) {
      /* istanbul ignore next */
      cov_i1rgutrrs().s[46]++;
      throw new common_1.InternalServerErrorException(`Failed to search users: ${error instanceof Error ?
      /* istanbul ignore next */
      (cov_i1rgutrrs().b[24][0]++, error.message) :
      /* istanbul ignore next */
      (cov_i1rgutrrs().b[24][1]++, String(error))}`);
    }
  }
  async globalSearch(query, types) {
    /* istanbul ignore next */
    cov_i1rgutrrs().f[7]++;
    cov_i1rgutrrs().s[47]++;
    try {
      const results =
      /* istanbul ignore next */
      (cov_i1rgutrrs().s[48]++, {});
      // Handle both single type and array of types
      const typesArray =
      /* istanbul ignore next */
      (cov_i1rgutrrs().s[49]++, Array.isArray(types) ?
      /* istanbul ignore next */
      (cov_i1rgutrrs().b[25][0]++, types) :
      /* istanbul ignore next */
      (cov_i1rgutrrs().b[25][1]++, types ?
      /* istanbul ignore next */
      (cov_i1rgutrrs().b[26][0]++, [types]) :
      /* istanbul ignore next */
      (cov_i1rgutrrs().b[26][1]++, ['therapists', 'posts', 'communities', 'users'])));
      /* istanbul ignore next */
      cov_i1rgutrrs().s[50]++;
      if (typesArray.includes('therapists')) {
        /* istanbul ignore next */
        cov_i1rgutrrs().b[27][0]++;
        cov_i1rgutrrs().s[51]++;
        results.therapists = await this.searchTherapists(query);
      } else
      /* istanbul ignore next */
      {
        cov_i1rgutrrs().b[27][1]++;
      }
      cov_i1rgutrrs().s[52]++;
      if (typesArray.includes('posts')) {
        /* istanbul ignore next */
        cov_i1rgutrrs().b[28][0]++;
        cov_i1rgutrrs().s[53]++;
        results.posts = await this.searchPosts(query);
      } else
      /* istanbul ignore next */
      {
        cov_i1rgutrrs().b[28][1]++;
      }
      cov_i1rgutrrs().s[54]++;
      if (typesArray.includes('communities')) {
        /* istanbul ignore next */
        cov_i1rgutrrs().b[29][0]++;
        cov_i1rgutrrs().s[55]++;
        results.communities = await this.searchCommunities(query);
      } else
      /* istanbul ignore next */
      {
        cov_i1rgutrrs().b[29][1]++;
      }
      cov_i1rgutrrs().s[56]++;
      if (typesArray.includes('users')) {
        /* istanbul ignore next */
        cov_i1rgutrrs().b[30][0]++;
        cov_i1rgutrrs().s[57]++;
        results.users = await this.searchUsers(query);
      } else
      /* istanbul ignore next */
      {
        cov_i1rgutrrs().b[30][1]++;
      }
      cov_i1rgutrrs().s[58]++;
      return results;
    } catch (error) {
      /* istanbul ignore next */
      cov_i1rgutrrs().s[59]++;
      throw new common_1.InternalServerErrorException(`Failed to perform global search: ${error instanceof Error ?
      /* istanbul ignore next */
      (cov_i1rgutrrs().b[31][0]++, error.message) :
      /* istanbul ignore next */
      (cov_i1rgutrrs().b[31][1]++, String(error))}`);
    }
  }
};
/* istanbul ignore next */
cov_i1rgutrrs().s[60]++;
exports.SearchService = SearchService;
/* istanbul ignore next */
cov_i1rgutrrs().s[61]++;
exports.SearchService = SearchService = __decorate([(0, common_1.Injectable)(), __metadata("design:paramtypes", [typeof (_a =
/* istanbul ignore next */
(cov_i1rgutrrs().b[33][0]++, typeof prisma_client_provider_1.PrismaService !== "undefined") &&
/* istanbul ignore next */
(cov_i1rgutrrs().b[33][1]++, prisma_client_provider_1.PrismaService)) === "function" ?
/* istanbul ignore next */
(cov_i1rgutrrs().b[32][0]++, _a) :
/* istanbul ignore next */
(cov_i1rgutrrs().b[32][1]++, Object)])], SearchService);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfaTFyZ3V0cnJzIiwiYWN0dWFsQ292ZXJhZ2UiLCJjb21tb25fMSIsInMiLCJyZXF1aXJlIiwicHJpc21hX2NsaWVudF9wcm92aWRlcl8xIiwiU2VhcmNoU2VydmljZSIsInByaXNtYSIsImNvbnN0cnVjdG9yIiwiZiIsInNlYXJjaFRoZXJhcGlzdHMiLCJxdWVyeSIsImZpbHRlcnMiLCJ3aGVyZSIsInN0YXR1cyIsIk9SIiwidXNlciIsImZpcnN0TmFtZSIsImNvbnRhaW5zIiwibW9kZSIsImxhc3ROYW1lIiwiYmlvIiwiZXhwZXJ0aXNlIiwiaGFzU29tZSIsImIiLCJwcm92aW5jZSIsImxlbmd0aCIsIm1heEhvdXJseVJhdGUiLCJob3VybHlSYXRlIiwibHRlIiwibWluRXhwZXJpZW5jZSIsInllYXJzT2ZFeHBlcmllbmNlIiwiZ3RlIiwidGhlcmFwaXN0IiwiZmluZE1hbnkiLCJpbmNsdWRlIiwic2VsZWN0IiwiaWQiLCJhdmF0YXJVcmwiLCJvcmRlckJ5IiwiY3JlYXRlZEF0IiwidGFrZSIsImVycm9yIiwiSW50ZXJuYWxTZXJ2ZXJFcnJvckV4Y2VwdGlvbiIsIkVycm9yIiwibWVzc2FnZSIsIlN0cmluZyIsInNlYXJjaFBvc3RzIiwiY29tbXVuaXR5SWQiLCJ0aXRsZSIsImNvbnRlbnQiLCJ0YWdzIiwicG9zdCIsInJvb20iLCJyb29tR3JvdXAiLCJjb21tdW5pdHkiLCJuYW1lIiwic2x1ZyIsIl9jb3VudCIsImhlYXJ0cyIsImNvbW1lbnRzIiwic2VhcmNoQ29tbXVuaXRpZXMiLCJkZXNjcmlwdGlvbiIsIm1lbWJlcnNoaXBzIiwic2VhcmNoVXNlcnMiLCJyb2xlIiwiZW1haWwiLCJnbG9iYWxTZWFyY2giLCJ0eXBlcyIsInJlc3VsdHMiLCJ0eXBlc0FycmF5IiwiQXJyYXkiLCJpc0FycmF5IiwiaW5jbHVkZXMiLCJ0aGVyYXBpc3RzIiwicG9zdHMiLCJjb21tdW5pdGllcyIsInVzZXJzIiwiZXhwb3J0cyIsIl9fZGVjb3JhdGUiLCJJbmplY3RhYmxlIiwiUHJpc21hU2VydmljZSIsIl9hIiwiT2JqZWN0Il0sInNvdXJjZXMiOlsiL2hvbWUvd2V0b29hL0RvY3VtZW50cy9jb2RlL3Byb2plY3RzL21lbnRhcmEvbWVudGFyYS1hcGkvc3JjL3NlYXJjaC9zZWFyY2guc2VydmljZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlLCBJbnRlcm5hbFNlcnZlckVycm9yRXhjZXB0aW9uIH0gZnJvbSAnQG5lc3Rqcy9jb21tb24nO1xuaW1wb3J0IHsgUHJpc21hU2VydmljZSB9IGZyb20gJy4uL3Byb3ZpZGVycy9wcmlzbWEtY2xpZW50LnByb3ZpZGVyJztcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIFNlYXJjaFNlcnZpY2Uge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IHByaXNtYTogUHJpc21hU2VydmljZSkge31cblxuICBhc3luYyBzZWFyY2hUaGVyYXBpc3RzKFxuICAgIHF1ZXJ5OiBzdHJpbmcsXG4gICAgZmlsdGVycz86IHtcbiAgICAgIHByb3ZpbmNlPzogc3RyaW5nO1xuICAgICAgbG9jYXRpb24/OiBzdHJpbmc7XG4gICAgICBleHBlcnRpc2U/OiBzdHJpbmdbXTtcbiAgICAgIHNwZWNpYWx0aWVzPzogc3RyaW5nW107XG4gICAgICBtYXhIb3VybHlSYXRlPzogbnVtYmVyO1xuICAgICAgbWluRXhwZXJpZW5jZT86IG51bWJlcjtcbiAgICAgIGV4cGVyaWVuY2VZZWFycz86IG51bWJlcjtcbiAgICAgIHJhdGluZz86IG51bWJlcjtcbiAgICAgIGdlbmRlcj86IHN0cmluZztcbiAgICAgIGxhbmd1YWdlcz86IHN0cmluZ1tdO1xuICAgICAgYXZhaWxhYmlsaXR5PzogYW55O1xuICAgICAgdmVyaWZpZWRPbmx5PzogYm9vbGVhbjtcbiAgICAgIHByaWNlUmFuZ2U/OiB7IG1pbj86IG51bWJlcjsgbWF4PzogbnVtYmVyIH07XG4gICAgfSxcbiAgKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHdoZXJlOiBhbnkgPSB7XG4gICAgICAgIHN0YXR1czogJ2FwcHJvdmVkJyxcbiAgICAgICAgT1I6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgICAgIGZpcnN0TmFtZTogeyBjb250YWluczogcXVlcnksIG1vZGU6ICdpbnNlbnNpdGl2ZScgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgICAgIGxhc3ROYW1lOiB7IGNvbnRhaW5zOiBxdWVyeSwgbW9kZTogJ2luc2Vuc2l0aXZlJyB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGJpbzogeyBjb250YWluczogcXVlcnksIG1vZGU6ICdpbnNlbnNpdGl2ZScgfSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGV4cGVydGlzZTogeyBoYXNTb21lOiBbcXVlcnldIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgIH07XG5cbiAgICAgIGlmIChmaWx0ZXJzKSB7XG4gICAgICAgIGlmIChmaWx0ZXJzLnByb3ZpbmNlKSB7XG4gICAgICAgICAgd2hlcmUucHJvdmluY2UgPSBmaWx0ZXJzLnByb3ZpbmNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaWx0ZXJzLmV4cGVydGlzZSAmJiBmaWx0ZXJzLmV4cGVydGlzZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgd2hlcmUuZXhwZXJ0aXNlID0geyBoYXNTb21lOiBmaWx0ZXJzLmV4cGVydGlzZSB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaWx0ZXJzLm1heEhvdXJseVJhdGUpIHtcbiAgICAgICAgICB3aGVyZS5ob3VybHlSYXRlID0geyBsdGU6IGZpbHRlcnMubWF4SG91cmx5UmF0ZSB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaWx0ZXJzLm1pbkV4cGVyaWVuY2UpIHtcbiAgICAgICAgICB3aGVyZS55ZWFyc09mRXhwZXJpZW5jZSA9IHsgZ3RlOiBmaWx0ZXJzLm1pbkV4cGVyaWVuY2UgfTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5wcmlzbWEudGhlcmFwaXN0LmZpbmRNYW55KHtcbiAgICAgICAgd2hlcmUsXG4gICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgICBzZWxlY3Q6IHtcbiAgICAgICAgICAgICAgaWQ6IHRydWUsXG4gICAgICAgICAgICAgIGZpcnN0TmFtZTogdHJ1ZSxcbiAgICAgICAgICAgICAgbGFzdE5hbWU6IHRydWUsXG4gICAgICAgICAgICAgIGF2YXRhclVybDogdHJ1ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgb3JkZXJCeTogeyBjcmVhdGVkQXQ6ICdkZXNjJyB9LFxuICAgICAgICB0YWtlOiAyMCxcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgSW50ZXJuYWxTZXJ2ZXJFcnJvckV4Y2VwdGlvbihcbiAgICAgICAgYEZhaWxlZCB0byBzZWFyY2ggdGhlcmFwaXN0czogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9YCxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgc2VhcmNoUG9zdHMocXVlcnk6IHN0cmluZywgY29tbXVuaXR5SWQ/OiBzdHJpbmcpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgd2hlcmU6IGFueSA9IHtcbiAgICAgICAgT1I6IFtcbiAgICAgICAgICB7IHRpdGxlOiB7IGNvbnRhaW5zOiBxdWVyeSwgbW9kZTogJ2luc2Vuc2l0aXZlJyB9IH0sXG4gICAgICAgICAgeyBjb250ZW50OiB7IGNvbnRhaW5zOiBxdWVyeSwgbW9kZTogJ2luc2Vuc2l0aXZlJyB9IH0sXG4gICAgICAgICAgeyB0YWdzOiB7IGhhc1NvbWU6IFtxdWVyeV0gfSB9LFxuICAgICAgICBdLFxuICAgICAgfTtcblxuICAgICAgaWYgKGNvbW11bml0eUlkKSB7XG4gICAgICAgIHdoZXJlLmNvbW11bml0eUlkID0gY29tbXVuaXR5SWQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnByaXNtYS5wb3N0LmZpbmRNYW55KHtcbiAgICAgICAgd2hlcmUsXG4gICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgICBzZWxlY3Q6IHtcbiAgICAgICAgICAgICAgaWQ6IHRydWUsXG4gICAgICAgICAgICAgIGZpcnN0TmFtZTogdHJ1ZSxcbiAgICAgICAgICAgICAgbGFzdE5hbWU6IHRydWUsXG4gICAgICAgICAgICAgIGF2YXRhclVybDogdHJ1ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgICByb29tOiB7XG4gICAgICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgICAgIHJvb21Hcm91cDoge1xuICAgICAgICAgICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICAgICAgICAgIGNvbW11bml0eToge1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICBpZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgIHNsdWc6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgICAgX2NvdW50OiB7XG4gICAgICAgICAgICBzZWxlY3Q6IHtcbiAgICAgICAgICAgICAgaGVhcnRzOiB0cnVlLFxuICAgICAgICAgICAgICBjb21tZW50czogdHJ1ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgb3JkZXJCeTogeyBjcmVhdGVkQXQ6ICdkZXNjJyB9LFxuICAgICAgICB0YWtlOiAyMCxcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgSW50ZXJuYWxTZXJ2ZXJFcnJvckV4Y2VwdGlvbihcbiAgICAgICAgYEZhaWxlZCB0byBzZWFyY2ggcG9zdHM6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWAsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHNlYXJjaENvbW11bml0aWVzKHF1ZXJ5OiBzdHJpbmcpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHRoaXMucHJpc21hLmNvbW11bml0eS5maW5kTWFueSh7XG4gICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgT1I6IFtcbiAgICAgICAgICAgIHsgbmFtZTogeyBjb250YWluczogcXVlcnksIG1vZGU6ICdpbnNlbnNpdGl2ZScgfSB9LFxuICAgICAgICAgICAgeyBkZXNjcmlwdGlvbjogeyBjb250YWluczogcXVlcnksIG1vZGU6ICdpbnNlbnNpdGl2ZScgfSB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICBfY291bnQ6IHtcbiAgICAgICAgICAgIHNlbGVjdDoge1xuICAgICAgICAgICAgICBtZW1iZXJzaGlwczogdHJ1ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgb3JkZXJCeTogeyBjcmVhdGVkQXQ6ICdkZXNjJyB9LFxuICAgICAgICB0YWtlOiAyMCxcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgSW50ZXJuYWxTZXJ2ZXJFcnJvckV4Y2VwdGlvbihcbiAgICAgICAgYEZhaWxlZCB0byBzZWFyY2ggY29tbXVuaXRpZXM6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWAsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHNlYXJjaFVzZXJzKHF1ZXJ5OiBzdHJpbmcsIHJvbGU/OiBzdHJpbmcpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgd2hlcmU6IGFueSA9IHtcbiAgICAgICAgT1I6IFtcbiAgICAgICAgICB7IGZpcnN0TmFtZTogeyBjb250YWluczogcXVlcnksIG1vZGU6ICdpbnNlbnNpdGl2ZScgfSB9LFxuICAgICAgICAgIHsgbGFzdE5hbWU6IHsgY29udGFpbnM6IHF1ZXJ5LCBtb2RlOiAnaW5zZW5zaXRpdmUnIH0gfSxcbiAgICAgICAgICB7IGVtYWlsOiB7IGNvbnRhaW5zOiBxdWVyeSwgbW9kZTogJ2luc2Vuc2l0aXZlJyB9IH0sXG4gICAgICAgIF0sXG4gICAgICB9O1xuXG4gICAgICBpZiAocm9sZSkge1xuICAgICAgICB3aGVyZS5yb2xlID0gcm9sZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMucHJpc21hLnVzZXIuZmluZE1hbnkoe1xuICAgICAgICB3aGVyZSxcbiAgICAgICAgc2VsZWN0OiB7XG4gICAgICAgICAgaWQ6IHRydWUsXG4gICAgICAgICAgZmlyc3ROYW1lOiB0cnVlLFxuICAgICAgICAgIGxhc3ROYW1lOiB0cnVlLFxuICAgICAgICAgIGVtYWlsOiB0cnVlLFxuICAgICAgICAgIGF2YXRhclVybDogdHJ1ZSxcbiAgICAgICAgICByb2xlOiB0cnVlLFxuICAgICAgICAgIGNyZWF0ZWRBdDogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgICAgb3JkZXJCeTogeyBjcmVhdGVkQXQ6ICdkZXNjJyB9LFxuICAgICAgICB0YWtlOiAyMCxcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgSW50ZXJuYWxTZXJ2ZXJFcnJvckV4Y2VwdGlvbihcbiAgICAgICAgYEZhaWxlZCB0byBzZWFyY2ggdXNlcnM6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWAsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdsb2JhbFNlYXJjaChcbiAgICBxdWVyeTogc3RyaW5nLFxuICAgIHR5cGVzPzpcbiAgICAgIHwgKCd0aGVyYXBpc3RzJyB8ICdwb3N0cycgfCAnY29tbXVuaXRpZXMnIHwgJ3VzZXJzJylbXVxuICAgICAgfCAndGhlcmFwaXN0cydcbiAgICAgIHwgJ3Bvc3RzJ1xuICAgICAgfCAnY29tbXVuaXRpZXMnXG4gICAgICB8ICd1c2VycycsXG4gICkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXN1bHRzOiBhbnkgPSB7fTtcblxuICAgICAgLy8gSGFuZGxlIGJvdGggc2luZ2xlIHR5cGUgYW5kIGFycmF5IG9mIHR5cGVzXG4gICAgICBjb25zdCB0eXBlc0FycmF5ID0gQXJyYXkuaXNBcnJheSh0eXBlcylcbiAgICAgICAgPyB0eXBlc1xuICAgICAgICA6IHR5cGVzXG4gICAgICAgICAgPyBbdHlwZXNdXG4gICAgICAgICAgOiBbJ3RoZXJhcGlzdHMnLCAncG9zdHMnLCAnY29tbXVuaXRpZXMnLCAndXNlcnMnXTtcblxuICAgICAgaWYgKHR5cGVzQXJyYXkuaW5jbHVkZXMoJ3RoZXJhcGlzdHMnKSkge1xuICAgICAgICByZXN1bHRzLnRoZXJhcGlzdHMgPSBhd2FpdCB0aGlzLnNlYXJjaFRoZXJhcGlzdHMocXVlcnkpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZXNBcnJheS5pbmNsdWRlcygncG9zdHMnKSkge1xuICAgICAgICByZXN1bHRzLnBvc3RzID0gYXdhaXQgdGhpcy5zZWFyY2hQb3N0cyhxdWVyeSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlc0FycmF5LmluY2x1ZGVzKCdjb21tdW5pdGllcycpKSB7XG4gICAgICAgIHJlc3VsdHMuY29tbXVuaXRpZXMgPSBhd2FpdCB0aGlzLnNlYXJjaENvbW11bml0aWVzKHF1ZXJ5KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVzQXJyYXkuaW5jbHVkZXMoJ3VzZXJzJykpIHtcbiAgICAgICAgcmVzdWx0cy51c2VycyA9IGF3YWl0IHRoaXMuc2VhcmNoVXNlcnMocXVlcnkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0cztcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgbmV3IEludGVybmFsU2VydmVyRXJyb3JFeGNlcHRpb24oXG4gICAgICAgIGBGYWlsZWQgdG8gcGVyZm9ybSBnbG9iYWwgc2VhcmNoOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKX1gLFxuICAgICAgKTtcbiAgICB9XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQUlhO0lBQUFBLGFBQUEsWUFBQUEsQ0FBQTtNQUFBLE9BQUFDLGNBQUE7SUFBQTtFQUFBO0VBQUEsT0FBQUEsY0FBQTtBQUFBO0FBQUFELGFBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFK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