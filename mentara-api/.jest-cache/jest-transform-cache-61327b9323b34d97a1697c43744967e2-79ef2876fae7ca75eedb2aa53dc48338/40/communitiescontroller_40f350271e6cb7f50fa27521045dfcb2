1027050f8f0622e430e02f9acc3c422f
"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w;
Object.defineProperty(exports, "__esModule", { value: true });
exports.CommunitiesController = void 0;
const common_1 = require("@nestjs/common");
const jwt_auth_guard_1 = require("src/auth/guards/jwt-auth.guard");
const prisma_client_provider_1 = require("src/providers/prisma-client.provider");
const communities_service_1 = require("./communities.service");
const community_assignment_service_1 = require("./community-assignment.service");
const mentara_commons_1 = require("mentara-commons");
const current_user_id_decorator_1 = require("src/auth/decorators/current-user-id.decorator");
const swagger_1 = require("@nestjs/swagger");
let CommunitiesController = class CommunitiesController {
    communitiesService;
    communityAssignmentService;
    prisma;
    constructor(communitiesService, communityAssignmentService, prisma) {
        this.communitiesService = communitiesService;
        this.communityAssignmentService = communityAssignmentService;
        this.prisma = prisma;
    }
    async findAll() {
        try {
            return await this.communitiesService.findAll();
        }
        catch (error) {
            throw new common_1.InternalServerErrorException(error instanceof Error ? error.message : 'Unknown error');
        }
    }
    async getStats() {
        try {
            return await this.communitiesService.getStats();
        }
        catch (error) {
            throw new common_1.InternalServerErrorException(error instanceof Error ? error.message : 'Unknown error');
        }
    }
    async findBySlug(slug) {
        try {
            const community = await this.communitiesService.findBySlug(slug);
            if (!community)
                throw new common_1.NotFoundException('Community not found');
            return community;
        }
        catch (error) {
            throw new common_1.InternalServerErrorException(error instanceof Error ? error.message : 'Unknown error');
        }
    }
    async findOne(id) {
        try {
            const community = await this.communitiesService.findOne(id);
            if (!community)
                throw new common_1.NotFoundException('Community not found');
            return community;
        }
        catch (error) {
            throw new common_1.InternalServerErrorException(error instanceof Error ? error.message : 'Unknown error');
        }
    }
    async getMembers(id, limit, offset) {
        try {
            const limitNum = limit ? parseInt(limit, 10) : 50;
            const offsetNum = offset ? parseInt(offset, 10) : 0;
            if (limit && isNaN(limitNum)) {
                throw new common_1.BadRequestException('Invalid limit parameter');
            }
            if (offset && isNaN(offsetNum)) {
                throw new common_1.BadRequestException('Invalid offset parameter');
            }
            return await this.communitiesService.getMembers(id, Math.max(1, Math.min(100, limitNum)), // Clamp between 1-100
            Math.max(0, offsetNum));
        }
        catch (error) {
            throw new common_1.InternalServerErrorException(error instanceof Error ? error.message : 'Unknown error');
        }
    }
    async create(communityData) {
        try {
            return await this.communitiesService.createCommunity(communityData);
        }
        catch (error) {
            throw new common_1.InternalServerErrorException(error instanceof Error ? error.message : 'Unknown error');
        }
    }
    async update(id, communityData) {
        try {
            return await this.communitiesService.update(id, communityData);
        }
        catch (error) {
            throw new common_1.InternalServerErrorException(error instanceof Error ? error.message : 'Unknown error');
        }
    }
    async remove(id) {
        try {
            return await this.communitiesService.remove(id);
        }
        catch (error) {
            throw new common_1.InternalServerErrorException(error instanceof Error ? error.message : 'Unknown error');
        }
    }
    async joinCommunity(communityId, userId) {
        try {
            await this.communitiesService.joinCommunity(communityId, userId);
            return { joined: true };
        }
        catch (error) {
            throw new common_1.InternalServerErrorException(error instanceof Error ? error.message : 'Unknown error');
        }
    }
    async leaveCommunity(communityId, userId) {
        try {
            await this.communitiesService.leaveCommunity(communityId, userId);
            return { left: true };
        }
        catch (error) {
            throw new common_1.InternalServerErrorException(error instanceof Error ? error.message : 'Unknown error');
        }
    }
    async findByUserId(userId) {
        try {
            return await this.communitiesService.findByUserId(userId);
        }
        catch (error) {
            throw new common_1.InternalServerErrorException(error instanceof Error ? error.message : 'Unknown error');
        }
    }
    async getAllWithStructure() {
        return await this.communitiesService.findAllWithStructure();
    }
    async getOneWithStructure(id) {
        return await this.communitiesService.findOneWithStructure(id);
    }
    async createRoomGroup(communityId, dto) {
        return await this.communitiesService.createRoomGroup(communityId, dto.name, dto.order);
    }
    async createRoom(roomGroupId, dto) {
        return await this.communitiesService.createRoom(roomGroupId, dto.name, dto.order);
    }
    async getRoomsByGroup(roomGroupId) {
        return await this.communitiesService.findRoomsByGroup(roomGroupId);
    }
    // Community Assignment Endpoints
    async assignCommunitiesToMe(userId) {
        try {
            const assignedCommunities = await this.communityAssignmentService.assignCommunitiesToUser(userId);
            return { assignedCommunities };
        }
        catch (error) {
            throw new common_1.InternalServerErrorException(error instanceof Error ? error.message : 'Unknown error');
        }
    }
    async assignCommunitiesToUser(userId) {
        try {
            const assignedCommunities = await this.communityAssignmentService.assignCommunitiesToUser(userId);
            return { assignedCommunities };
        }
        catch (error) {
            throw new common_1.InternalServerErrorException(error instanceof Error ? error.message : 'Unknown error');
        }
    }
    async getMyRecommendedCommunities(userId) {
        try {
            const recommendedCommunities = await this.communityAssignmentService.getRecommendedCommunities(userId);
            return { recommendedCommunities };
        }
        catch (error) {
            throw new common_1.InternalServerErrorException(error instanceof Error ? error.message : 'Unknown error');
        }
    }
    async bulkAssignCommunities(body) {
        try {
            const results = await this.communityAssignmentService.bulkAssignCommunities(body.userIds);
            return { results };
        }
        catch (error) {
            throw new common_1.InternalServerErrorException(error instanceof Error ? error.message : 'Unknown error');
        }
    }
};
exports.CommunitiesController = CommunitiesController;
__decorate([
    (0, common_1.Get)(),
    (0, swagger_1.ApiOperation)({
        summary: 'Retrieve find all',
        description: 'Retrieve find all'
    }),
    (0, swagger_1.ApiResponse)({
        status: 200,
        description: 'Retrieved successfully'
    }),
    (0, swagger_1.ApiResponse)({ status: 401, description: 'Unauthorized' }),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", typeof (_d = typeof Promise !== "undefined" && Promise) === "function" ? _d : Object)
], CommunitiesController.prototype, "findAll", null);
__decorate([
    (0, common_1.Get)('stats'),
    (0, swagger_1.ApiOperation)({
        summary: 'Retrieve get stats',
        description: 'Retrieve get stats'
    }),
    (0, swagger_1.ApiResponse)({
        status: 200,
        description: 'Retrieved successfully'
    }),
    (0, swagger_1.ApiResponse)({ status: 401, description: 'Unauthorized' }),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", typeof (_e = typeof Promise !== "undefined" && Promise) === "function" ? _e : Object)
], CommunitiesController.prototype, "getStats", null);
__decorate([
    (0, common_1.Get)('slug/:slug'),
    (0, swagger_1.ApiOperation)({
        summary: 'Retrieve find by slug',
        description: 'Retrieve find by slug'
    }),
    (0, swagger_1.ApiResponse)({
        status: 200,
        description: 'Retrieved successfully'
    }),
    (0, swagger_1.ApiResponse)({ status: 401, description: 'Unauthorized' }),
    __param(0, (0, common_1.Param)('slug')),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String]),
    __metadata("design:returntype", typeof (_f = typeof Promise !== "undefined" && Promise) === "function" ? _f : Object)
], CommunitiesController.prototype, "findBySlug", null);
__decorate([
    (0, common_1.Get)(':id'),
    (0, swagger_1.ApiOperation)({
        summary: 'Retrieve find one',
        description: 'Retrieve find one'
    }),
    (0, swagger_1.ApiResponse)({
        status: 200,
        description: 'Retrieved successfully'
    }),
    (0, swagger_1.ApiResponse)({ status: 401, description: 'Unauthorized' }),
    __param(0, (0, common_1.Param)('id')),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String]),
    __metadata("design:returntype", typeof (_g = typeof Promise !== "undefined" && Promise) === "function" ? _g : Object)
], CommunitiesController.prototype, "findOne", null);
__decorate([
    (0, common_1.Get)(':id/members'),
    (0, swagger_1.ApiOperation)({
        summary: 'Retrieve get members',
        description: 'Retrieve get members'
    }),
    (0, swagger_1.ApiResponse)({
        status: 200,
        description: 'Retrieved successfully'
    }),
    (0, swagger_1.ApiResponse)({ status: 401, description: 'Unauthorized' }),
    __param(0, (0, common_1.Param)('id')),
    __param(1, (0, common_1.Query)('limit')),
    __param(2, (0, common_1.Query)('offset')),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String, String, String]),
    __metadata("design:returntype", typeof (_h = typeof Promise !== "undefined" && Promise) === "function" ? _h : Object)
], CommunitiesController.prototype, "getMembers", null);
__decorate([
    (0, common_1.Post)(),
    (0, swagger_1.ApiOperation)({
        summary: 'Create create',
        description: 'Create create'
    }),
    (0, swagger_1.ApiResponse)({
        status: 201,
        description: 'Created successfully'
    }),
    (0, swagger_1.ApiResponse)({ status: 401, description: 'Unauthorized' }),
    (0, common_1.HttpCode)(common_1.HttpStatus.CREATED),
    __param(0, (0, common_1.Body)()),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [typeof (_j = typeof mentara_commons_1.CommunityCreateInputDto !== "undefined" && mentara_commons_1.CommunityCreateInputDto) === "function" ? _j : Object]),
    __metadata("design:returntype", typeof (_k = typeof Promise !== "undefined" && Promise) === "function" ? _k : Object)
], CommunitiesController.prototype, "create", null);
__decorate([
    (0, common_1.Put)(':id'),
    (0, swagger_1.ApiOperation)({
        summary: 'Update update',
        description: 'Update update'
    }),
    (0, swagger_1.ApiResponse)({
        status: 200,
        description: 'Updated successfully'
    }),
    (0, swagger_1.ApiResponse)({ status: 401, description: 'Unauthorized' }),
    (0, common_1.HttpCode)(common_1.HttpStatus.OK),
    __param(0, (0, common_1.Param)('id')),
    __param(1, (0, common_1.Body)()),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String, typeof (_l = typeof mentara_commons_1.CommunityUpdateInputDto !== "undefined" && mentara_commons_1.CommunityUpdateInputDto) === "function" ? _l : Object]),
    __metadata("design:returntype", typeof (_m = typeof Promise !== "undefined" && Promise) === "function" ? _m : Object)
], CommunitiesController.prototype, "update", null);
__decorate([
    (0, common_1.Delete)(':id'),
    (0, swagger_1.ApiOperation)({
        summary: 'Delete remove',
        description: 'Delete remove'
    }),
    (0, swagger_1.ApiResponse)({
        status: 200,
        description: 'Deleted successfully'
    }),
    (0, swagger_1.ApiResponse)({ status: 401, description: 'Unauthorized' }),
    (0, common_1.HttpCode)(common_1.HttpStatus.OK),
    __param(0, (0, common_1.Param)('id')),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String]),
    __metadata("design:returntype", typeof (_o = typeof Promise !== "undefined" && Promise) === "function" ? _o : Object)
], CommunitiesController.prototype, "remove", null);
__decorate([
    (0, common_1.Post)(':id/join'),
    (0, swagger_1.ApiOperation)({
        summary: 'Create join community',
        description: 'Create join community'
    }),
    (0, swagger_1.ApiResponse)({
        status: 201,
        description: 'Created successfully'
    }),
    (0, swagger_1.ApiResponse)({ status: 401, description: 'Unauthorized' }),
    (0, common_1.HttpCode)(common_1.HttpStatus.OK),
    __param(0, (0, common_1.Param)('id')),
    __param(1, (0, current_user_id_decorator_1.CurrentUserId)()),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String, String]),
    __metadata("design:returntype", typeof (_p = typeof Promise !== "undefined" && Promise) === "function" ? _p : Object)
], CommunitiesController.prototype, "joinCommunity", null);
__decorate([
    (0, common_1.Post)(':id/leave'),
    (0, swagger_1.ApiOperation)({
        summary: 'Create leave community',
        description: 'Create leave community'
    }),
    (0, swagger_1.ApiResponse)({
        status: 201,
        description: 'Created successfully'
    }),
    (0, swagger_1.ApiResponse)({ status: 401, description: 'Unauthorized' }),
    (0, common_1.HttpCode)(common_1.HttpStatus.OK),
    __param(0, (0, common_1.Param)('id')),
    __param(1, (0, current_user_id_decorator_1.CurrentUserId)()),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String, String]),
    __metadata("design:returntype", typeof (_q = typeof Promise !== "undefined" && Promise) === "function" ? _q : Object)
], CommunitiesController.prototype, "leaveCommunity", null);
__decorate([
    (0, common_1.Get)('user/:userId'),
    (0, swagger_1.ApiOperation)({
        summary: 'Retrieve find by user id',
        description: 'Retrieve find by user id'
    }),
    (0, swagger_1.ApiResponse)({
        status: 200,
        description: 'Retrieved successfully'
    }),
    (0, swagger_1.ApiResponse)({ status: 401, description: 'Unauthorized' }),
    __param(0, (0, common_1.Param)('userId')),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String]),
    __metadata("design:returntype", typeof (_r = typeof Promise !== "undefined" && Promise) === "function" ? _r : Object)
], CommunitiesController.prototype, "findByUserId", null);
__decorate([
    (0, common_1.Get)('with-structure'),
    (0, swagger_1.ApiOperation)({
        summary: 'Retrieve get all with structure',
        description: 'Retrieve get all with structure'
    }),
    (0, swagger_1.ApiResponse)({
        status: 200,
        description: 'Retrieved successfully'
    }),
    (0, swagger_1.ApiResponse)({ status: 401, description: 'Unauthorized' }),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", typeof (_s = typeof Promise !== "undefined" && Promise) === "function" ? _s : Object)
], CommunitiesController.prototype, "getAllWithStructure", null);
__decorate([
    (0, common_1.Get)(':id/with-structure'),
    (0, swagger_1.ApiOperation)({
        summary: 'Retrieve get one with structure',
        description: 'Retrieve get one with structure'
    }),
    (0, swagger_1.ApiResponse)({
        status: 200,
        description: 'Retrieved successfully'
    }),
    (0, swagger_1.ApiResponse)({ status: 401, description: 'Unauthorized' }),
    __param(0, (0, common_1.Param)('id')),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String]),
    __metadata("design:returntype", Promise)
], CommunitiesController.prototype, "getOneWithStructure", null);
__decorate([
    (0, common_1.Post)(':id/room-group'),
    (0, swagger_1.ApiOperation)({
        summary: 'Create create room group',
        description: 'Create create room group'
    }),
    (0, swagger_1.ApiResponse)({
        status: 201,
        description: 'Created successfully'
    }),
    (0, swagger_1.ApiResponse)({ status: 401, description: 'Unauthorized' }),
    __param(0, (0, common_1.Param)('id')),
    __param(1, (0, common_1.Body)()),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String, Object]),
    __metadata("design:returntype", Promise)
], CommunitiesController.prototype, "createRoomGroup", null);
__decorate([
    (0, common_1.Post)('room-group/:roomGroupId/room'),
    (0, swagger_1.ApiOperation)({
        summary: 'Create create room',
        description: 'Create create room'
    }),
    (0, swagger_1.ApiResponse)({
        status: 201,
        description: 'Created successfully'
    }),
    (0, swagger_1.ApiResponse)({ status: 401, description: 'Unauthorized' }),
    __param(0, (0, common_1.Param)('roomGroupId')),
    __param(1, (0, common_1.Body)()),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String, Object]),
    __metadata("design:returntype", Promise)
], CommunitiesController.prototype, "createRoom", null);
__decorate([
    (0, common_1.Get)('room-group/:roomGroupId/rooms'),
    (0, swagger_1.ApiOperation)({
        summary: 'Retrieve get rooms by group',
        description: 'Retrieve get rooms by group'
    }),
    (0, swagger_1.ApiResponse)({
        status: 200,
        description: 'Retrieved successfully'
    }),
    (0, swagger_1.ApiResponse)({ status: 401, description: 'Unauthorized' }),
    __param(0, (0, common_1.Param)('roomGroupId')),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String]),
    __metadata("design:returntype", Promise)
], CommunitiesController.prototype, "getRoomsByGroup", null);
__decorate([
    (0, common_1.Post)('assign/me'),
    (0, swagger_1.ApiOperation)({
        summary: 'Create assign communities to me',
        description: 'Create assign communities to me'
    }),
    (0, swagger_1.ApiResponse)({
        status: 201,
        description: 'Created successfully'
    }),
    (0, swagger_1.ApiResponse)({ status: 401, description: 'Unauthorized' }),
    (0, common_1.HttpCode)(common_1.HttpStatus.OK),
    __param(0, (0, current_user_id_decorator_1.CurrentUserId)()),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String]),
    __metadata("design:returntype", typeof (_t = typeof Promise !== "undefined" && Promise) === "function" ? _t : Object)
], CommunitiesController.prototype, "assignCommunitiesToMe", null);
__decorate([
    (0, common_1.Post)('assign/:userId'),
    (0, swagger_1.ApiOperation)({
        summary: 'Create assign communities to user',
        description: 'Create assign communities to user'
    }),
    (0, swagger_1.ApiResponse)({
        status: 201,
        description: 'Created successfully'
    }),
    (0, swagger_1.ApiResponse)({ status: 401, description: 'Unauthorized' }),
    (0, common_1.HttpCode)(common_1.HttpStatus.OK),
    __param(0, (0, common_1.Param)('userId')),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String]),
    __metadata("design:returntype", typeof (_u = typeof Promise !== "undefined" && Promise) === "function" ? _u : Object)
], CommunitiesController.prototype, "assignCommunitiesToUser", null);
__decorate([
    (0, common_1.Get)('recommended/me'),
    (0, swagger_1.ApiOperation)({
        summary: 'Retrieve get my recommended communities',
        description: 'Retrieve get my recommended communities'
    }),
    (0, swagger_1.ApiResponse)({
        status: 200,
        description: 'Retrieved successfully'
    }),
    (0, swagger_1.ApiResponse)({ status: 401, description: 'Unauthorized' }),
    __param(0, (0, current_user_id_decorator_1.CurrentUserId)()),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String]),
    __metadata("design:returntype", typeof (_v = typeof Promise !== "undefined" && Promise) === "function" ? _v : Object)
], CommunitiesController.prototype, "getMyRecommendedCommunities", null);
__decorate([
    (0, common_1.Post)('assign/bulk'),
    (0, swagger_1.ApiOperation)({
        summary: 'Create bulk assign communities',
        description: 'Create bulk assign communities'
    }),
    (0, swagger_1.ApiResponse)({
        status: 201,
        description: 'Created successfully'
    }),
    (0, swagger_1.ApiResponse)({ status: 401, description: 'Unauthorized' }),
    (0, common_1.HttpCode)(common_1.HttpStatus.OK),
    __param(0, (0, common_1.Body)()),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [Object]),
    __metadata("design:returntype", typeof (_w = typeof Promise !== "undefined" && Promise) === "function" ? _w : Object)
], CommunitiesController.prototype, "bulkAssignCommunities", null);
exports.CommunitiesController = CommunitiesController = __decorate([
    (0, swagger_1.ApiTags)('communities'),
    (0, swagger_1.ApiBearerAuth)('JWT-auth'),
    (0, common_1.Controller)('communities'),
    (0, common_1.UseGuards)(jwt_auth_guard_1.JwtAuthGuard),
    __metadata("design:paramtypes", [typeof (_a = typeof communities_service_1.CommunitiesService !== "undefined" && communities_service_1.CommunitiesService) === "function" ? _a : Object, typeof (_b = typeof community_assignment_service_1.CommunityAssignmentService !== "undefined" && community_assignment_service_1.CommunityAssignmentService) === "function" ? _b : Object, typeof (_c = typeof prisma_client_provider_1.PrismaService !== "undefined" && prisma_client_provider_1.PrismaService) === "function" ? _c : Object])
], CommunitiesController);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvd2V0b29hL0RvY3VtZW50cy9jb2RlL3Byb2plY3RzL21lbnRhcmEvbWVudGFyYS1hcGkvc3JjL2NvbW11bml0aWVzL2NvbW11bml0aWVzLmNvbnRyb2xsZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLDJDQWV3QjtBQUN4QixtRUFBOEQ7QUFDOUQsaUZBQXFFO0FBQ3JFLCtEQUEyRDtBQUMzRCxpRkFBNEU7QUFDNUUscURBR3lCO0FBNEN6Qiw2RkFBOEU7QUFDOUUsNkNBUXlCO0FBTWxCLElBQU0scUJBQXFCLEdBQTNCLE1BQU0scUJBQXFCO0lBRWI7SUFDQTtJQUNBO0lBSG5CLFlBQ21CLGtCQUFzQyxFQUN0QywwQkFBc0QsRUFDdEQsTUFBcUI7UUFGckIsdUJBQWtCLEdBQWxCLGtCQUFrQixDQUFvQjtRQUN0QywrQkFBMEIsR0FBMUIsMEJBQTBCLENBQTRCO1FBQ3RELFdBQU0sR0FBTixNQUFNLENBQWU7SUFDckMsQ0FBQztJQWlDRSxBQUFOLEtBQUssQ0FBQyxPQUFPO1FBQ1gsSUFBSSxDQUFDO1lBQ0gsT0FBTyxNQUFNLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUNqRCxDQUFDO1FBQUMsT0FBTyxLQUFLLEVBQUUsQ0FBQztZQUNmLE1BQU0sSUFBSSxxQ0FBNEIsQ0FDcEMsS0FBSyxZQUFZLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsZUFBZSxDQUN6RCxDQUFDO1FBQ0osQ0FBQztJQUNILENBQUM7SUFpQ0ssQUFBTixLQUFLLENBQUMsUUFBUTtRQUNaLElBQUksQ0FBQztZQUNILE9BQU8sTUFBTSxJQUFJLENBQUMsa0JBQWtCLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDbEQsQ0FBQztRQUFDLE9BQU8sS0FBSyxFQUFFLENBQUM7WUFDZixNQUFNLElBQUkscUNBQTRCLENBQ3BDLEtBQUssWUFBWSxLQUFLLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLGVBQWUsQ0FDekQsQ0FBQztRQUNKLENBQUM7SUFDSCxDQUFDO0lBaUNLLEFBQU4sS0FBSyxDQUFDLFVBQVUsQ0FBZ0IsSUFBWTtRQUMxQyxJQUFJLENBQUM7WUFDSCxNQUFNLFNBQVMsR0FBRyxNQUFNLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDakUsSUFBSSxDQUFDLFNBQVM7Z0JBQUUsTUFBTSxJQUFJLDBCQUFpQixDQUFDLHFCQUFxQixDQUFDLENBQUM7WUFDbkUsT0FBTyxTQUFTLENBQUM7UUFDbkIsQ0FBQztRQUFDLE9BQU8sS0FBSyxFQUFFLENBQUM7WUFDZixNQUFNLElBQUkscUNBQTRCLENBQ3BDLEtBQUssWUFBWSxLQUFLLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLGVBQWUsQ0FDekQsQ0FBQztRQUNKLENBQUM7SUFDSCxDQUFDO0lBaUNLLEFBQU4sS0FBSyxDQUFDLE9BQU8sQ0FBYyxFQUFVO1FBQ25DLElBQUksQ0FBQztZQUNILE1BQU0sU0FBUyxHQUFHLE1BQU0sSUFBSSxDQUFDLGtCQUFrQixDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUM1RCxJQUFJLENBQUMsU0FBUztnQkFBRSxNQUFNLElBQUksMEJBQWlCLENBQUMscUJBQXFCLENBQUMsQ0FBQztZQUNuRSxPQUFPLFNBQVMsQ0FBQztRQUNuQixDQUFDO1FBQUMsT0FBTyxLQUFLLEVBQUUsQ0FBQztZQUNmLE1BQU0sSUFBSSxxQ0FBNEIsQ0FDcEMsS0FBSyxZQUFZLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsZUFBZSxDQUN6RCxDQUFDO1FBQ0osQ0FBQztJQUNILENBQUM7SUFpQ0ssQUFBTixLQUFLLENBQUMsVUFBVSxDQUNELEVBQVUsRUFDUCxLQUFjLEVBQ2IsTUFBZTtRQUVoQyxJQUFJLENBQUM7WUFDSCxNQUFNLFFBQVEsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztZQUNsRCxNQUFNLFNBQVMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUVwRCxJQUFJLEtBQUssSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQztnQkFDN0IsTUFBTSxJQUFJLDRCQUFtQixDQUFDLHlCQUF5QixDQUFDLENBQUM7WUFDM0QsQ0FBQztZQUNELElBQUksTUFBTSxJQUFJLEtBQUssQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDO2dCQUMvQixNQUFNLElBQUksNEJBQW1CLENBQUMsMEJBQTBCLENBQUMsQ0FBQztZQUM1RCxDQUFDO1lBRUQsT0FBTyxNQUFNLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxVQUFVLENBQzdDLEVBQUUsRUFDRixJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxRQUFRLENBQUMsQ0FBQyxFQUFFLHNCQUFzQjtZQUM1RCxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxTQUFTLENBQUMsQ0FDdkIsQ0FBQztRQUNKLENBQUM7UUFBQyxPQUFPLEtBQUssRUFBRSxDQUFDO1lBQ2YsTUFBTSxJQUFJLHFDQUE0QixDQUNwQyxLQUFLLFlBQVksS0FBSyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxlQUFlLENBQ3pELENBQUM7UUFDSixDQUFDO0lBQ0gsQ0FBQztJQWtDSyxBQUFOLEtBQUssQ0FBQyxNQUFNLENBQ0YsYUFBc0M7UUFFOUMsSUFBSSxDQUFDO1lBQ0gsT0FBTyxNQUFNLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxlQUFlLENBQUMsYUFBYSxDQUFDLENBQUM7UUFDdEUsQ0FBQztRQUFDLE9BQU8sS0FBSyxFQUFFLENBQUM7WUFDZixNQUFNLElBQUkscUNBQTRCLENBQ3BDLEtBQUssWUFBWSxLQUFLLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLGVBQWUsQ0FDekQsQ0FBQztRQUNKLENBQUM7SUFDSCxDQUFDO0lBa0NLLEFBQU4sS0FBSyxDQUFDLE1BQU0sQ0FDRyxFQUFVLEVBQ2YsYUFBc0M7UUFFOUMsSUFBSSxDQUFDO1lBQ0gsT0FBTyxNQUFNLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLGFBQWEsQ0FBQyxDQUFDO1FBQ2pFLENBQUM7UUFBQyxPQUFPLEtBQUssRUFBRSxDQUFDO1lBQ2YsTUFBTSxJQUFJLHFDQUE0QixDQUNwQyxLQUFLLFlBQVksS0FBSyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxlQUFlLENBQ3pELENBQUM7UUFDSixDQUFDO0lBQ0gsQ0FBQztJQWtDSyxBQUFOLEtBQUssQ0FBQyxNQUFNLENBQWMsRUFBVTtRQUNsQyxJQUFJLENBQUM7WUFDSCxPQUFPLE1BQU0sSUFBSSxDQUFDLGtCQUFrQixDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNsRCxDQUFDO1FBQUMsT0FBTyxLQUFLLEVBQUUsQ0FBQztZQUNmLE1BQU0sSUFBSSxxQ0FBNEIsQ0FDcEMsS0FBSyxZQUFZLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsZUFBZSxDQUN6RCxDQUFDO1FBQ0osQ0FBQztJQUNILENBQUM7SUFrQ0ssQUFBTixLQUFLLENBQUMsYUFBYSxDQUNKLFdBQW1CLEVBQ2YsTUFBYztRQUUvQixJQUFJLENBQUM7WUFDSCxNQUFNLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxhQUFhLENBQUMsV0FBVyxFQUFFLE1BQU0sQ0FBQyxDQUFDO1lBQ2pFLE9BQU8sRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLENBQUM7UUFDMUIsQ0FBQztRQUFDLE9BQU8sS0FBSyxFQUFFLENBQUM7WUFDZixNQUFNLElBQUkscUNBQTRCLENBQ3BDLEtBQUssWUFBWSxLQUFLLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLGVBQWUsQ0FDekQsQ0FBQztRQUNKLENBQUM7SUFDSCxDQUFDO0lBa0NLLEFBQU4sS0FBSyxDQUFDLGNBQWMsQ0FDTCxXQUFtQixFQUNmLE1BQWM7UUFFL0IsSUFBSSxDQUFDO1lBQ0gsTUFBTSxJQUFJLENBQUMsa0JBQWtCLENBQUMsY0FBYyxDQUFDLFdBQVcsRUFBRSxNQUFNLENBQUMsQ0FBQztZQUNsRSxPQUFPLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxDQUFDO1FBQ3hCLENBQUM7UUFBQyxPQUFPLEtBQUssRUFBRSxDQUFDO1lBQ2YsTUFBTSxJQUFJLHFDQUE0QixDQUNwQyxLQUFLLFlBQVksS0FBSyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxlQUFlLENBQ3pELENBQUM7UUFDSixDQUFDO0lBQ0gsQ0FBQztJQWlDSyxBQUFOLEtBQUssQ0FBQyxZQUFZLENBQ0MsTUFBYztRQUUvQixJQUFJLENBQUM7WUFDSCxPQUFPLE1BQU0sSUFBSSxDQUFDLGtCQUFrQixDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUM1RCxDQUFDO1FBQUMsT0FBTyxLQUFLLEVBQUUsQ0FBQztZQUNmLE1BQU0sSUFBSSxxQ0FBNEIsQ0FDcEMsS0FBSyxZQUFZLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsZUFBZSxDQUN6RCxDQUFDO1FBQ0osQ0FBQztJQUNILENBQUM7SUFpQ0ssQUFBTixLQUFLLENBQUMsbUJBQW1CO1FBQ3ZCLE9BQU8sTUFBTSxJQUFJLENBQUMsa0JBQWtCLENBQUMsb0JBQW9CLEVBQUUsQ0FBQztJQUM5RCxDQUFDO0lBaUNLLEFBQU4sS0FBSyxDQUFDLG1CQUFtQixDQUFjLEVBQVU7UUFDL0MsT0FBTyxNQUFNLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxvQkFBb0IsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUNoRSxDQUFDO0lBaUNLLEFBQU4sS0FBSyxDQUFDLGVBQWUsQ0FDTixXQUFtQixFQUN4QixHQUFvQztRQUU1QyxPQUFPLE1BQU0sSUFBSSxDQUFDLGtCQUFrQixDQUFDLGVBQWUsQ0FDbEQsV0FBVyxFQUNYLEdBQUcsQ0FBQyxJQUFJLEVBQ1IsR0FBRyxDQUFDLEtBQUssQ0FDVixDQUFDO0lBQ0osQ0FBQztJQWlDSyxBQUFOLEtBQUssQ0FBQyxVQUFVLENBQ1EsV0FBbUIsRUFDakMsR0FBb0M7UUFFNUMsT0FBTyxNQUFNLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxVQUFVLENBQzdDLFdBQVcsRUFDWCxHQUFHLENBQUMsSUFBSSxFQUNSLEdBQUcsQ0FBQyxLQUFLLENBQ1YsQ0FBQztJQUNKLENBQUM7SUFpQ0ssQUFBTixLQUFLLENBQUMsZUFBZSxDQUF1QixXQUFtQjtRQUM3RCxPQUFPLE1BQU0sSUFBSSxDQUFDLGtCQUFrQixDQUFDLGdCQUFnQixDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQ3JFLENBQUM7SUFFRCxpQ0FBaUM7SUF1QjNCLEFBQU4sS0FBSyxDQUFDLHFCQUFxQixDQUNSLE1BQWM7UUFFL0IsSUFBSSxDQUFDO1lBQ0gsTUFBTSxtQkFBbUIsR0FDdkIsTUFBTSxJQUFJLENBQUMsMEJBQTBCLENBQUMsdUJBQXVCLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDeEUsT0FBTyxFQUFFLG1CQUFtQixFQUFFLENBQUM7UUFDakMsQ0FBQztRQUFDLE9BQU8sS0FBSyxFQUFFLENBQUM7WUFDZixNQUFNLElBQUkscUNBQTRCLENBQ3BDLEtBQUssWUFBWSxLQUFLLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLGVBQWUsQ0FDekQsQ0FBQztRQUNKLENBQUM7SUFDSCxDQUFDO0lBa0NLLEFBQU4sS0FBSyxDQUFDLHVCQUF1QixDQUNWLE1BQWM7UUFFL0IsSUFBSSxDQUFDO1lBQ0gsTUFBTSxtQkFBbUIsR0FDdkIsTUFBTSxJQUFJLENBQUMsMEJBQTBCLENBQUMsdUJBQXVCLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDeEUsT0FBTyxFQUFFLG1CQUFtQixFQUFFLENBQUM7UUFDakMsQ0FBQztRQUFDLE9BQU8sS0FBSyxFQUFFLENBQUM7WUFDZixNQUFNLElBQUkscUNBQTRCLENBQ3BDLEtBQUssWUFBWSxLQUFLLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLGVBQWUsQ0FDekQsQ0FBQztRQUNKLENBQUM7SUFDSCxDQUFDO0lBaUNLLEFBQU4sS0FBSyxDQUFDLDJCQUEyQixDQUNkLE1BQWM7UUFFL0IsSUFBSSxDQUFDO1lBQ0gsTUFBTSxzQkFBc0IsR0FDMUIsTUFBTSxJQUFJLENBQUMsMEJBQTBCLENBQUMseUJBQXlCLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDMUUsT0FBTyxFQUFFLHNCQUFzQixFQUFFLENBQUM7UUFDcEMsQ0FBQztRQUFDLE9BQU8sS0FBSyxFQUFFLENBQUM7WUFDZixNQUFNLElBQUkscUNBQTRCLENBQ3BDLEtBQUssWUFBWSxLQUFLLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLGVBQWUsQ0FDekQsQ0FBQztRQUNKLENBQUM7SUFDSCxDQUFDO0lBa0NLLEFBQU4sS0FBSyxDQUFDLHFCQUFxQixDQUNqQixJQUEyQjtRQUVuQyxJQUFJLENBQUM7WUFDSCxNQUFNLE9BQU8sR0FDWCxNQUFNLElBQUksQ0FBQywwQkFBMEIsQ0FBQyxxQkFBcUIsQ0FDekQsSUFBSSxDQUFDLE9BQU8sQ0FDYixDQUFDO1lBQ0osT0FBTyxFQUFFLE9BQU8sRUFBRSxDQUFDO1FBQ3JCLENBQUM7UUFBQyxPQUFPLEtBQUssRUFBRSxDQUFDO1lBQ2YsTUFBTSxJQUFJLHFDQUE0QixDQUNwQyxLQUFLLFlBQVksS0FBSyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxlQUFlLENBQ3pELENBQUM7UUFDSixDQUFDO0lBQ0gsQ0FBQztDQUNGLENBQUE7QUFoMkJZLHNEQUFxQjtBQXNDMUI7SUEvQkwsSUFBQSxZQUFHLEdBQUU7SUFHTCxJQUFBLHNCQUFZLEVBQUM7UUFHWixPQUFPLEVBQUUsbUJBQW1CO1FBRzVCLFdBQVcsRUFBRSxtQkFBbUI7S0FHakMsQ0FBQztJQUdELElBQUEscUJBQVcsRUFBQztRQUdYLE1BQU0sRUFBRSxHQUFHO1FBR1gsV0FBVyxFQUFFLHdCQUF3QjtLQUd0QyxDQUFDO0lBR0QsSUFBQSxxQkFBVyxFQUFDLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxXQUFXLEVBQUUsY0FBYyxFQUFFLENBQUM7Ozt3REFJekMsT0FBTyxvQkFBUCxPQUFPO29EQVF2QjtBQWlDSztJQS9CTCxJQUFBLFlBQUcsRUFBQyxPQUFPLENBQUM7SUFHWixJQUFBLHNCQUFZLEVBQUM7UUFHWixPQUFPLEVBQUUsb0JBQW9CO1FBRzdCLFdBQVcsRUFBRSxvQkFBb0I7S0FHbEMsQ0FBQztJQUdELElBQUEscUJBQVcsRUFBQztRQUdYLE1BQU0sRUFBRSxHQUFHO1FBR1gsV0FBVyxFQUFFLHdCQUF3QjtLQUd0QyxDQUFDO0lBR0QsSUFBQSxxQkFBVyxFQUFDLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxXQUFXLEVBQUUsY0FBYyxFQUFFLENBQUM7Ozt3REFJeEMsT0FBTyxvQkFBUCxPQUFPO3FEQVF4QjtBQWlDSztJQS9CTCxJQUFBLFlBQUcsRUFBQyxZQUFZLENBQUM7SUFHakIsSUFBQSxzQkFBWSxFQUFDO1FBR1osT0FBTyxFQUFFLHVCQUF1QjtRQUdoQyxXQUFXLEVBQUUsdUJBQXVCO0tBR3JDLENBQUM7SUFHRCxJQUFBLHFCQUFXLEVBQUM7UUFHWCxNQUFNLEVBQUUsR0FBRztRQUdYLFdBQVcsRUFBRSx3QkFBd0I7S0FHdEMsQ0FBQztJQUdELElBQUEscUJBQVcsRUFBQyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsV0FBVyxFQUFFLGNBQWMsRUFBRSxDQUFDO0lBSXhDLFdBQUEsSUFBQSxjQUFLLEVBQUMsTUFBTSxDQUFDLENBQUE7Ozt3REFBZ0IsT0FBTyxvQkFBUCxPQUFPO3VEQVVyRDtBQWlDSztJQS9CTCxJQUFBLFlBQUcsRUFBQyxLQUFLLENBQUM7SUFHVixJQUFBLHNCQUFZLEVBQUM7UUFHWixPQUFPLEVBQUUsbUJBQW1CO1FBRzVCLFdBQVcsRUFBRSxtQkFBbUI7S0FHakMsQ0FBQztJQUdELElBQUEscUJBQVcsRUFBQztRQUdYLE1BQU0sRUFBRSxHQUFHO1FBR1gsV0FBVyxFQUFFLHdCQUF3QjtLQUd0QyxDQUFDO0lBR0QsSUFBQSxxQkFBVyxFQUFDLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxXQUFXLEVBQUUsY0FBYyxFQUFFLENBQUM7SUFJM0MsV0FBQSxJQUFBLGNBQUssRUFBQyxJQUFJLENBQUMsQ0FBQTs7O3dEQUFjLE9BQU8sb0JBQVAsT0FBTztvREFVOUM7QUFpQ0s7SUEvQkwsSUFBQSxZQUFHLEVBQUMsYUFBYSxDQUFDO0lBR2xCLElBQUEsc0JBQVksRUFBQztRQUdaLE9BQU8sRUFBRSxzQkFBc0I7UUFHL0IsV0FBVyxFQUFFLHNCQUFzQjtLQUdwQyxDQUFDO0lBR0QsSUFBQSxxQkFBVyxFQUFDO1FBR1gsTUFBTSxFQUFFLEdBQUc7UUFHWCxXQUFXLEVBQUUsd0JBQXdCO0tBR3RDLENBQUM7SUFHRCxJQUFBLHFCQUFXLEVBQUMsRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLFdBQVcsRUFBRSxjQUFjLEVBQUUsQ0FBQztJQUt2RCxXQUFBLElBQUEsY0FBSyxFQUFDLElBQUksQ0FBQyxDQUFBO0lBQ1gsV0FBQSxJQUFBLGNBQUssRUFBQyxPQUFPLENBQUMsQ0FBQTtJQUNkLFdBQUEsSUFBQSxjQUFLLEVBQUMsUUFBUSxDQUFDLENBQUE7Ozt3REFDZixPQUFPLG9CQUFQLE9BQU87dURBc0JUO0FBa0NLO0lBaENMLElBQUEsYUFBSSxHQUFFO0lBR04sSUFBQSxzQkFBWSxFQUFDO1FBR1osT0FBTyxFQUFFLGVBQWU7UUFHeEIsV0FBVyxFQUFFLGVBQWU7S0FHN0IsQ0FBQztJQUdELElBQUEscUJBQVcsRUFBQztRQUdYLE1BQU0sRUFBRSxHQUFHO1FBR1gsV0FBVyxFQUFFLHNCQUFzQjtLQUdwQyxDQUFDO0lBR0QsSUFBQSxxQkFBVyxFQUFDLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxXQUFXLEVBQUUsY0FBYyxFQUFFLENBQUM7SUFJekQsSUFBQSxpQkFBUSxFQUFDLG1CQUFVLENBQUMsT0FBTyxDQUFDO0lBRTFCLFdBQUEsSUFBQSxhQUFJLEdBQUUsQ0FBQTs7eURBQWdCLHlDQUF1QixvQkFBdkIseUNBQXVCO3dEQUM3QyxPQUFPLG9CQUFQLE9BQU87bURBUVQ7QUFrQ0s7SUFoQ0wsSUFBQSxZQUFHLEVBQUMsS0FBSyxDQUFDO0lBR1YsSUFBQSxzQkFBWSxFQUFDO1FBR1osT0FBTyxFQUFFLGVBQWU7UUFHeEIsV0FBVyxFQUFFLGVBQWU7S0FHN0IsQ0FBQztJQUdELElBQUEscUJBQVcsRUFBQztRQUdYLE1BQU0sRUFBRSxHQUFHO1FBR1gsV0FBVyxFQUFFLHNCQUFzQjtLQUdwQyxDQUFDO0lBR0QsSUFBQSxxQkFBVyxFQUFDLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxXQUFXLEVBQUUsY0FBYyxFQUFFLENBQUM7SUFJekQsSUFBQSxpQkFBUSxFQUFDLG1CQUFVLENBQUMsRUFBRSxDQUFDO0lBRXJCLFdBQUEsSUFBQSxjQUFLLEVBQUMsSUFBSSxDQUFDLENBQUE7SUFDWCxXQUFBLElBQUEsYUFBSSxHQUFFLENBQUE7O2lFQUFnQix5Q0FBdUIsb0JBQXZCLHlDQUF1Qjt3REFDN0MsT0FBTyxvQkFBUCxPQUFPO21EQVFUO0FBa0NLO0lBaENMLElBQUEsZUFBTSxFQUFDLEtBQUssQ0FBQztJQUdiLElBQUEsc0JBQVksRUFBQztRQUdaLE9BQU8sRUFBRSxlQUFlO1FBR3hCLFdBQVcsRUFBRSxlQUFlO0tBRzdCLENBQUM7SUFHRCxJQUFBLHFCQUFXLEVBQUM7UUFHWCxNQUFNLEVBQUUsR0FBRztRQUdYLFdBQVcsRUFBRSxzQkFBc0I7S0FHcEMsQ0FBQztJQUdELElBQUEscUJBQVcsRUFBQyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsV0FBVyxFQUFFLGNBQWMsRUFBRSxDQUFDO0lBSXpELElBQUEsaUJBQVEsRUFBQyxtQkFBVSxDQUFDLEVBQUUsQ0FBQztJQUNWLFdBQUEsSUFBQSxjQUFLLEVBQUMsSUFBSSxDQUFDLENBQUE7Ozt3REFBYyxPQUFPLG9CQUFQLE9BQU87bURBUTdDO0FBa0NLO0lBaENMLElBQUEsYUFBSSxFQUFDLFVBQVUsQ0FBQztJQUdoQixJQUFBLHNCQUFZLEVBQUM7UUFHWixPQUFPLEVBQUUsdUJBQXVCO1FBR2hDLFdBQVcsRUFBRSx1QkFBdUI7S0FHckMsQ0FBQztJQUdELElBQUEscUJBQVcsRUFBQztRQUdYLE1BQU0sRUFBRSxHQUFHO1FBR1gsV0FBVyxFQUFFLHNCQUFzQjtLQUdwQyxDQUFDO0lBR0QsSUFBQSxxQkFBVyxFQUFDLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxXQUFXLEVBQUUsY0FBYyxFQUFFLENBQUM7SUFJekQsSUFBQSxpQkFBUSxFQUFDLG1CQUFVLENBQUMsRUFBRSxDQUFDO0lBRXJCLFdBQUEsSUFBQSxjQUFLLEVBQUMsSUFBSSxDQUFDLENBQUE7SUFDWCxXQUFBLElBQUEseUNBQWEsR0FBRSxDQUFBOzs7d0RBQ2YsT0FBTyxvQkFBUCxPQUFPOzBEQVNUO0FBa0NLO0lBaENMLElBQUEsYUFBSSxFQUFDLFdBQVcsQ0FBQztJQUdqQixJQUFBLHNCQUFZLEVBQUM7UUFHWixPQUFPLEVBQUUsd0JBQXdCO1FBR2pDLFdBQVcsRUFBRSx3QkFBd0I7S0FHdEMsQ0FBQztJQUdELElBQUEscUJBQVcsRUFBQztRQUdYLE1BQU0sRUFBRSxHQUFHO1FBR1gsV0FBVyxFQUFFLHNCQUFzQjtLQUdwQyxDQUFDO0lBR0QsSUFBQSxxQkFBVyxFQUFDLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxXQUFXLEVBQUUsY0FBYyxFQUFFLENBQUM7SUFJekQsSUFBQSxpQkFBUSxFQUFDLG1CQUFVLENBQUMsRUFBRSxDQUFDO0lBRXJCLFdBQUEsSUFBQSxjQUFLLEVBQUMsSUFBSSxDQUFDLENBQUE7SUFDWCxXQUFBLElBQUEseUNBQWEsR0FBRSxDQUFBOzs7d0RBQ2YsT0FBTyxvQkFBUCxPQUFPOzJEQVNUO0FBaUNLO0lBL0JMLElBQUEsWUFBRyxFQUFDLGNBQWMsQ0FBQztJQUduQixJQUFBLHNCQUFZLEVBQUM7UUFHWixPQUFPLEVBQUUsMEJBQTBCO1FBR25DLFdBQVcsRUFBRSwwQkFBMEI7S0FHeEMsQ0FBQztJQUdELElBQUEscUJBQVcsRUFBQztRQUdYLE1BQU0sRUFBRSxHQUFHO1FBR1gsV0FBVyxFQUFFLHdCQUF3QjtLQUd0QyxDQUFDO0lBR0QsSUFBQSxxQkFBVyxFQUFDLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxXQUFXLEVBQUUsY0FBYyxFQUFFLENBQUM7SUFLdkQsV0FBQSxJQUFBLGNBQUssRUFBQyxRQUFRLENBQUMsQ0FBQTs7O3dEQUNmLE9BQU8sb0JBQVAsT0FBTzt5REFRVDtBQWlDSztJQS9CTCxJQUFBLFlBQUcsRUFBQyxnQkFBZ0IsQ0FBQztJQUdyQixJQUFBLHNCQUFZLEVBQUM7UUFHWixPQUFPLEVBQUUsaUNBQWlDO1FBRzFDLFdBQVcsRUFBRSxpQ0FBaUM7S0FHL0MsQ0FBQztJQUdELElBQUEscUJBQVcsRUFBQztRQUdYLE1BQU0sRUFBRSxHQUFHO1FBR1gsV0FBVyxFQUFFLHdCQUF3QjtLQUd0QyxDQUFDO0lBR0QsSUFBQSxxQkFBVyxFQUFDLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxXQUFXLEVBQUUsY0FBYyxFQUFFLENBQUM7Ozt3REFJN0IsT0FBTyxvQkFBUCxPQUFPO2dFQUVuQztBQWlDSztJQS9CTCxJQUFBLFlBQUcsRUFBQyxvQkFBb0IsQ0FBQztJQUd6QixJQUFBLHNCQUFZLEVBQUM7UUFHWixPQUFPLEVBQUUsaUNBQWlDO1FBRzFDLFdBQVcsRUFBRSxpQ0FBaUM7S0FHL0MsQ0FBQztJQUdELElBQUEscUJBQVcsRUFBQztRQUdYLE1BQU0sRUFBRSxHQUFHO1FBR1gsV0FBVyxFQUFFLHdCQUF3QjtLQUd0QyxDQUFDO0lBR0QsSUFBQSxxQkFBVyxFQUFDLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxXQUFXLEVBQUUsY0FBYyxFQUFFLENBQUM7SUFJL0IsV0FBQSxJQUFBLGNBQUssRUFBQyxJQUFJLENBQUMsQ0FBQTs7OztnRUFFckM7QUFpQ0s7SUEvQkwsSUFBQSxhQUFJLEVBQUMsZ0JBQWdCLENBQUM7SUFHdEIsSUFBQSxzQkFBWSxFQUFDO1FBR1osT0FBTyxFQUFFLDBCQUEwQjtRQUduQyxXQUFXLEVBQUUsMEJBQTBCO0tBR3hDLENBQUM7SUFHRCxJQUFBLHFCQUFXLEVBQUM7UUFHWCxNQUFNLEVBQUUsR0FBRztRQUdYLFdBQVcsRUFBRSxzQkFBc0I7S0FHcEMsQ0FBQztJQUdELElBQUEscUJBQVcsRUFBQyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsV0FBVyxFQUFFLGNBQWMsRUFBRSxDQUFDO0lBS3ZELFdBQUEsSUFBQSxjQUFLLEVBQUMsSUFBSSxDQUFDLENBQUE7SUFDWCxXQUFBLElBQUEsYUFBSSxHQUFFLENBQUE7Ozs7NERBT1I7QUFpQ0s7SUEvQkwsSUFBQSxhQUFJLEVBQUMsOEJBQThCLENBQUM7SUFHcEMsSUFBQSxzQkFBWSxFQUFDO1FBR1osT0FBTyxFQUFFLG9CQUFvQjtRQUc3QixXQUFXLEVBQUUsb0JBQW9CO0tBR2xDLENBQUM7SUFHRCxJQUFBLHFCQUFXLEVBQUM7UUFHWCxNQUFNLEVBQUUsR0FBRztRQUdYLFdBQVcsRUFBRSxzQkFBc0I7S0FHcEMsQ0FBQztJQUdELElBQUEscUJBQVcsRUFBQyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsV0FBVyxFQUFFLGNBQWMsRUFBRSxDQUFDO0lBS3ZELFdBQUEsSUFBQSxjQUFLLEVBQUMsYUFBYSxDQUFDLENBQUE7SUFDcEIsV0FBQSxJQUFBLGFBQUksR0FBRSxDQUFBOzs7O3VEQU9SO0FBaUNLO0lBL0JMLElBQUEsWUFBRyxFQUFDLCtCQUErQixDQUFDO0lBR3BDLElBQUEsc0JBQVksRUFBQztRQUdaLE9BQU8sRUFBRSw2QkFBNkI7UUFHdEMsV0FBVyxFQUFFLDZCQUE2QjtLQUczQyxDQUFDO0lBR0QsSUFBQSxxQkFBVyxFQUFDO1FBR1gsTUFBTSxFQUFFLEdBQUc7UUFHWCxXQUFXLEVBQUUsd0JBQXdCO0tBR3RDLENBQUM7SUFHRCxJQUFBLHFCQUFXLEVBQUMsRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLFdBQVcsRUFBRSxjQUFjLEVBQUUsQ0FBQztJQUluQyxXQUFBLElBQUEsY0FBSyxFQUFDLGFBQWEsQ0FBQyxDQUFBOzs7OzREQUUxQztBQXlCSztJQXRCTCxJQUFBLGFBQUksRUFBQyxXQUFXLENBQUM7SUFFakIsSUFBQSxzQkFBWSxFQUFDO1FBRVosT0FBTyxFQUFFLGlDQUFpQztRQUUxQyxXQUFXLEVBQUUsaUNBQWlDO0tBRS9DLENBQUM7SUFFRCxJQUFBLHFCQUFXLEVBQUM7UUFFWCxNQUFNLEVBQUUsR0FBRztRQUVYLFdBQVcsRUFBRSxzQkFBc0I7S0FFcEMsQ0FBQztJQUVELElBQUEscUJBQVcsRUFBQyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsV0FBVyxFQUFFLGNBQWMsRUFBRSxDQUFDO0lBR3pELElBQUEsaUJBQVEsRUFBQyxtQkFBVSxDQUFDLEVBQUUsQ0FBQztJQUVyQixXQUFBLElBQUEseUNBQWEsR0FBRSxDQUFBOzs7d0RBQ2YsT0FBTyxvQkFBUCxPQUFPO2tFQVVUO0FBa0NLO0lBaENMLElBQUEsYUFBSSxFQUFDLGdCQUFnQixDQUFDO0lBR3RCLElBQUEsc0JBQVksRUFBQztRQUdaLE9BQU8sRUFBRSxtQ0FBbUM7UUFHNUMsV0FBVyxFQUFFLG1DQUFtQztLQUdqRCxDQUFDO0lBR0QsSUFBQSxxQkFBVyxFQUFDO1FBR1gsTUFBTSxFQUFFLEdBQUc7UUFHWCxXQUFXLEVBQUUsc0JBQXNCO0tBR3BDLENBQUM7SUFHRCxJQUFBLHFCQUFXLEVBQUMsRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLFdBQVcsRUFBRSxjQUFjLEVBQUUsQ0FBQztJQUl6RCxJQUFBLGlCQUFRLEVBQUMsbUJBQVUsQ0FBQyxFQUFFLENBQUM7SUFFckIsV0FBQSxJQUFBLGNBQUssRUFBQyxRQUFRLENBQUMsQ0FBQTs7O3dEQUNmLE9BQU8sb0JBQVAsT0FBTztvRUFVVDtBQWlDSztJQS9CTCxJQUFBLFlBQUcsRUFBQyxnQkFBZ0IsQ0FBQztJQUdyQixJQUFBLHNCQUFZLEVBQUM7UUFHWixPQUFPLEVBQUUseUNBQXlDO1FBR2xELFdBQVcsRUFBRSx5Q0FBeUM7S0FHdkQsQ0FBQztJQUdELElBQUEscUJBQVcsRUFBQztRQUdYLE1BQU0sRUFBRSxHQUFHO1FBR1gsV0FBVyxFQUFFLHdCQUF3QjtLQUd0QyxDQUFDO0lBR0QsSUFBQSxxQkFBVyxFQUFDLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxXQUFXLEVBQUUsY0FBYyxFQUFFLENBQUM7SUFLdkQsV0FBQSxJQUFBLHlDQUFhLEdBQUUsQ0FBQTs7O3dEQUNmLE9BQU8sb0JBQVAsT0FBTzt3RUFVVDtBQWtDSztJQWhDTCxJQUFBLGFBQUksRUFBQyxhQUFhLENBQUM7SUFHbkIsSUFBQSxzQkFBWSxFQUFDO1FBR1osT0FBTyxFQUFFLGdDQUFnQztRQUd6QyxXQUFXLEVBQUUsZ0NBQWdDO0tBRzlDLENBQUM7SUFHRCxJQUFBLHFCQUFXLEVBQUM7UUFHWCxNQUFNLEVBQUUsR0FBRztRQUdYLFdBQVcsRUFBRSxzQkFBc0I7S0FHcEMsQ0FBQztJQUdELElBQUEscUJBQVcsRUFBQyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsV0FBVyxFQUFFLGNBQWMsRUFBRSxDQUFDO0lBSXpELElBQUEsaUJBQVEsRUFBQyxtQkFBVSxDQUFDLEVBQUUsQ0FBQztJQUVyQixXQUFBLElBQUEsYUFBSSxHQUFFLENBQUE7Ozt3REFDTixPQUFPLG9CQUFQLE9BQU87a0VBWVQ7Z0NBLzFCVSxxQkFBcUI7SUFKakMsSUFBQSxpQkFBTyxFQUFDLGFBQWEsQ0FBQztJQUN0QixJQUFBLHVCQUFhLEVBQUMsVUFBVSxDQUFDO0lBQ3pCLElBQUEsbUJBQVUsRUFBQyxhQUFhLENBQUM7SUFDekIsSUFBQSxrQkFBUyxFQUFDLDZCQUFZLENBQUM7eURBR2lCLHdDQUFrQixvQkFBbEIsd0NBQWtCLG9EQUNWLHlEQUEwQixvQkFBMUIseURBQTBCLG9EQUM5QyxzQ0FBYSxvQkFBYixzQ0FBYTtHQUo3QixxQkFBcUIsQ0FnMkJqQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvaG9tZS93ZXRvb2EvRG9jdW1lbnRzL2NvZGUvcHJvamVjdHMvbWVudGFyYS9tZW50YXJhLWFwaS9zcmMvY29tbXVuaXRpZXMvY29tbXVuaXRpZXMuY29udHJvbGxlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBCb2R5LFxuICBDb250cm9sbGVyLFxuICBEZWxldGUsXG4gIEdldCxcbiAgSHR0cENvZGUsXG4gIEh0dHBTdGF0dXMsXG4gIFBhcmFtLFxuICBQb3N0LFxuICBQdXQsXG4gIFF1ZXJ5LFxuICBVc2VHdWFyZHMsXG4gIE5vdEZvdW5kRXhjZXB0aW9uLFxuICBJbnRlcm5hbFNlcnZlckVycm9yRXhjZXB0aW9uLFxuICBCYWRSZXF1ZXN0RXhjZXB0aW9uLFxufSBmcm9tICdAbmVzdGpzL2NvbW1vbic7XG5pbXBvcnQgeyBKd3RBdXRoR3VhcmQgfSBmcm9tICdzcmMvYXV0aC9ndWFyZHMvand0LWF1dGguZ3VhcmQnO1xuaW1wb3J0IHsgUHJpc21hU2VydmljZSB9IGZyb20gJ3NyYy9wcm92aWRlcnMvcHJpc21hLWNsaWVudC5wcm92aWRlcic7XG5pbXBvcnQgeyBDb21tdW5pdGllc1NlcnZpY2UgfSBmcm9tICcuL2NvbW11bml0aWVzLnNlcnZpY2UnO1xuaW1wb3J0IHsgQ29tbXVuaXR5QXNzaWdubWVudFNlcnZpY2UgfSBmcm9tICcuL2NvbW11bml0eS1hc3NpZ25tZW50LnNlcnZpY2UnO1xuaW1wb3J0IHtcbiAgQ29tbXVuaXR5Q3JlYXRlSW5wdXREdG8sXG4gIENvbW11bml0eVVwZGF0ZUlucHV0RHRvLFxufSBmcm9tICdtZW50YXJhLWNvbW1vbnMnO1xuXG4vLyBMb2NhbCByZXNwb25zZSBpbnRlcmZhY2VzXG5pbnRlcmZhY2UgQ29tbXVuaXR5UmVzcG9uc2Uge1xuICBpZDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIHNsdWc6IHN0cmluZztcbiAgaW1hZ2VVcmw6IHN0cmluZztcbiAgaXNQcml2YXRlPzogYm9vbGVhbjtcbiAgbWVtYmVyQ291bnQ/OiBudW1iZXI7XG4gIGNyZWF0ZWRBdDogRGF0ZTtcbiAgdXBkYXRlZEF0OiBEYXRlO1xufVxuXG5pbnRlcmZhY2UgQ29tbXVuaXR5U3RhdHNSZXNwb25zZSB7XG4gIG1lbWJlckNvdW50PzogbnVtYmVyO1xuICBwb3N0Q291bnQ/OiBudW1iZXI7XG4gIGFjdGl2ZU1lbWJlcnM/OiBudW1iZXI7XG4gIHRvdGFsTWVtYmVycz86IG51bWJlcjtcbiAgdG90YWxQb3N0cz86IG51bWJlcjtcbiAgYWN0aXZlQ29tbXVuaXRpZXM/OiBudW1iZXI7XG4gIGlsbG5lc3NDb21tdW5pdGllcz86IGFueVtdO1xufVxuXG5pbnRlcmZhY2UgQ29tbXVuaXR5V2l0aE1lbWJlcnNSZXNwb25zZSBleHRlbmRzIENvbW11bml0eVJlc3BvbnNlIHtcbiAgbWVtYmVyczogYW55W107XG59XG5cbmludGVyZmFjZSBDb21tdW5pdHlXaXRoUm9vbUdyb3Vwc1Jlc3BvbnNlIGV4dGVuZHMgQ29tbXVuaXR5UmVzcG9uc2Uge1xuICByb29tR3JvdXBzOiBBcnJheTx7XG4gICAgaWQ6IHN0cmluZztcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgb3JkZXI6IG51bWJlcjtcbiAgICBjb21tdW5pdHlJZDogc3RyaW5nO1xuICAgIHJvb21zOiBBcnJheTx7XG4gICAgICBpZDogc3RyaW5nO1xuICAgICAgbmFtZTogc3RyaW5nO1xuICAgICAgb3JkZXI6IG51bWJlcjtcbiAgICAgIHBvc3RpbmdSb2xlOiBzdHJpbmc7XG4gICAgICByb29tR3JvdXBJZDogc3RyaW5nO1xuICAgIH0+O1xuICB9Pjtcbn1cbmltcG9ydCB7IEN1cnJlbnRVc2VySWQgfSBmcm9tICdzcmMvYXV0aC9kZWNvcmF0b3JzL2N1cnJlbnQtdXNlci1pZC5kZWNvcmF0b3InO1xuaW1wb3J0IHtcbiAgQXBpVGFncyxcbiAgQXBpT3BlcmF0aW9uLFxuICBBcGlSZXNwb25zZSxcbiAgQXBpQm9keSxcbiAgQXBpQmVhcmVyQXV0aCxcbiAgQXBpUGFyYW0sXG4gIEFwaVF1ZXJ5LFxufSBmcm9tICdAbmVzdGpzL3N3YWdnZXInO1xuXG5AQXBpVGFncygnY29tbXVuaXRpZXMnKVxuQEFwaUJlYXJlckF1dGgoJ0pXVC1hdXRoJylcbkBDb250cm9sbGVyKCdjb21tdW5pdGllcycpXG5AVXNlR3VhcmRzKEp3dEF1dGhHdWFyZClcbmV4cG9ydCBjbGFzcyBDb21tdW5pdGllc0NvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIHJlYWRvbmx5IGNvbW11bml0aWVzU2VydmljZTogQ29tbXVuaXRpZXNTZXJ2aWNlLFxuICAgIHByaXZhdGUgcmVhZG9ubHkgY29tbXVuaXR5QXNzaWdubWVudFNlcnZpY2U6IENvbW11bml0eUFzc2lnbm1lbnRTZXJ2aWNlLFxuICAgIHByaXZhdGUgcmVhZG9ubHkgcHJpc21hOiBQcmlzbWFTZXJ2aWNlLFxuICApIHt9XG5cbiAgQEdldCgpXG5cblxuICBAQXBpT3BlcmF0aW9uKHsgXG5cblxuICAgIHN1bW1hcnk6ICdSZXRyaWV2ZSBmaW5kIGFsbCcsXG5cblxuICAgIGRlc2NyaXB0aW9uOiAnUmV0cmlldmUgZmluZCBhbGwnIFxuXG5cbiAgfSlcblxuXG4gIEBBcGlSZXNwb25zZSh7IFxuXG5cbiAgICBzdGF0dXM6IDIwMCwgXG5cblxuICAgIGRlc2NyaXB0aW9uOiAnUmV0cmlldmVkIHN1Y2Nlc3NmdWxseScgXG5cblxuICB9KVxuXG5cbiAgQEFwaVJlc3BvbnNlKHsgc3RhdHVzOiA0MDEsIGRlc2NyaXB0aW9uOiAnVW5hdXRob3JpemVkJyB9KVxuXG5cbiAgXG4gIGFzeW5jIGZpbmRBbGwoKTogUHJvbWlzZTxDb21tdW5pdHlSZXNwb25zZVtdPiB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLmNvbW11bml0aWVzU2VydmljZS5maW5kQWxsKCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBJbnRlcm5hbFNlcnZlckVycm9yRXhjZXB0aW9uKFxuICAgICAgICBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJyxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgQEdldCgnc3RhdHMnKVxuXG5cbiAgQEFwaU9wZXJhdGlvbih7IFxuXG5cbiAgICBzdW1tYXJ5OiAnUmV0cmlldmUgZ2V0IHN0YXRzJyxcblxuXG4gICAgZGVzY3JpcHRpb246ICdSZXRyaWV2ZSBnZXQgc3RhdHMnIFxuXG5cbiAgfSlcblxuXG4gIEBBcGlSZXNwb25zZSh7IFxuXG5cbiAgICBzdGF0dXM6IDIwMCwgXG5cblxuICAgIGRlc2NyaXB0aW9uOiAnUmV0cmlldmVkIHN1Y2Nlc3NmdWxseScgXG5cblxuICB9KVxuXG5cbiAgQEFwaVJlc3BvbnNlKHsgc3RhdHVzOiA0MDEsIGRlc2NyaXB0aW9uOiAnVW5hdXRob3JpemVkJyB9KVxuXG5cbiAgXG4gIGFzeW5jIGdldFN0YXRzKCk6IFByb21pc2U8Q29tbXVuaXR5U3RhdHNSZXNwb25zZT4ge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5jb21tdW5pdGllc1NlcnZpY2UuZ2V0U3RhdHMoKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgbmV3IEludGVybmFsU2VydmVyRXJyb3JFeGNlcHRpb24oXG4gICAgICAgIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBAR2V0KCdzbHVnLzpzbHVnJylcblxuXG4gIEBBcGlPcGVyYXRpb24oeyBcblxuXG4gICAgc3VtbWFyeTogJ1JldHJpZXZlIGZpbmQgYnkgc2x1ZycsXG5cblxuICAgIGRlc2NyaXB0aW9uOiAnUmV0cmlldmUgZmluZCBieSBzbHVnJyBcblxuXG4gIH0pXG5cblxuICBAQXBpUmVzcG9uc2UoeyBcblxuXG4gICAgc3RhdHVzOiAyMDAsIFxuXG5cbiAgICBkZXNjcmlwdGlvbjogJ1JldHJpZXZlZCBzdWNjZXNzZnVsbHknIFxuXG5cbiAgfSlcblxuXG4gIEBBcGlSZXNwb25zZSh7IHN0YXR1czogNDAxLCBkZXNjcmlwdGlvbjogJ1VuYXV0aG9yaXplZCcgfSlcblxuXG4gIFxuICBhc3luYyBmaW5kQnlTbHVnKEBQYXJhbSgnc2x1ZycpIHNsdWc6IHN0cmluZyk6IFByb21pc2U8Q29tbXVuaXR5UmVzcG9uc2U+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29tbXVuaXR5ID0gYXdhaXQgdGhpcy5jb21tdW5pdGllc1NlcnZpY2UuZmluZEJ5U2x1ZyhzbHVnKTtcbiAgICAgIGlmICghY29tbXVuaXR5KSB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb24oJ0NvbW11bml0eSBub3QgZm91bmQnKTtcbiAgICAgIHJldHVybiBjb21tdW5pdHk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBJbnRlcm5hbFNlcnZlckVycm9yRXhjZXB0aW9uKFxuICAgICAgICBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJyxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgQEdldCgnOmlkJylcblxuXG4gIEBBcGlPcGVyYXRpb24oeyBcblxuXG4gICAgc3VtbWFyeTogJ1JldHJpZXZlIGZpbmQgb25lJyxcblxuXG4gICAgZGVzY3JpcHRpb246ICdSZXRyaWV2ZSBmaW5kIG9uZScgXG5cblxuICB9KVxuXG5cbiAgQEFwaVJlc3BvbnNlKHsgXG5cblxuICAgIHN0YXR1czogMjAwLCBcblxuXG4gICAgZGVzY3JpcHRpb246ICdSZXRyaWV2ZWQgc3VjY2Vzc2Z1bGx5JyBcblxuXG4gIH0pXG5cblxuICBAQXBpUmVzcG9uc2UoeyBzdGF0dXM6IDQwMSwgZGVzY3JpcHRpb246ICdVbmF1dGhvcml6ZWQnIH0pXG5cblxuICBcbiAgYXN5bmMgZmluZE9uZShAUGFyYW0oJ2lkJykgaWQ6IHN0cmluZyk6IFByb21pc2U8Q29tbXVuaXR5UmVzcG9uc2U+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY29tbXVuaXR5ID0gYXdhaXQgdGhpcy5jb21tdW5pdGllc1NlcnZpY2UuZmluZE9uZShpZCk7XG4gICAgICBpZiAoIWNvbW11bml0eSkgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uKCdDb21tdW5pdHkgbm90IGZvdW5kJyk7XG4gICAgICByZXR1cm4gY29tbXVuaXR5O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgSW50ZXJuYWxTZXJ2ZXJFcnJvckV4Y2VwdGlvbihcbiAgICAgICAgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcicsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIEBHZXQoJzppZC9tZW1iZXJzJylcblxuXG4gIEBBcGlPcGVyYXRpb24oeyBcblxuXG4gICAgc3VtbWFyeTogJ1JldHJpZXZlIGdldCBtZW1iZXJzJyxcblxuXG4gICAgZGVzY3JpcHRpb246ICdSZXRyaWV2ZSBnZXQgbWVtYmVycycgXG5cblxuICB9KVxuXG5cbiAgQEFwaVJlc3BvbnNlKHsgXG5cblxuICAgIHN0YXR1czogMjAwLCBcblxuXG4gICAgZGVzY3JpcHRpb246ICdSZXRyaWV2ZWQgc3VjY2Vzc2Z1bGx5JyBcblxuXG4gIH0pXG5cblxuICBAQXBpUmVzcG9uc2UoeyBzdGF0dXM6IDQwMSwgZGVzY3JpcHRpb246ICdVbmF1dGhvcml6ZWQnIH0pXG5cblxuICBcbiAgYXN5bmMgZ2V0TWVtYmVycyhcbiAgICBAUGFyYW0oJ2lkJykgaWQ6IHN0cmluZyxcbiAgICBAUXVlcnkoJ2xpbWl0JykgbGltaXQ/OiBzdHJpbmcsXG4gICAgQFF1ZXJ5KCdvZmZzZXQnKSBvZmZzZXQ/OiBzdHJpbmcsXG4gICk6IFByb21pc2U8Q29tbXVuaXR5V2l0aE1lbWJlcnNSZXNwb25zZT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBsaW1pdE51bSA9IGxpbWl0ID8gcGFyc2VJbnQobGltaXQsIDEwKSA6IDUwO1xuICAgICAgY29uc3Qgb2Zmc2V0TnVtID0gb2Zmc2V0ID8gcGFyc2VJbnQob2Zmc2V0LCAxMCkgOiAwO1xuXG4gICAgICBpZiAobGltaXQgJiYgaXNOYU4obGltaXROdW0pKSB7XG4gICAgICAgIHRocm93IG5ldyBCYWRSZXF1ZXN0RXhjZXB0aW9uKCdJbnZhbGlkIGxpbWl0IHBhcmFtZXRlcicpO1xuICAgICAgfVxuICAgICAgaWYgKG9mZnNldCAmJiBpc05hTihvZmZzZXROdW0pKSB7XG4gICAgICAgIHRocm93IG5ldyBCYWRSZXF1ZXN0RXhjZXB0aW9uKCdJbnZhbGlkIG9mZnNldCBwYXJhbWV0ZXInKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuY29tbXVuaXRpZXNTZXJ2aWNlLmdldE1lbWJlcnMoXG4gICAgICAgIGlkLFxuICAgICAgICBNYXRoLm1heCgxLCBNYXRoLm1pbigxMDAsIGxpbWl0TnVtKSksIC8vIENsYW1wIGJldHdlZW4gMS0xMDBcbiAgICAgICAgTWF0aC5tYXgoMCwgb2Zmc2V0TnVtKSwgLy8gRW5zdXJlIG5vbi1uZWdhdGl2ZVxuICAgICAgKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgbmV3IEludGVybmFsU2VydmVyRXJyb3JFeGNlcHRpb24oXG4gICAgICAgIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBAUG9zdCgpXG5cblxuICBAQXBpT3BlcmF0aW9uKHsgXG5cblxuICAgIHN1bW1hcnk6ICdDcmVhdGUgY3JlYXRlJyxcblxuXG4gICAgZGVzY3JpcHRpb246ICdDcmVhdGUgY3JlYXRlJyBcblxuXG4gIH0pXG5cblxuICBAQXBpUmVzcG9uc2UoeyBcblxuXG4gICAgc3RhdHVzOiAyMDEsIFxuXG5cbiAgICBkZXNjcmlwdGlvbjogJ0NyZWF0ZWQgc3VjY2Vzc2Z1bGx5JyBcblxuXG4gIH0pXG5cblxuICBAQXBpUmVzcG9uc2UoeyBzdGF0dXM6IDQwMSwgZGVzY3JpcHRpb246ICdVbmF1dGhvcml6ZWQnIH0pXG5cblxuICBcbiAgQEh0dHBDb2RlKEh0dHBTdGF0dXMuQ1JFQVRFRClcbiAgYXN5bmMgY3JlYXRlKFxuICAgIEBCb2R5KCkgY29tbXVuaXR5RGF0YTogQ29tbXVuaXR5Q3JlYXRlSW5wdXREdG8sXG4gICk6IFByb21pc2U8Q29tbXVuaXR5UmVzcG9uc2U+IHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuY29tbXVuaXRpZXNTZXJ2aWNlLmNyZWF0ZUNvbW11bml0eShjb21tdW5pdHlEYXRhKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgbmV3IEludGVybmFsU2VydmVyRXJyb3JFeGNlcHRpb24oXG4gICAgICAgIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBAUHV0KCc6aWQnKVxuXG5cbiAgQEFwaU9wZXJhdGlvbih7IFxuXG5cbiAgICBzdW1tYXJ5OiAnVXBkYXRlIHVwZGF0ZScsXG5cblxuICAgIGRlc2NyaXB0aW9uOiAnVXBkYXRlIHVwZGF0ZScgXG5cblxuICB9KVxuXG5cbiAgQEFwaVJlc3BvbnNlKHsgXG5cblxuICAgIHN0YXR1czogMjAwLCBcblxuXG4gICAgZGVzY3JpcHRpb246ICdVcGRhdGVkIHN1Y2Nlc3NmdWxseScgXG5cblxuICB9KVxuXG5cbiAgQEFwaVJlc3BvbnNlKHsgc3RhdHVzOiA0MDEsIGRlc2NyaXB0aW9uOiAnVW5hdXRob3JpemVkJyB9KVxuXG5cbiAgXG4gIEBIdHRwQ29kZShIdHRwU3RhdHVzLk9LKVxuICBhc3luYyB1cGRhdGUoXG4gICAgQFBhcmFtKCdpZCcpIGlkOiBzdHJpbmcsXG4gICAgQEJvZHkoKSBjb21tdW5pdHlEYXRhOiBDb21tdW5pdHlVcGRhdGVJbnB1dER0byxcbiAgKTogUHJvbWlzZTxDb21tdW5pdHlSZXNwb25zZT4ge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5jb21tdW5pdGllc1NlcnZpY2UudXBkYXRlKGlkLCBjb21tdW5pdHlEYXRhKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgbmV3IEludGVybmFsU2VydmVyRXJyb3JFeGNlcHRpb24oXG4gICAgICAgIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBARGVsZXRlKCc6aWQnKVxuXG5cbiAgQEFwaU9wZXJhdGlvbih7IFxuXG5cbiAgICBzdW1tYXJ5OiAnRGVsZXRlIHJlbW92ZScsXG5cblxuICAgIGRlc2NyaXB0aW9uOiAnRGVsZXRlIHJlbW92ZScgXG5cblxuICB9KVxuXG5cbiAgQEFwaVJlc3BvbnNlKHsgXG5cblxuICAgIHN0YXR1czogMjAwLCBcblxuXG4gICAgZGVzY3JpcHRpb246ICdEZWxldGVkIHN1Y2Nlc3NmdWxseScgXG5cblxuICB9KVxuXG5cbiAgQEFwaVJlc3BvbnNlKHsgc3RhdHVzOiA0MDEsIGRlc2NyaXB0aW9uOiAnVW5hdXRob3JpemVkJyB9KVxuXG5cbiAgXG4gIEBIdHRwQ29kZShIdHRwU3RhdHVzLk9LKVxuICBhc3luYyByZW1vdmUoQFBhcmFtKCdpZCcpIGlkOiBzdHJpbmcpOiBQcm9taXNlPENvbW11bml0eVJlc3BvbnNlPiB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLmNvbW11bml0aWVzU2VydmljZS5yZW1vdmUoaWQpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgSW50ZXJuYWxTZXJ2ZXJFcnJvckV4Y2VwdGlvbihcbiAgICAgICAgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcicsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIEBQb3N0KCc6aWQvam9pbicpXG5cblxuICBAQXBpT3BlcmF0aW9uKHsgXG5cblxuICAgIHN1bW1hcnk6ICdDcmVhdGUgam9pbiBjb21tdW5pdHknLFxuXG5cbiAgICBkZXNjcmlwdGlvbjogJ0NyZWF0ZSBqb2luIGNvbW11bml0eScgXG5cblxuICB9KVxuXG5cbiAgQEFwaVJlc3BvbnNlKHsgXG5cblxuICAgIHN0YXR1czogMjAxLCBcblxuXG4gICAgZGVzY3JpcHRpb246ICdDcmVhdGVkIHN1Y2Nlc3NmdWxseScgXG5cblxuICB9KVxuXG5cbiAgQEFwaVJlc3BvbnNlKHsgc3RhdHVzOiA0MDEsIGRlc2NyaXB0aW9uOiAnVW5hdXRob3JpemVkJyB9KVxuXG5cbiAgXG4gIEBIdHRwQ29kZShIdHRwU3RhdHVzLk9LKVxuICBhc3luYyBqb2luQ29tbXVuaXR5KFxuICAgIEBQYXJhbSgnaWQnKSBjb21tdW5pdHlJZDogc3RyaW5nLFxuICAgIEBDdXJyZW50VXNlcklkKCkgdXNlcklkOiBzdHJpbmcsXG4gICk6IFByb21pc2U8eyBqb2luZWQ6IGJvb2xlYW4gfT4ge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCB0aGlzLmNvbW11bml0aWVzU2VydmljZS5qb2luQ29tbXVuaXR5KGNvbW11bml0eUlkLCB1c2VySWQpO1xuICAgICAgcmV0dXJuIHsgam9pbmVkOiB0cnVlIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBJbnRlcm5hbFNlcnZlckVycm9yRXhjZXB0aW9uKFxuICAgICAgICBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJyxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgQFBvc3QoJzppZC9sZWF2ZScpXG5cblxuICBAQXBpT3BlcmF0aW9uKHsgXG5cblxuICAgIHN1bW1hcnk6ICdDcmVhdGUgbGVhdmUgY29tbXVuaXR5JyxcblxuXG4gICAgZGVzY3JpcHRpb246ICdDcmVhdGUgbGVhdmUgY29tbXVuaXR5JyBcblxuXG4gIH0pXG5cblxuICBAQXBpUmVzcG9uc2UoeyBcblxuXG4gICAgc3RhdHVzOiAyMDEsIFxuXG5cbiAgICBkZXNjcmlwdGlvbjogJ0NyZWF0ZWQgc3VjY2Vzc2Z1bGx5JyBcblxuXG4gIH0pXG5cblxuICBAQXBpUmVzcG9uc2UoeyBzdGF0dXM6IDQwMSwgZGVzY3JpcHRpb246ICdVbmF1dGhvcml6ZWQnIH0pXG5cblxuICBcbiAgQEh0dHBDb2RlKEh0dHBTdGF0dXMuT0spXG4gIGFzeW5jIGxlYXZlQ29tbXVuaXR5KFxuICAgIEBQYXJhbSgnaWQnKSBjb21tdW5pdHlJZDogc3RyaW5nLFxuICAgIEBDdXJyZW50VXNlcklkKCkgdXNlcklkOiBzdHJpbmcsXG4gICk6IFByb21pc2U8eyBsZWZ0OiBib29sZWFuIH0+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgdGhpcy5jb21tdW5pdGllc1NlcnZpY2UubGVhdmVDb21tdW5pdHkoY29tbXVuaXR5SWQsIHVzZXJJZCk7XG4gICAgICByZXR1cm4geyBsZWZ0OiB0cnVlIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBJbnRlcm5hbFNlcnZlckVycm9yRXhjZXB0aW9uKFxuICAgICAgICBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJyxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgQEdldCgndXNlci86dXNlcklkJylcblxuXG4gIEBBcGlPcGVyYXRpb24oeyBcblxuXG4gICAgc3VtbWFyeTogJ1JldHJpZXZlIGZpbmQgYnkgdXNlciBpZCcsXG5cblxuICAgIGRlc2NyaXB0aW9uOiAnUmV0cmlldmUgZmluZCBieSB1c2VyIGlkJyBcblxuXG4gIH0pXG5cblxuICBAQXBpUmVzcG9uc2UoeyBcblxuXG4gICAgc3RhdHVzOiAyMDAsIFxuXG5cbiAgICBkZXNjcmlwdGlvbjogJ1JldHJpZXZlZCBzdWNjZXNzZnVsbHknIFxuXG5cbiAgfSlcblxuXG4gIEBBcGlSZXNwb25zZSh7IHN0YXR1czogNDAxLCBkZXNjcmlwdGlvbjogJ1VuYXV0aG9yaXplZCcgfSlcblxuXG4gIFxuICBhc3luYyBmaW5kQnlVc2VySWQoXG4gICAgQFBhcmFtKCd1c2VySWQnKSB1c2VySWQ6IHN0cmluZyxcbiAgKTogUHJvbWlzZTxDb21tdW5pdHlSZXNwb25zZVtdPiB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLmNvbW11bml0aWVzU2VydmljZS5maW5kQnlVc2VySWQodXNlcklkKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgbmV3IEludGVybmFsU2VydmVyRXJyb3JFeGNlcHRpb24oXG4gICAgICAgIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBAR2V0KCd3aXRoLXN0cnVjdHVyZScpXG5cblxuICBAQXBpT3BlcmF0aW9uKHsgXG5cblxuICAgIHN1bW1hcnk6ICdSZXRyaWV2ZSBnZXQgYWxsIHdpdGggc3RydWN0dXJlJyxcblxuXG4gICAgZGVzY3JpcHRpb246ICdSZXRyaWV2ZSBnZXQgYWxsIHdpdGggc3RydWN0dXJlJyBcblxuXG4gIH0pXG5cblxuICBAQXBpUmVzcG9uc2UoeyBcblxuXG4gICAgc3RhdHVzOiAyMDAsIFxuXG5cbiAgICBkZXNjcmlwdGlvbjogJ1JldHJpZXZlZCBzdWNjZXNzZnVsbHknIFxuXG5cbiAgfSlcblxuXG4gIEBBcGlSZXNwb25zZSh7IHN0YXR1czogNDAxLCBkZXNjcmlwdGlvbjogJ1VuYXV0aG9yaXplZCcgfSlcblxuXG4gIFxuICBhc3luYyBnZXRBbGxXaXRoU3RydWN0dXJlKCk6IFByb21pc2U8Q29tbXVuaXR5V2l0aFJvb21Hcm91cHNSZXNwb25zZVtdPiB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuY29tbXVuaXRpZXNTZXJ2aWNlLmZpbmRBbGxXaXRoU3RydWN0dXJlKCk7XG4gIH1cblxuICBAR2V0KCc6aWQvd2l0aC1zdHJ1Y3R1cmUnKVxuXG5cbiAgQEFwaU9wZXJhdGlvbih7IFxuXG5cbiAgICBzdW1tYXJ5OiAnUmV0cmlldmUgZ2V0IG9uZSB3aXRoIHN0cnVjdHVyZScsXG5cblxuICAgIGRlc2NyaXB0aW9uOiAnUmV0cmlldmUgZ2V0IG9uZSB3aXRoIHN0cnVjdHVyZScgXG5cblxuICB9KVxuXG5cbiAgQEFwaVJlc3BvbnNlKHsgXG5cblxuICAgIHN0YXR1czogMjAwLCBcblxuXG4gICAgZGVzY3JpcHRpb246ICdSZXRyaWV2ZWQgc3VjY2Vzc2Z1bGx5JyBcblxuXG4gIH0pXG5cblxuICBAQXBpUmVzcG9uc2UoeyBzdGF0dXM6IDQwMSwgZGVzY3JpcHRpb246ICdVbmF1dGhvcml6ZWQnIH0pXG5cblxuICBcbiAgYXN5bmMgZ2V0T25lV2l0aFN0cnVjdHVyZShAUGFyYW0oJ2lkJykgaWQ6IHN0cmluZykge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmNvbW11bml0aWVzU2VydmljZS5maW5kT25lV2l0aFN0cnVjdHVyZShpZCk7XG4gIH1cblxuICBAUG9zdCgnOmlkL3Jvb20tZ3JvdXAnKVxuXG5cbiAgQEFwaU9wZXJhdGlvbih7IFxuXG5cbiAgICBzdW1tYXJ5OiAnQ3JlYXRlIGNyZWF0ZSByb29tIGdyb3VwJyxcblxuXG4gICAgZGVzY3JpcHRpb246ICdDcmVhdGUgY3JlYXRlIHJvb20gZ3JvdXAnIFxuXG5cbiAgfSlcblxuXG4gIEBBcGlSZXNwb25zZSh7IFxuXG5cbiAgICBzdGF0dXM6IDIwMSwgXG5cblxuICAgIGRlc2NyaXB0aW9uOiAnQ3JlYXRlZCBzdWNjZXNzZnVsbHknIFxuXG5cbiAgfSlcblxuXG4gIEBBcGlSZXNwb25zZSh7IHN0YXR1czogNDAxLCBkZXNjcmlwdGlvbjogJ1VuYXV0aG9yaXplZCcgfSlcblxuXG4gIFxuICBhc3luYyBjcmVhdGVSb29tR3JvdXAoXG4gICAgQFBhcmFtKCdpZCcpIGNvbW11bml0eUlkOiBzdHJpbmcsXG4gICAgQEJvZHkoKSBkdG86IHsgbmFtZTogc3RyaW5nOyBvcmRlcjogbnVtYmVyIH0sXG4gICkge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmNvbW11bml0aWVzU2VydmljZS5jcmVhdGVSb29tR3JvdXAoXG4gICAgICBjb21tdW5pdHlJZCxcbiAgICAgIGR0by5uYW1lLFxuICAgICAgZHRvLm9yZGVyLFxuICAgICk7XG4gIH1cblxuICBAUG9zdCgncm9vbS1ncm91cC86cm9vbUdyb3VwSWQvcm9vbScpXG5cblxuICBAQXBpT3BlcmF0aW9uKHsgXG5cblxuICAgIHN1bW1hcnk6ICdDcmVhdGUgY3JlYXRlIHJvb20nLFxuXG5cbiAgICBkZXNjcmlwdGlvbjogJ0NyZWF0ZSBjcmVhdGUgcm9vbScgXG5cblxuICB9KVxuXG5cbiAgQEFwaVJlc3BvbnNlKHsgXG5cblxuICAgIHN0YXR1czogMjAxLCBcblxuXG4gICAgZGVzY3JpcHRpb246ICdDcmVhdGVkIHN1Y2Nlc3NmdWxseScgXG5cblxuICB9KVxuXG5cbiAgQEFwaVJlc3BvbnNlKHsgc3RhdHVzOiA0MDEsIGRlc2NyaXB0aW9uOiAnVW5hdXRob3JpemVkJyB9KVxuXG5cbiAgXG4gIGFzeW5jIGNyZWF0ZVJvb20oXG4gICAgQFBhcmFtKCdyb29tR3JvdXBJZCcpIHJvb21Hcm91cElkOiBzdHJpbmcsXG4gICAgQEJvZHkoKSBkdG86IHsgbmFtZTogc3RyaW5nOyBvcmRlcjogbnVtYmVyIH0sXG4gICkge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmNvbW11bml0aWVzU2VydmljZS5jcmVhdGVSb29tKFxuICAgICAgcm9vbUdyb3VwSWQsXG4gICAgICBkdG8ubmFtZSxcbiAgICAgIGR0by5vcmRlcixcbiAgICApO1xuICB9XG5cbiAgQEdldCgncm9vbS1ncm91cC86cm9vbUdyb3VwSWQvcm9vbXMnKVxuXG5cbiAgQEFwaU9wZXJhdGlvbih7IFxuXG5cbiAgICBzdW1tYXJ5OiAnUmV0cmlldmUgZ2V0IHJvb21zIGJ5IGdyb3VwJyxcblxuXG4gICAgZGVzY3JpcHRpb246ICdSZXRyaWV2ZSBnZXQgcm9vbXMgYnkgZ3JvdXAnIFxuXG5cbiAgfSlcblxuXG4gIEBBcGlSZXNwb25zZSh7IFxuXG5cbiAgICBzdGF0dXM6IDIwMCwgXG5cblxuICAgIGRlc2NyaXB0aW9uOiAnUmV0cmlldmVkIHN1Y2Nlc3NmdWxseScgXG5cblxuICB9KVxuXG5cbiAgQEFwaVJlc3BvbnNlKHsgc3RhdHVzOiA0MDEsIGRlc2NyaXB0aW9uOiAnVW5hdXRob3JpemVkJyB9KVxuXG5cbiAgXG4gIGFzeW5jIGdldFJvb21zQnlHcm91cChAUGFyYW0oJ3Jvb21Hcm91cElkJykgcm9vbUdyb3VwSWQ6IHN0cmluZykge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmNvbW11bml0aWVzU2VydmljZS5maW5kUm9vbXNCeUdyb3VwKHJvb21Hcm91cElkKTtcbiAgfVxuXG4gIC8vIENvbW11bml0eSBBc3NpZ25tZW50IEVuZHBvaW50c1xuICBAUG9zdCgnYXNzaWduL21lJylcblxuICBAQXBpT3BlcmF0aW9uKHsgXG5cbiAgICBzdW1tYXJ5OiAnQ3JlYXRlIGFzc2lnbiBjb21tdW5pdGllcyB0byBtZScsXG5cbiAgICBkZXNjcmlwdGlvbjogJ0NyZWF0ZSBhc3NpZ24gY29tbXVuaXRpZXMgdG8gbWUnIFxuXG4gIH0pXG5cbiAgQEFwaVJlc3BvbnNlKHsgXG5cbiAgICBzdGF0dXM6IDIwMSwgXG5cbiAgICBkZXNjcmlwdGlvbjogJ0NyZWF0ZWQgc3VjY2Vzc2Z1bGx5JyBcblxuICB9KVxuXG4gIEBBcGlSZXNwb25zZSh7IHN0YXR1czogNDAxLCBkZXNjcmlwdGlvbjogJ1VuYXV0aG9yaXplZCcgfSlcblxuICBcbiAgQEh0dHBDb2RlKEh0dHBTdGF0dXMuT0spXG4gIGFzeW5jIGFzc2lnbkNvbW11bml0aWVzVG9NZShcbiAgICBAQ3VycmVudFVzZXJJZCgpIHVzZXJJZDogc3RyaW5nLFxuICApOiBQcm9taXNlPHsgYXNzaWduZWRDb21tdW5pdGllczogc3RyaW5nW10gfT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBhc3NpZ25lZENvbW11bml0aWVzID1cbiAgICAgICAgYXdhaXQgdGhpcy5jb21tdW5pdHlBc3NpZ25tZW50U2VydmljZS5hc3NpZ25Db21tdW5pdGllc1RvVXNlcih1c2VySWQpO1xuICAgICAgcmV0dXJuIHsgYXNzaWduZWRDb21tdW5pdGllcyB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgSW50ZXJuYWxTZXJ2ZXJFcnJvckV4Y2VwdGlvbihcbiAgICAgICAgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcicsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIEBQb3N0KCdhc3NpZ24vOnVzZXJJZCcpXG5cblxuICBAQXBpT3BlcmF0aW9uKHsgXG5cblxuICAgIHN1bW1hcnk6ICdDcmVhdGUgYXNzaWduIGNvbW11bml0aWVzIHRvIHVzZXInLFxuXG5cbiAgICBkZXNjcmlwdGlvbjogJ0NyZWF0ZSBhc3NpZ24gY29tbXVuaXRpZXMgdG8gdXNlcicgXG5cblxuICB9KVxuXG5cbiAgQEFwaVJlc3BvbnNlKHsgXG5cblxuICAgIHN0YXR1czogMjAxLCBcblxuXG4gICAgZGVzY3JpcHRpb246ICdDcmVhdGVkIHN1Y2Nlc3NmdWxseScgXG5cblxuICB9KVxuXG5cbiAgQEFwaVJlc3BvbnNlKHsgc3RhdHVzOiA0MDEsIGRlc2NyaXB0aW9uOiAnVW5hdXRob3JpemVkJyB9KVxuXG5cbiAgXG4gIEBIdHRwQ29kZShIdHRwU3RhdHVzLk9LKVxuICBhc3luYyBhc3NpZ25Db21tdW5pdGllc1RvVXNlcihcbiAgICBAUGFyYW0oJ3VzZXJJZCcpIHVzZXJJZDogc3RyaW5nLFxuICApOiBQcm9taXNlPHsgYXNzaWduZWRDb21tdW5pdGllczogc3RyaW5nW10gfT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBhc3NpZ25lZENvbW11bml0aWVzID1cbiAgICAgICAgYXdhaXQgdGhpcy5jb21tdW5pdHlBc3NpZ25tZW50U2VydmljZS5hc3NpZ25Db21tdW5pdGllc1RvVXNlcih1c2VySWQpO1xuICAgICAgcmV0dXJuIHsgYXNzaWduZWRDb21tdW5pdGllcyB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgSW50ZXJuYWxTZXJ2ZXJFcnJvckV4Y2VwdGlvbihcbiAgICAgICAgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcicsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIEBHZXQoJ3JlY29tbWVuZGVkL21lJylcblxuXG4gIEBBcGlPcGVyYXRpb24oeyBcblxuXG4gICAgc3VtbWFyeTogJ1JldHJpZXZlIGdldCBteSByZWNvbW1lbmRlZCBjb21tdW5pdGllcycsXG5cblxuICAgIGRlc2NyaXB0aW9uOiAnUmV0cmlldmUgZ2V0IG15IHJlY29tbWVuZGVkIGNvbW11bml0aWVzJyBcblxuXG4gIH0pXG5cblxuICBAQXBpUmVzcG9uc2UoeyBcblxuXG4gICAgc3RhdHVzOiAyMDAsIFxuXG5cbiAgICBkZXNjcmlwdGlvbjogJ1JldHJpZXZlZCBzdWNjZXNzZnVsbHknIFxuXG5cbiAgfSlcblxuXG4gIEBBcGlSZXNwb25zZSh7IHN0YXR1czogNDAxLCBkZXNjcmlwdGlvbjogJ1VuYXV0aG9yaXplZCcgfSlcblxuXG4gIFxuICBhc3luYyBnZXRNeVJlY29tbWVuZGVkQ29tbXVuaXRpZXMoXG4gICAgQEN1cnJlbnRVc2VySWQoKSB1c2VySWQ6IHN0cmluZyxcbiAgKTogUHJvbWlzZTx7IHJlY29tbWVuZGVkQ29tbXVuaXRpZXM6IHN0cmluZ1tdIH0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVjb21tZW5kZWRDb21tdW5pdGllcyA9XG4gICAgICAgIGF3YWl0IHRoaXMuY29tbXVuaXR5QXNzaWdubWVudFNlcnZpY2UuZ2V0UmVjb21tZW5kZWRDb21tdW5pdGllcyh1c2VySWQpO1xuICAgICAgcmV0dXJuIHsgcmVjb21tZW5kZWRDb21tdW5pdGllcyB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgSW50ZXJuYWxTZXJ2ZXJFcnJvckV4Y2VwdGlvbihcbiAgICAgICAgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcicsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIEBQb3N0KCdhc3NpZ24vYnVsaycpXG5cblxuICBAQXBpT3BlcmF0aW9uKHsgXG5cblxuICAgIHN1bW1hcnk6ICdDcmVhdGUgYnVsayBhc3NpZ24gY29tbXVuaXRpZXMnLFxuXG5cbiAgICBkZXNjcmlwdGlvbjogJ0NyZWF0ZSBidWxrIGFzc2lnbiBjb21tdW5pdGllcycgXG5cblxuICB9KVxuXG5cbiAgQEFwaVJlc3BvbnNlKHsgXG5cblxuICAgIHN0YXR1czogMjAxLCBcblxuXG4gICAgZGVzY3JpcHRpb246ICdDcmVhdGVkIHN1Y2Nlc3NmdWxseScgXG5cblxuICB9KVxuXG5cbiAgQEFwaVJlc3BvbnNlKHsgc3RhdHVzOiA0MDEsIGRlc2NyaXB0aW9uOiAnVW5hdXRob3JpemVkJyB9KVxuXG5cbiAgXG4gIEBIdHRwQ29kZShIdHRwU3RhdHVzLk9LKVxuICBhc3luYyBidWxrQXNzaWduQ29tbXVuaXRpZXMoXG4gICAgQEJvZHkoKSBib2R5OiB7IHVzZXJJZHM6IHN0cmluZ1tdIH0sXG4gICk6IFByb21pc2U8eyByZXN1bHRzOiB7IFt1c2VySWQ6IHN0cmluZ106IHN0cmluZ1tdIH0gfT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXN1bHRzID1cbiAgICAgICAgYXdhaXQgdGhpcy5jb21tdW5pdHlBc3NpZ25tZW50U2VydmljZS5idWxrQXNzaWduQ29tbXVuaXRpZXMoXG4gICAgICAgICAgYm9keS51c2VySWRzLFxuICAgICAgICApO1xuICAgICAgcmV0dXJuIHsgcmVzdWx0cyB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgSW50ZXJuYWxTZXJ2ZXJFcnJvckV4Y2VwdGlvbihcbiAgICAgICAgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcicsXG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuIl0sInZlcnNpb24iOjN9