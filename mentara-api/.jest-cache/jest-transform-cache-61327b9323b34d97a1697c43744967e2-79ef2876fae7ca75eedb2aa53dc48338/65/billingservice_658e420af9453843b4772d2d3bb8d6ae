26acb4c3e8eb7082e09082ee5b9e00bf
"use strict";

/* istanbul ignore next */
function cov_s2i4vsm0m() {
  var path = "/home/wetooa/Documents/code/projects/mentara/mentara-api/src/billing/billing.service.ts";
  var hash = "c74cdaa8ba0a583a9d4ce9543e3dacad426b65f4";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/home/wetooa/Documents/code/projects/mentara/mentara-api/src/billing/billing.service.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 17
        },
        end: {
          line: 7,
          column: 1
        }
      },
      "1": {
        start: {
          line: 3,
          column: 12
        },
        end: {
          line: 3,
          column: 28
        }
      },
      "2": {
        start: {
          line: 3,
          column: 34
        },
        end: {
          line: 3,
          column: 125
        }
      },
      "3": {
        start: {
          line: 4,
          column: 4
        },
        end: {
          line: 5,
          column: 150
        }
      },
      "4": {
        start: {
          line: 4,
          column: 79
        },
        end: {
          line: 4,
          column: 131
        }
      },
      "5": {
        start: {
          line: 5,
          column: 9
        },
        end: {
          line: 5,
          column: 150
        }
      },
      "6": {
        start: {
          line: 5,
          column: 22
        },
        end: {
          line: 5,
          column: 43
        }
      },
      "7": {
        start: {
          line: 5,
          column: 58
        },
        end: {
          line: 5,
          column: 150
        }
      },
      "8": {
        start: {
          line: 5,
          column: 81
        },
        end: {
          line: 5,
          column: 150
        }
      },
      "9": {
        start: {
          line: 6,
          column: 4
        },
        end: {
          line: 6,
          column: 66
        }
      },
      "10": {
        start: {
          line: 8,
          column: 17
        },
        end: {
          line: 10,
          column: 1
        }
      },
      "11": {
        start: {
          line: 9,
          column: 4
        },
        end: {
          line: 9,
          column: 109
        }
      },
      "12": {
        start: {
          line: 9,
          column: 79
        },
        end: {
          line: 9,
          column: 109
        }
      },
      "13": {
        start: {
          line: 13,
          column: 0
        },
        end: {
          line: 13,
          column: 62
        }
      },
      "14": {
        start: {
          line: 14,
          column: 0
        },
        end: {
          line: 14,
          column: 32
        }
      },
      "15": {
        start: {
          line: 15,
          column: 17
        },
        end: {
          line: 15,
          column: 42
        }
      },
      "16": {
        start: {
          line: 16,
          column: 33
        },
        end: {
          line: 16,
          column: 80
        }
      },
      "17": {
        start: {
          line: 17,
          column: 24
        },
        end: {
          line: 17,
          column: 56
        }
      },
      "18": {
        start: {
          line: 18,
          column: 17
        },
        end: {
          line: 18,
          column: 42
        }
      },
      "19": {
        start: {
          line: 32,
          column: 21
        },
        end: {
          line: 507,
          column: 1
        }
      },
      "20": {
        start: {
          line: 35,
          column: 13
        },
        end: {
          line: 35,
          column: 55
        }
      },
      "21": {
        start: {
          line: 37,
          column: 8
        },
        end: {
          line: 37,
          column: 29
        }
      },
      "22": {
        start: {
          line: 38,
          column: 8
        },
        end: {
          line: 38,
          column: 41
        }
      },
      "23": {
        start: {
          line: 45,
          column: 8
        },
        end: {
          line: 45,
          column: 75
        }
      },
      "24": {
        start: {
          line: 47,
          column: 8
        },
        end: {
          line: 52,
          column: 9
        }
      },
      "25": {
        start: {
          line: 48,
          column: 12
        },
        end: {
          line: 51,
          column: 15
        }
      },
      "26": {
        start: {
          line: 53,
          column: 30
        },
        end: {
          line: 61,
          column: 10
        }
      },
      "27": {
        start: {
          line: 62,
          column: 8
        },
        end: {
          line: 66,
          column: 11
        }
      },
      "28": {
        start: {
          line: 67,
          column: 8
        },
        end: {
          line: 67,
          column: 29
        }
      },
      "29": {
        start: {
          line: 73,
          column: 8
        },
        end: {
          line: 76,
          column: 11
        }
      },
      "30": {
        start: {
          line: 82,
          column: 30
        },
        end: {
          line: 84,
          column: 10
        }
      },
      "31": {
        start: {
          line: 85,
          column: 8
        },
        end: {
          line: 87,
          column: 9
        }
      },
      "32": {
        start: {
          line: 86,
          column: 12
        },
        end: {
          line: 86,
          column: 83
        }
      },
      "33": {
        start: {
          line: 89,
          column: 8
        },
        end: {
          line: 94,
          column: 9
        }
      },
      "34": {
        start: {
          line: 90,
          column: 12
        },
        end: {
          line: 93,
          column: 15
        }
      },
      "35": {
        start: {
          line: 95,
          column: 8
        },
        end: {
          line: 98,
          column: 11
        }
      },
      "36": {
        start: {
          line: 104,
          column: 30
        },
        end: {
          line: 106,
          column: 10
        }
      },
      "37": {
        start: {
          line: 107,
          column: 8
        },
        end: {
          line: 109,
          column: 9
        }
      },
      "38": {
        start: {
          line: 108,
          column: 12
        },
        end: {
          line: 108,
          column: 83
        }
      },
      "39": {
        start: {
          line: 111,
          column: 29
        },
        end: {
          line: 116,
          column: 10
        }
      },
      "40": {
        start: {
          line: 117,
          column: 32
        },
        end: {
          line: 125,
          column: 10
        }
      },
      "41": {
        start: {
          line: 126,
          column: 8
        },
        end: {
          line: 128,
          column: 9
        }
      },
      "42": {
        start: {
          line: 127,
          column: 12
        },
        end: {
          line: 127,
          column: 114
        }
      },
      "43": {
        start: {
          line: 129,
          column: 8
        },
        end: {
          line: 131,
          column: 11
        }
      },
      "44": {
        start: {
          line: 132,
          column: 8
        },
        end: {
          line: 135,
          column: 11
        }
      },
      "45": {
        start: {
          line: 136,
          column: 8
        },
        end: {
          line: 136,
          column: 33
        }
      },
      "46": {
        start: {
          line: 143,
          column: 8
        },
        end: {
          line: 143,
          column: 158
        }
      },
      "47": {
        start: {
          line: 145,
          column: 30
        },
        end: {
          line: 150,
          column: 10
        }
      },
      "48": {
        start: {
          line: 151,
          column: 8
        },
        end: {
          line: 153,
          column: 9
        }
      },
      "49": {
        start: {
          line: 152,
          column: 12
        },
        end: {
          line: 152,
          column: 77
        }
      },
      "50": {
        start: {
          line: 155,
          column: 24
        },
        end: {
          line: 183,
          column: 10
        }
      },
      "51": {
        start: {
          line: 185,
          column: 8
        },
        end: {
          line: 187,
          column: 11
        }
      },
      "52": {
        start: {
          line: 186,
          column: 12
        },
        end: {
          line: 186,
          column: 81
        }
      },
      "53": {
        start: {
          line: 188,
          column: 8
        },
        end: {
          line: 188,
          column: 23
        }
      },
      "54": {
        start: {
          line: 195,
          column: 8
        },
        end: {
          line: 195,
          column: 87
        }
      },
      "55": {
        start: {
          line: 195,
          column: 37
        },
        end: {
          line: 195,
          column: 85
        }
      },
      "56": {
        start: {
          line: 196,
          column: 24
        },
        end: {
          line: 215,
          column: 10
        }
      },
      "57": {
        start: {
          line: 216,
          column: 8
        },
        end: {
          line: 219,
          column: 9
        }
      },
      "58": {
        start: {
          line: 217,
          column: 12
        },
        end: {
          line: 217,
          column: 82
        }
      },
      "59": {
        start: {
          line: 218,
          column: 12
        },
        end: {
          line: 218,
          column: 19
        }
      },
      "60": {
        start: {
          line: 221,
          column: 24
        },
        end: {
          line: 221,
          column: 56
        }
      },
      "61": {
        start: {
          line: 222,
          column: 8
        },
        end: {
          line: 227,
          column: 9
        }
      },
      "62": {
        start: {
          line: 223,
          column: 12
        },
        end: {
          line: 223,
          column: 53
        }
      },
      "63": {
        start: {
          line: 226,
          column: 12
        },
        end: {
          line: 226,
          column: 53
        }
      },
      "64": {
        start: {
          line: 235,
          column: 26
        },
        end: {
          line: 235,
          column: 58
        }
      },
      "65": {
        start: {
          line: 237,
          column: 8
        },
        end: {
          line: 251,
          column: 9
        }
      },
      "66": {
        start: {
          line: 238,
          column: 12
        },
        end: {
          line: 250,
          column: 13
        }
      },
      "67": {
        start: {
          line: 240,
          column: 20
        },
        end: {
          line: 240,
          column: 33
        }
      },
      "68": {
        start: {
          line: 242,
          column: 20
        },
        end: {
          line: 242,
          column: 33
        }
      },
      "69": {
        start: {
          line: 244,
          column: 20
        },
        end: {
          line: 244,
          column: 33
        }
      },
      "70": {
        start: {
          line: 246,
          column: 20
        },
        end: {
          line: 246,
          column: 32
        }
      },
      "71": {
        start: {
          line: 249,
          column: 20
        },
        end: {
          line: 249,
          column: 47
        }
      },
      "72": {
        start: {
          line: 253,
          column: 8
        },
        end: {
          line: 253,
          column: 35
        }
      },
      "73": {
        start: {
          line: 259,
          column: 8
        },
        end: {
          line: 259,
          column: 72
        }
      },
      "74": {
        start: {
          line: 260,
          column: 31
        },
        end: {
          line: 266,
          column: 10
        }
      },
      "75": {
        start: {
          line: 268,
          column: 32
        },
        end: {
          line: 268,
          column: 36
        }
      },
      "76": {
        start: {
          line: 269,
          column: 28
        },
        end: {
          line: 269,
          column: 68
        }
      },
      "77": {
        start: {
          line: 270,
          column: 32
        },
        end: {
          line: 270,
          column: 68
        }
      },
      "78": {
        start: {
          line: 272,
          column: 8
        },
        end: {
          line: 281,
          column: 11
        }
      },
      "79": {
        start: {
          line: 282,
          column: 8
        },
        end: {
          line: 282,
          column: 30
        }
      },
      "80": {
        start: {
          line: 288,
          column: 31
        },
        end: {
          line: 294,
          column: 9
        }
      },
      "81": {
        start: {
          line: 295,
          column: 30
        },
        end: {
          line: 295,
          column: 95
        }
      },
      "82": {
        start: {
          line: 296,
          column: 8
        },
        end: {
          line: 296,
          column: 75
        }
      },
      "83": {
        start: {
          line: 297,
          column: 31
        },
        end: {
          line: 304,
          column: 10
        }
      },
      "84": {
        start: {
          line: 306,
          column: 8
        },
        end: {
          line: 314,
          column: 11
        }
      },
      "85": {
        start: {
          line: 315,
          column: 8
        },
        end: {
          line: 315,
          column: 30
        }
      },
      "86": {
        start: {
          line: 322,
          column: 24
        },
        end: {
          line: 344,
          column: 10
        }
      },
      "87": {
        start: {
          line: 345,
          column: 8
        },
        end: {
          line: 347,
          column: 9
        }
      },
      "88": {
        start: {
          line: 346,
          column: 12
        },
        end: {
          line: 346,
          column: 76
        }
      },
      "89": {
        start: {
          line: 348,
          column: 8
        },
        end: {
          line: 348,
          column: 23
        }
      },
      "90": {
        start: {
          line: 354,
          column: 22
        },
        end: {
          line: 354,
          column: 24
        }
      },
      "91": {
        start: {
          line: 355,
          column: 8
        },
        end: {
          line: 366,
          column: 9
        }
      },
      "92": {
        start: {
          line: 356,
          column: 12
        },
        end: {
          line: 356,
          column: 36
        }
      },
      "93": {
        start: {
          line: 358,
          column: 13
        },
        end: {
          line: 366,
          column: 9
        }
      },
      "94": {
        start: {
          line: 359,
          column: 12
        },
        end: {
          line: 359,
          column: 39
        }
      },
      "95": {
        start: {
          line: 362,
          column: 12
        },
        end: {
          line: 365,
          column: 14
        }
      },
      "96": {
        start: {
          line: 367,
          column: 8
        },
        end: {
          line: 369,
          column: 9
        }
      },
      "97": {
        start: {
          line: 368,
          column: 12
        },
        end: {
          line: 368,
          column: 42
        }
      },
      "98": {
        start: {
          line: 370,
          column: 8
        },
        end: {
          line: 395,
          column: 11
        }
      },
      "99": {
        start: {
          line: 401,
          column: 24
        },
        end: {
          line: 403,
          column: 10
        }
      },
      "100": {
        start: {
          line: 404,
          column: 8
        },
        end: {
          line: 406,
          column: 9
        }
      },
      "101": {
        start: {
          line: 405,
          column: 12
        },
        end: {
          line: 405,
          column: 83
        }
      },
      "102": {
        start: {
          line: 407,
          column: 8
        },
        end: {
          line: 409,
          column: 9
        }
      },
      "103": {
        start: {
          line: 408,
          column: 12
        },
        end: {
          line: 408,
          column: 85
        }
      },
      "104": {
        start: {
          line: 411,
          column: 8
        },
        end: {
          line: 418,
          column: 11
        }
      },
      "105": {
        start: {
          line: 420,
          column: 8
        },
        end: {
          line: 422,
          column: 11
        }
      },
      "106": {
        start: {
          line: 421,
          column: 12
        },
        end: {
          line: 421,
          column: 78
        }
      },
      "107": {
        start: {
          line: 423,
          column: 8
        },
        end: {
          line: 423,
          column: 69
        }
      },
      "108": {
        start: {
          line: 430,
          column: 22
        },
        end: {
          line: 433,
          column: 9
        }
      },
      "109": {
        start: {
          line: 434,
          column: 8
        },
        end: {
          line: 436,
          column: 9
        }
      },
      "110": {
        start: {
          line: 435,
          column: 12
        },
        end: {
          line: 435,
          column: 73
        }
      },
      "111": {
        start: {
          line: 437,
          column: 8
        },
        end: {
          line: 439,
          column: 9
        }
      },
      "112": {
        start: {
          line: 438,
          column: 12
        },
        end: {
          line: 438,
          column: 71
        }
      },
      "113": {
        start: {
          line: 440,
          column: 39
        },
        end: {
          line: 447,
          column: 10
        }
      },
      "114": {
        start: {
          line: 448,
          column: 29
        },
        end: {
          line: 448,
          column: 59
        }
      },
      "115": {
        start: {
          line: 449,
          column: 35
        },
        end: {
          line: 449,
          column: 65
        }
      },
      "116": {
        start: {
          line: 450,
          column: 32
        },
        end: {
          line: 450,
          column: 36
        }
      },
      "117": {
        start: {
          line: 451,
          column: 29
        },
        end: {
          line: 451,
          column: 59
        }
      },
      "118": {
        start: {
          line: 452,
          column: 28
        },
        end: {
          line: 452,
          column: 55
        }
      },
      "119": {
        start: {
          line: 453,
          column: 8
        },
        end: {
          line: 463,
          column: 10
        }
      },
      "120": {
        start: {
          line: 469,
          column: 22
        },
        end: {
          line: 469,
          column: 24
        }
      },
      "121": {
        start: {
          line: 470,
          column: 8
        },
        end: {
          line: 472,
          column: 9
        }
      },
      "122": {
        start: {
          line: 471,
          column: 12
        },
        end: {
          line: 471,
          column: 69
        }
      },
      "123": {
        start: {
          line: 473,
          column: 8
        },
        end: {
          line: 475,
          column: 9
        }
      },
      "124": {
        start: {
          line: 474,
          column: 12
        },
        end: {
          line: 474,
          column: 67
        }
      },
      "125": {
        start: {
          line: 476,
          column: 83
        },
        end: {
          line: 488,
          column: 10
        }
      },
      "126": {
        start: {
          line: 489,
          column: 29
        },
        end: {
          line: 489,
          column: 66
        }
      },
      "127": {
        start: {
          line: 490,
          column: 32
        },
        end: {
          line: 490,
          column: 36
        }
      },
      "128": {
        start: {
          line: 491,
          column: 32
        },
        end: {
          line: 491,
          column: 62
        }
      },
      "129": {
        start: {
          line: 492,
          column: 28
        },
        end: {
          line: 492,
          column: 94
        }
      },
      "130": {
        start: {
          line: 493,
          column: 8
        },
        end: {
          line: 505,
          column: 10
        }
      },
      "131": {
        start: {
          line: 508,
          column: 0
        },
        end: {
          line: 508,
          column: 40
        }
      },
      "132": {
        start: {
          line: 509,
          column: 0
        },
        end: {
          line: 512,
          column: 19
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 2,
            column: 46
          },
          end: {
            line: 2,
            column: 47
          }
        },
        loc: {
          start: {
            line: 2,
            column: 87
          },
          end: {
            line: 7,
            column: 1
          }
        },
        line: 2
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 8,
            column: 46
          },
          end: {
            line: 8,
            column: 47
          }
        },
        loc: {
          start: {
            line: 8,
            column: 62
          },
          end: {
            line: 10,
            column: 1
          }
        },
        line: 8
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 36,
            column: 4
          },
          end: {
            line: 36,
            column: 5
          }
        },
        loc: {
          start: {
            line: 36,
            column: 38
          },
          end: {
            line: 39,
            column: 5
          }
        },
        line: 36
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 44,
            column: 4
          },
          end: {
            line: 44,
            column: 5
          }
        },
        loc: {
          start: {
            line: 44,
            column: 36
          },
          end: {
            line: 68,
            column: 5
          }
        },
        line: 44
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 72,
            column: 4
          },
          end: {
            line: 72,
            column: 5
          }
        },
        loc: {
          start: {
            line: 72,
            column: 40
          },
          end: {
            line: 77,
            column: 5
          }
        },
        line: 72
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 81,
            column: 4
          },
          end: {
            line: 81,
            column: 5
          }
        },
        loc: {
          start: {
            line: 81,
            column: 40
          },
          end: {
            line: 99,
            column: 5
          }
        },
        line: 81
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 103,
            column: 4
          },
          end: {
            line: 103,
            column: 5
          }
        },
        loc: {
          start: {
            line: 103,
            column: 34
          },
          end: {
            line: 137,
            column: 5
          }
        },
        line: 103
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 142,
            column: 4
          },
          end: {
            line: 142,
            column: 5
          }
        },
        loc: {
          start: {
            line: 142,
            column: 38
          },
          end: {
            line: 189,
            column: 5
          }
        },
        line: 142
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 185,
            column: 51
          },
          end: {
            line: 185,
            column: 52
          }
        },
        loc: {
          start: {
            line: 185,
            column: 62
          },
          end: {
            line: 187,
            column: 9
          }
        },
        line: 185
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 193,
            column: 4
          },
          end: {
            line: 193,
            column: 5
          }
        },
        loc: {
          start: {
            line: 193,
            column: 41
          },
          end: {
            line: 228,
            column: 5
          }
        },
        line: 193
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 195,
            column: 26
          },
          end: {
            line: 195,
            column: 27
          }
        },
        loc: {
          start: {
            line: 195,
            column: 37
          },
          end: {
            line: 195,
            column: 85
          }
        },
        line: 195
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 233,
            column: 4
          },
          end: {
            line: 233,
            column: 5
          }
        },
        loc: {
          start: {
            line: 233,
            column: 32
          },
          end: {
            line: 254,
            column: 5
          }
        },
        line: 233
      },
      "12": {
        name: "(anonymous_12)",
        decl: {
          start: {
            line: 258,
            column: 4
          },
          end: {
            line: 258,
            column: 5
          }
        },
        loc: {
          start: {
            line: 258,
            column: 40
          },
          end: {
            line: 283,
            column: 5
          }
        },
        line: 258
      },
      "13": {
        name: "(anonymous_13)",
        decl: {
          start: {
            line: 287,
            column: 4
          },
          end: {
            line: 287,
            column: 5
          }
        },
        loc: {
          start: {
            line: 287,
            column: 40
          },
          end: {
            line: 316,
            column: 5
          }
        },
        line: 287
      },
      "14": {
        name: "(anonymous_14)",
        decl: {
          start: {
            line: 321,
            column: 4
          },
          end: {
            line: 321,
            column: 5
          }
        },
        loc: {
          start: {
            line: 321,
            column: 25
          },
          end: {
            line: 349,
            column: 5
          }
        },
        line: 321
      },
      "15": {
        name: "(anonymous_15)",
        decl: {
          start: {
            line: 353,
            column: 4
          },
          end: {
            line: 353,
            column: 5
          }
        },
        loc: {
          start: {
            line: 353,
            column: 48
          },
          end: {
            line: 396,
            column: 5
          }
        },
        line: 353
      },
      "16": {
        name: "(anonymous_16)",
        decl: {
          start: {
            line: 400,
            column: 4
          },
          end: {
            line: 400,
            column: 5
          }
        },
        loc: {
          start: {
            line: 400,
            column: 34
          },
          end: {
            line: 424,
            column: 5
          }
        },
        line: 400
      },
      "17": {
        name: "(anonymous_17)",
        decl: {
          start: {
            line: 420,
            column: 50
          },
          end: {
            line: 420,
            column: 51
          }
        },
        loc: {
          start: {
            line: 420,
            column: 61
          },
          end: {
            line: 422,
            column: 9
          }
        },
        line: 420
      },
      "18": {
        name: "(anonymous_18)",
        decl: {
          start: {
            line: 429,
            column: 4
          },
          end: {
            line: 429,
            column: 5
          }
        },
        loc: {
          start: {
            line: 429,
            column: 68
          },
          end: {
            line: 464,
            column: 5
          }
        },
        line: 429
      },
      "19": {
        name: "(anonymous_19)",
        decl: {
          start: {
            line: 468,
            column: 4
          },
          end: {
            line: 468,
            column: 5
          }
        },
        loc: {
          start: {
            line: 468,
            column: 47
          },
          end: {
            line: 506,
            column: 5
          }
        },
        line: 468
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 2,
            column: 17
          },
          end: {
            line: 7,
            column: 1
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 2,
            column: 18
          },
          end: {
            line: 2,
            column: 22
          }
        }, {
          start: {
            line: 2,
            column: 26
          },
          end: {
            line: 2,
            column: 41
          }
        }, {
          start: {
            line: 2,
            column: 46
          },
          end: {
            line: 7,
            column: 1
          }
        }],
        line: 2
      },
      "1": {
        loc: {
          start: {
            line: 3,
            column: 34
          },
          end: {
            line: 3,
            column: 125
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 3,
            column: 42
          },
          end: {
            line: 3,
            column: 48
          }
        }, {
          start: {
            line: 3,
            column: 51
          },
          end: {
            line: 3,
            column: 125
          }
        }],
        line: 3
      },
      "2": {
        loc: {
          start: {
            line: 3,
            column: 51
          },
          end: {
            line: 3,
            column: 125
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 3,
            column: 67
          },
          end: {
            line: 3,
            column: 118
          }
        }, {
          start: {
            line: 3,
            column: 121
          },
          end: {
            line: 3,
            column: 125
          }
        }],
        line: 3
      },
      "3": {
        loc: {
          start: {
            line: 4,
            column: 4
          },
          end: {
            line: 5,
            column: 150
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 4,
            column: 4
          },
          end: {
            line: 5,
            column: 150
          }
        }, {
          start: {
            line: 5,
            column: 9
          },
          end: {
            line: 5,
            column: 150
          }
        }],
        line: 4
      },
      "4": {
        loc: {
          start: {
            line: 4,
            column: 8
          },
          end: {
            line: 4,
            column: 77
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 4,
            column: 8
          },
          end: {
            line: 4,
            column: 35
          }
        }, {
          start: {
            line: 4,
            column: 39
          },
          end: {
            line: 4,
            column: 77
          }
        }],
        line: 4
      },
      "5": {
        loc: {
          start: {
            line: 5,
            column: 58
          },
          end: {
            line: 5,
            column: 150
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 5,
            column: 58
          },
          end: {
            line: 5,
            column: 150
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 5
      },
      "6": {
        loc: {
          start: {
            line: 5,
            column: 85
          },
          end: {
            line: 5,
            column: 149
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 5,
            column: 86
          },
          end: {
            line: 5,
            column: 143
          }
        }, {
          start: {
            line: 5,
            column: 148
          },
          end: {
            line: 5,
            column: 149
          }
        }],
        line: 5
      },
      "7": {
        loc: {
          start: {
            line: 5,
            column: 86
          },
          end: {
            line: 5,
            column: 143
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 5,
            column: 94
          },
          end: {
            line: 5,
            column: 98
          }
        }, {
          start: {
            line: 5,
            column: 101
          },
          end: {
            line: 5,
            column: 143
          }
        }],
        line: 5
      },
      "8": {
        loc: {
          start: {
            line: 5,
            column: 101
          },
          end: {
            line: 5,
            column: 143
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 5,
            column: 109
          },
          end: {
            line: 5,
            column: 126
          }
        }, {
          start: {
            line: 5,
            column: 129
          },
          end: {
            line: 5,
            column: 143
          }
        }],
        line: 5
      },
      "9": {
        loc: {
          start: {
            line: 6,
            column: 11
          },
          end: {
            line: 6,
            column: 62
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 6,
            column: 11
          },
          end: {
            line: 6,
            column: 16
          }
        }, {
          start: {
            line: 6,
            column: 20
          },
          end: {
            line: 6,
            column: 21
          }
        }, {
          start: {
            line: 6,
            column: 25
          },
          end: {
            line: 6,
            column: 62
          }
        }],
        line: 6
      },
      "10": {
        loc: {
          start: {
            line: 8,
            column: 17
          },
          end: {
            line: 10,
            column: 1
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 8,
            column: 18
          },
          end: {
            line: 8,
            column: 22
          }
        }, {
          start: {
            line: 8,
            column: 26
          },
          end: {
            line: 8,
            column: 41
          }
        }, {
          start: {
            line: 8,
            column: 46
          },
          end: {
            line: 10,
            column: 1
          }
        }],
        line: 8
      },
      "11": {
        loc: {
          start: {
            line: 9,
            column: 4
          },
          end: {
            line: 9,
            column: 109
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 9,
            column: 4
          },
          end: {
            line: 9,
            column: 109
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 9
      },
      "12": {
        loc: {
          start: {
            line: 9,
            column: 8
          },
          end: {
            line: 9,
            column: 77
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 9,
            column: 8
          },
          end: {
            line: 9,
            column: 35
          }
        }, {
          start: {
            line: 9,
            column: 39
          },
          end: {
            line: 9,
            column: 77
          }
        }],
        line: 9
      },
      "13": {
        loc: {
          start: {
            line: 47,
            column: 8
          },
          end: {
            line: 52,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 47,
            column: 8
          },
          end: {
            line: 52,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 47
      },
      "14": {
        loc: {
          start: {
            line: 59,
            column: 27
          },
          end: {
            line: 59,
            column: 50
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 59,
            column: 27
          },
          end: {
            line: 59,
            column: 41
          }
        }, {
          start: {
            line: 59,
            column: 45
          },
          end: {
            line: 59,
            column: 50
          }
        }],
        line: 59
      },
      "15": {
        loc: {
          start: {
            line: 85,
            column: 8
          },
          end: {
            line: 87,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 85,
            column: 8
          },
          end: {
            line: 87,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 85
      },
      "16": {
        loc: {
          start: {
            line: 89,
            column: 8
          },
          end: {
            line: 94,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 89,
            column: 8
          },
          end: {
            line: 94,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 89
      },
      "17": {
        loc: {
          start: {
            line: 107,
            column: 8
          },
          end: {
            line: 109,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 107,
            column: 8
          },
          end: {
            line: 109,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 107
      },
      "18": {
        loc: {
          start: {
            line: 126,
            column: 8
          },
          end: {
            line: 128,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 126,
            column: 8
          },
          end: {
            line: 128,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 126
      },
      "19": {
        loc: {
          start: {
            line: 126,
            column: 12
          },
          end: {
            line: 126,
            column: 53
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 126,
            column: 12
          },
          end: {
            line: 126,
            column: 30
          }
        }, {
          start: {
            line: 126,
            column: 34
          },
          end: {
            line: 126,
            column: 53
          }
        }],
        line: 126
      },
      "20": {
        loc: {
          start: {
            line: 143,
            column: 70
          },
          end: {
            line: 143,
            column: 92
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 143,
            column: 70
          },
          end: {
            line: 143,
            column: 83
          }
        }, {
          start: {
            line: 143,
            column: 87
          },
          end: {
            line: 143,
            column: 92
          }
        }],
        line: 143
      },
      "21": {
        loc: {
          start: {
            line: 151,
            column: 8
          },
          end: {
            line: 153,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 151,
            column: 8
          },
          end: {
            line: 153,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 151
      },
      "22": {
        loc: {
          start: {
            line: 158,
            column: 26
          },
          end: {
            line: 158,
            column: 48
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 158,
            column: 26
          },
          end: {
            line: 158,
            column: 39
          }
        }, {
          start: {
            line: 158,
            column: 43
          },
          end: {
            line: 158,
            column: 48
          }
        }],
        line: 158
      },
      "23": {
        loc: {
          start: {
            line: 216,
            column: 8
          },
          end: {
            line: 219,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 216,
            column: 8
          },
          end: {
            line: 219,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 216
      },
      "24": {
        loc: {
          start: {
            line: 222,
            column: 8
          },
          end: {
            line: 227,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 222,
            column: 8
          },
          end: {
            line: 227,
            column: 9
          }
        }, {
          start: {
            line: 225,
            column: 13
          },
          end: {
            line: 227,
            column: 9
          }
        }],
        line: 222
      },
      "25": {
        loc: {
          start: {
            line: 237,
            column: 8
          },
          end: {
            line: 251,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 237,
            column: 8
          },
          end: {
            line: 251,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 237
      },
      "26": {
        loc: {
          start: {
            line: 238,
            column: 12
          },
          end: {
            line: 250,
            column: 13
          }
        },
        type: "switch",
        locations: [{
          start: {
            line: 239,
            column: 16
          },
          end: {
            line: 240,
            column: 33
          }
        }, {
          start: {
            line: 241,
            column: 16
          },
          end: {
            line: 242,
            column: 33
          }
        }, {
          start: {
            line: 243,
            column: 16
          },
          end: {
            line: 244,
            column: 33
          }
        }, {
          start: {
            line: 245,
            column: 16
          },
          end: {
            line: 246,
            column: 32
          }
        }, {
          start: {
            line: 247,
            column: 16
          },
          end: {
            line: 249,
            column: 47
          }
        }],
        line: 238
      },
      "27": {
        loc: {
          start: {
            line: 345,
            column: 8
          },
          end: {
            line: 347,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 345,
            column: 8
          },
          end: {
            line: 347,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 345
      },
      "28": {
        loc: {
          start: {
            line: 353,
            column: 34
          },
          end: {
            line: 353,
            column: 46
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 353,
            column: 44
          },
          end: {
            line: 353,
            column: 46
          }
        }],
        line: 353
      },
      "29": {
        loc: {
          start: {
            line: 355,
            column: 8
          },
          end: {
            line: 366,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 355,
            column: 8
          },
          end: {
            line: 366,
            column: 9
          }
        }, {
          start: {
            line: 358,
            column: 13
          },
          end: {
            line: 366,
            column: 9
          }
        }],
        line: 355
      },
      "30": {
        loc: {
          start: {
            line: 358,
            column: 13
          },
          end: {
            line: 366,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 358,
            column: 13
          },
          end: {
            line: 366,
            column: 9
          }
        }, {
          start: {
            line: 361,
            column: 13
          },
          end: {
            line: 366,
            column: 9
          }
        }],
        line: 358
      },
      "31": {
        loc: {
          start: {
            line: 367,
            column: 8
          },
          end: {
            line: 369,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 367,
            column: 8
          },
          end: {
            line: 369,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 367
      },
      "32": {
        loc: {
          start: {
            line: 393,
            column: 18
          },
          end: {
            line: 393,
            column: 37
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 393,
            column: 18
          },
          end: {
            line: 393,
            column: 31
          }
        }, {
          start: {
            line: 393,
            column: 35
          },
          end: {
            line: 393,
            column: 37
          }
        }],
        line: 393
      },
      "33": {
        loc: {
          start: {
            line: 394,
            column: 18
          },
          end: {
            line: 394,
            column: 37
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 394,
            column: 18
          },
          end: {
            line: 394,
            column: 32
          }
        }, {
          start: {
            line: 394,
            column: 36
          },
          end: {
            line: 394,
            column: 37
          }
        }],
        line: 394
      },
      "34": {
        loc: {
          start: {
            line: 404,
            column: 8
          },
          end: {
            line: 406,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 404,
            column: 8
          },
          end: {
            line: 406,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 404
      },
      "35": {
        loc: {
          start: {
            line: 407,
            column: 8
          },
          end: {
            line: 409,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 407,
            column: 8
          },
          end: {
            line: 409,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 407
      },
      "36": {
        loc: {
          start: {
            line: 434,
            column: 8
          },
          end: {
            line: 436,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 434,
            column: 8
          },
          end: {
            line: 436,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 434
      },
      "37": {
        loc: {
          start: {
            line: 437,
            column: 8
          },
          end: {
            line: 439,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 437,
            column: 8
          },
          end: {
            line: 439,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 437
      },
      "38": {
        loc: {
          start: {
            line: 448,
            column: 36
          },
          end: {
            line: 448,
            column: 58
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 448,
            column: 36
          },
          end: {
            line: 448,
            column: 53
          }
        }, {
          start: {
            line: 448,
            column: 57
          },
          end: {
            line: 448,
            column: 58
          }
        }],
        line: 448
      },
      "39": {
        loc: {
          start: {
            line: 449,
            column: 42
          },
          end: {
            line: 449,
            column: 64
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 449,
            column: 42
          },
          end: {
            line: 449,
            column: 59
          }
        }, {
          start: {
            line: 449,
            column: 63
          },
          end: {
            line: 449,
            column: 64
          }
        }],
        line: 449
      },
      "40": {
        loc: {
          start: {
            line: 470,
            column: 8
          },
          end: {
            line: 472,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 470,
            column: 8
          },
          end: {
            line: 472,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 470
      },
      "41": {
        loc: {
          start: {
            line: 473,
            column: 8
          },
          end: {
            line: 475,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 473,
            column: 8
          },
          end: {
            line: 475,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 473
      },
      "42": {
        loc: {
          start: {
            line: 489,
            column: 36
          },
          end: {
            line: 489,
            column: 65
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 489,
            column: 36
          },
          end: {
            line: 489,
            column: 60
          }
        }, {
          start: {
            line: 489,
            column: 64
          },
          end: {
            line: 489,
            column: 65
          }
        }],
        line: 489
      },
      "43": {
        loc: {
          start: {
            line: 492,
            column: 28
          },
          end: {
            line: 492,
            column: 94
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 492,
            column: 48
          },
          end: {
            line: 492,
            column: 90
          }
        }, {
          start: {
            line: 492,
            column: 93
          },
          end: {
            line: 492,
            column: 94
          }
        }],
        line: 492
      },
      "44": {
        loc: {
          start: {
            line: 511,
            column: 37
          },
          end: {
            line: 511,
            column: 183
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 511,
            column: 172
          },
          end: {
            line: 511,
            column: 174
          }
        }, {
          start: {
            line: 511,
            column: 177
          },
          end: {
            line: 511,
            column: 183
          }
        }],
        line: 511
      },
      "45": {
        loc: {
          start: {
            line: 511,
            column: 50
          },
          end: {
            line: 511,
            column: 153
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 511,
            column: 50
          },
          end: {
            line: 511,
            column: 111
          }
        }, {
          start: {
            line: 511,
            column: 115
          },
          end: {
            line: 511,
            column: 153
          }
        }],
        line: 511
      },
      "46": {
        loc: {
          start: {
            line: 511,
            column: 185
          },
          end: {
            line: 511,
            column: 313
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 511,
            column: 302
          },
          end: {
            line: 511,
            column: 304
          }
        }, {
          start: {
            line: 511,
            column: 307
          },
          end: {
            line: 511,
            column: 313
          }
        }],
        line: 511
      },
      "47": {
        loc: {
          start: {
            line: 511,
            column: 198
          },
          end: {
            line: 511,
            column: 283
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 511,
            column: 198
          },
          end: {
            line: 511,
            column: 250
          }
        }, {
          start: {
            line: 511,
            column: 254
          },
          end: {
            line: 511,
            column: 283
          }
        }],
        line: 511
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0,
      "74": 0,
      "75": 0,
      "76": 0,
      "77": 0,
      "78": 0,
      "79": 0,
      "80": 0,
      "81": 0,
      "82": 0,
      "83": 0,
      "84": 0,
      "85": 0,
      "86": 0,
      "87": 0,
      "88": 0,
      "89": 0,
      "90": 0,
      "91": 0,
      "92": 0,
      "93": 0,
      "94": 0,
      "95": 0,
      "96": 0,
      "97": 0,
      "98": 0,
      "99": 0,
      "100": 0,
      "101": 0,
      "102": 0,
      "103": 0,
      "104": 0,
      "105": 0,
      "106": 0,
      "107": 0,
      "108": 0,
      "109": 0,
      "110": 0,
      "111": 0,
      "112": 0,
      "113": 0,
      "114": 0,
      "115": 0,
      "116": 0,
      "117": 0,
      "118": 0,
      "119": 0,
      "120": 0,
      "121": 0,
      "122": 0,
      "123": 0,
      "124": 0,
      "125": 0,
      "126": 0,
      "127": 0,
      "128": 0,
      "129": 0,
      "130": 0,
      "131": 0,
      "132": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0
    },
    b: {
      "0": [0, 0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0, 0],
      "10": [0, 0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0],
      "16": [0, 0],
      "17": [0, 0],
      "18": [0, 0],
      "19": [0, 0],
      "20": [0, 0],
      "21": [0, 0],
      "22": [0, 0],
      "23": [0, 0],
      "24": [0, 0],
      "25": [0, 0],
      "26": [0, 0, 0, 0, 0],
      "27": [0, 0],
      "28": [0],
      "29": [0, 0],
      "30": [0, 0],
      "31": [0, 0],
      "32": [0, 0],
      "33": [0, 0],
      "34": [0, 0],
      "35": [0, 0],
      "36": [0, 0],
      "37": [0, 0],
      "38": [0, 0],
      "39": [0, 0],
      "40": [0, 0],
      "41": [0, 0],
      "42": [0, 0],
      "43": [0, 0],
      "44": [0, 0],
      "45": [0, 0],
      "46": [0, 0],
      "47": [0, 0]
    },
    inputSourceMap: {
      file: "/home/wetooa/Documents/code/projects/mentara/mentara-api/src/billing/billing.service.ts",
      mappings: "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",
      names: [],
      sources: ["/home/wetooa/Documents/code/projects/mentara/mentara-api/src/billing/billing.service.ts"],
      sourcesContent: ["import {\n  Injectable,\n  NotFoundException,\n  BadRequestException,\n  Logger,\n} from '@nestjs/common';\nimport { PrismaService } from 'src/providers/prisma-client.provider';\nimport { EventEmitter2 } from '@nestjs/event-emitter';\nimport {\n  PaymentStatus,\n  PaymentMethodType,\n} from '@prisma/client';\n\n/**\n * Educational Billing Service for Mental Health Platform\n * \n * This service provides a simplified, educational payment processing system\n * suitable for a school project. It simulates real payment flows without\n * processing actual money.\n * \n * Features:\n * - Mock payment processing for therapy sessions\n * - Payment method management\n * - Educational payment flows\n * - Realistic payment failures and retries\n */\n@Injectable()\nexport class BillingService {\n  private readonly logger = new Logger(BillingService.name);\n\n  constructor(\n    private readonly prisma: PrismaService,\n    private readonly eventEmitter: EventEmitter2,\n  ) {}\n\n  // ===== PAYMENT METHODS =====\n\n  /**\n   * Create a new payment method for a user\n   */\n  async createPaymentMethod(data: {\n    userId: string;\n    type: PaymentMethodType;\n    cardLast4?: string;\n    cardBrand?: string;\n    isDefault?: boolean;\n  }) {\n    this.logger.log(`Creating payment method for user ${data.userId}`);\n\n    // If this is set as default, unset other default payment methods\n    if (data.isDefault) {\n      await this.prisma.paymentMethod.updateMany({\n        where: { userId: data.userId, isDefault: true },\n        data: { isDefault: false },\n      });\n    }\n\n    const paymentMethod = await this.prisma.paymentMethod.create({\n      data: {\n        userId: data.userId,\n        type: data.type,\n        cardLast4: data.cardLast4,\n        cardBrand: data.cardBrand,\n        isDefault: data.isDefault || false,\n      },\n    });\n\n    this.eventEmitter.emit('payment_method.created', {\n      userId: data.userId,\n      paymentMethodId: paymentMethod.id,\n      type: data.type,\n    });\n\n    return paymentMethod;\n  }\n\n  /**\n   * Get all payment methods for a user\n   */\n  async getUserPaymentMethods(userId: string) {\n    return this.prisma.paymentMethod.findMany({\n      where: { userId },\n      orderBy: [{ isDefault: 'desc' }, { createdAt: 'desc' }],\n    });\n  }\n\n  /**\n   * Update payment method settings\n   */\n  async updatePaymentMethod(\n    id: string,\n    data: { isDefault?: boolean }\n  ) {\n    const paymentMethod = await this.prisma.paymentMethod.findUnique({\n      where: { id },\n    });\n\n    if (!paymentMethod) {\n      throw new NotFoundException(`Payment method ${id} not found`);\n    }\n\n    // If setting as default, unset other defaults for this user\n    if (data.isDefault) {\n      await this.prisma.paymentMethod.updateMany({\n        where: { userId: paymentMethod.userId, isDefault: true },\n        data: { isDefault: false },\n      });\n    }\n\n    return this.prisma.paymentMethod.update({\n      where: { id },\n      data,\n    });\n  }\n\n  /**\n   * Delete (soft delete) a payment method\n   */\n  async deletePaymentMethod(id: string) {\n    const paymentMethod = await this.prisma.paymentMethod.findUnique({\n      where: { id },\n    });\n\n    if (!paymentMethod) {\n      throw new NotFoundException(`Payment method ${id} not found`);\n    }\n\n    // Cannot delete the only payment method if user has pending payments\n    const otherMethods = await this.prisma.paymentMethod.count({\n      where: { \n        userId: paymentMethod.userId,\n        id: { not: id }\n      },\n    });\n\n    const pendingPayments = await this.prisma.payment.count({\n      where: {\n        OR: [\n          { clientId: paymentMethod.userId },\n          { therapistId: paymentMethod.userId }\n        ],\n        status: PaymentStatus.PENDING,\n      },\n    });\n\n    if (otherMethods === 0 && pendingPayments > 0) {\n      throw new BadRequestException(\n        'Cannot delete the only payment method with pending payments'\n      );\n    }\n\n    await this.prisma.paymentMethod.delete({\n      where: { id },\n    });\n\n    this.eventEmitter.emit('payment_method.deleted', {\n      userId: paymentMethod.userId,\n      paymentMethodId: id,\n    });\n\n    return { success: true };\n  }\n\n  // ===== PAYMENT PROCESSING =====\n\n  /**\n   * Process a payment for a therapy session\n   */\n  async processSessionPayment(data: {\n    clientId: string;\n    therapistId: string;\n    meetingId?: string;\n    amount: number;\n    currency?: string;\n    paymentMethodId: string;\n    description?: string;\n  }) {\n    this.logger.log(\n      `Processing session payment: ${data.amount} ${data.currency || 'USD'} from client ${data.clientId} to therapist ${data.therapistId}`\n    );\n\n    // Validate payment method belongs to client\n    const paymentMethod = await this.prisma.paymentMethod.findFirst({\n      where: {\n        id: data.paymentMethodId,\n        userId: data.clientId,\n      },\n    });\n\n    if (!paymentMethod) {\n      throw new BadRequestException('Invalid payment method');\n    }\n\n    // Create payment record\n    const payment = await this.prisma.payment.create({\n      data: {\n        amount: data.amount,\n        currency: data.currency || 'USD',\n        status: PaymentStatus.PENDING,\n        clientId: data.clientId,\n        therapistId: data.therapistId,\n        meetingId: data.meetingId,\n        paymentMethodId: data.paymentMethodId,\n        failureReason: null,\n      },\n      include: {\n        client: {\n          select: { \n            user: {\n              select: { firstName: true, lastName: true, email: true }\n            }\n          }\n        },\n        therapist: {\n          select: { \n            user: {\n              select: { firstName: true, lastName: true, email: true }\n            }\n          }\n        },\n        paymentMethod: true,\n      },\n    });\n\n    // Process payment asynchronously\n    this.processPaymentAsync(payment.id).catch((error) => {\n      this.logger.error(`Failed to process payment ${payment.id}:`, error);\n    });\n\n    return payment;\n  }\n\n  /**\n   * Asynchronously process the payment with mock payment gateway\n   */\n  private async processPaymentAsync(paymentId: string) {\n    // Simulate payment processing delay\n    await new Promise(resolve => setTimeout(resolve, 2000 + Math.random() * 3000));\n\n    const payment = await this.prisma.payment.findUnique({\n      where: { id: paymentId },\n      include: {\n        client: { \n          select: { \n            user: {\n              select: { firstName: true, lastName: true, email: true }\n            }\n          }\n        },\n        therapist: { \n          select: { \n            user: {\n              select: { firstName: true, lastName: true, email: true }\n            }\n          }\n        },\n        paymentMethod: true,\n      },\n    });\n\n    if (!payment) {\n      this.logger.error(`Payment ${paymentId} not found during processing`);\n      return;\n    }\n\n    // Mock payment processing with realistic success/failure rates\n    const success = this.mockPaymentGateway(payment);\n\n    if (success) {\n      await this.handlePaymentSuccess(payment);\n    } else {\n      await this.handlePaymentFailure(payment);\n    }\n  }\n\n  /**\n   * Mock payment gateway simulation\n   * Returns true for success, false for failure\n   */\n  private mockPaymentGateway(payment: any): boolean {\n    // Simulate different failure scenarios based on card details\n    const cardLast4 = payment.paymentMethod?.cardLast4;\n    \n    // Test card numbers for specific scenarios\n    if (cardLast4) {\n      switch (cardLast4) {\n        case '0002': // Always decline\n          return false;\n        case '0004': // Always decline with insufficient funds\n          return false;\n        case '0008': // Always decline with expired card\n          return false;\n        case '0001': // Always succeed\n          return true;\n        default:\n          // Random success/failure (90% success rate)\n          return Math.random() > 0.1;\n      }\n    }\n\n    // Default: 90% success rate\n    return Math.random() > 0.1;\n  }\n\n  /**\n   * Handle successful payment\n   */\n  private async handlePaymentSuccess(payment: any) {\n    this.logger.log(`Payment ${payment.id} processed successfully`);\n\n    const updatedPayment = await this.prisma.payment.update({\n      where: { id: payment.id },\n      data: {\n        status: PaymentStatus.COMPLETED,\n        processedAt: new Date(),\n      },\n    });\n\n    // Calculate platform fee (e.g., 5% platform commission)\n    const platformFeeRate = 0.05;\n    const platformFee = Number(payment.amount) * platformFeeRate;\n    const therapistAmount = Number(payment.amount) - platformFee;\n\n    // Emit payment success event\n    this.eventEmitter.emit('payment.succeeded', {\n      paymentId: payment.id,\n      clientId: payment.clientId,\n      therapistId: payment.therapistId,\n      amount: Number(payment.amount),\n      currency: payment.currency,\n      platformFee,\n      therapistAmount,\n      meetingId: payment.meetingId,\n    });\n\n    return updatedPayment;\n  }\n\n  /**\n   * Handle failed payment\n   */\n  private async handlePaymentFailure(payment: any) {\n    const failureReasons = [\n      'Insufficient funds',\n      'Card declined',\n      'Expired card',\n      'Invalid card number',\n      'Network error',\n    ];\n\n    const failureReason = failureReasons[Math.floor(Math.random() * failureReasons.length)];\n    \n    this.logger.warn(`Payment ${payment.id} failed: ${failureReason}`);\n\n    const updatedPayment = await this.prisma.payment.update({\n      where: { id: payment.id },\n      data: {\n        status: PaymentStatus.FAILED,\n        failedAt: new Date(),\n        failureReason,\n      },\n    });\n\n    // Emit payment failure event\n    this.eventEmitter.emit('payment.failed', {\n      paymentId: payment.id,\n      clientId: payment.clientId,\n      therapistId: payment.therapistId,\n      amount: Number(payment.amount),\n      currency: payment.currency,\n      failureReason,\n      meetingId: payment.meetingId,\n    });\n\n    return updatedPayment;\n  }\n\n  // ===== PAYMENT QUERIES =====\n\n  /**\n   * Get payment by ID\n   */\n  async getPayment(id: string) {\n    const payment = await this.prisma.payment.findUnique({\n      where: { id },\n      include: {\n        client: {\n          select: { \n            user: {\n              select: { firstName: true, lastName: true, email: true }\n            }\n          }\n        },\n        therapist: {\n          select: { \n            user: {\n              select: { firstName: true, lastName: true, email: true }\n            }\n          }\n        },\n        paymentMethod: true,\n        meeting: {\n          select: { startTime: true, endTime: true, title: true }\n        },\n      },\n    });\n\n    if (!payment) {\n      throw new NotFoundException(`Payment ${id} not found`);\n    }\n\n    return payment;\n  }\n\n  /**\n   * Get payments for a user (as client or therapist)\n   */\n  async getUserPayments(\n    userId: string,\n    options: {\n      role?: 'client' | 'therapist';\n      status?: PaymentStatus;\n      limit?: number;\n      offset?: number;\n    } = {}\n  ) {\n    const where: any = {};\n\n    if (options.role === 'client') {\n      where.clientId = userId;\n    } else if (options.role === 'therapist') {\n      where.therapistId = userId;\n    } else {\n      where.OR = [\n        { clientId: userId },\n        { therapistId: userId },\n      ];\n    }\n\n    if (options.status) {\n      where.status = options.status;\n    }\n\n    return this.prisma.payment.findMany({\n      where,\n      include: {\n        client: {\n          select: { \n            user: {\n              select: { firstName: true, lastName: true, email: true }\n            }\n          }\n        },\n        therapist: {\n          select: { \n            user: {\n              select: { firstName: true, lastName: true, email: true }\n            }\n          }\n        },\n        paymentMethod: true,\n        meeting: {\n          select: { startTime: true, endTime: true, title: true }\n        },\n      },\n      orderBy: { createdAt: 'desc' },\n      take: options.limit || 50,\n      skip: options.offset || 0,\n    });\n  }\n\n  /**\n   * Retry a failed payment\n   */\n  async retryPayment(paymentId: string) {\n    const payment = await this.prisma.payment.findUnique({\n      where: { id: paymentId },\n    });\n\n    if (!payment) {\n      throw new NotFoundException(`Payment ${paymentId} not found`);\n    }\n\n    if (payment.status !== PaymentStatus.FAILED) {\n      throw new BadRequestException('Can only retry failed payments');\n    }\n\n    // Reset payment to pending and retry\n    await this.prisma.payment.update({\n      where: { id: paymentId },\n      data: {\n        status: PaymentStatus.PENDING,\n        failureReason: null,\n        failedAt: null,\n      },\n    });\n\n    // Process payment again\n    this.processPaymentAsync(paymentId).catch((error) => {\n      this.logger.error(`Failed to retry payment ${paymentId}:`, error);\n    });\n\n    return { success: true, message: 'Payment retry initiated' };\n  }\n\n  // ===== ANALYTICS & REPORTING =====\n\n  /**\n   * Get payment statistics for therapists\n   */\n  async getTherapistPaymentStats(\n    therapistId: string,\n    startDate?: Date,\n    endDate?: Date\n  ) {\n    const where: any = {\n      therapistId,\n      status: PaymentStatus.COMPLETED,\n    };\n\n    if (startDate) {\n      where.processedAt = { ...where.processedAt, gte: startDate };\n    }\n    if (endDate) {\n      where.processedAt = { ...where.processedAt, lte: endDate };\n    }\n\n    const [totalPayments, stats] = await Promise.all([\n      this.prisma.payment.count({ where }),\n      this.prisma.payment.aggregate({\n        where,\n        _sum: { amount: true },\n        _avg: { amount: true },\n      }),\n    ]);\n\n    const totalRevenue = Number(stats._sum.amount || 0);\n    const averageSessionRate = Number(stats._avg.amount || 0);\n    const platformFeeRate = 0.05;\n    const platformFees = totalRevenue * platformFeeRate;\n    const netEarnings = totalRevenue - platformFees;\n\n    return {\n      totalSessions: totalPayments,\n      totalRevenue,\n      averageSessionRate,\n      platformFees,\n      netEarnings,\n      period: {\n        startDate,\n        endDate,\n      },\n    };\n  }\n\n  /**\n   * Get platform billing statistics (admin only)\n   */\n  async getPlatformStats(startDate?: Date, endDate?: Date) {\n    const where: any = {};\n\n    if (startDate) {\n      where.createdAt = { ...where.createdAt, gte: startDate };\n    }\n    if (endDate) {\n      where.createdAt = { ...where.createdAt, lte: endDate };\n    }\n\n    const [\n      totalPayments,\n      successfulPayments,\n      failedPayments,\n      revenueStats,\n    ] = await Promise.all([\n      this.prisma.payment.count({ where }),\n      this.prisma.payment.count({ \n        where: { ...where, status: PaymentStatus.COMPLETED }\n      }),\n      this.prisma.payment.count({ \n        where: { ...where, status: PaymentStatus.FAILED }\n      }),\n      this.prisma.payment.aggregate({\n        where: { ...where, status: PaymentStatus.COMPLETED },\n        _sum: { amount: true },\n      }),\n    ]);\n\n    const totalRevenue = Number(revenueStats._sum.amount || 0);\n    const platformFeeRate = 0.05;\n    const platformRevenue = totalRevenue * platformFeeRate;\n    const successRate = totalPayments > 0 ? (successfulPayments / totalPayments) * 100 : 0;\n\n    return {\n      totalPayments,\n      successfulPayments,\n      failedPayments,\n      successRate,\n      totalRevenue,\n      platformRevenue,\n      therapistPayouts: totalRevenue - platformRevenue,\n      period: {\n        startDate,\n        endDate,\n      },\n    };\n  }\n}"],
      version: 3
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "c74cdaa8ba0a583a9d4ce9543e3dacad426b65f4"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_s2i4vsm0m = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_s2i4vsm0m();
var __decorate =
/* istanbul ignore next */
(cov_s2i4vsm0m().s[0]++,
/* istanbul ignore next */
(cov_s2i4vsm0m().b[0][0]++, this) &&
/* istanbul ignore next */
(cov_s2i4vsm0m().b[0][1]++, this.__decorate) ||
/* istanbul ignore next */
(cov_s2i4vsm0m().b[0][2]++, function (decorators, target, key, desc) {
  /* istanbul ignore next */
  cov_s2i4vsm0m().f[0]++;
  var c =
    /* istanbul ignore next */
    (cov_s2i4vsm0m().s[1]++, arguments.length),
    r =
    /* istanbul ignore next */
    (cov_s2i4vsm0m().s[2]++, c < 3 ?
    /* istanbul ignore next */
    (cov_s2i4vsm0m().b[1][0]++, target) :
    /* istanbul ignore next */
    (cov_s2i4vsm0m().b[1][1]++, desc === null ?
    /* istanbul ignore next */
    (cov_s2i4vsm0m().b[2][0]++, desc = Object.getOwnPropertyDescriptor(target, key)) :
    /* istanbul ignore next */
    (cov_s2i4vsm0m().b[2][1]++, desc))),
    d;
  /* istanbul ignore next */
  cov_s2i4vsm0m().s[3]++;
  if (
  /* istanbul ignore next */
  (cov_s2i4vsm0m().b[4][0]++, typeof Reflect === "object") &&
  /* istanbul ignore next */
  (cov_s2i4vsm0m().b[4][1]++, typeof Reflect.decorate === "function")) {
    /* istanbul ignore next */
    cov_s2i4vsm0m().b[3][0]++;
    cov_s2i4vsm0m().s[4]++;
    r = Reflect.decorate(decorators, target, key, desc);
  } else {
    /* istanbul ignore next */
    cov_s2i4vsm0m().b[3][1]++;
    cov_s2i4vsm0m().s[5]++;
    for (var i =
    /* istanbul ignore next */
    (cov_s2i4vsm0m().s[6]++, decorators.length - 1); i >= 0; i--) {
      /* istanbul ignore next */
      cov_s2i4vsm0m().s[7]++;
      if (d = decorators[i]) {
        /* istanbul ignore next */
        cov_s2i4vsm0m().b[5][0]++;
        cov_s2i4vsm0m().s[8]++;
        r =
        /* istanbul ignore next */
        (cov_s2i4vsm0m().b[6][0]++, c < 3 ?
        /* istanbul ignore next */
        (cov_s2i4vsm0m().b[7][0]++, d(r)) :
        /* istanbul ignore next */
        (cov_s2i4vsm0m().b[7][1]++, c > 3 ?
        /* istanbul ignore next */
        (cov_s2i4vsm0m().b[8][0]++, d(target, key, r)) :
        /* istanbul ignore next */
        (cov_s2i4vsm0m().b[8][1]++, d(target, key)))) ||
        /* istanbul ignore next */
        (cov_s2i4vsm0m().b[6][1]++, r);
      } else
      /* istanbul ignore next */
      {
        cov_s2i4vsm0m().b[5][1]++;
      }
    }
  }
  /* istanbul ignore next */
  cov_s2i4vsm0m().s[9]++;
  return /* istanbul ignore next */(cov_s2i4vsm0m().b[9][0]++, c > 3) &&
  /* istanbul ignore next */
  (cov_s2i4vsm0m().b[9][1]++, r) &&
  /* istanbul ignore next */
  (cov_s2i4vsm0m().b[9][2]++, Object.defineProperty(target, key, r)), r;
}));
var __metadata =
/* istanbul ignore next */
(cov_s2i4vsm0m().s[10]++,
/* istanbul ignore next */
(cov_s2i4vsm0m().b[10][0]++, this) &&
/* istanbul ignore next */
(cov_s2i4vsm0m().b[10][1]++, this.__metadata) ||
/* istanbul ignore next */
(cov_s2i4vsm0m().b[10][2]++, function (k, v) {
  /* istanbul ignore next */
  cov_s2i4vsm0m().f[1]++;
  cov_s2i4vsm0m().s[11]++;
  if (
  /* istanbul ignore next */
  (cov_s2i4vsm0m().b[12][0]++, typeof Reflect === "object") &&
  /* istanbul ignore next */
  (cov_s2i4vsm0m().b[12][1]++, typeof Reflect.metadata === "function")) {
    /* istanbul ignore next */
    cov_s2i4vsm0m().b[11][0]++;
    cov_s2i4vsm0m().s[12]++;
    return Reflect.metadata(k, v);
  } else
  /* istanbul ignore next */
  {
    cov_s2i4vsm0m().b[11][1]++;
  }
}));
var BillingService_1;
var _a, _b;
/* istanbul ignore next */
cov_s2i4vsm0m().s[13]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
/* istanbul ignore next */
cov_s2i4vsm0m().s[14]++;
exports.BillingService = void 0;
const common_1 =
/* istanbul ignore next */
(cov_s2i4vsm0m().s[15]++, require("@nestjs/common"));
const prisma_client_provider_1 =
/* istanbul ignore next */
(cov_s2i4vsm0m().s[16]++, require("src/providers/prisma-client.provider"));
const event_emitter_1 =
/* istanbul ignore next */
(cov_s2i4vsm0m().s[17]++, require("@nestjs/event-emitter"));
const client_1 =
/* istanbul ignore next */
(cov_s2i4vsm0m().s[18]++, require("@prisma/client"));
/**
 * Educational Billing Service for Mental Health Platform
 *
 * This service provides a simplified, educational payment processing system
 * suitable for a school project. It simulates real payment flows without
 * processing actual money.
 *
 * Features:
 * - Mock payment processing for therapy sessions
 * - Payment method management
 * - Educational payment flows
 * - Realistic payment failures and retries
 */
let BillingService =
/* istanbul ignore next */
(cov_s2i4vsm0m().s[19]++, BillingService_1 = class BillingService {
  prisma;
  eventEmitter;
  logger =
  /* istanbul ignore next */
  (cov_s2i4vsm0m().s[20]++, new common_1.Logger(BillingService_1.name));
  constructor(prisma, eventEmitter) {
    /* istanbul ignore next */
    cov_s2i4vsm0m().f[2]++;
    cov_s2i4vsm0m().s[21]++;
    this.prisma = prisma;
    /* istanbul ignore next */
    cov_s2i4vsm0m().s[22]++;
    this.eventEmitter = eventEmitter;
  }
  // ===== PAYMENT METHODS =====
  /**
   * Create a new payment method for a user
   */
  async createPaymentMethod(data) {
    /* istanbul ignore next */
    cov_s2i4vsm0m().f[3]++;
    cov_s2i4vsm0m().s[23]++;
    this.logger.log(`Creating payment method for user ${data.userId}`);
    // If this is set as default, unset other default payment methods
    /* istanbul ignore next */
    cov_s2i4vsm0m().s[24]++;
    if (data.isDefault) {
      /* istanbul ignore next */
      cov_s2i4vsm0m().b[13][0]++;
      cov_s2i4vsm0m().s[25]++;
      await this.prisma.paymentMethod.updateMany({
        where: {
          userId: data.userId,
          isDefault: true
        },
        data: {
          isDefault: false
        }
      });
    } else
    /* istanbul ignore next */
    {
      cov_s2i4vsm0m().b[13][1]++;
    }
    const paymentMethod =
    /* istanbul ignore next */
    (cov_s2i4vsm0m().s[26]++, await this.prisma.paymentMethod.create({
      data: {
        userId: data.userId,
        type: data.type,
        cardLast4: data.cardLast4,
        cardBrand: data.cardBrand,
        isDefault:
        /* istanbul ignore next */
        (cov_s2i4vsm0m().b[14][0]++, data.isDefault) ||
        /* istanbul ignore next */
        (cov_s2i4vsm0m().b[14][1]++, false)
      }
    }));
    /* istanbul ignore next */
    cov_s2i4vsm0m().s[27]++;
    this.eventEmitter.emit('payment_method.created', {
      userId: data.userId,
      paymentMethodId: paymentMethod.id,
      type: data.type
    });
    /* istanbul ignore next */
    cov_s2i4vsm0m().s[28]++;
    return paymentMethod;
  }
  /**
   * Get all payment methods for a user
   */
  async getUserPaymentMethods(userId) {
    /* istanbul ignore next */
    cov_s2i4vsm0m().f[4]++;
    cov_s2i4vsm0m().s[29]++;
    return this.prisma.paymentMethod.findMany({
      where: {
        userId
      },
      orderBy: [{
        isDefault: 'desc'
      }, {
        createdAt: 'desc'
      }]
    });
  }
  /**
   * Update payment method settings
   */
  async updatePaymentMethod(id, data) {
    /* istanbul ignore next */
    cov_s2i4vsm0m().f[5]++;
    const paymentMethod =
    /* istanbul ignore next */
    (cov_s2i4vsm0m().s[30]++, await this.prisma.paymentMethod.findUnique({
      where: {
        id
      }
    }));
    /* istanbul ignore next */
    cov_s2i4vsm0m().s[31]++;
    if (!paymentMethod) {
      /* istanbul ignore next */
      cov_s2i4vsm0m().b[15][0]++;
      cov_s2i4vsm0m().s[32]++;
      throw new common_1.NotFoundException(`Payment method ${id} not found`);
    } else
    /* istanbul ignore next */
    {
      cov_s2i4vsm0m().b[15][1]++;
    }
    // If setting as default, unset other defaults for this user
    cov_s2i4vsm0m().s[33]++;
    if (data.isDefault) {
      /* istanbul ignore next */
      cov_s2i4vsm0m().b[16][0]++;
      cov_s2i4vsm0m().s[34]++;
      await this.prisma.paymentMethod.updateMany({
        where: {
          userId: paymentMethod.userId,
          isDefault: true
        },
        data: {
          isDefault: false
        }
      });
    } else
    /* istanbul ignore next */
    {
      cov_s2i4vsm0m().b[16][1]++;
    }
    cov_s2i4vsm0m().s[35]++;
    return this.prisma.paymentMethod.update({
      where: {
        id
      },
      data
    });
  }
  /**
   * Delete (soft delete) a payment method
   */
  async deletePaymentMethod(id) {
    /* istanbul ignore next */
    cov_s2i4vsm0m().f[6]++;
    const paymentMethod =
    /* istanbul ignore next */
    (cov_s2i4vsm0m().s[36]++, await this.prisma.paymentMethod.findUnique({
      where: {
        id
      }
    }));
    /* istanbul ignore next */
    cov_s2i4vsm0m().s[37]++;
    if (!paymentMethod) {
      /* istanbul ignore next */
      cov_s2i4vsm0m().b[17][0]++;
      cov_s2i4vsm0m().s[38]++;
      throw new common_1.NotFoundException(`Payment method ${id} not found`);
    } else
    /* istanbul ignore next */
    {
      cov_s2i4vsm0m().b[17][1]++;
    }
    // Cannot delete the only payment method if user has pending payments
    const otherMethods =
    /* istanbul ignore next */
    (cov_s2i4vsm0m().s[39]++, await this.prisma.paymentMethod.count({
      where: {
        userId: paymentMethod.userId,
        id: {
          not: id
        }
      }
    }));
    const pendingPayments =
    /* istanbul ignore next */
    (cov_s2i4vsm0m().s[40]++, await this.prisma.payment.count({
      where: {
        OR: [{
          clientId: paymentMethod.userId
        }, {
          therapistId: paymentMethod.userId
        }],
        status: client_1.PaymentStatus.PENDING
      }
    }));
    /* istanbul ignore next */
    cov_s2i4vsm0m().s[41]++;
    if (
    /* istanbul ignore next */
    (cov_s2i4vsm0m().b[19][0]++, otherMethods === 0) &&
    /* istanbul ignore next */
    (cov_s2i4vsm0m().b[19][1]++, pendingPayments > 0)) {
      /* istanbul ignore next */
      cov_s2i4vsm0m().b[18][0]++;
      cov_s2i4vsm0m().s[42]++;
      throw new common_1.BadRequestException('Cannot delete the only payment method with pending payments');
    } else
    /* istanbul ignore next */
    {
      cov_s2i4vsm0m().b[18][1]++;
    }
    cov_s2i4vsm0m().s[43]++;
    await this.prisma.paymentMethod.delete({
      where: {
        id
      }
    });
    /* istanbul ignore next */
    cov_s2i4vsm0m().s[44]++;
    this.eventEmitter.emit('payment_method.deleted', {
      userId: paymentMethod.userId,
      paymentMethodId: id
    });
    /* istanbul ignore next */
    cov_s2i4vsm0m().s[45]++;
    return {
      success: true
    };
  }
  // ===== PAYMENT PROCESSING =====
  /**
   * Process a payment for a therapy session
   */
  async processSessionPayment(data) {
    /* istanbul ignore next */
    cov_s2i4vsm0m().f[7]++;
    cov_s2i4vsm0m().s[46]++;
    this.logger.log(`Processing session payment: ${data.amount} ${
    /* istanbul ignore next */
    (cov_s2i4vsm0m().b[20][0]++, data.currency) ||
    /* istanbul ignore next */
    (cov_s2i4vsm0m().b[20][1]++, 'USD')} from client ${data.clientId} to therapist ${data.therapistId}`);
    // Validate payment method belongs to client
    const paymentMethod =
    /* istanbul ignore next */
    (cov_s2i4vsm0m().s[47]++, await this.prisma.paymentMethod.findFirst({
      where: {
        id: data.paymentMethodId,
        userId: data.clientId
      }
    }));
    /* istanbul ignore next */
    cov_s2i4vsm0m().s[48]++;
    if (!paymentMethod) {
      /* istanbul ignore next */
      cov_s2i4vsm0m().b[21][0]++;
      cov_s2i4vsm0m().s[49]++;
      throw new common_1.BadRequestException('Invalid payment method');
    } else
    /* istanbul ignore next */
    {
      cov_s2i4vsm0m().b[21][1]++;
    }
    // Create payment record
    const payment =
    /* istanbul ignore next */
    (cov_s2i4vsm0m().s[50]++, await this.prisma.payment.create({
      data: {
        amount: data.amount,
        currency:
        /* istanbul ignore next */
        (cov_s2i4vsm0m().b[22][0]++, data.currency) ||
        /* istanbul ignore next */
        (cov_s2i4vsm0m().b[22][1]++, 'USD'),
        status: client_1.PaymentStatus.PENDING,
        clientId: data.clientId,
        therapistId: data.therapistId,
        meetingId: data.meetingId,
        paymentMethodId: data.paymentMethodId,
        failureReason: null
      },
      include: {
        client: {
          select: {
            user: {
              select: {
                firstName: true,
                lastName: true,
                email: true
              }
            }
          }
        },
        therapist: {
          select: {
            user: {
              select: {
                firstName: true,
                lastName: true,
                email: true
              }
            }
          }
        },
        paymentMethod: true
      }
    }));
    // Process payment asynchronously
    /* istanbul ignore next */
    cov_s2i4vsm0m().s[51]++;
    this.processPaymentAsync(payment.id).catch(error => {
      /* istanbul ignore next */
      cov_s2i4vsm0m().f[8]++;
      cov_s2i4vsm0m().s[52]++;
      this.logger.error(`Failed to process payment ${payment.id}:`, error);
    });
    /* istanbul ignore next */
    cov_s2i4vsm0m().s[53]++;
    return payment;
  }
  /**
   * Asynchronously process the payment with mock payment gateway
   */
  async processPaymentAsync(paymentId) {
    /* istanbul ignore next */
    cov_s2i4vsm0m().f[9]++;
    cov_s2i4vsm0m().s[54]++;
    // Simulate payment processing delay
    await new Promise(resolve => {
      /* istanbul ignore next */
      cov_s2i4vsm0m().f[10]++;
      cov_s2i4vsm0m().s[55]++;
      return setTimeout(resolve, 2000 + Math.random() * 3000);
    });
    const payment =
    /* istanbul ignore next */
    (cov_s2i4vsm0m().s[56]++, await this.prisma.payment.findUnique({
      where: {
        id: paymentId
      },
      include: {
        client: {
          select: {
            user: {
              select: {
                firstName: true,
                lastName: true,
                email: true
              }
            }
          }
        },
        therapist: {
          select: {
            user: {
              select: {
                firstName: true,
                lastName: true,
                email: true
              }
            }
          }
        },
        paymentMethod: true
      }
    }));
    /* istanbul ignore next */
    cov_s2i4vsm0m().s[57]++;
    if (!payment) {
      /* istanbul ignore next */
      cov_s2i4vsm0m().b[23][0]++;
      cov_s2i4vsm0m().s[58]++;
      this.logger.error(`Payment ${paymentId} not found during processing`);
      /* istanbul ignore next */
      cov_s2i4vsm0m().s[59]++;
      return;
    } else
    /* istanbul ignore next */
    {
      cov_s2i4vsm0m().b[23][1]++;
    }
    // Mock payment processing with realistic success/failure rates
    const success =
    /* istanbul ignore next */
    (cov_s2i4vsm0m().s[60]++, this.mockPaymentGateway(payment));
    /* istanbul ignore next */
    cov_s2i4vsm0m().s[61]++;
    if (success) {
      /* istanbul ignore next */
      cov_s2i4vsm0m().b[24][0]++;
      cov_s2i4vsm0m().s[62]++;
      await this.handlePaymentSuccess(payment);
    } else {
      /* istanbul ignore next */
      cov_s2i4vsm0m().b[24][1]++;
      cov_s2i4vsm0m().s[63]++;
      await this.handlePaymentFailure(payment);
    }
  }
  /**
   * Mock payment gateway simulation
   * Returns true for success, false for failure
   */
  mockPaymentGateway(payment) {
    /* istanbul ignore next */
    cov_s2i4vsm0m().f[11]++;
    // Simulate different failure scenarios based on card details
    const cardLast4 =
    /* istanbul ignore next */
    (cov_s2i4vsm0m().s[64]++, payment.paymentMethod?.cardLast4);
    // Test card numbers for specific scenarios
    /* istanbul ignore next */
    cov_s2i4vsm0m().s[65]++;
    if (cardLast4) {
      /* istanbul ignore next */
      cov_s2i4vsm0m().b[25][0]++;
      cov_s2i4vsm0m().s[66]++;
      switch (cardLast4) {
        case '0002':
          /* istanbul ignore next */
          cov_s2i4vsm0m().b[26][0]++;
          cov_s2i4vsm0m().s[67]++;
          // Always decline
          return false;
        case '0004':
          /* istanbul ignore next */
          cov_s2i4vsm0m().b[26][1]++;
          cov_s2i4vsm0m().s[68]++;
          // Always decline with insufficient funds
          return false;
        case '0008':
          /* istanbul ignore next */
          cov_s2i4vsm0m().b[26][2]++;
          cov_s2i4vsm0m().s[69]++;
          // Always decline with expired card
          return false;
        case '0001':
          /* istanbul ignore next */
          cov_s2i4vsm0m().b[26][3]++;
          cov_s2i4vsm0m().s[70]++;
          // Always succeed
          return true;
        default:
          /* istanbul ignore next */
          cov_s2i4vsm0m().b[26][4]++;
          cov_s2i4vsm0m().s[71]++;
          // Random success/failure (90% success rate)
          return Math.random() > 0.1;
      }
    } else
    /* istanbul ignore next */
    {
      cov_s2i4vsm0m().b[25][1]++;
    }
    // Default: 90% success rate
    cov_s2i4vsm0m().s[72]++;
    return Math.random() > 0.1;
  }
  /**
   * Handle successful payment
   */
  async handlePaymentSuccess(payment) {
    /* istanbul ignore next */
    cov_s2i4vsm0m().f[12]++;
    cov_s2i4vsm0m().s[73]++;
    this.logger.log(`Payment ${payment.id} processed successfully`);
    const updatedPayment =
    /* istanbul ignore next */
    (cov_s2i4vsm0m().s[74]++, await this.prisma.payment.update({
      where: {
        id: payment.id
      },
      data: {
        status: client_1.PaymentStatus.COMPLETED,
        processedAt: new Date()
      }
    }));
    // Calculate platform fee (e.g., 5% platform commission)
    const platformFeeRate =
    /* istanbul ignore next */
    (cov_s2i4vsm0m().s[75]++, 0.05);
    const platformFee =
    /* istanbul ignore next */
    (cov_s2i4vsm0m().s[76]++, Number(payment.amount) * platformFeeRate);
    const therapistAmount =
    /* istanbul ignore next */
    (cov_s2i4vsm0m().s[77]++, Number(payment.amount) - platformFee);
    // Emit payment success event
    /* istanbul ignore next */
    cov_s2i4vsm0m().s[78]++;
    this.eventEmitter.emit('payment.succeeded', {
      paymentId: payment.id,
      clientId: payment.clientId,
      therapistId: payment.therapistId,
      amount: Number(payment.amount),
      currency: payment.currency,
      platformFee,
      therapistAmount,
      meetingId: payment.meetingId
    });
    /* istanbul ignore next */
    cov_s2i4vsm0m().s[79]++;
    return updatedPayment;
  }
  /**
   * Handle failed payment
   */
  async handlePaymentFailure(payment) {
    /* istanbul ignore next */
    cov_s2i4vsm0m().f[13]++;
    const failureReasons =
    /* istanbul ignore next */
    (cov_s2i4vsm0m().s[80]++, ['Insufficient funds', 'Card declined', 'Expired card', 'Invalid card number', 'Network error']);
    const failureReason =
    /* istanbul ignore next */
    (cov_s2i4vsm0m().s[81]++, failureReasons[Math.floor(Math.random() * failureReasons.length)]);
    /* istanbul ignore next */
    cov_s2i4vsm0m().s[82]++;
    this.logger.warn(`Payment ${payment.id} failed: ${failureReason}`);
    const updatedPayment =
    /* istanbul ignore next */
    (cov_s2i4vsm0m().s[83]++, await this.prisma.payment.update({
      where: {
        id: payment.id
      },
      data: {
        status: client_1.PaymentStatus.FAILED,
        failedAt: new Date(),
        failureReason
      }
    }));
    // Emit payment failure event
    /* istanbul ignore next */
    cov_s2i4vsm0m().s[84]++;
    this.eventEmitter.emit('payment.failed', {
      paymentId: payment.id,
      clientId: payment.clientId,
      therapistId: payment.therapistId,
      amount: Number(payment.amount),
      currency: payment.currency,
      failureReason,
      meetingId: payment.meetingId
    });
    /* istanbul ignore next */
    cov_s2i4vsm0m().s[85]++;
    return updatedPayment;
  }
  // ===== PAYMENT QUERIES =====
  /**
   * Get payment by ID
   */
  async getPayment(id) {
    /* istanbul ignore next */
    cov_s2i4vsm0m().f[14]++;
    const payment =
    /* istanbul ignore next */
    (cov_s2i4vsm0m().s[86]++, await this.prisma.payment.findUnique({
      where: {
        id
      },
      include: {
        client: {
          select: {
            user: {
              select: {
                firstName: true,
                lastName: true,
                email: true
              }
            }
          }
        },
        therapist: {
          select: {
            user: {
              select: {
                firstName: true,
                lastName: true,
                email: true
              }
            }
          }
        },
        paymentMethod: true,
        meeting: {
          select: {
            startTime: true,
            endTime: true,
            title: true
          }
        }
      }
    }));
    /* istanbul ignore next */
    cov_s2i4vsm0m().s[87]++;
    if (!payment) {
      /* istanbul ignore next */
      cov_s2i4vsm0m().b[27][0]++;
      cov_s2i4vsm0m().s[88]++;
      throw new common_1.NotFoundException(`Payment ${id} not found`);
    } else
    /* istanbul ignore next */
    {
      cov_s2i4vsm0m().b[27][1]++;
    }
    cov_s2i4vsm0m().s[89]++;
    return payment;
  }
  /**
   * Get payments for a user (as client or therapist)
   */
  async getUserPayments(userId, options =
  /* istanbul ignore next */
  (cov_s2i4vsm0m().b[28][0]++, {})) {
    /* istanbul ignore next */
    cov_s2i4vsm0m().f[15]++;
    const where =
    /* istanbul ignore next */
    (cov_s2i4vsm0m().s[90]++, {});
    /* istanbul ignore next */
    cov_s2i4vsm0m().s[91]++;
    if (options.role === 'client') {
      /* istanbul ignore next */
      cov_s2i4vsm0m().b[29][0]++;
      cov_s2i4vsm0m().s[92]++;
      where.clientId = userId;
    } else {
      /* istanbul ignore next */
      cov_s2i4vsm0m().b[29][1]++;
      cov_s2i4vsm0m().s[93]++;
      if (options.role === 'therapist') {
        /* istanbul ignore next */
        cov_s2i4vsm0m().b[30][0]++;
        cov_s2i4vsm0m().s[94]++;
        where.therapistId = userId;
      } else {
        /* istanbul ignore next */
        cov_s2i4vsm0m().b[30][1]++;
        cov_s2i4vsm0m().s[95]++;
        where.OR = [{
          clientId: userId
        }, {
          therapistId: userId
        }];
      }
    }
    /* istanbul ignore next */
    cov_s2i4vsm0m().s[96]++;
    if (options.status) {
      /* istanbul ignore next */
      cov_s2i4vsm0m().b[31][0]++;
      cov_s2i4vsm0m().s[97]++;
      where.status = options.status;
    } else
    /* istanbul ignore next */
    {
      cov_s2i4vsm0m().b[31][1]++;
    }
    cov_s2i4vsm0m().s[98]++;
    return this.prisma.payment.findMany({
      where,
      include: {
        client: {
          select: {
            user: {
              select: {
                firstName: true,
                lastName: true,
                email: true
              }
            }
          }
        },
        therapist: {
          select: {
            user: {
              select: {
                firstName: true,
                lastName: true,
                email: true
              }
            }
          }
        },
        paymentMethod: true,
        meeting: {
          select: {
            startTime: true,
            endTime: true,
            title: true
          }
        }
      },
      orderBy: {
        createdAt: 'desc'
      },
      take:
      /* istanbul ignore next */
      (cov_s2i4vsm0m().b[32][0]++, options.limit) ||
      /* istanbul ignore next */
      (cov_s2i4vsm0m().b[32][1]++, 50),
      skip:
      /* istanbul ignore next */
      (cov_s2i4vsm0m().b[33][0]++, options.offset) ||
      /* istanbul ignore next */
      (cov_s2i4vsm0m().b[33][1]++, 0)
    });
  }
  /**
   * Retry a failed payment
   */
  async retryPayment(paymentId) {
    /* istanbul ignore next */
    cov_s2i4vsm0m().f[16]++;
    const payment =
    /* istanbul ignore next */
    (cov_s2i4vsm0m().s[99]++, await this.prisma.payment.findUnique({
      where: {
        id: paymentId
      }
    }));
    /* istanbul ignore next */
    cov_s2i4vsm0m().s[100]++;
    if (!payment) {
      /* istanbul ignore next */
      cov_s2i4vsm0m().b[34][0]++;
      cov_s2i4vsm0m().s[101]++;
      throw new common_1.NotFoundException(`Payment ${paymentId} not found`);
    } else
    /* istanbul ignore next */
    {
      cov_s2i4vsm0m().b[34][1]++;
    }
    cov_s2i4vsm0m().s[102]++;
    if (payment.status !== client_1.PaymentStatus.FAILED) {
      /* istanbul ignore next */
      cov_s2i4vsm0m().b[35][0]++;
      cov_s2i4vsm0m().s[103]++;
      throw new common_1.BadRequestException('Can only retry failed payments');
    } else
    /* istanbul ignore next */
    {
      cov_s2i4vsm0m().b[35][1]++;
    }
    // Reset payment to pending and retry
    cov_s2i4vsm0m().s[104]++;
    await this.prisma.payment.update({
      where: {
        id: paymentId
      },
      data: {
        status: client_1.PaymentStatus.PENDING,
        failureReason: null,
        failedAt: null
      }
    });
    // Process payment again
    /* istanbul ignore next */
    cov_s2i4vsm0m().s[105]++;
    this.processPaymentAsync(paymentId).catch(error => {
      /* istanbul ignore next */
      cov_s2i4vsm0m().f[17]++;
      cov_s2i4vsm0m().s[106]++;
      this.logger.error(`Failed to retry payment ${paymentId}:`, error);
    });
    /* istanbul ignore next */
    cov_s2i4vsm0m().s[107]++;
    return {
      success: true,
      message: 'Payment retry initiated'
    };
  }
  // ===== ANALYTICS & REPORTING =====
  /**
   * Get payment statistics for therapists
   */
  async getTherapistPaymentStats(therapistId, startDate, endDate) {
    /* istanbul ignore next */
    cov_s2i4vsm0m().f[18]++;
    const where =
    /* istanbul ignore next */
    (cov_s2i4vsm0m().s[108]++, {
      therapistId,
      status: client_1.PaymentStatus.COMPLETED
    });
    /* istanbul ignore next */
    cov_s2i4vsm0m().s[109]++;
    if (startDate) {
      /* istanbul ignore next */
      cov_s2i4vsm0m().b[36][0]++;
      cov_s2i4vsm0m().s[110]++;
      where.processedAt = {
        ...where.processedAt,
        gte: startDate
      };
    } else
    /* istanbul ignore next */
    {
      cov_s2i4vsm0m().b[36][1]++;
    }
    cov_s2i4vsm0m().s[111]++;
    if (endDate) {
      /* istanbul ignore next */
      cov_s2i4vsm0m().b[37][0]++;
      cov_s2i4vsm0m().s[112]++;
      where.processedAt = {
        ...where.processedAt,
        lte: endDate
      };
    } else
    /* istanbul ignore next */
    {
      cov_s2i4vsm0m().b[37][1]++;
    }
    const [totalPayments, stats] =
    /* istanbul ignore next */
    (cov_s2i4vsm0m().s[113]++, await Promise.all([this.prisma.payment.count({
      where
    }), this.prisma.payment.aggregate({
      where,
      _sum: {
        amount: true
      },
      _avg: {
        amount: true
      }
    })]));
    const totalRevenue =
    /* istanbul ignore next */
    (cov_s2i4vsm0m().s[114]++, Number(
    /* istanbul ignore next */
    (cov_s2i4vsm0m().b[38][0]++, stats._sum.amount) ||
    /* istanbul ignore next */
    (cov_s2i4vsm0m().b[38][1]++, 0)));
    const averageSessionRate =
    /* istanbul ignore next */
    (cov_s2i4vsm0m().s[115]++, Number(
    /* istanbul ignore next */
    (cov_s2i4vsm0m().b[39][0]++, stats._avg.amount) ||
    /* istanbul ignore next */
    (cov_s2i4vsm0m().b[39][1]++, 0)));
    const platformFeeRate =
    /* istanbul ignore next */
    (cov_s2i4vsm0m().s[116]++, 0.05);
    const platformFees =
    /* istanbul ignore next */
    (cov_s2i4vsm0m().s[117]++, totalRevenue * platformFeeRate);
    const netEarnings =
    /* istanbul ignore next */
    (cov_s2i4vsm0m().s[118]++, totalRevenue - platformFees);
    /* istanbul ignore next */
    cov_s2i4vsm0m().s[119]++;
    return {
      totalSessions: totalPayments,
      totalRevenue,
      averageSessionRate,
      platformFees,
      netEarnings,
      period: {
        startDate,
        endDate
      }
    };
  }
  /**
   * Get platform billing statistics (admin only)
   */
  async getPlatformStats(startDate, endDate) {
    /* istanbul ignore next */
    cov_s2i4vsm0m().f[19]++;
    const where =
    /* istanbul ignore next */
    (cov_s2i4vsm0m().s[120]++, {});
    /* istanbul ignore next */
    cov_s2i4vsm0m().s[121]++;
    if (startDate) {
      /* istanbul ignore next */
      cov_s2i4vsm0m().b[40][0]++;
      cov_s2i4vsm0m().s[122]++;
      where.createdAt = {
        ...where.createdAt,
        gte: startDate
      };
    } else
    /* istanbul ignore next */
    {
      cov_s2i4vsm0m().b[40][1]++;
    }
    cov_s2i4vsm0m().s[123]++;
    if (endDate) {
      /* istanbul ignore next */
      cov_s2i4vsm0m().b[41][0]++;
      cov_s2i4vsm0m().s[124]++;
      where.createdAt = {
        ...where.createdAt,
        lte: endDate
      };
    } else
    /* istanbul ignore next */
    {
      cov_s2i4vsm0m().b[41][1]++;
    }
    const [totalPayments, successfulPayments, failedPayments, revenueStats] =
    /* istanbul ignore next */
    (cov_s2i4vsm0m().s[125]++, await Promise.all([this.prisma.payment.count({
      where
    }), this.prisma.payment.count({
      where: {
        ...where,
        status: client_1.PaymentStatus.COMPLETED
      }
    }), this.prisma.payment.count({
      where: {
        ...where,
        status: client_1.PaymentStatus.FAILED
      }
    }), this.prisma.payment.aggregate({
      where: {
        ...where,
        status: client_1.PaymentStatus.COMPLETED
      },
      _sum: {
        amount: true
      }
    })]));
    const totalRevenue =
    /* istanbul ignore next */
    (cov_s2i4vsm0m().s[126]++, Number(
    /* istanbul ignore next */
    (cov_s2i4vsm0m().b[42][0]++, revenueStats._sum.amount) ||
    /* istanbul ignore next */
    (cov_s2i4vsm0m().b[42][1]++, 0)));
    const platformFeeRate =
    /* istanbul ignore next */
    (cov_s2i4vsm0m().s[127]++, 0.05);
    const platformRevenue =
    /* istanbul ignore next */
    (cov_s2i4vsm0m().s[128]++, totalRevenue * platformFeeRate);
    const successRate =
    /* istanbul ignore next */
    (cov_s2i4vsm0m().s[129]++, totalPayments > 0 ?
    /* istanbul ignore next */
    (cov_s2i4vsm0m().b[43][0]++, successfulPayments / totalPayments * 100) :
    /* istanbul ignore next */
    (cov_s2i4vsm0m().b[43][1]++, 0));
    /* istanbul ignore next */
    cov_s2i4vsm0m().s[130]++;
    return {
      totalPayments,
      successfulPayments,
      failedPayments,
      successRate,
      totalRevenue,
      platformRevenue,
      therapistPayouts: totalRevenue - platformRevenue,
      period: {
        startDate,
        endDate
      }
    };
  }
});
/* istanbul ignore next */
cov_s2i4vsm0m().s[131]++;
exports.BillingService = BillingService;
/* istanbul ignore next */
cov_s2i4vsm0m().s[132]++;
exports.BillingService = BillingService = BillingService_1 = __decorate([(0, common_1.Injectable)(), __metadata("design:paramtypes", [typeof (_a =
/* istanbul ignore next */
(cov_s2i4vsm0m().b[45][0]++, typeof prisma_client_provider_1.PrismaService !== "undefined") &&
/* istanbul ignore next */
(cov_s2i4vsm0m().b[45][1]++, prisma_client_provider_1.PrismaService)) === "function" ?
/* istanbul ignore next */
(cov_s2i4vsm0m().b[44][0]++, _a) :
/* istanbul ignore next */
(cov_s2i4vsm0m().b[44][1]++, Object), typeof (_b =
/* istanbul ignore next */
(cov_s2i4vsm0m().b[47][0]++, typeof event_emitter_1.EventEmitter2 !== "undefined") &&
/* istanbul ignore next */
(cov_s2i4vsm0m().b[47][1]++, event_emitter_1.EventEmitter2)) === "function" ?
/* istanbul ignore next */
(cov_s2i4vsm0m().b[46][0]++, _b) :
/* istanbul ignore next */
(cov_s2i4vsm0m().b[46][1]++, Object)])], BillingService);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfczJpNHZzbTBtIiwiYWN0dWFsQ292ZXJhZ2UiLCJjb21tb25fMSIsInMiLCJyZXF1aXJlIiwicHJpc21hX2NsaWVudF9wcm92aWRlcl8xIiwiZXZlbnRfZW1pdHRlcl8xIiwiY2xpZW50XzEiLCJCaWxsaW5nU2VydmljZSIsIkJpbGxpbmdTZXJ2aWNlXzEiLCJwcmlzbWEiLCJldmVudEVtaXR0ZXIiLCJsb2dnZXIiLCJMb2dnZXIiLCJuYW1lIiwiY29uc3RydWN0b3IiLCJmIiwiY3JlYXRlUGF5bWVudE1ldGhvZCIsImRhdGEiLCJsb2ciLCJ1c2VySWQiLCJpc0RlZmF1bHQiLCJiIiwicGF5bWVudE1ldGhvZCIsInVwZGF0ZU1hbnkiLCJ3aGVyZSIsImNyZWF0ZSIsInR5cGUiLCJjYXJkTGFzdDQiLCJjYXJkQnJhbmQiLCJlbWl0IiwicGF5bWVudE1ldGhvZElkIiwiaWQiLCJnZXRVc2VyUGF5bWVudE1ldGhvZHMiLCJmaW5kTWFueSIsIm9yZGVyQnkiLCJjcmVhdGVkQXQiLCJ1cGRhdGVQYXltZW50TWV0aG9kIiwiZmluZFVuaXF1ZSIsIk5vdEZvdW5kRXhjZXB0aW9uIiwidXBkYXRlIiwiZGVsZXRlUGF5bWVudE1ldGhvZCIsIm90aGVyTWV0aG9kcyIsImNvdW50Iiwibm90IiwicGVuZGluZ1BheW1lbnRzIiwicGF5bWVudCIsIk9SIiwiY2xpZW50SWQiLCJ0aGVyYXBpc3RJZCIsInN0YXR1cyIsIlBheW1lbnRTdGF0dXMiLCJQRU5ESU5HIiwiQmFkUmVxdWVzdEV4Y2VwdGlvbiIsImRlbGV0ZSIsInN1Y2Nlc3MiLCJwcm9jZXNzU2Vzc2lvblBheW1lbnQiLCJhbW91bnQiLCJjdXJyZW5jeSIsImZpbmRGaXJzdCIsIm1lZXRpbmdJZCIsImZhaWx1cmVSZWFzb24iLCJpbmNsdWRlIiwiY2xpZW50Iiwic2VsZWN0IiwidXNlciIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwiZW1haWwiLCJ0aGVyYXBpc3QiLCJwcm9jZXNzUGF5bWVudEFzeW5jIiwiY2F0Y2giLCJlcnJvciIsInBheW1lbnRJZCIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsIk1hdGgiLCJyYW5kb20iLCJtb2NrUGF5bWVudEdhdGV3YXkiLCJoYW5kbGVQYXltZW50U3VjY2VzcyIsImhhbmRsZVBheW1lbnRGYWlsdXJlIiwidXBkYXRlZFBheW1lbnQiLCJDT01QTEVURUQiLCJwcm9jZXNzZWRBdCIsIkRhdGUiLCJwbGF0Zm9ybUZlZVJhdGUiLCJwbGF0Zm9ybUZlZSIsIk51bWJlciIsInRoZXJhcGlzdEFtb3VudCIsImZhaWx1cmVSZWFzb25zIiwiZmxvb3IiLCJsZW5ndGgiLCJ3YXJuIiwiRkFJTEVEIiwiZmFpbGVkQXQiLCJnZXRQYXltZW50IiwibWVldGluZyIsInN0YXJ0VGltZSIsImVuZFRpbWUiLCJ0aXRsZSIsImdldFVzZXJQYXltZW50cyIsIm9wdGlvbnMiLCJyb2xlIiwidGFrZSIsImxpbWl0Iiwic2tpcCIsIm9mZnNldCIsInJldHJ5UGF5bWVudCIsIm1lc3NhZ2UiLCJnZXRUaGVyYXBpc3RQYXltZW50U3RhdHMiLCJzdGFydERhdGUiLCJlbmREYXRlIiwiZ3RlIiwibHRlIiwidG90YWxQYXltZW50cyIsInN0YXRzIiwiYWxsIiwiYWdncmVnYXRlIiwiX3N1bSIsIl9hdmciLCJ0b3RhbFJldmVudWUiLCJhdmVyYWdlU2Vzc2lvblJhdGUiLCJwbGF0Zm9ybUZlZXMiLCJuZXRFYXJuaW5ncyIsInRvdGFsU2Vzc2lvbnMiLCJwZXJpb2QiLCJnZXRQbGF0Zm9ybVN0YXRzIiwic3VjY2Vzc2Z1bFBheW1lbnRzIiwiZmFpbGVkUGF5bWVudHMiLCJyZXZlbnVlU3RhdHMiLCJwbGF0Zm9ybVJldmVudWUiLCJzdWNjZXNzUmF0ZSIsInRoZXJhcGlzdFBheW91dHMiLCJleHBvcnRzIiwiX19kZWNvcmF0ZSIsIkluamVjdGFibGUiLCJQcmlzbWFTZXJ2aWNlIiwiX2EiLCJPYmplY3QiLCJfYiIsIkV2ZW50RW1pdHRlcjIiXSwic291cmNlcyI6WyIvaG9tZS93ZXRvb2EvRG9jdW1lbnRzL2NvZGUvcHJvamVjdHMvbWVudGFyYS9tZW50YXJhLWFwaS9zcmMvYmlsbGluZy9iaWxsaW5nLnNlcnZpY2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgSW5qZWN0YWJsZSxcbiAgTm90Rm91bmRFeGNlcHRpb24sXG4gIEJhZFJlcXVlc3RFeGNlcHRpb24sXG4gIExvZ2dlcixcbn0gZnJvbSAnQG5lc3Rqcy9jb21tb24nO1xuaW1wb3J0IHsgUHJpc21hU2VydmljZSB9IGZyb20gJ3NyYy9wcm92aWRlcnMvcHJpc21hLWNsaWVudC5wcm92aWRlcic7XG5pbXBvcnQgeyBFdmVudEVtaXR0ZXIyIH0gZnJvbSAnQG5lc3Rqcy9ldmVudC1lbWl0dGVyJztcbmltcG9ydCB7XG4gIFBheW1lbnRTdGF0dXMsXG4gIFBheW1lbnRNZXRob2RUeXBlLFxufSBmcm9tICdAcHJpc21hL2NsaWVudCc7XG5cbi8qKlxuICogRWR1Y2F0aW9uYWwgQmlsbGluZyBTZXJ2aWNlIGZvciBNZW50YWwgSGVhbHRoIFBsYXRmb3JtXG4gKiBcbiAqIFRoaXMgc2VydmljZSBwcm92aWRlcyBhIHNpbXBsaWZpZWQsIGVkdWNhdGlvbmFsIHBheW1lbnQgcHJvY2Vzc2luZyBzeXN0ZW1cbiAqIHN1aXRhYmxlIGZvciBhIHNjaG9vbCBwcm9qZWN0LiBJdCBzaW11bGF0ZXMgcmVhbCBwYXltZW50IGZsb3dzIHdpdGhvdXRcbiAqIHByb2Nlc3NpbmcgYWN0dWFsIG1vbmV5LlxuICogXG4gKiBGZWF0dXJlczpcbiAqIC0gTW9jayBwYXltZW50IHByb2Nlc3NpbmcgZm9yIHRoZXJhcHkgc2Vzc2lvbnNcbiAqIC0gUGF5bWVudCBtZXRob2QgbWFuYWdlbWVudFxuICogLSBFZHVjYXRpb25hbCBwYXltZW50IGZsb3dzXG4gKiAtIFJlYWxpc3RpYyBwYXltZW50IGZhaWx1cmVzIGFuZCByZXRyaWVzXG4gKi9cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBCaWxsaW5nU2VydmljZSB7XG4gIHByaXZhdGUgcmVhZG9ubHkgbG9nZ2VyID0gbmV3IExvZ2dlcihCaWxsaW5nU2VydmljZS5uYW1lKTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIHJlYWRvbmx5IHByaXNtYTogUHJpc21hU2VydmljZSxcbiAgICBwcml2YXRlIHJlYWRvbmx5IGV2ZW50RW1pdHRlcjogRXZlbnRFbWl0dGVyMixcbiAgKSB7fVxuXG4gIC8vID09PT09IFBBWU1FTlQgTUVUSE9EUyA9PT09PVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgcGF5bWVudCBtZXRob2QgZm9yIGEgdXNlclxuICAgKi9cbiAgYXN5bmMgY3JlYXRlUGF5bWVudE1ldGhvZChkYXRhOiB7XG4gICAgdXNlcklkOiBzdHJpbmc7XG4gICAgdHlwZTogUGF5bWVudE1ldGhvZFR5cGU7XG4gICAgY2FyZExhc3Q0Pzogc3RyaW5nO1xuICAgIGNhcmRCcmFuZD86IHN0cmluZztcbiAgICBpc0RlZmF1bHQ/OiBib29sZWFuO1xuICB9KSB7XG4gICAgdGhpcy5sb2dnZXIubG9nKGBDcmVhdGluZyBwYXltZW50IG1ldGhvZCBmb3IgdXNlciAke2RhdGEudXNlcklkfWApO1xuXG4gICAgLy8gSWYgdGhpcyBpcyBzZXQgYXMgZGVmYXVsdCwgdW5zZXQgb3RoZXIgZGVmYXVsdCBwYXltZW50IG1ldGhvZHNcbiAgICBpZiAoZGF0YS5pc0RlZmF1bHQpIHtcbiAgICAgIGF3YWl0IHRoaXMucHJpc21hLnBheW1lbnRNZXRob2QudXBkYXRlTWFueSh7XG4gICAgICAgIHdoZXJlOiB7IHVzZXJJZDogZGF0YS51c2VySWQsIGlzRGVmYXVsdDogdHJ1ZSB9LFxuICAgICAgICBkYXRhOiB7IGlzRGVmYXVsdDogZmFsc2UgfSxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IHBheW1lbnRNZXRob2QgPSBhd2FpdCB0aGlzLnByaXNtYS5wYXltZW50TWV0aG9kLmNyZWF0ZSh7XG4gICAgICBkYXRhOiB7XG4gICAgICAgIHVzZXJJZDogZGF0YS51c2VySWQsXG4gICAgICAgIHR5cGU6IGRhdGEudHlwZSxcbiAgICAgICAgY2FyZExhc3Q0OiBkYXRhLmNhcmRMYXN0NCxcbiAgICAgICAgY2FyZEJyYW5kOiBkYXRhLmNhcmRCcmFuZCxcbiAgICAgICAgaXNEZWZhdWx0OiBkYXRhLmlzRGVmYXVsdCB8fCBmYWxzZSxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICB0aGlzLmV2ZW50RW1pdHRlci5lbWl0KCdwYXltZW50X21ldGhvZC5jcmVhdGVkJywge1xuICAgICAgdXNlcklkOiBkYXRhLnVzZXJJZCxcbiAgICAgIHBheW1lbnRNZXRob2RJZDogcGF5bWVudE1ldGhvZC5pZCxcbiAgICAgIHR5cGU6IGRhdGEudHlwZSxcbiAgICB9KTtcblxuICAgIHJldHVybiBwYXltZW50TWV0aG9kO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbGwgcGF5bWVudCBtZXRob2RzIGZvciBhIHVzZXJcbiAgICovXG4gIGFzeW5jIGdldFVzZXJQYXltZW50TWV0aG9kcyh1c2VySWQ6IHN0cmluZykge1xuICAgIHJldHVybiB0aGlzLnByaXNtYS5wYXltZW50TWV0aG9kLmZpbmRNYW55KHtcbiAgICAgIHdoZXJlOiB7IHVzZXJJZCB9LFxuICAgICAgb3JkZXJCeTogW3sgaXNEZWZhdWx0OiAnZGVzYycgfSwgeyBjcmVhdGVkQXQ6ICdkZXNjJyB9XSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgcGF5bWVudCBtZXRob2Qgc2V0dGluZ3NcbiAgICovXG4gIGFzeW5jIHVwZGF0ZVBheW1lbnRNZXRob2QoXG4gICAgaWQ6IHN0cmluZyxcbiAgICBkYXRhOiB7IGlzRGVmYXVsdD86IGJvb2xlYW4gfVxuICApIHtcbiAgICBjb25zdCBwYXltZW50TWV0aG9kID0gYXdhaXQgdGhpcy5wcmlzbWEucGF5bWVudE1ldGhvZC5maW5kVW5pcXVlKHtcbiAgICAgIHdoZXJlOiB7IGlkIH0sXG4gICAgfSk7XG5cbiAgICBpZiAoIXBheW1lbnRNZXRob2QpIHtcbiAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbihgUGF5bWVudCBtZXRob2QgJHtpZH0gbm90IGZvdW5kYCk7XG4gICAgfVxuXG4gICAgLy8gSWYgc2V0dGluZyBhcyBkZWZhdWx0LCB1bnNldCBvdGhlciBkZWZhdWx0cyBmb3IgdGhpcyB1c2VyXG4gICAgaWYgKGRhdGEuaXNEZWZhdWx0KSB7XG4gICAgICBhd2FpdCB0aGlzLnByaXNtYS5wYXltZW50TWV0aG9kLnVwZGF0ZU1hbnkoe1xuICAgICAgICB3aGVyZTogeyB1c2VySWQ6IHBheW1lbnRNZXRob2QudXNlcklkLCBpc0RlZmF1bHQ6IHRydWUgfSxcbiAgICAgICAgZGF0YTogeyBpc0RlZmF1bHQ6IGZhbHNlIH0sXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5wcmlzbWEucGF5bWVudE1ldGhvZC51cGRhdGUoe1xuICAgICAgd2hlcmU6IHsgaWQgfSxcbiAgICAgIGRhdGEsXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRGVsZXRlIChzb2Z0IGRlbGV0ZSkgYSBwYXltZW50IG1ldGhvZFxuICAgKi9cbiAgYXN5bmMgZGVsZXRlUGF5bWVudE1ldGhvZChpZDogc3RyaW5nKSB7XG4gICAgY29uc3QgcGF5bWVudE1ldGhvZCA9IGF3YWl0IHRoaXMucHJpc21hLnBheW1lbnRNZXRob2QuZmluZFVuaXF1ZSh7XG4gICAgICB3aGVyZTogeyBpZCB9LFxuICAgIH0pO1xuXG4gICAgaWYgKCFwYXltZW50TWV0aG9kKSB7XG4gICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb24oYFBheW1lbnQgbWV0aG9kICR7aWR9IG5vdCBmb3VuZGApO1xuICAgIH1cblxuICAgIC8vIENhbm5vdCBkZWxldGUgdGhlIG9ubHkgcGF5bWVudCBtZXRob2QgaWYgdXNlciBoYXMgcGVuZGluZyBwYXltZW50c1xuICAgIGNvbnN0IG90aGVyTWV0aG9kcyA9IGF3YWl0IHRoaXMucHJpc21hLnBheW1lbnRNZXRob2QuY291bnQoe1xuICAgICAgd2hlcmU6IHsgXG4gICAgICAgIHVzZXJJZDogcGF5bWVudE1ldGhvZC51c2VySWQsXG4gICAgICAgIGlkOiB7IG5vdDogaWQgfVxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIGNvbnN0IHBlbmRpbmdQYXltZW50cyA9IGF3YWl0IHRoaXMucHJpc21hLnBheW1lbnQuY291bnQoe1xuICAgICAgd2hlcmU6IHtcbiAgICAgICAgT1I6IFtcbiAgICAgICAgICB7IGNsaWVudElkOiBwYXltZW50TWV0aG9kLnVzZXJJZCB9LFxuICAgICAgICAgIHsgdGhlcmFwaXN0SWQ6IHBheW1lbnRNZXRob2QudXNlcklkIH1cbiAgICAgICAgXSxcbiAgICAgICAgc3RhdHVzOiBQYXltZW50U3RhdHVzLlBFTkRJTkcsXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgaWYgKG90aGVyTWV0aG9kcyA9PT0gMCAmJiBwZW5kaW5nUGF5bWVudHMgPiAwKSB7XG4gICAgICB0aHJvdyBuZXcgQmFkUmVxdWVzdEV4Y2VwdGlvbihcbiAgICAgICAgJ0Nhbm5vdCBkZWxldGUgdGhlIG9ubHkgcGF5bWVudCBtZXRob2Qgd2l0aCBwZW5kaW5nIHBheW1lbnRzJ1xuICAgICAgKTtcbiAgICB9XG5cbiAgICBhd2FpdCB0aGlzLnByaXNtYS5wYXltZW50TWV0aG9kLmRlbGV0ZSh7XG4gICAgICB3aGVyZTogeyBpZCB9LFxuICAgIH0pO1xuXG4gICAgdGhpcy5ldmVudEVtaXR0ZXIuZW1pdCgncGF5bWVudF9tZXRob2QuZGVsZXRlZCcsIHtcbiAgICAgIHVzZXJJZDogcGF5bWVudE1ldGhvZC51c2VySWQsXG4gICAgICBwYXltZW50TWV0aG9kSWQ6IGlkLFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuICB9XG5cbiAgLy8gPT09PT0gUEFZTUVOVCBQUk9DRVNTSU5HID09PT09XG5cbiAgLyoqXG4gICAqIFByb2Nlc3MgYSBwYXltZW50IGZvciBhIHRoZXJhcHkgc2Vzc2lvblxuICAgKi9cbiAgYXN5bmMgcHJvY2Vzc1Nlc3Npb25QYXltZW50KGRhdGE6IHtcbiAgICBjbGllbnRJZDogc3RyaW5nO1xuICAgIHRoZXJhcGlzdElkOiBzdHJpbmc7XG4gICAgbWVldGluZ0lkPzogc3RyaW5nO1xuICAgIGFtb3VudDogbnVtYmVyO1xuICAgIGN1cnJlbmN5Pzogc3RyaW5nO1xuICAgIHBheW1lbnRNZXRob2RJZDogc3RyaW5nO1xuICAgIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuICB9KSB7XG4gICAgdGhpcy5sb2dnZXIubG9nKFxuICAgICAgYFByb2Nlc3Npbmcgc2Vzc2lvbiBwYXltZW50OiAke2RhdGEuYW1vdW50fSAke2RhdGEuY3VycmVuY3kgfHwgJ1VTRCd9IGZyb20gY2xpZW50ICR7ZGF0YS5jbGllbnRJZH0gdG8gdGhlcmFwaXN0ICR7ZGF0YS50aGVyYXBpc3RJZH1gXG4gICAgKTtcblxuICAgIC8vIFZhbGlkYXRlIHBheW1lbnQgbWV0aG9kIGJlbG9uZ3MgdG8gY2xpZW50XG4gICAgY29uc3QgcGF5bWVudE1ldGhvZCA9IGF3YWl0IHRoaXMucHJpc21hLnBheW1lbnRNZXRob2QuZmluZEZpcnN0KHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIGlkOiBkYXRhLnBheW1lbnRNZXRob2RJZCxcbiAgICAgICAgdXNlcklkOiBkYXRhLmNsaWVudElkLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIGlmICghcGF5bWVudE1ldGhvZCkge1xuICAgICAgdGhyb3cgbmV3IEJhZFJlcXVlc3RFeGNlcHRpb24oJ0ludmFsaWQgcGF5bWVudCBtZXRob2QnKTtcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgcGF5bWVudCByZWNvcmRcbiAgICBjb25zdCBwYXltZW50ID0gYXdhaXQgdGhpcy5wcmlzbWEucGF5bWVudC5jcmVhdGUoe1xuICAgICAgZGF0YToge1xuICAgICAgICBhbW91bnQ6IGRhdGEuYW1vdW50LFxuICAgICAgICBjdXJyZW5jeTogZGF0YS5jdXJyZW5jeSB8fCAnVVNEJyxcbiAgICAgICAgc3RhdHVzOiBQYXltZW50U3RhdHVzLlBFTkRJTkcsXG4gICAgICAgIGNsaWVudElkOiBkYXRhLmNsaWVudElkLFxuICAgICAgICB0aGVyYXBpc3RJZDogZGF0YS50aGVyYXBpc3RJZCxcbiAgICAgICAgbWVldGluZ0lkOiBkYXRhLm1lZXRpbmdJZCxcbiAgICAgICAgcGF5bWVudE1ldGhvZElkOiBkYXRhLnBheW1lbnRNZXRob2RJZCxcbiAgICAgICAgZmFpbHVyZVJlYXNvbjogbnVsbCxcbiAgICAgIH0sXG4gICAgICBpbmNsdWRlOiB7XG4gICAgICAgIGNsaWVudDoge1xuICAgICAgICAgIHNlbGVjdDogeyBcbiAgICAgICAgICAgIHVzZXI6IHtcbiAgICAgICAgICAgICAgc2VsZWN0OiB7IGZpcnN0TmFtZTogdHJ1ZSwgbGFzdE5hbWU6IHRydWUsIGVtYWlsOiB0cnVlIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHRoZXJhcGlzdDoge1xuICAgICAgICAgIHNlbGVjdDogeyBcbiAgICAgICAgICAgIHVzZXI6IHtcbiAgICAgICAgICAgICAgc2VsZWN0OiB7IGZpcnN0TmFtZTogdHJ1ZSwgbGFzdE5hbWU6IHRydWUsIGVtYWlsOiB0cnVlIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHBheW1lbnRNZXRob2Q6IHRydWUsXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgLy8gUHJvY2VzcyBwYXltZW50IGFzeW5jaHJvbm91c2x5XG4gICAgdGhpcy5wcm9jZXNzUGF5bWVudEFzeW5jKHBheW1lbnQuaWQpLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoYEZhaWxlZCB0byBwcm9jZXNzIHBheW1lbnQgJHtwYXltZW50LmlkfTpgLCBlcnJvcik7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcGF5bWVudDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBc3luY2hyb25vdXNseSBwcm9jZXNzIHRoZSBwYXltZW50IHdpdGggbW9jayBwYXltZW50IGdhdGV3YXlcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgcHJvY2Vzc1BheW1lbnRBc3luYyhwYXltZW50SWQ6IHN0cmluZykge1xuICAgIC8vIFNpbXVsYXRlIHBheW1lbnQgcHJvY2Vzc2luZyBkZWxheVxuICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAyMDAwICsgTWF0aC5yYW5kb20oKSAqIDMwMDApKTtcblxuICAgIGNvbnN0IHBheW1lbnQgPSBhd2FpdCB0aGlzLnByaXNtYS5wYXltZW50LmZpbmRVbmlxdWUoe1xuICAgICAgd2hlcmU6IHsgaWQ6IHBheW1lbnRJZCB9LFxuICAgICAgaW5jbHVkZToge1xuICAgICAgICBjbGllbnQ6IHsgXG4gICAgICAgICAgc2VsZWN0OiB7IFxuICAgICAgICAgICAgdXNlcjoge1xuICAgICAgICAgICAgICBzZWxlY3Q6IHsgZmlyc3ROYW1lOiB0cnVlLCBsYXN0TmFtZTogdHJ1ZSwgZW1haWw6IHRydWUgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdGhlcmFwaXN0OiB7IFxuICAgICAgICAgIHNlbGVjdDogeyBcbiAgICAgICAgICAgIHVzZXI6IHtcbiAgICAgICAgICAgICAgc2VsZWN0OiB7IGZpcnN0TmFtZTogdHJ1ZSwgbGFzdE5hbWU6IHRydWUsIGVtYWlsOiB0cnVlIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHBheW1lbnRNZXRob2Q6IHRydWUsXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgaWYgKCFwYXltZW50KSB7XG4gICAgICB0aGlzLmxvZ2dlci5lcnJvcihgUGF5bWVudCAke3BheW1lbnRJZH0gbm90IGZvdW5kIGR1cmluZyBwcm9jZXNzaW5nYCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gTW9jayBwYXltZW50IHByb2Nlc3Npbmcgd2l0aCByZWFsaXN0aWMgc3VjY2Vzcy9mYWlsdXJlIHJhdGVzXG4gICAgY29uc3Qgc3VjY2VzcyA9IHRoaXMubW9ja1BheW1lbnRHYXRld2F5KHBheW1lbnQpO1xuXG4gICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgIGF3YWl0IHRoaXMuaGFuZGxlUGF5bWVudFN1Y2Nlc3MocGF5bWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGF3YWl0IHRoaXMuaGFuZGxlUGF5bWVudEZhaWx1cmUocGF5bWVudCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE1vY2sgcGF5bWVudCBnYXRld2F5IHNpbXVsYXRpb25cbiAgICogUmV0dXJucyB0cnVlIGZvciBzdWNjZXNzLCBmYWxzZSBmb3IgZmFpbHVyZVxuICAgKi9cbiAgcHJpdmF0ZSBtb2NrUGF5bWVudEdhdGV3YXkocGF5bWVudDogYW55KTogYm9vbGVhbiB7XG4gICAgLy8gU2ltdWxhdGUgZGlmZmVyZW50IGZhaWx1cmUgc2NlbmFyaW9zIGJhc2VkIG9uIGNhcmQgZGV0YWlsc1xuICAgIGNvbnN0IGNhcmRMYXN0NCA9IHBheW1lbnQucGF5bWVudE1ldGhvZD8uY2FyZExhc3Q0O1xuICAgIFxuICAgIC8vIFRlc3QgY2FyZCBudW1iZXJzIGZvciBzcGVjaWZpYyBzY2VuYXJpb3NcbiAgICBpZiAoY2FyZExhc3Q0KSB7XG4gICAgICBzd2l0Y2ggKGNhcmRMYXN0NCkge1xuICAgICAgICBjYXNlICcwMDAyJzogLy8gQWx3YXlzIGRlY2xpbmVcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNhc2UgJzAwMDQnOiAvLyBBbHdheXMgZGVjbGluZSB3aXRoIGluc3VmZmljaWVudCBmdW5kc1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgY2FzZSAnMDAwOCc6IC8vIEFsd2F5cyBkZWNsaW5lIHdpdGggZXhwaXJlZCBjYXJkXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBjYXNlICcwMDAxJzogLy8gQWx3YXlzIHN1Y2NlZWRcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAvLyBSYW5kb20gc3VjY2Vzcy9mYWlsdXJlICg5MCUgc3VjY2VzcyByYXRlKVxuICAgICAgICAgIHJldHVybiBNYXRoLnJhbmRvbSgpID4gMC4xO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIERlZmF1bHQ6IDkwJSBzdWNjZXNzIHJhdGVcbiAgICByZXR1cm4gTWF0aC5yYW5kb20oKSA+IDAuMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgc3VjY2Vzc2Z1bCBwYXltZW50XG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGhhbmRsZVBheW1lbnRTdWNjZXNzKHBheW1lbnQ6IGFueSkge1xuICAgIHRoaXMubG9nZ2VyLmxvZyhgUGF5bWVudCAke3BheW1lbnQuaWR9IHByb2Nlc3NlZCBzdWNjZXNzZnVsbHlgKTtcblxuICAgIGNvbnN0IHVwZGF0ZWRQYXltZW50ID0gYXdhaXQgdGhpcy5wcmlzbWEucGF5bWVudC51cGRhdGUoe1xuICAgICAgd2hlcmU6IHsgaWQ6IHBheW1lbnQuaWQgfSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgc3RhdHVzOiBQYXltZW50U3RhdHVzLkNPTVBMRVRFRCxcbiAgICAgICAgcHJvY2Vzc2VkQXQ6IG5ldyBEYXRlKCksXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgLy8gQ2FsY3VsYXRlIHBsYXRmb3JtIGZlZSAoZS5nLiwgNSUgcGxhdGZvcm0gY29tbWlzc2lvbilcbiAgICBjb25zdCBwbGF0Zm9ybUZlZVJhdGUgPSAwLjA1O1xuICAgIGNvbnN0IHBsYXRmb3JtRmVlID0gTnVtYmVyKHBheW1lbnQuYW1vdW50KSAqIHBsYXRmb3JtRmVlUmF0ZTtcbiAgICBjb25zdCB0aGVyYXBpc3RBbW91bnQgPSBOdW1iZXIocGF5bWVudC5hbW91bnQpIC0gcGxhdGZvcm1GZWU7XG5cbiAgICAvLyBFbWl0IHBheW1lbnQgc3VjY2VzcyBldmVudFxuICAgIHRoaXMuZXZlbnRFbWl0dGVyLmVtaXQoJ3BheW1lbnQuc3VjY2VlZGVkJywge1xuICAgICAgcGF5bWVudElkOiBwYXltZW50LmlkLFxuICAgICAgY2xpZW50SWQ6IHBheW1lbnQuY2xpZW50SWQsXG4gICAgICB0aGVyYXBpc3RJZDogcGF5bWVudC50aGVyYXBpc3RJZCxcbiAgICAgIGFtb3VudDogTnVtYmVyKHBheW1lbnQuYW1vdW50KSxcbiAgICAgIGN1cnJlbmN5OiBwYXltZW50LmN1cnJlbmN5LFxuICAgICAgcGxhdGZvcm1GZWUsXG4gICAgICB0aGVyYXBpc3RBbW91bnQsXG4gICAgICBtZWV0aW5nSWQ6IHBheW1lbnQubWVldGluZ0lkLFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHVwZGF0ZWRQYXltZW50O1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBmYWlsZWQgcGF5bWVudFxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBoYW5kbGVQYXltZW50RmFpbHVyZShwYXltZW50OiBhbnkpIHtcbiAgICBjb25zdCBmYWlsdXJlUmVhc29ucyA9IFtcbiAgICAgICdJbnN1ZmZpY2llbnQgZnVuZHMnLFxuICAgICAgJ0NhcmQgZGVjbGluZWQnLFxuICAgICAgJ0V4cGlyZWQgY2FyZCcsXG4gICAgICAnSW52YWxpZCBjYXJkIG51bWJlcicsXG4gICAgICAnTmV0d29yayBlcnJvcicsXG4gICAgXTtcblxuICAgIGNvbnN0IGZhaWx1cmVSZWFzb24gPSBmYWlsdXJlUmVhc29uc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBmYWlsdXJlUmVhc29ucy5sZW5ndGgpXTtcbiAgICBcbiAgICB0aGlzLmxvZ2dlci53YXJuKGBQYXltZW50ICR7cGF5bWVudC5pZH0gZmFpbGVkOiAke2ZhaWx1cmVSZWFzb259YCk7XG5cbiAgICBjb25zdCB1cGRhdGVkUGF5bWVudCA9IGF3YWl0IHRoaXMucHJpc21hLnBheW1lbnQudXBkYXRlKHtcbiAgICAgIHdoZXJlOiB7IGlkOiBwYXltZW50LmlkIH0sXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHN0YXR1czogUGF5bWVudFN0YXR1cy5GQUlMRUQsXG4gICAgICAgIGZhaWxlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICBmYWlsdXJlUmVhc29uLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8vIEVtaXQgcGF5bWVudCBmYWlsdXJlIGV2ZW50XG4gICAgdGhpcy5ldmVudEVtaXR0ZXIuZW1pdCgncGF5bWVudC5mYWlsZWQnLCB7XG4gICAgICBwYXltZW50SWQ6IHBheW1lbnQuaWQsXG4gICAgICBjbGllbnRJZDogcGF5bWVudC5jbGllbnRJZCxcbiAgICAgIHRoZXJhcGlzdElkOiBwYXltZW50LnRoZXJhcGlzdElkLFxuICAgICAgYW1vdW50OiBOdW1iZXIocGF5bWVudC5hbW91bnQpLFxuICAgICAgY3VycmVuY3k6IHBheW1lbnQuY3VycmVuY3ksXG4gICAgICBmYWlsdXJlUmVhc29uLFxuICAgICAgbWVldGluZ0lkOiBwYXltZW50Lm1lZXRpbmdJZCxcbiAgICB9KTtcblxuICAgIHJldHVybiB1cGRhdGVkUGF5bWVudDtcbiAgfVxuXG4gIC8vID09PT09IFBBWU1FTlQgUVVFUklFUyA9PT09PVxuXG4gIC8qKlxuICAgKiBHZXQgcGF5bWVudCBieSBJRFxuICAgKi9cbiAgYXN5bmMgZ2V0UGF5bWVudChpZDogc3RyaW5nKSB7XG4gICAgY29uc3QgcGF5bWVudCA9IGF3YWl0IHRoaXMucHJpc21hLnBheW1lbnQuZmluZFVuaXF1ZSh7XG4gICAgICB3aGVyZTogeyBpZCB9LFxuICAgICAgaW5jbHVkZToge1xuICAgICAgICBjbGllbnQ6IHtcbiAgICAgICAgICBzZWxlY3Q6IHsgXG4gICAgICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgICAgIHNlbGVjdDogeyBmaXJzdE5hbWU6IHRydWUsIGxhc3ROYW1lOiB0cnVlLCBlbWFpbDogdHJ1ZSB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB0aGVyYXBpc3Q6IHtcbiAgICAgICAgICBzZWxlY3Q6IHsgXG4gICAgICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgICAgIHNlbGVjdDogeyBmaXJzdE5hbWU6IHRydWUsIGxhc3ROYW1lOiB0cnVlLCBlbWFpbDogdHJ1ZSB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBwYXltZW50TWV0aG9kOiB0cnVlLFxuICAgICAgICBtZWV0aW5nOiB7XG4gICAgICAgICAgc2VsZWN0OiB7IHN0YXJ0VGltZTogdHJ1ZSwgZW5kVGltZTogdHJ1ZSwgdGl0bGU6IHRydWUgfVxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIGlmICghcGF5bWVudCkge1xuICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uKGBQYXltZW50ICR7aWR9IG5vdCBmb3VuZGApO1xuICAgIH1cblxuICAgIHJldHVybiBwYXltZW50O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBwYXltZW50cyBmb3IgYSB1c2VyIChhcyBjbGllbnQgb3IgdGhlcmFwaXN0KVxuICAgKi9cbiAgYXN5bmMgZ2V0VXNlclBheW1lbnRzKFxuICAgIHVzZXJJZDogc3RyaW5nLFxuICAgIG9wdGlvbnM6IHtcbiAgICAgIHJvbGU/OiAnY2xpZW50JyB8ICd0aGVyYXBpc3QnO1xuICAgICAgc3RhdHVzPzogUGF5bWVudFN0YXR1cztcbiAgICAgIGxpbWl0PzogbnVtYmVyO1xuICAgICAgb2Zmc2V0PzogbnVtYmVyO1xuICAgIH0gPSB7fVxuICApIHtcbiAgICBjb25zdCB3aGVyZTogYW55ID0ge307XG5cbiAgICBpZiAob3B0aW9ucy5yb2xlID09PSAnY2xpZW50Jykge1xuICAgICAgd2hlcmUuY2xpZW50SWQgPSB1c2VySWQ7XG4gICAgfSBlbHNlIGlmIChvcHRpb25zLnJvbGUgPT09ICd0aGVyYXBpc3QnKSB7XG4gICAgICB3aGVyZS50aGVyYXBpc3RJZCA9IHVzZXJJZDtcbiAgICB9IGVsc2Uge1xuICAgICAgd2hlcmUuT1IgPSBbXG4gICAgICAgIHsgY2xpZW50SWQ6IHVzZXJJZCB9LFxuICAgICAgICB7IHRoZXJhcGlzdElkOiB1c2VySWQgfSxcbiAgICAgIF07XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuc3RhdHVzKSB7XG4gICAgICB3aGVyZS5zdGF0dXMgPSBvcHRpb25zLnN0YXR1cztcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5wcmlzbWEucGF5bWVudC5maW5kTWFueSh7XG4gICAgICB3aGVyZSxcbiAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgY2xpZW50OiB7XG4gICAgICAgICAgc2VsZWN0OiB7IFxuICAgICAgICAgICAgdXNlcjoge1xuICAgICAgICAgICAgICBzZWxlY3Q6IHsgZmlyc3ROYW1lOiB0cnVlLCBsYXN0TmFtZTogdHJ1ZSwgZW1haWw6IHRydWUgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdGhlcmFwaXN0OiB7XG4gICAgICAgICAgc2VsZWN0OiB7IFxuICAgICAgICAgICAgdXNlcjoge1xuICAgICAgICAgICAgICBzZWxlY3Q6IHsgZmlyc3ROYW1lOiB0cnVlLCBsYXN0TmFtZTogdHJ1ZSwgZW1haWw6IHRydWUgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgcGF5bWVudE1ldGhvZDogdHJ1ZSxcbiAgICAgICAgbWVldGluZzoge1xuICAgICAgICAgIHNlbGVjdDogeyBzdGFydFRpbWU6IHRydWUsIGVuZFRpbWU6IHRydWUsIHRpdGxlOiB0cnVlIH1cbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBvcmRlckJ5OiB7IGNyZWF0ZWRBdDogJ2Rlc2MnIH0sXG4gICAgICB0YWtlOiBvcHRpb25zLmxpbWl0IHx8IDUwLFxuICAgICAgc2tpcDogb3B0aW9ucy5vZmZzZXQgfHwgMCxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyeSBhIGZhaWxlZCBwYXltZW50XG4gICAqL1xuICBhc3luYyByZXRyeVBheW1lbnQocGF5bWVudElkOiBzdHJpbmcpIHtcbiAgICBjb25zdCBwYXltZW50ID0gYXdhaXQgdGhpcy5wcmlzbWEucGF5bWVudC5maW5kVW5pcXVlKHtcbiAgICAgIHdoZXJlOiB7IGlkOiBwYXltZW50SWQgfSxcbiAgICB9KTtcblxuICAgIGlmICghcGF5bWVudCkge1xuICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uKGBQYXltZW50ICR7cGF5bWVudElkfSBub3QgZm91bmRgKTtcbiAgICB9XG5cbiAgICBpZiAocGF5bWVudC5zdGF0dXMgIT09IFBheW1lbnRTdGF0dXMuRkFJTEVEKSB7XG4gICAgICB0aHJvdyBuZXcgQmFkUmVxdWVzdEV4Y2VwdGlvbignQ2FuIG9ubHkgcmV0cnkgZmFpbGVkIHBheW1lbnRzJyk7XG4gICAgfVxuXG4gICAgLy8gUmVzZXQgcGF5bWVudCB0byBwZW5kaW5nIGFuZCByZXRyeVxuICAgIGF3YWl0IHRoaXMucHJpc21hLnBheW1lbnQudXBkYXRlKHtcbiAgICAgIHdoZXJlOiB7IGlkOiBwYXltZW50SWQgfSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgc3RhdHVzOiBQYXltZW50U3RhdHVzLlBFTkRJTkcsXG4gICAgICAgIGZhaWx1cmVSZWFzb246IG51bGwsXG4gICAgICAgIGZhaWxlZEF0OiBudWxsLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8vIFByb2Nlc3MgcGF5bWVudCBhZ2FpblxuICAgIHRoaXMucHJvY2Vzc1BheW1lbnRBc3luYyhwYXltZW50SWQpLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoYEZhaWxlZCB0byByZXRyeSBwYXltZW50ICR7cGF5bWVudElkfTpgLCBlcnJvcik7XG4gICAgfSk7XG5cbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiAnUGF5bWVudCByZXRyeSBpbml0aWF0ZWQnIH07XG4gIH1cblxuICAvLyA9PT09PSBBTkFMWVRJQ1MgJiBSRVBPUlRJTkcgPT09PT1cblxuICAvKipcbiAgICogR2V0IHBheW1lbnQgc3RhdGlzdGljcyBmb3IgdGhlcmFwaXN0c1xuICAgKi9cbiAgYXN5bmMgZ2V0VGhlcmFwaXN0UGF5bWVudFN0YXRzKFxuICAgIHRoZXJhcGlzdElkOiBzdHJpbmcsXG4gICAgc3RhcnREYXRlPzogRGF0ZSxcbiAgICBlbmREYXRlPzogRGF0ZVxuICApIHtcbiAgICBjb25zdCB3aGVyZTogYW55ID0ge1xuICAgICAgdGhlcmFwaXN0SWQsXG4gICAgICBzdGF0dXM6IFBheW1lbnRTdGF0dXMuQ09NUExFVEVELFxuICAgIH07XG5cbiAgICBpZiAoc3RhcnREYXRlKSB7XG4gICAgICB3aGVyZS5wcm9jZXNzZWRBdCA9IHsgLi4ud2hlcmUucHJvY2Vzc2VkQXQsIGd0ZTogc3RhcnREYXRlIH07XG4gICAgfVxuICAgIGlmIChlbmREYXRlKSB7XG4gICAgICB3aGVyZS5wcm9jZXNzZWRBdCA9IHsgLi4ud2hlcmUucHJvY2Vzc2VkQXQsIGx0ZTogZW5kRGF0ZSB9O1xuICAgIH1cblxuICAgIGNvbnN0IFt0b3RhbFBheW1lbnRzLCBzdGF0c10gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICB0aGlzLnByaXNtYS5wYXltZW50LmNvdW50KHsgd2hlcmUgfSksXG4gICAgICB0aGlzLnByaXNtYS5wYXltZW50LmFnZ3JlZ2F0ZSh7XG4gICAgICAgIHdoZXJlLFxuICAgICAgICBfc3VtOiB7IGFtb3VudDogdHJ1ZSB9LFxuICAgICAgICBfYXZnOiB7IGFtb3VudDogdHJ1ZSB9LFxuICAgICAgfSksXG4gICAgXSk7XG5cbiAgICBjb25zdCB0b3RhbFJldmVudWUgPSBOdW1iZXIoc3RhdHMuX3N1bS5hbW91bnQgfHwgMCk7XG4gICAgY29uc3QgYXZlcmFnZVNlc3Npb25SYXRlID0gTnVtYmVyKHN0YXRzLl9hdmcuYW1vdW50IHx8IDApO1xuICAgIGNvbnN0IHBsYXRmb3JtRmVlUmF0ZSA9IDAuMDU7XG4gICAgY29uc3QgcGxhdGZvcm1GZWVzID0gdG90YWxSZXZlbnVlICogcGxhdGZvcm1GZWVSYXRlO1xuICAgIGNvbnN0IG5ldEVhcm5pbmdzID0gdG90YWxSZXZlbnVlIC0gcGxhdGZvcm1GZWVzO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHRvdGFsU2Vzc2lvbnM6IHRvdGFsUGF5bWVudHMsXG4gICAgICB0b3RhbFJldmVudWUsXG4gICAgICBhdmVyYWdlU2Vzc2lvblJhdGUsXG4gICAgICBwbGF0Zm9ybUZlZXMsXG4gICAgICBuZXRFYXJuaW5ncyxcbiAgICAgIHBlcmlvZDoge1xuICAgICAgICBzdGFydERhdGUsXG4gICAgICAgIGVuZERhdGUsXG4gICAgICB9LFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogR2V0IHBsYXRmb3JtIGJpbGxpbmcgc3RhdGlzdGljcyAoYWRtaW4gb25seSlcbiAgICovXG4gIGFzeW5jIGdldFBsYXRmb3JtU3RhdHMoc3RhcnREYXRlPzogRGF0ZSwgZW5kRGF0ZT86IERhdGUpIHtcbiAgICBjb25zdCB3aGVyZTogYW55ID0ge307XG5cbiAgICBpZiAoc3RhcnREYXRlKSB7XG4gICAgICB3aGVyZS5jcmVhdGVkQXQgPSB7IC4uLndoZXJlLmNyZWF0ZWRBdCwgZ3RlOiBzdGFydERhdGUgfTtcbiAgICB9XG4gICAgaWYgKGVuZERhdGUpIHtcbiAgICAgIHdoZXJlLmNyZWF0ZWRBdCA9IHsgLi4ud2hlcmUuY3JlYXRlZEF0LCBsdGU6IGVuZERhdGUgfTtcbiAgICB9XG5cbiAgICBjb25zdCBbXG4gICAgICB0b3RhbFBheW1lbnRzLFxuICAgICAgc3VjY2Vzc2Z1bFBheW1lbnRzLFxuICAgICAgZmFpbGVkUGF5bWVudHMsXG4gICAgICByZXZlbnVlU3RhdHMsXG4gICAgXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgIHRoaXMucHJpc21hLnBheW1lbnQuY291bnQoeyB3aGVyZSB9KSxcbiAgICAgIHRoaXMucHJpc21hLnBheW1lbnQuY291bnQoeyBcbiAgICAgICAgd2hlcmU6IHsgLi4ud2hlcmUsIHN0YXR1czogUGF5bWVudFN0YXR1cy5DT01QTEVURUQgfVxuICAgICAgfSksXG4gICAgICB0aGlzLnByaXNtYS5wYXltZW50LmNvdW50KHsgXG4gICAgICAgIHdoZXJlOiB7IC4uLndoZXJlLCBzdGF0dXM6IFBheW1lbnRTdGF0dXMuRkFJTEVEIH1cbiAgICAgIH0pLFxuICAgICAgdGhpcy5wcmlzbWEucGF5bWVudC5hZ2dyZWdhdGUoe1xuICAgICAgICB3aGVyZTogeyAuLi53aGVyZSwgc3RhdHVzOiBQYXltZW50U3RhdHVzLkNPTVBMRVRFRCB9LFxuICAgICAgICBfc3VtOiB7IGFtb3VudDogdHJ1ZSB9LFxuICAgICAgfSksXG4gICAgXSk7XG5cbiAgICBjb25zdCB0b3RhbFJldmVudWUgPSBOdW1iZXIocmV2ZW51ZVN0YXRzLl9zdW0uYW1vdW50IHx8IDApO1xuICAgIGNvbnN0IHBsYXRmb3JtRmVlUmF0ZSA9IDAuMDU7XG4gICAgY29uc3QgcGxhdGZvcm1SZXZlbnVlID0gdG90YWxSZXZlbnVlICogcGxhdGZvcm1GZWVSYXRlO1xuICAgIGNvbnN0IHN1Y2Nlc3NSYXRlID0gdG90YWxQYXltZW50cyA+IDAgPyAoc3VjY2Vzc2Z1bFBheW1lbnRzIC8gdG90YWxQYXltZW50cykgKiAxMDAgOiAwO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHRvdGFsUGF5bWVudHMsXG4gICAgICBzdWNjZXNzZnVsUGF5bWVudHMsXG4gICAgICBmYWlsZWRQYXltZW50cyxcbiAgICAgIHN1Y2Nlc3NSYXRlLFxuICAgICAgdG90YWxSZXZlbnVlLFxuICAgICAgcGxhdGZvcm1SZXZlbnVlLFxuICAgICAgdGhlcmFwaXN0UGF5b3V0czogdG90YWxSZXZlbnVlIC0gcGxhdGZvcm1SZXZlbnVlLFxuICAgICAgcGVyaW9kOiB7XG4gICAgICAgIHN0YXJ0RGF0ZSxcbiAgICAgICAgZW5kRGF0ZSxcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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