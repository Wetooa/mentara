dad41360a231760bbfc04267186d95b0
"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.AppModule = void 0;
const common_1 = require("@nestjs/common");
const config_1 = require("@nestjs/config");
const event_emitter_1 = require("@nestjs/event-emitter");
const throttler_1 = require("@nestjs/throttler");
const core_1 = require("@nestjs/core");
const auth_module_1 = require("./auth/auth.module");
const app_controller_1 = require("./app.controller");
const app_service_1 = require("./app.service");
const users_module_1 = require("./users/users.module");
const communities_module_1 = require("./communities/communities.module");
const posts_module_1 = require("./posts/posts.module");
const comments_module_1 = require("./comments/comments.module");
const therapist_module_1 = require("./therapist/therapist.module");
const worksheets_module_1 = require("./worksheets/worksheets.module");
const pre_assessment_module_1 = require("./pre-assessment/pre-assessment.module");
const booking_module_1 = require("./booking/booking.module");
const reviews_module_1 = require("./reviews/reviews.module");
const admin_module_1 = require("./admin/admin.module");
const moderator_module_1 = require("./moderator/moderator.module");
const client_module_1 = require("./client/client.module");
const messaging_module_1 = require("./messaging/messaging.module");
const meetings_module_1 = require("./meetings/meetings.module");
const sessions_module_1 = require("./sessions/sessions.module");
const notifications_module_1 = require("./notifications/notifications.module");
const audit_logs_module_1 = require("./audit-logs/audit-logs.module");
const billing_module_1 = require("./billing/billing.module");
const dashboard_module_1 = require("./dashboard/dashboard.module");
const search_module_1 = require("./search/search.module");
const analytics_module_1 = require("./analytics/analytics.module");
const onboarding_module_1 = require("./onboarding/onboarding.module");
const health_module_1 = require("./health/health.module");
const prisma_client_provider_1 = require("./providers/prisma-client.provider");
const response_interceptor_1 = require("./common/interceptors/response.interceptor");
const http_exception_filter_1 = require("./common/filters/http-exception.filter");
const event_bus_service_1 = require("./common/events/event-bus.service");
const common_module_1 = require("./common/common.module");
const jwt_auth_guard_1 = require("./auth/guards/jwt-auth.guard");
const security_guard_1 = require("./common/guards/security.guard");
const security_headers_middleware_1 = require("./common/middleware/security-headers.middleware");
const rate_limit_middleware_1 = require("./common/middleware/rate-limit.middleware");
const jwt_1 = require("@nestjs/jwt");
let AppModule = class AppModule {
    configure(consumer) {
        consumer.apply(security_headers_middleware_1.SecurityHeadersMiddleware).forRoutes('*');
        consumer.apply(rate_limit_middleware_1.RateLimitMiddleware).forRoutes('*');
    }
};
exports.AppModule = AppModule;
exports.AppModule = AppModule = __decorate([
    (0, common_1.Module)({
        imports: [
            config_1.ConfigModule.forRoot(),
            throttler_1.ThrottlerModule.forRoot([
                {
                    ttl: 60000, // 1 minute
                    limit: 100, // 100 requests per minute per IP
                },
                {
                    name: 'auth',
                    ttl: 300000, // 5 minutes
                    limit: 10, // 10 auth attempts per 5 minutes per IP
                },
                {
                    name: 'upload',
                    ttl: 60000, // 1 minute
                    limit: 5, // 5 file uploads per minute per IP
                },
            ]),
            event_emitter_1.EventEmitterModule.forRoot({
                // Set this to `true` to use wildcards
                wildcard: true,
                // The delimiter used to segment namespaces
                delimiter: '.',
                // Disable throwing uncaught exceptions
                ignoreErrors: false,
                // Max listeners per event
                maxListeners: 10,
                // Show event name in memory leaks message when more than maximum amount of listeners
                verboseMemoryLeak: false,
            }),
            common_module_1.CommonModule,
            auth_module_1.AuthModule,
            users_module_1.UsersModule,
            communities_module_1.CommunitiesModule,
            posts_module_1.PostsModule,
            comments_module_1.CommentsModule,
            therapist_module_1.TherapistModule,
            worksheets_module_1.WorksheetsModule,
            pre_assessment_module_1.PreAssessmentModule,
            booking_module_1.BookingModule,
            reviews_module_1.ReviewsModule,
            admin_module_1.AdminModule,
            moderator_module_1.ModeratorModule,
            client_module_1.ClientModule,
            messaging_module_1.MessagingModule,
            meetings_module_1.MeetingsModule,
            sessions_module_1.SessionsModule,
            notifications_module_1.NotificationsModule,
            audit_logs_module_1.AuditLogsModule,
            billing_module_1.BillingModule,
            dashboard_module_1.DashboardModule,
            search_module_1.SearchModule,
            analytics_module_1.AnalyticsModule,
            onboarding_module_1.OnboardingModule,
            health_module_1.HealthModule,
        ],
        controllers: [app_controller_1.AppController],
        providers: [
            app_service_1.AppService,
            prisma_client_provider_1.PrismaService,
            event_bus_service_1.EventBusService,
            jwt_1.JwtService,
            {
                provide: core_1.APP_INTERCEPTOR,
                useClass: response_interceptor_1.ResponseInterceptor,
            },
            {
                provide: core_1.APP_FILTER,
                useClass: http_exception_filter_1.HttpExceptionFilter,
            },
            {
                provide: core_1.APP_GUARD,
                useClass: throttler_1.ThrottlerGuard,
            },
            {
                provide: core_1.APP_GUARD,
                useClass: jwt_auth_guard_1.JwtAuthGuard,
            },
            {
                provide: core_1.APP_GUARD,
                useClass: security_guard_1.SecurityGuard,
            },
        ],
    })
], AppModule);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvd2V0b29hL0RvY3VtZW50cy9jb2RlL3Byb2plY3RzL21lbnRhcmEvbWVudGFyYS1hcGkvc3JjL2FwcC5tb2R1bGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEsMkNBQXdFO0FBQ3hFLDJDQUE4QztBQUM5Qyx5REFBMkQ7QUFDM0QsaURBQW9FO0FBQ3BFLHVDQUFzRTtBQUN0RSxvREFBZ0Q7QUFDaEQscURBQWlEO0FBQ2pELCtDQUEyQztBQUMzQyx1REFBbUQ7QUFDbkQseUVBQXFFO0FBQ3JFLHVEQUFtRDtBQUNuRCxnRUFBNEQ7QUFDNUQsbUVBQStEO0FBQy9ELHNFQUFrRTtBQUNsRSxrRkFBNkU7QUFDN0UsNkRBQXlEO0FBQ3pELDZEQUF5RDtBQUN6RCx1REFBbUQ7QUFDbkQsbUVBQStEO0FBQy9ELDBEQUFzRDtBQUN0RCxtRUFBK0Q7QUFDL0QsZ0VBQTREO0FBQzVELGdFQUE0RDtBQUM1RCwrRUFBMkU7QUFDM0Usc0VBQWlFO0FBQ2pFLDZEQUF5RDtBQUN6RCxtRUFBK0Q7QUFDL0QsMERBQXNEO0FBQ3RELG1FQUErRDtBQUMvRCxzRUFBa0U7QUFDbEUsMERBQXNEO0FBQ3RELCtFQUFtRTtBQUNuRSxxRkFBaUY7QUFDakYsa0ZBQTZFO0FBQzdFLHlFQUFvRTtBQUNwRSwwREFBc0Q7QUFDdEQsaUVBQTREO0FBQzVELG1FQUErRDtBQUMvRCxpR0FBNEY7QUFDNUYscUZBQWdGO0FBQ2hGLHFDQUF5QztBQXVGbEMsSUFBTSxTQUFTLEdBQWYsTUFBTSxTQUFTO0lBQ3BCLFNBQVMsQ0FBQyxRQUE0QjtRQUNwQyxRQUFRLENBQUMsS0FBSyxDQUFDLHVEQUF5QixDQUFDLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBRXpELFFBQVEsQ0FBQyxLQUFLLENBQUMsMkNBQW1CLENBQUMsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDckQsQ0FBQztDQUNGLENBQUE7QUFOWSw4QkFBUztvQkFBVCxTQUFTO0lBckZyQixJQUFBLGVBQU0sRUFBQztRQUNOLE9BQU8sRUFBRTtZQUNQLHFCQUFZLENBQUMsT0FBTyxFQUFFO1lBQ3RCLDJCQUFlLENBQUMsT0FBTyxDQUFDO2dCQUN0QjtvQkFDRSxHQUFHLEVBQUUsS0FBSyxFQUFFLFdBQVc7b0JBQ3ZCLEtBQUssRUFBRSxHQUFHLEVBQUUsaUNBQWlDO2lCQUM5QztnQkFDRDtvQkFDRSxJQUFJLEVBQUUsTUFBTTtvQkFDWixHQUFHLEVBQUUsTUFBTSxFQUFFLFlBQVk7b0JBQ3pCLEtBQUssRUFBRSxFQUFFLEVBQUUsd0NBQXdDO2lCQUNwRDtnQkFDRDtvQkFDRSxJQUFJLEVBQUUsUUFBUTtvQkFDZCxHQUFHLEVBQUUsS0FBSyxFQUFFLFdBQVc7b0JBQ3ZCLEtBQUssRUFBRSxDQUFDLEVBQUUsbUNBQW1DO2lCQUM5QzthQUNGLENBQUM7WUFDRixrQ0FBa0IsQ0FBQyxPQUFPLENBQUM7Z0JBQ3pCLHNDQUFzQztnQkFDdEMsUUFBUSxFQUFFLElBQUk7Z0JBQ2QsMkNBQTJDO2dCQUMzQyxTQUFTLEVBQUUsR0FBRztnQkFDZCx1Q0FBdUM7Z0JBQ3ZDLFlBQVksRUFBRSxLQUFLO2dCQUNuQiwwQkFBMEI7Z0JBQzFCLFlBQVksRUFBRSxFQUFFO2dCQUNoQixxRkFBcUY7Z0JBQ3JGLGlCQUFpQixFQUFFLEtBQUs7YUFDekIsQ0FBQztZQUNGLDRCQUFZO1lBQ1osd0JBQVU7WUFDViwwQkFBVztZQUNYLHNDQUFpQjtZQUNqQiwwQkFBVztZQUNYLGdDQUFjO1lBQ2Qsa0NBQWU7WUFDZixvQ0FBZ0I7WUFDaEIsMkNBQW1CO1lBQ25CLDhCQUFhO1lBQ2IsOEJBQWE7WUFDYiwwQkFBVztZQUNYLGtDQUFlO1lBQ2YsNEJBQVk7WUFDWixrQ0FBZTtZQUNmLGdDQUFjO1lBQ2QsZ0NBQWM7WUFDZCwwQ0FBbUI7WUFDbkIsbUNBQWU7WUFDZiw4QkFBYTtZQUNiLGtDQUFlO1lBQ2YsNEJBQVk7WUFDWixrQ0FBZTtZQUNmLG9DQUFnQjtZQUNoQiw0QkFBWTtTQUNiO1FBQ0QsV0FBVyxFQUFFLENBQUMsOEJBQWEsQ0FBQztRQUM1QixTQUFTLEVBQUU7WUFDVCx3QkFBVTtZQUNWLHNDQUFhO1lBQ2IsbUNBQWU7WUFDZixnQkFBVTtZQUNWO2dCQUNFLE9BQU8sRUFBRSxzQkFBZTtnQkFDeEIsUUFBUSxFQUFFLDBDQUFtQjthQUM5QjtZQUNEO2dCQUNFLE9BQU8sRUFBRSxpQkFBVTtnQkFDbkIsUUFBUSxFQUFFLDJDQUFtQjthQUM5QjtZQUNEO2dCQUNFLE9BQU8sRUFBRSxnQkFBUztnQkFDbEIsUUFBUSxFQUFFLDBCQUFjO2FBQ3pCO1lBQ0Q7Z0JBQ0UsT0FBTyxFQUFFLGdCQUFTO2dCQUNsQixRQUFRLEVBQUUsNkJBQVk7YUFDdkI7WUFDRDtnQkFDRSxPQUFPLEVBQUUsZ0JBQVM7Z0JBQ2xCLFFBQVEsRUFBRSw4QkFBYTthQUN4QjtTQUNGO0tBQ0YsQ0FBQztHQUNXLFNBQVMsQ0FNckIiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL2hvbWUvd2V0b29hL0RvY3VtZW50cy9jb2RlL3Byb2plY3RzL21lbnRhcmEvbWVudGFyYS1hcGkvc3JjL2FwcC5tb2R1bGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTW9kdWxlLCBOZXN0TW9kdWxlLCBNaWRkbGV3YXJlQ29uc3VtZXIgfSBmcm9tICdAbmVzdGpzL2NvbW1vbic7XG5pbXBvcnQgeyBDb25maWdNb2R1bGUgfSBmcm9tICdAbmVzdGpzL2NvbmZpZyc7XG5pbXBvcnQgeyBFdmVudEVtaXR0ZXJNb2R1bGUgfSBmcm9tICdAbmVzdGpzL2V2ZW50LWVtaXR0ZXInO1xuaW1wb3J0IHsgVGhyb3R0bGVyTW9kdWxlLCBUaHJvdHRsZXJHdWFyZCB9IGZyb20gJ0BuZXN0anMvdGhyb3R0bGVyJztcbmltcG9ydCB7IEFQUF9JTlRFUkNFUFRPUiwgQVBQX0ZJTFRFUiwgQVBQX0dVQVJEIH0gZnJvbSAnQG5lc3Rqcy9jb3JlJztcbmltcG9ydCB7IEF1dGhNb2R1bGUgfSBmcm9tICcuL2F1dGgvYXV0aC5tb2R1bGUnO1xuaW1wb3J0IHsgQXBwQ29udHJvbGxlciB9IGZyb20gJy4vYXBwLmNvbnRyb2xsZXInO1xuaW1wb3J0IHsgQXBwU2VydmljZSB9IGZyb20gJy4vYXBwLnNlcnZpY2UnO1xuaW1wb3J0IHsgVXNlcnNNb2R1bGUgfSBmcm9tICcuL3VzZXJzL3VzZXJzLm1vZHVsZSc7XG5pbXBvcnQgeyBDb21tdW5pdGllc01vZHVsZSB9IGZyb20gJy4vY29tbXVuaXRpZXMvY29tbXVuaXRpZXMubW9kdWxlJztcbmltcG9ydCB7IFBvc3RzTW9kdWxlIH0gZnJvbSAnLi9wb3N0cy9wb3N0cy5tb2R1bGUnO1xuaW1wb3J0IHsgQ29tbWVudHNNb2R1bGUgfSBmcm9tICcuL2NvbW1lbnRzL2NvbW1lbnRzLm1vZHVsZSc7XG5pbXBvcnQgeyBUaGVyYXBpc3RNb2R1bGUgfSBmcm9tICcuL3RoZXJhcGlzdC90aGVyYXBpc3QubW9kdWxlJztcbmltcG9ydCB7IFdvcmtzaGVldHNNb2R1bGUgfSBmcm9tICcuL3dvcmtzaGVldHMvd29ya3NoZWV0cy5tb2R1bGUnO1xuaW1wb3J0IHsgUHJlQXNzZXNzbWVudE1vZHVsZSB9IGZyb20gJy4vcHJlLWFzc2Vzc21lbnQvcHJlLWFzc2Vzc21lbnQubW9kdWxlJztcbmltcG9ydCB7IEJvb2tpbmdNb2R1bGUgfSBmcm9tICcuL2Jvb2tpbmcvYm9va2luZy5tb2R1bGUnO1xuaW1wb3J0IHsgUmV2aWV3c01vZHVsZSB9IGZyb20gJy4vcmV2aWV3cy9yZXZpZXdzLm1vZHVsZSc7XG5pbXBvcnQgeyBBZG1pbk1vZHVsZSB9IGZyb20gJy4vYWRtaW4vYWRtaW4ubW9kdWxlJztcbmltcG9ydCB7IE1vZGVyYXRvck1vZHVsZSB9IGZyb20gJy4vbW9kZXJhdG9yL21vZGVyYXRvci5tb2R1bGUnO1xuaW1wb3J0IHsgQ2xpZW50TW9kdWxlIH0gZnJvbSAnLi9jbGllbnQvY2xpZW50Lm1vZHVsZSc7XG5pbXBvcnQgeyBNZXNzYWdpbmdNb2R1bGUgfSBmcm9tICcuL21lc3NhZ2luZy9tZXNzYWdpbmcubW9kdWxlJztcbmltcG9ydCB7IE1lZXRpbmdzTW9kdWxlIH0gZnJvbSAnLi9tZWV0aW5ncy9tZWV0aW5ncy5tb2R1bGUnO1xuaW1wb3J0IHsgU2Vzc2lvbnNNb2R1bGUgfSBmcm9tICcuL3Nlc3Npb25zL3Nlc3Npb25zLm1vZHVsZSc7XG5pbXBvcnQgeyBOb3RpZmljYXRpb25zTW9kdWxlIH0gZnJvbSAnLi9ub3RpZmljYXRpb25zL25vdGlmaWNhdGlvbnMubW9kdWxlJztcbmltcG9ydCB7IEF1ZGl0TG9nc01vZHVsZSB9IGZyb20gJy4vYXVkaXQtbG9ncy9hdWRpdC1sb2dzLm1vZHVsZSc7XG5pbXBvcnQgeyBCaWxsaW5nTW9kdWxlIH0gZnJvbSAnLi9iaWxsaW5nL2JpbGxpbmcubW9kdWxlJztcbmltcG9ydCB7IERhc2hib2FyZE1vZHVsZSB9IGZyb20gJy4vZGFzaGJvYXJkL2Rhc2hib2FyZC5tb2R1bGUnO1xuaW1wb3J0IHsgU2VhcmNoTW9kdWxlIH0gZnJvbSAnLi9zZWFyY2gvc2VhcmNoLm1vZHVsZSc7XG5pbXBvcnQgeyBBbmFseXRpY3NNb2R1bGUgfSBmcm9tICcuL2FuYWx5dGljcy9hbmFseXRpY3MubW9kdWxlJztcbmltcG9ydCB7IE9uYm9hcmRpbmdNb2R1bGUgfSBmcm9tICcuL29uYm9hcmRpbmcvb25ib2FyZGluZy5tb2R1bGUnO1xuaW1wb3J0IHsgSGVhbHRoTW9kdWxlIH0gZnJvbSAnLi9oZWFsdGgvaGVhbHRoLm1vZHVsZSc7XG5pbXBvcnQgeyBQcmlzbWFTZXJ2aWNlIH0gZnJvbSAnLi9wcm92aWRlcnMvcHJpc21hLWNsaWVudC5wcm92aWRlcic7XG5pbXBvcnQgeyBSZXNwb25zZUludGVyY2VwdG9yIH0gZnJvbSAnLi9jb21tb24vaW50ZXJjZXB0b3JzL3Jlc3BvbnNlLmludGVyY2VwdG9yJztcbmltcG9ydCB7IEh0dHBFeGNlcHRpb25GaWx0ZXIgfSBmcm9tICcuL2NvbW1vbi9maWx0ZXJzL2h0dHAtZXhjZXB0aW9uLmZpbHRlcic7XG5pbXBvcnQgeyBFdmVudEJ1c1NlcnZpY2UgfSBmcm9tICcuL2NvbW1vbi9ldmVudHMvZXZlbnQtYnVzLnNlcnZpY2UnO1xuaW1wb3J0IHsgQ29tbW9uTW9kdWxlIH0gZnJvbSAnLi9jb21tb24vY29tbW9uLm1vZHVsZSc7XG5pbXBvcnQgeyBKd3RBdXRoR3VhcmQgfSBmcm9tICcuL2F1dGgvZ3VhcmRzL2p3dC1hdXRoLmd1YXJkJztcbmltcG9ydCB7IFNlY3VyaXR5R3VhcmQgfSBmcm9tICcuL2NvbW1vbi9ndWFyZHMvc2VjdXJpdHkuZ3VhcmQnO1xuaW1wb3J0IHsgU2VjdXJpdHlIZWFkZXJzTWlkZGxld2FyZSB9IGZyb20gJy4vY29tbW9uL21pZGRsZXdhcmUvc2VjdXJpdHktaGVhZGVycy5taWRkbGV3YXJlJztcbmltcG9ydCB7IFJhdGVMaW1pdE1pZGRsZXdhcmUgfSBmcm9tICcuL2NvbW1vbi9taWRkbGV3YXJlL3JhdGUtbGltaXQubWlkZGxld2FyZSc7XG5pbXBvcnQgeyBKd3RTZXJ2aWNlIH0gZnJvbSAnQG5lc3Rqcy9qd3QnO1xuXG5ATW9kdWxlKHtcbiAgaW1wb3J0czogW1xuICAgIENvbmZpZ01vZHVsZS5mb3JSb290KCksXG4gICAgVGhyb3R0bGVyTW9kdWxlLmZvclJvb3QoW1xuICAgICAge1xuICAgICAgICB0dGw6IDYwMDAwLCAvLyAxIG1pbnV0ZVxuICAgICAgICBsaW1pdDogMTAwLCAvLyAxMDAgcmVxdWVzdHMgcGVyIG1pbnV0ZSBwZXIgSVBcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdhdXRoJyxcbiAgICAgICAgdHRsOiAzMDAwMDAsIC8vIDUgbWludXRlc1xuICAgICAgICBsaW1pdDogMTAsIC8vIDEwIGF1dGggYXR0ZW1wdHMgcGVyIDUgbWludXRlcyBwZXIgSVBcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICd1cGxvYWQnLFxuICAgICAgICB0dGw6IDYwMDAwLCAvLyAxIG1pbnV0ZVxuICAgICAgICBsaW1pdDogNSwgLy8gNSBmaWxlIHVwbG9hZHMgcGVyIG1pbnV0ZSBwZXIgSVBcbiAgICAgIH0sXG4gICAgXSksXG4gICAgRXZlbnRFbWl0dGVyTW9kdWxlLmZvclJvb3Qoe1xuICAgICAgLy8gU2V0IHRoaXMgdG8gYHRydWVgIHRvIHVzZSB3aWxkY2FyZHNcbiAgICAgIHdpbGRjYXJkOiB0cnVlLFxuICAgICAgLy8gVGhlIGRlbGltaXRlciB1c2VkIHRvIHNlZ21lbnQgbmFtZXNwYWNlc1xuICAgICAgZGVsaW1pdGVyOiAnLicsXG4gICAgICAvLyBEaXNhYmxlIHRocm93aW5nIHVuY2F1Z2h0IGV4Y2VwdGlvbnNcbiAgICAgIGlnbm9yZUVycm9yczogZmFsc2UsXG4gICAgICAvLyBNYXggbGlzdGVuZXJzIHBlciBldmVudFxuICAgICAgbWF4TGlzdGVuZXJzOiAxMCxcbiAgICAgIC8vIFNob3cgZXZlbnQgbmFtZSBpbiBtZW1vcnkgbGVha3MgbWVzc2FnZSB3aGVuIG1vcmUgdGhhbiBtYXhpbXVtIGFtb3VudCBvZiBsaXN0ZW5lcnNcbiAgICAgIHZlcmJvc2VNZW1vcnlMZWFrOiBmYWxzZSxcbiAgICB9KSxcbiAgICBDb21tb25Nb2R1bGUsXG4gICAgQXV0aE1vZHVsZSxcbiAgICBVc2Vyc01vZHVsZSxcbiAgICBDb21tdW5pdGllc01vZHVsZSxcbiAgICBQb3N0c01vZHVsZSxcbiAgICBDb21tZW50c01vZHVsZSxcbiAgICBUaGVyYXBpc3RNb2R1bGUsXG4gICAgV29ya3NoZWV0c01vZHVsZSxcbiAgICBQcmVBc3Nlc3NtZW50TW9kdWxlLFxuICAgIEJvb2tpbmdNb2R1bGUsXG4gICAgUmV2aWV3c01vZHVsZSxcbiAgICBBZG1pbk1vZHVsZSxcbiAgICBNb2RlcmF0b3JNb2R1bGUsXG4gICAgQ2xpZW50TW9kdWxlLFxuICAgIE1lc3NhZ2luZ01vZHVsZSxcbiAgICBNZWV0aW5nc01vZHVsZSxcbiAgICBTZXNzaW9uc01vZHVsZSxcbiAgICBOb3RpZmljYXRpb25zTW9kdWxlLFxuICAgIEF1ZGl0TG9nc01vZHVsZSxcbiAgICBCaWxsaW5nTW9kdWxlLFxuICAgIERhc2hib2FyZE1vZHVsZSxcbiAgICBTZWFyY2hNb2R1bGUsXG4gICAgQW5hbHl0aWNzTW9kdWxlLFxuICAgIE9uYm9hcmRpbmdNb2R1bGUsXG4gICAgSGVhbHRoTW9kdWxlLFxuICBdLFxuICBjb250cm9sbGVyczogW0FwcENvbnRyb2xsZXJdLFxuICBwcm92aWRlcnM6IFtcbiAgICBBcHBTZXJ2aWNlLFxuICAgIFByaXNtYVNlcnZpY2UsXG4gICAgRXZlbnRCdXNTZXJ2aWNlLFxuICAgIEp3dFNlcnZpY2UsXG4gICAge1xuICAgICAgcHJvdmlkZTogQVBQX0lOVEVSQ0VQVE9SLFxuICAgICAgdXNlQ2xhc3M6IFJlc3BvbnNlSW50ZXJjZXB0b3IsXG4gICAgfSxcbiAgICB7XG4gICAgICBwcm92aWRlOiBBUFBfRklMVEVSLFxuICAgICAgdXNlQ2xhc3M6IEh0dHBFeGNlcHRpb25GaWx0ZXIsXG4gICAgfSxcbiAgICB7XG4gICAgICBwcm92aWRlOiBBUFBfR1VBUkQsXG4gICAgICB1c2VDbGFzczogVGhyb3R0bGVyR3VhcmQsXG4gICAgfSxcbiAgICB7XG4gICAgICBwcm92aWRlOiBBUFBfR1VBUkQsXG4gICAgICB1c2VDbGFzczogSnd0QXV0aEd1YXJkLFxuICAgIH0sXG4gICAge1xuICAgICAgcHJvdmlkZTogQVBQX0dVQVJELFxuICAgICAgdXNlQ2xhc3M6IFNlY3VyaXR5R3VhcmQsXG4gICAgfSxcbiAgXSxcbn0pXG5leHBvcnQgY2xhc3MgQXBwTW9kdWxlIGltcGxlbWVudHMgTmVzdE1vZHVsZSB7XG4gIGNvbmZpZ3VyZShjb25zdW1lcjogTWlkZGxld2FyZUNvbnN1bWVyKSB7XG4gICAgY29uc3VtZXIuYXBwbHkoU2VjdXJpdHlIZWFkZXJzTWlkZGxld2FyZSkuZm9yUm91dGVzKCcqJyk7XG5cbiAgICBjb25zdW1lci5hcHBseShSYXRlTGltaXRNaWRkbGV3YXJlKS5mb3JSb3V0ZXMoJyonKTtcbiAgfVxufVxuIl0sInZlcnNpb24iOjN9