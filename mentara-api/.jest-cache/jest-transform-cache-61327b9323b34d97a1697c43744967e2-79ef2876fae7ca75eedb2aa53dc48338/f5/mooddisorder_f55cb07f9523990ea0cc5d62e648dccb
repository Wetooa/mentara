045233d5cf3696d25cff05a2b68a52de
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const scoring_1 = require("../scoring");
const MDQ = {
    title: "Mood Disorder Questionnaire (MDQ)",
    description: "The Mood Disorder Questionnaire (MDQ) is a self-administered screening tool used to help assess bipolar disorder. It is designed to evaluate the presence of symptoms of mania or hypomania over a period of time.",
    questions: [
        {
            prefix: "In the past",
            question: "have you felt so good or so hyper that other people thought you were not your normal self or you were so hyper that you got into trouble?",
            options: ["Yes", "No"],
        },
        {
            prefix: "In the past",
            question: "have you been so irritable that you shouted at people or started fights or arguments?",
            options: ["Yes", "No"],
        },
        {
            prefix: "In the past",
            question: "have you felt much more self-confident than usual?",
            options: ["Yes", "No"],
        },
        {
            prefix: "In the past",
            question: "did you get much less sleep than usual and found you didn’t really miss it?",
            options: ["Yes", "No"],
        },
        {
            prefix: "In the past",
            question: "have you been much more talkative or spoke faster than usual?",
            options: ["Yes", "No"],
        },
        {
            prefix: "In the past",
            question: "have thoughts raced through your head or you couldn’t slow your mind down?",
            options: ["Yes", "No"],
        },
        {
            prefix: "In the past",
            question: "have you been so easily distracted by things around you that you had trouble concentrating or staying on track?",
            options: ["Yes", "No"],
        },
        {
            prefix: "In the past",
            question: "have you had much more energy than usual?",
            options: ["Yes", "No"],
        },
        {
            prefix: "In the past",
            question: "were you much more active or did many more things than usual?",
            options: ["Yes", "No"],
        },
        {
            prefix: "In the past",
            question: "were you much more social or outgoing than usual, for example, you telephoned friends in the middle of the night?",
            options: ["Yes", "No"],
        },
        {
            prefix: "In the past",
            question: "were you much more interested in sex than usual?",
            options: ["Yes", "No"],
        },
        {
            prefix: "In the past",
            question: "did you do things that were unusual for you or that other people might have thought were excessive, foolish, or risky?",
            options: ["Yes", "No"],
        },
        {
            prefix: "In the past",
            question: "did spending money get you or your family into trouble?",
            options: ["Yes", "No"],
        },
        {
            prefix: "If you answered YES to more than one of the above",
            question: "have several of these ever happened during the same period of time?",
            options: ["Yes", "No"],
        },
        {
            prefix: "",
            question: "How much of a problem did any of these cause you, such as being unable to work; having family, money, or legal troubles; getting into arguments or fights?",
            options: [
                "No problem",
                "Minor problem",
                "Moderate problem",
                "Serious problem",
            ],
        },
    ],
    scoring: {
        ...scoring_1.QUESTIONNAIRE_SCORING,
        scoreMapping: { 0: 0, 1: 1 },
        scoreThreshold: 7, // Score threshold for questions 1-13
        severityLevels: {
            low: { range: [0, 6], label: "No significant symptoms" },
            moderate: { range: [7, 10], label: "Possible mood disorder" },
            high: { range: [11, 13], label: "High likelihood of bipolar disorder" },
            possible: { range: [14, 15], label: "Possible Bipolar Disorder" },
        },
        subscales: {
            positiveActivation: [3, 4, 8, 9], // Increased energy/activity, grandiosity, decreased need for sleep
            negativeActivation: [1, 2, 6, 7, 12, 13], // Irritability, racing thoughts, negative affectivity, distractibility
        },
        getScore: (answers) => {
            // Calculate raw score for the first 13 questions (Yes = 1, No = 0)
            const { positiveActivation } = MDQ.scoring.subscales;
            const rawScore = answers
                .slice(0, 13)
                .reduce((acc, curr, index) => acc + (positiveActivation?.includes(index) ? curr : Number(!curr)), 0);
            // Check if the symptoms clustered in the same period (question 14) and the severity of the symptoms (question 15)
            const symptomsClustered = answers[13] === 1;
            const problemRating = answers[14];
            const severityProblem = (problemRating ?? 0) >= 2;
            if (rawScore >= 7 && symptomsClustered && severityProblem) {
                return 14; // Possible Bipolar Disorder
            }
            return rawScore;
        },
    },
    disclaimer: "This questionnaire is a screening tool to assess symptoms of bipolar disorder. It does not serve as a diagnostic tool and should be followed by a clinical evaluation. If you have concerns about your mental health, please consult a healthcare professional.",
};
exports.default = MDQ;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvd2V0b29hL0RvY3VtZW50cy9jb2RlL3Byb2plY3RzL21lbnRhcmEvbWVudGFyYS1jb21tb25zL2Rpc3QvY29uc3RhbnRzL3F1ZXN0aW9ubmFpcmUvbW9vZC1kaXNvcmRlci5qcyIsIm1hcHBpbmdzIjoiQUFBQSxZQUFZLENBQUM7QUFDYixNQUFNLENBQUMsY0FBYyxDQUFDLE9BQU8sRUFBRSxZQUFZLEVBQUUsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQztBQUM5RCxNQUFNLFNBQVMsR0FBRyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUM7QUFDeEMsTUFBTSxHQUFHLEdBQUc7SUFDUixLQUFLLEVBQUUsbUNBQW1DO0lBQzFDLFdBQVcsRUFBRSxvTkFBb047SUFDak8sU0FBUyxFQUFFO1FBQ1A7WUFDSSxNQUFNLEVBQUUsYUFBYTtZQUNyQixRQUFRLEVBQUUsMklBQTJJO1lBQ3JKLE9BQU8sRUFBRSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUM7U0FDekI7UUFDRDtZQUNJLE1BQU0sRUFBRSxhQUFhO1lBQ3JCLFFBQVEsRUFBRSx1RkFBdUY7WUFDakcsT0FBTyxFQUFFLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQztTQUN6QjtRQUNEO1lBQ0ksTUFBTSxFQUFFLGFBQWE7WUFDckIsUUFBUSxFQUFFLG9EQUFvRDtZQUM5RCxPQUFPLEVBQUUsQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDO1NBQ3pCO1FBQ0Q7WUFDSSxNQUFNLEVBQUUsYUFBYTtZQUNyQixRQUFRLEVBQUUsNkVBQTZFO1lBQ3ZGLE9BQU8sRUFBRSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUM7U0FDekI7UUFDRDtZQUNJLE1BQU0sRUFBRSxhQUFhO1lBQ3JCLFFBQVEsRUFBRSwrREFBK0Q7WUFDekUsT0FBTyxFQUFFLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQztTQUN6QjtRQUNEO1lBQ0ksTUFBTSxFQUFFLGFBQWE7WUFDckIsUUFBUSxFQUFFLDRFQUE0RTtZQUN0RixPQUFPLEVBQUUsQ0FBQyxLQUFL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LEVBQUUsS0FBSyxFQUFFLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxrQkFBa0IsRUFBRSxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUN6RyxrSEFBa0g7WUFDbEgsTUFBTSxpQkFBaUIsR0FBRyxPQUFPLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQzVDLE1BQU0sYUFBYSxHQUFHLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUNsQyxNQUFNLGVBQWUsR0FBRyxDQUFDLGFBQWEsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDbEQsSUFBSSxRQUFRLElBQUksQ0FBQyxJQUFJLGlCQUFpQixJQUFJLGVBQWUsRUFBRSxDQUFDO2dCQUN4RCxPQUFPLEVBQUUsQ0FBQyxDQUFDLDRCQUE0QjtZQUMzQyxDQUFDO1lBQ0QsT0FBTyxRQUFRLENBQUM7UUFDcEIsQ0FBQztLQUNKO0lBQ0QsVUFBVSxFQUFFLGlRQUFpUTtDQUNoUixDQUFDO0FBQ0YsT0FBTyxDQUFDLE9BQU8sR0FBRyxHQUFHLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL2hvbWUvd2V0b29hL0RvY3VtZW50cy9jb2RlL3Byb2plY3RzL21lbnRhcmEvbWVudGFyYS1jb21tb25zL2Rpc3QvY29uc3RhbnRzL3F1ZXN0aW9ubmFpcmUvbW9vZC1kaXNvcmRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHNjb3JpbmdfMSA9IHJlcXVpcmUoXCIuLi9zY29yaW5nXCIpO1xuY29uc3QgTURRID0ge1xuICAgIHRpdGxlOiBcIk1vb2QgRGlzb3JkZXIgUXVlc3Rpb25uYWlyZSAoTURRKVwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlRoZSBNb29kIERpc29yZGVyIFF1ZXN0aW9ubmFpcmUgKE1EUSkgaXMgYSBzZWxmLWFkbWluaXN0ZXJlZCBzY3JlZW5pbmcgdG9vbCB1c2VkIHRvIGhlbHAgYXNzZXNzIGJpcG9sYXIgZGlzb3JkZXIuIEl0IGlzIGRlc2lnbmVkIHRvIGV2YWx1YXRlIHRoZSBwcmVzZW5jZSBvZiBzeW1wdG9tcyBvZiBtYW5pYSBvciBoeXBvbWFuaWEgb3ZlciBhIHBlcmlvZCBvZiB0aW1lLlwiLFxuICAgIHF1ZXN0aW9uczogW1xuICAgICAgICB7XG4gICAgICAgICAgICBwcmVmaXg6IFwiSW4gdGhlIHBhc3RcIixcbiAgICAgICAgICAgIHF1ZXN0aW9uOiBcImhhdmUgeW91IGZlbHQgc28gZ29vZCBvciBzbyBoeXBlciB0aGF0IG90aGVyIHBlb3BsZSB0aG91Z2h0IHlvdSB3ZXJlIG5vdCB5b3VyIG5vcm1hbCBzZWxmIG9yIHlvdSB3ZXJlIHNvIGh5cGVyIHRoYXQgeW91IGdvdCBpbnRvIHRyb3VibGU/XCIsXG4gICAgICAgICAgICBvcHRpb25zOiBbXCJZZXNcIiwgXCJOb1wiXSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgcHJlZml4OiBcIkluIHRoZSBwYXN0XCIsXG4gICAgICAgICAgICBxdWVzdGlvbjogXCJoYXZlIHlvdSBiZWVuIHNvIGlycml0YWJsZSB0aGF0IHlvdSBzaG91dGVkIGF0IHBlb3BsZSBvciBzdGFydGVkIGZpZ2h0cyBvciBhcmd1bWVudHM/XCIsXG4gICAgICAgICAgICBvcHRpb25zOiBbXCJZZXNcIiwgXCJOb1wiXSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgcHJlZml4OiBcIkluIHRoZSBwYXN0XCIsXG4gICAgICAgICAgICBxdWVzdGlvbjogXCJoYXZlIHlvdSBmZWx0IG11Y2ggbW9yZSBzZWxmLWNvbmZpZGVudCB0aGFuIHVzdWFsP1wiLFxuICAgICAgICAgICAgb3B0aW9uczogW1wiWWVzXCIsIFwiTm9cIl0sXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIHByZWZpeDogXCJJbiB0aGUgcGFzdFwiLFxuICAgICAgICAgICAgcXVlc3Rpb246IFwiZGlkIHlvdSBnZXQgbXVjaCBsZXNzIHNsZWVwIHRoYW4gdXN1YWwgYW5kIGZvdW5kIHlvdSBkaWRu4oCZdCByZWFsbHkgbWlzcyBpdD9cIixcbiAgICAgICAgICAgIG9wdGlvbnM6IFtcIlllc1wiLCBcIk5vXCJdLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBwcmVmaXg6IFwiSW4gdGhlIHBhc3RcIixcbiAgICAgICAgICAgIHF1ZXN0aW9uOiBcImhhdmUgeW91IGJlZW4gbXVjaCBtb3JlIHRhbGthdGl2ZSBvciBzcG9rZSBmYXN0ZXIgdGhhbiB1c3VhbD9cIixcbiAgICAgICAgICAgIG9wdGlvbnM6IFtcIlllc1wiLCBcIk5vXCJdLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBwcmVmaXg6IFwiSW4gdGhlIHBhc3RcIixcbiAgICAgICAgICAgIHF1ZXN0aW9uOiBcImhhdmUgdGhvdWdodHMgcmFjZWQgdGhyb3VnaCB5b3VyIGhlYWQgb3IgeW91IGNvdWxkbuKAmXQgc2xvdyB5b3VyIG1pbmQgZG93bj9cIixcbiAgICAgICAgICAgIG9wdGlvbnM6IFtcIlllc1wiLCBcIk5vXCJdLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBwcmVmaXg6IFwiSW4gdGhlIHBhc3RcIixcbiAgICAgICAgICAgIHF1ZXN0aW9uOiBcImhhdmUgeW91IGJlZW4gc28gZWFzaWx5IGRpc3RyYWN0ZWQgYnkgdGhpbmdzIGFyb3VuZCB5b3UgdGhhdCB5b3UgaGFkIHRyb3VibGUgY29uY2VudHJhdGluZyBvciBzdGF5aW5nIG9uIHRyYWNrP1wiLFxuICAgICAgICAgICAgb3B0aW9uczogW1wiWWVzXCIsIFwiTm9cIl0sXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIHByZWZpeDogXCJJbiB0aGUgcGFzdFwiLFxuICAgICAgICAgICAgcXVlc3Rpb246IFwiaGF2ZSB5b3UgaGFkIG11Y2ggbW9yZSBlbmVyZ3kgdGhhbiB1c3VhbD9cIixcbiAgICAgICAgICAgIG9wdGlvbnM6IFtcIlllc1wiLCBcIk5vXCJdLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBwcmVmaXg6IFwiSW4gdGhlIHBhc3RcIixcbiAgICAgICAgICAgIHF1ZXN0aW9uOiBcIndlcmUgeW91IG11Y2ggbW9yZSBhY3RpdmUgb3IgZGlkIG1hbnkgbW9yZSB0aGluZ3MgdGhhbiB1c3VhbD9cIixcbiAgICAgICAgICAgIG9wdGlvbnM6IFtcIlllc1wiLCBcIk5vXCJdLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBwcmVmaXg6IFwiSW4gdGhlIHBhc3RcIixcbiAgICAgICAgICAgIHF1ZXN0aW9uOiBcIndlcmUgeW91IG11Y2ggbW9yZSBzb2NpYWwgb3Igb3V0Z29pbmcgdGhhbiB1c3VhbCwgZm9yIGV4YW1wbGUsIHlvdSB0ZWxlcGhvbmVkIGZyaWVuZHMgaW4gdGhlIG1pZGRsZSBvZiB0aGUgbmlnaHQ/XCIsXG4gICAgICAgICAgICBvcHRpb25zOiBbXCJZZXNcIiwgXCJOb1wiXSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgcHJlZml4OiBcIkluIHRoZSBwYXN0XCIsXG4gICAgICAgICAgICBxdWVzdGlvbjogXCJ3ZXJlIHlvdSBtdWNoIG1vcmUgaW50ZXJlc3RlZCBpbiBzZXggdGhhbiB1c3VhbD9cIixcbiAgICAgICAgICAgIG9wdGlvbnM6IFtcIlllc1wiLCBcIk5vXCJdLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBwcmVmaXg6IFwiSW4gdGhlIHBhc3RcIixcbiAgICAgICAgICAgIHF1ZXN0aW9uOiBcImRpZCB5b3UgZG8gdGhpbmdzIHRoYXQgd2VyZSB1bnVzdWFsIGZvciB5b3Ugb3IgdGhhdCBvdGhlciBwZW9wbGUgbWlnaHQgaGF2ZSB0aG91Z2h0IHdlcmUgZXhjZXNzaXZlLCBmb29saXNoLCBvciByaXNreT9cIixcbiAgICAgICAgICAgIG9wdGlvbnM6IFtcIlllc1wiLCBcIk5vXCJdLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBwcmVmaXg6IFwiSW4gdGhlIHBhc3RcIixcbiAgICAgICAgICAgIHF1ZXN0aW9uOiBcImRpZCBzcGVuZGluZyBtb25leSBnZXQgeW91IG9yIHlvdXIgZmFtaWx5IGludG8gdHJvdWJsZT9cIixcbiAgICAgICAgICAgIG9wdGlvbnM6IFtcIlllc1wiLCBcIk5vXCJdLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBwcmVmaXg6IFwiSWYgeW91IGFuc3dlcmVkIFlFUyB0byBtb3JlIHRoYW4gb25lIG9mIHRoZSBhYm92ZVwiLFxuICAgICAgICAgICAgcXVlc3Rpb246IFwiaGF2ZSBzZXZlcmFsIG9mIHRoZXNlIGV2ZXIgaGFwcGVuZWQgZHVyaW5nIHRoZSBzYW1lIHBlcmlvZCBvZiB0aW1lP1wiLFxuICAgICAgICAgICAgb3B0aW9uczogW1wiWWVzXCIsIFwiTm9cIl0sXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIHByZWZpeDogXCJcIixcbiAgICAgICAgICAgIHF1ZXN0aW9uOiBcIkhvdyBtdWNoIG9mIGEgcHJvYmxlbSBkaWQgYW55IG9mIHRoZXNlIGNhdXNlIHlvdSwgc3VjaCBhcyBiZWluZyB1bmFibGUgdG8gd29yazsgaGF2aW5nIGZhbWlseSwgbW9uZXksIG9yIGxlZ2FsIHRyb3VibGVzOyBnZXR0aW5nIGludG8gYXJndW1lbnRzIG9yIGZpZ2h0cz9cIixcbiAgICAgICAgICAgIG9wdGlvbnM6IFtcbiAgICAgICAgICAgICAgICBcIk5vIHByb2JsZW1cIixcbiAgICAgICAgICAgICAgICBcIk1pbm9yIHByb2JsZW1cIixcbiAgICAgICAgICAgICAgICBcIk1vZGVyYXRlIHByb2JsZW1cIixcbiAgICAgICAgICAgICAgICBcIlNlcmlvdXMgcHJvYmxlbVwiLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICBdLFxuICAgIHNjb3Jpbmc6IHtcbiAgICAgICAgLi4uc2NvcmluZ18xLlFVRVNUSU9OTkFJUkVfU0NPUklORyxcbiAgICAgICAgc2NvcmVNYXBwaW5nOiB7IDA6IDAsIDE6IDEgfSxcbiAgICAgICAgc2NvcmVUaHJlc2hvbGQ6IDcsIC8vIFNjb3JlIHRocmVzaG9sZCBmb3IgcXVlc3Rpb25zIDEtMTNcbiAgICAgICAgc2V2ZXJpdHlMZXZlbHM6IHtcbiAgICAgICAgICAgIGxvdzogeyByYW5nZTogWzAsIDZdLCBsYWJlbDogXCJObyBzaWduaWZpY2FudCBzeW1wdG9tc1wiIH0sXG4gICAgICAgICAgICBtb2RlcmF0ZTogeyByYW5nZTogWzcsIDEwXSwgbGFiZWw6IFwiUG9zc2libGUgbW9vZCBkaXNvcmRlclwiIH0sXG4gICAgICAgICAgICBoaWdoOiB7IHJhbmdlOiBbMTEsIDEzXSwgbGFiZWw6IFwiSGlnaCBsaWtlbGlob29kIG9mIGJpcG9sYXIgZGlzb3JkZXJcIiB9LFxuICAgICAgICAgICAgcG9zc2libGU6IHsgcmFuZ2U6IFsxNCwgMTVdLCBsYWJlbDogXCJQb3NzaWJsZSBCaXBvbGFyIERpc29yZGVyXCIgfSxcbiAgICAgICAgfSxcbiAgICAgICAgc3Vic2NhbGVzOiB7XG4gICAgICAgICAgICBwb3NpdGl2ZUFjdGl2YXRpb246IFszLCA0LCA4LCA5XSwgLy8gSW5jcmVhc2VkIGVuZXJneS9hY3Rpdml0eSwgZ3JhbmRpb3NpdHksIGRlY3JlYXNlZCBuZWVkIGZvciBzbGVlcFxuICAgICAgICAgICAgbmVnYXRpdmVBY3RpdmF0aW9uOiBbMSwgMiwgNiwgNywgMTIsIDEzXSwgLy8gSXJyaXRhYmlsaXR5LCByYWNpbmcgdGhvdWdodHMsIG5lZ2F0aXZlIGFmZmVjdGl2aXR5LCBkaXN0cmFjdGliaWxpdHlcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0U2NvcmU6IChhbnN3ZXJzKSA9PiB7XG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgcmF3IHNjb3JlIGZvciB0aGUgZmlyc3QgMTMgcXVlc3Rpb25zIChZZXMgPSAxLCBObyA9IDApXG4gICAgICAgICAgICBjb25zdCB7IHBvc2l0aXZlQWN0aXZhdGlvbiB9ID0gTURRLnNjb3Jpbmcuc3Vic2NhbGVzO1xuICAgICAgICAgICAgY29uc3QgcmF3U2NvcmUgPSBhbnN3ZXJzXG4gICAgICAgICAgICAgICAgLnNsaWNlKDAsIDEzKVxuICAgICAgICAgICAgICAgIC5yZWR1Y2UoKGFjYywgY3VyciwgaW5kZXgpID0+IGFjYyArIChwb3NpdGl2ZUFjdGl2YXRpb24/LmluY2x1ZGVzKGluZGV4KSA/IGN1cnIgOiBOdW1iZXIoIWN1cnIpKSwgMCk7XG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgc3ltcHRvbXMgY2x1c3RlcmVkIGluIHRoZSBzYW1lIHBlcmlvZCAocXVlc3Rpb24gMTQpIGFuZCB0aGUgc2V2ZXJpdHkgb2YgdGhlIHN5bXB0b21zIChxdWVzdGlvbiAxNSlcbiAgICAgICAgICAgIGNvbnN0IHN5bXB0b21zQ2x1c3RlcmVkID0gYW5zd2Vyc1sxM10gPT09IDE7XG4gICAgICAgICAgICBjb25zdCBwcm9ibGVtUmF0aW5nID0gYW5zd2Vyc1sxNF07XG4gICAgICAgICAgICBjb25zdCBzZXZlcml0eVByb2JsZW0gPSAocHJvYmxlbVJhdGluZyA/PyAwKSA+PSAyO1xuICAgICAgICAgICAgaWYgKHJhd1Njb3JlID49IDcgJiYgc3ltcHRvbXNDbHVzdGVyZWQgJiYgc2V2ZXJpdHlQcm9ibGVtKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDE0OyAvLyBQb3NzaWJsZSBCaXBvbGFyIERpc29yZGVyXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmF3U2NvcmU7XG4gICAgICAgIH0sXG4gICAgfSxcbiAgICBkaXNjbGFpbWVyOiBcIlRoaXMgcXVlc3Rpb25uYWlyZSBpcyBhIHNjcmVlbmluZyB0b29sIHRvIGFzc2VzcyBzeW1wdG9tcyBvZiBiaXBvbGFyIGRpc29yZGVyLiBJdCBkb2VzIG5vdCBzZXJ2ZSBhcyBhIGRpYWdub3N0aWMgdG9vbCBhbmQgc2hvdWxkIGJlIGZvbGxvd2VkIGJ5IGEgY2xpbmljYWwgZXZhbHVhdGlvbi4gSWYgeW91IGhhdmUgY29uY2VybnMgYWJvdXQgeW91ciBtZW50YWwgaGVhbHRoLCBwbGVhc2UgY29uc3VsdCBhIGhlYWx0aGNhcmUgcHJvZmVzc2lvbmFsLlwiLFxufTtcbmV4cG9ydHMuZGVmYXVsdCA9IE1EUTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1vb2QtZGlzb3JkZXIuanMubWFwIl0sInZlcnNpb24iOjN9