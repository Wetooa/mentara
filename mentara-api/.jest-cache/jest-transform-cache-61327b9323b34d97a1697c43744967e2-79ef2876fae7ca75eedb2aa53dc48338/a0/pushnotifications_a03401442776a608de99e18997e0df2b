352eaac96c1010b5c53955c8d9712976
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.UpdateSubscriptionPreferencesDtoSchema = exports.NotificationAnalyticsQueryDtoSchema = exports.SendTemplateNotificationDtoSchema = exports.NotificationTemplateSchema = exports.BulkNotificationRequestDtoSchema = exports.TestNotificationRequestDtoSchema = exports.UnsubscribeRequestDtoSchema = exports.SubscribeRequestDtoSchema = void 0;
const zod_1 = require("zod");
// Push Notification Subscription Schema
exports.SubscribeRequestDtoSchema = zod_1.z.object({
    endpoint: zod_1.z.string().url('Invalid endpoint URL'),
    keys: zod_1.z.object({
        p256dh: zod_1.z.string().min(1, 'p256dh key is required'),
        auth: zod_1.z.string().min(1, 'auth key is required')
    }),
    userId: zod_1.z.string().uuid('Invalid user ID format').optional(),
    deviceInfo: zod_1.z.object({
        userAgent: zod_1.z.string().optional(),
        platform: zod_1.z.string().optional(),
        device: zod_1.z.string().optional()
    }).optional(),
    preferences: zod_1.z.object({
        sessionReminders: zod_1.z.boolean().default(true),
        messageNotifications: zod_1.z.boolean().default(true),
        appointmentUpdates: zod_1.z.boolean().default(true),
        communityActivity: zod_1.z.boolean().default(false),
        systemAlerts: zod_1.z.boolean().default(true)
    }).optional()
});
exports.UnsubscribeRequestDtoSchema = zod_1.z.object({
    endpoint: zod_1.z.string().url('Invalid endpoint URL'),
    userId: zod_1.z.string().uuid('Invalid user ID format').optional(),
    reason: zod_1.z.enum(['user_request', 'device_change', 'app_uninstall', 'expired_subscription']).optional()
});
exports.TestNotificationRequestDtoSchema = zod_1.z.object({
    userId: zod_1.z.string().uuid('Invalid user ID format'),
    title: zod_1.z.string().min(1, 'Title is required').max(100, 'Title too long'),
    body: zod_1.z.string().min(1, 'Body is required').max(300, 'Body too long'),
    icon: zod_1.z.string().url().optional(),
    badge: zod_1.z.string().url().optional(),
    data: zod_1.z.record(zod_1.z.any()).optional(),
    actions: zod_1.z.array(zod_1.z.object({
        action: zod_1.z.string().min(1, 'Action is required'),
        title: zod_1.z.string().min(1, 'Action title is required'),
        icon: zod_1.z.string().url().optional()
    })).optional(),
    requireInteraction: zod_1.z.boolean().default(false),
    silent: zod_1.z.boolean().default(false)
});
// Bulk notification schemas
exports.BulkNotificationRequestDtoSchema = zod_1.z.object({
    userIds: zod_1.z.array(zod_1.z.string().uuid()).min(1, 'At least one user ID is required').max(1000, 'Too many users'),
    title: zod_1.z.string().min(1, 'Title is required').max(100, 'Title too long'),
    body: zod_1.z.string().min(1, 'Body is required').max(300, 'Body too long'),
    icon: zod_1.z.string().url().optional(),
    badge: zod_1.z.string().url().optional(),
    data: zod_1.z.record(zod_1.z.any()).optional(),
    scheduledFor: zod_1.z.string().datetime().optional(),
    expiresAt: zod_1.z.string().datetime().optional()
});
// Notification template schemas
exports.NotificationTemplateSchema = zod_1.z.object({
    id: zod_1.z.string().min(1, 'Template ID is required'),
    name: zod_1.z.string().min(1, 'Template name is required'),
    title: zod_1.z.string().min(1, 'Title template is required'),
    body: zod_1.z.string().min(1, 'Body template is required'),
    variables: zod_1.z.array(zod_1.z.string()).optional(), // Variables that can be replaced in template
    category: zod_1.z.enum(['appointment', 'message', 'community', 'system', 'emergency']),
    isActive: zod_1.z.boolean().default(true)
});
exports.SendTemplateNotificationDtoSchema = zod_1.z.object({
    templateId: zod_1.z.string().min(1, 'Template ID is required'),
    userIds: zod_1.z.array(zod_1.z.string().uuid()).min(1, 'At least one user ID is required'),
    variables: zod_1.z.record(zod_1.z.string()).optional(), // Key-value pairs for template variables
    scheduledFor: zod_1.z.string().datetime().optional()
});
// Notification analytics schemas
exports.NotificationAnalyticsQueryDtoSchema = zod_1.z.object({
    dateFrom: zod_1.z.string().datetime().optional(),
    dateTo: zod_1.z.string().datetime().optional(),
    category: zod_1.z.enum(['appointment', 'message', 'community', 'system', 'emergency']).optional(),
    userId: zod_1.z.string().uuid().optional(),
    includeClickThrough: zod_1.z.boolean().default(true),
    includeDeliveryRate: zod_1.z.boolean().default(true)
});
// Subscription management schemas
exports.UpdateSubscriptionPreferencesDtoSchema = zod_1.z.object({
    subscriptionId: zod_1.z.string().min(1, 'Subscription ID is required'),
    preferences: zod_1.z.object({
        sessionReminders: zod_1.z.boolean().optional(),
        messageNotifications: zod_1.z.boolean().optional(),
        appointmentUpdates: zod_1.z.boolean().optional(),
        communityActivity: zod_1.z.boolean().optional(),
        systemAlerts: zod_1.z.boolean().optional()
    }),
    quietHours: zod_1.z.object({
        enabled: zod_1.z.boolean().default(false),
        startTime: zod_1.z.string().regex(/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/).optional(),
        endTime: zod_1.z.string().regex(/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/).optional(),
        timezone: zod_1.z.string().optional()
    }).optional()
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvd2V0b29hL0RvY3VtZW50cy9jb2RlL3Byb2plY3RzL21lbnRhcmEvbWVudGFyYS1jb21tb25zL2Rpc3Qvc2NoZW1hcy9wdXNoLW5vdGlmaWNhdGlvbnMuanMiLCJtYXBwaW5ncyI6IkFBQUEsWUFBWSxDQUFDO0FBQ2IsTUFBTSxDQUFDLGNBQWMsQ0FBQyxPQUFPLEVBQUUsWUFBWSxFQUFFLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7QUFDOUQsT0FBTyxDQUFDLHNDQUFzQyxHQUFHLE9BQU8sQ0FBQyxtQ0FBbUMsR0FBRyxPQUFPLENBQUMsaUNBQWlDLEdBQUcsT0FBTyxDQUFDLDBCQUEwQixHQUFHLE9BQU8sQ0FBQyxnQ0FBZ0MsR0FBRyxPQUFPLENBQUMsZ0NBQWdDLEdBQUcsT0FBTyxDQUFDLDJCQUEyQixHQUFHLE9BQU8sQ0FBQyx5QkFBeUIsR0FBRyxLQUFLLENBQUMsQ0FBQztBQUN2VixNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDN0Isd0NBQXdDO0FBQ3hDLE9BQU8sQ0FBQyx5QkFBeUIsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztJQUMvQyxRQUFRLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsc0JBQXNCLENBQUM7SUFDdEQsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDO1FBQ2pCLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsd0JBQXdCLENBQUM7UUFDekQsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxzQkFBc0IsQ0FBQztLQUN4RCxDQUFDO0lBQ0YsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsSUFBSSxDQUFDLHdCQUF3QixDQUFDLENBQUMs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Q0FBQztRQUN2QixPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDO1FBQ3pDLFNBQVMsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUssQ0FBQyxtQ0FBbUMsQ0FBQyxDQUFDLFFBQVEsRUFBRTtRQUNqRixPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxLQUFLLENBQUMsbUNBQW1DLENBQUMsQ0FBQyxRQUFRLEVBQUU7UUFDL0UsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxFQUFFO0tBQ3hDLENBQUMsQ0FBQyxRQUFRLEVBQUU7Q0FDaEIsQ0FBQyxDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9ob21lL3dldG9vYS9Eb2N1bWVudHMvY29kZS9wcm9qZWN0cy9tZW50YXJhL21lbnRhcmEtY29tbW9ucy9kaXN0L3NjaGVtYXMvcHVzaC1ub3RpZmljYXRpb25zLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5VcGRhdGVTdWJzY3JpcHRpb25QcmVmZXJlbmNlc0R0b1NjaGVtYSA9IGV4cG9ydHMuTm90aWZpY2F0aW9uQW5hbHl0aWNzUXVlcnlEdG9TY2hlbWEgPSBleHBvcnRzLlNlbmRUZW1wbGF0ZU5vdGlmaWNhdGlvbkR0b1NjaGVtYSA9IGV4cG9ydHMuTm90aWZpY2F0aW9uVGVtcGxhdGVTY2hlbWEgPSBleHBvcnRzLkJ1bGtOb3RpZmljYXRpb25SZXF1ZXN0RHRvU2NoZW1hID0gZXhwb3J0cy5UZXN0Tm90aWZpY2F0aW9uUmVxdWVzdER0b1NjaGVtYSA9IGV4cG9ydHMuVW5zdWJzY3JpYmVSZXF1ZXN0RHRvU2NoZW1hID0gZXhwb3J0cy5TdWJzY3JpYmVSZXF1ZXN0RHRvU2NoZW1hID0gdm9pZCAwO1xuY29uc3Qgem9kXzEgPSByZXF1aXJlKFwiem9kXCIpO1xuLy8gUHVzaCBOb3RpZmljYXRpb24gU3Vic2NyaXB0aW9uIFNjaGVtYVxuZXhwb3J0cy5TdWJzY3JpYmVSZXF1ZXN0RHRvU2NoZW1hID0gem9kXzEuei5vYmplY3Qoe1xuICAgIGVuZHBvaW50OiB6b2RfMS56LnN0cmluZygpLnVybCgnSW52YWxpZCBlbmRwb2ludCBVUkwnKSxcbiAgICBrZXlzOiB6b2RfMS56Lm9iamVjdCh7XG4gICAgICAgIHAyNTZkaDogem9kXzEuei5zdHJpbmcoKS5taW4oMSwgJ3AyNTZkaCBrZXkgaXMgcmVxdWlyZWQnKSxcbiAgICAgICAgYXV0aDogem9kXzEuei5zdHJpbmcoKS5taW4oMSwgJ2F1dGgga2V5IGlzIHJlcXVpcmVkJylcbiAgICB9KSxcbiAgICB1c2VySWQ6IHpvZF8xLnouc3RyaW5nKCkudXVpZCgnSW52YWxpZCB1c2VyIElEIGZvcm1hdCcpLm9wdGlvbmFsKCksXG4gICAgZGV2aWNlSW5mbzogem9kXzEuei5vYmplY3Qoe1xuICAgICAgICB1c2VyQWdlbnQ6IHpvZF8xLnouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgcGxhdGZvcm06IHpvZF8xLnouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgZGV2aWNlOiB6b2RfMS56LnN0cmluZygpLm9wdGlvbmFsKClcbiAgICB9KS5vcHRpb25hbCgpLFxuICAgIHByZWZlcmVuY2VzOiB6b2RfMS56Lm9iamVjdCh7XG4gICAgICAgIHNlc3Npb25SZW1pbmRlcnM6IHpvZF8xLnouYm9vbGVhbigpLmRlZmF1bHQodHJ1ZSksXG4gICAgICAgIG1lc3NhZ2VOb3RpZmljYXRpb25zOiB6b2RfMS56LmJvb2xlYW4oKS5kZWZhdWx0KHRydWUpLFxuICAgICAgICBhcHBvaW50bWVudFVwZGF0ZXM6IHpvZF8xLnouYm9vbGVhbigpLmRlZmF1bHQodHJ1ZSksXG4gICAgICAgIGNvbW11bml0eUFjdGl2aXR5OiB6b2RfMS56LmJvb2xlYW4oKS5kZWZhdWx0KGZhbHNlKSxcbiAgICAgICAgc3lzdGVtQWxlcnRzOiB6b2RfMS56LmJvb2xlYW4oKS5kZWZhdWx0KHRydWUpXG4gICAgfSkub3B0aW9uYWwoKVxufSk7XG5leHBvcnRzLlVuc3Vic2NyaWJlUmVxdWVzdER0b1NjaGVtYSA9IHpvZF8xLnoub2JqZWN0KHtcbiAgICBlbmRwb2ludDogem9kXzEuei5zdHJpbmcoKS51cmwoJ0ludmFsaWQgZW5kcG9pbnQgVVJMJyksXG4gICAgdXNlcklkOiB6b2RfMS56LnN0cmluZygpLnV1aWQoJ0ludmFsaWQgdXNlciBJRCBmb3JtYXQnKS5vcHRpb25hbCgpLFxuICAgIHJlYXNvbjogem9kXzEuei5lbnVtKFsndXNlcl9yZXF1ZXN0JywgJ2RldmljZV9jaGFuZ2UnLCAnYXBwX3VuaW5zdGFsbCcsICdleHBpcmVkX3N1YnNjcmlwdGlvbiddKS5vcHRpb25hbCgpXG59KTtcbmV4cG9ydHMuVGVzdE5vdGlmaWNhdGlvblJlcXVlc3REdG9TY2hlbWEgPSB6b2RfMS56Lm9iamVjdCh7XG4gICAgdXNlcklkOiB6b2RfMS56LnN0cmluZygpLnV1aWQoJ0ludmFsaWQgdXNlciBJRCBmb3JtYXQnKSxcbiAgICB0aXRsZTogem9kXzEuei5zdHJpbmcoKS5taW4oMSwgJ1RpdGxlIGlzIHJlcXVpcmVkJykubWF4KDEwMCwgJ1RpdGxlIHRvbyBsb25nJyksXG4gICAgYm9keTogem9kXzEuei5zdHJpbmcoKS5taW4oMSwgJ0JvZHkgaXMgcmVxdWlyZWQnKS5tYXgoMzAwLCAnQm9keSB0b28gbG9uZycpLFxuICAgIGljb246IHpvZF8xLnouc3RyaW5nKCkudXJsKCkub3B0aW9uYWwoKSxcbiAgICBiYWRnZTogem9kXzEuei5zdHJpbmcoKS51cmwoKS5vcHRpb25hbCgpLFxuICAgIGRhdGE6IHpvZF8xLnoucmVjb3JkKHpvZF8xLnouYW55KCkpLm9wdGlvbmFsKCksXG4gICAgYWN0aW9uczogem9kXzEuei5hcnJheSh6b2RfMS56Lm9iamVjdCh7XG4gICAgICAgIGFjdGlvbjogem9kXzEuei5zdHJpbmcoKS5taW4oMSwgJ0FjdGlvbiBpcyByZXF1aXJlZCcpLFxuICAgICAgICB0aXRsZTogem9kXzEuei5zdHJpbmcoKS5taW4oMSwgJ0FjdGlvbiB0aXRsZSBpcyByZXF1aXJlZCcpLFxuICAgICAgICBpY29uOiB6b2RfMS56LnN0cmluZygpLnVybCgpLm9wdGlvbmFsKClcbiAgICB9KSkub3B0aW9uYWwoKSxcbiAgICByZXF1aXJlSW50ZXJhY3Rpb246IHpvZF8xLnouYm9vbGVhbigpLmRlZmF1bHQoZmFsc2UpLFxuICAgIHNpbGVudDogem9kXzEuei5ib29sZWFuKCkuZGVmYXVsdChmYWxzZSlcbn0pO1xuLy8gQnVsayBub3RpZmljYXRpb24gc2NoZW1hc1xuZXhwb3J0cy5CdWxrTm90aWZpY2F0aW9uUmVxdWVzdER0b1NjaGVtYSA9IHpvZF8xLnoub2JqZWN0KHtcbiAgICB1c2VySWRzOiB6b2RfMS56LmFycmF5KHpvZF8xLnouc3RyaW5nKCkudXVpZCgpKS5taW4oMSwgJ0F0IGxlYXN0IG9uZSB1c2VyIElEIGlzIHJlcXVpcmVkJykubWF4KDEwMDAsICdUb28gbWFueSB1c2VycycpLFxuICAgIHRpdGxlOiB6b2RfMS56LnN0cmluZygpLm1pbigxLCAnVGl0bGUgaXMgcmVxdWlyZWQnKS5tYXgoMTAwLCAnVGl0bGUgdG9vIGxvbmcnKSxcbiAgICBib2R5OiB6b2RfMS56LnN0cmluZygpLm1pbigxLCAnQm9keSBpcyByZXF1aXJlZCcpLm1heCgzMDAsICdCb2R5IHRvbyBsb25nJyksXG4gICAgaWNvbjogem9kXzEuei5zdHJpbmcoKS51cmwoKS5vcHRpb25hbCgpLFxuICAgIGJhZGdlOiB6b2RfMS56LnN0cmluZygpLnVybCgpLm9wdGlvbmFsKCksXG4gICAgZGF0YTogem9kXzEuei5yZWNvcmQoem9kXzEuei5hbnkoKSkub3B0aW9uYWwoKSxcbiAgICBzY2hlZHVsZWRGb3I6IHpvZF8xLnouc3RyaW5nKCkuZGF0ZXRpbWUoKS5vcHRpb25hbCgpLFxuICAgIGV4cGlyZXNBdDogem9kXzEuei5zdHJpbmcoKS5kYXRldGltZSgpLm9wdGlvbmFsKClcbn0pO1xuLy8gTm90aWZpY2F0aW9uIHRlbXBsYXRlIHNjaGVtYXNcbmV4cG9ydHMuTm90aWZpY2F0aW9uVGVtcGxhdGVTY2hlbWEgPSB6b2RfMS56Lm9iamVjdCh7XG4gICAgaWQ6IHpvZF8xLnouc3RyaW5nKCkubWluKDEsICdUZW1wbGF0ZSBJRCBpcyByZXF1aXJlZCcpLFxuICAgIG5hbWU6IHpvZF8xLnouc3RyaW5nKCkubWluKDEsICdUZW1wbGF0ZSBuYW1lIGlzIHJlcXVpcmVkJyksXG4gICAgdGl0bGU6IHpvZF8xLnouc3RyaW5nKCkubWluKDEsICdUaXRsZSB0ZW1wbGF0ZSBpcyByZXF1aXJlZCcpLFxuICAgIGJvZHk6IHpvZF8xLnouc3RyaW5nKCkubWluKDEsICdCb2R5IHRlbXBsYXRlIGlzIHJlcXVpcmVkJyksXG4gICAgdmFyaWFibGVzOiB6b2RfMS56LmFycmF5KHpvZF8xLnouc3RyaW5nKCkpLm9wdGlvbmFsKCksIC8vIFZhcmlhYmxlcyB0aGF0IGNhbiBiZSByZXBsYWNlZCBpbiB0ZW1wbGF0ZVxuICAgIGNhdGVnb3J5OiB6b2RfMS56LmVudW0oWydhcHBvaW50bWVudCcsICdtZXNzYWdlJywgJ2NvbW11bml0eScsICdzeXN0ZW0nLCAnZW1lcmdlbmN5J10pLFxuICAgIGlzQWN0aXZlOiB6b2RfMS56LmJvb2xlYW4oKS5kZWZhdWx0KHRydWUpXG59KTtcbmV4cG9ydHMuU2VuZFRlbXBsYXRlTm90aWZpY2F0aW9uRHRvU2NoZW1hID0gem9kXzEuei5vYmplY3Qoe1xuICAgIHRlbXBsYXRlSWQ6IHpvZF8xLnouc3RyaW5nKCkubWluKDEsICdUZW1wbGF0ZSBJRCBpcyByZXF1aXJlZCcpLFxuICAgIHVzZXJJZHM6IHpvZF8xLnouYXJyYXkoem9kXzEuei5zdHJpbmcoKS51dWlkKCkpLm1pbigxLCAnQXQgbGVhc3Qgb25lIHVzZXIgSUQgaXMgcmVxdWlyZWQnKSxcbiAgICB2YXJpYWJsZXM6IHpvZF8xLnoucmVjb3JkKHpvZF8xLnouc3RyaW5nKCkpLm9wdGlvbmFsKCksIC8vIEtleS12YWx1ZSBwYWlycyBmb3IgdGVtcGxhdGUgdmFyaWFibGVzXG4gICAgc2NoZWR1bGVkRm9yOiB6b2RfMS56LnN0cmluZygpLmRhdGV0aW1lKCkub3B0aW9uYWwoKVxufSk7XG4vLyBOb3RpZmljYXRpb24gYW5hbHl0aWNzIHNjaGVtYXNcbmV4cG9ydHMuTm90aWZpY2F0aW9uQW5hbHl0aWNzUXVlcnlEdG9TY2hlbWEgPSB6b2RfMS56Lm9iamVjdCh7XG4gICAgZGF0ZUZyb206IHpvZF8xLnouc3RyaW5nKCkuZGF0ZXRpbWUoKS5vcHRpb25hbCgpLFxuICAgIGRhdGVUbzogem9kXzEuei5zdHJpbmcoKS5kYXRldGltZSgpLm9wdGlvbmFsKCksXG4gICAgY2F0ZWdvcnk6IHpvZF8xLnouZW51bShbJ2FwcG9pbnRtZW50JywgJ21lc3NhZ2UnLCAnY29tbXVuaXR5JywgJ3N5c3RlbScsICdlbWVyZ2VuY3knXSkub3B0aW9uYWwoKSxcbiAgICB1c2VySWQ6IHpvZF8xLnouc3RyaW5nKCkudXVpZCgpLm9wdGlvbmFsKCksXG4gICAgaW5jbHVkZUNsaWNrVGhyb3VnaDogem9kXzEuei5ib29sZWFuKCkuZGVmYXVsdCh0cnVlKSxcbiAgICBpbmNsdWRlRGVsaXZlcnlSYXRlOiB6b2RfMS56LmJvb2xlYW4oKS5kZWZhdWx0KHRydWUpXG59KTtcbi8vIFN1YnNjcmlwdGlvbiBtYW5hZ2VtZW50IHNjaGVtYXNcbmV4cG9ydHMuVXBkYXRlU3Vic2NyaXB0aW9uUHJlZmVyZW5jZXNEdG9TY2hlbWEgPSB6b2RfMS56Lm9iamVjdCh7XG4gICAgc3Vic2NyaXB0aW9uSWQ6IHpvZF8xLnouc3RyaW5nKCkubWluKDEsICdTdWJzY3JpcHRpb24gSUQgaXMgcmVxdWlyZWQnKSxcbiAgICBwcmVmZXJlbmNlczogem9kXzEuei5vYmplY3Qoe1xuICAgICAgICBzZXNzaW9uUmVtaW5kZXJzOiB6b2RfMS56LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICAgICAgICBtZXNzYWdlTm90aWZpY2F0aW9uczogem9kXzEuei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgICAgICAgYXBwb2ludG1lbnRVcGRhdGVzOiB6b2RfMS56LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICAgICAgICBjb21tdW5pdHlBY3Rpdml0eTogem9kXzEuei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgICAgICAgc3lzdGVtQWxlcnRzOiB6b2RfMS56LmJvb2xlYW4oKS5vcHRpb25hbCgpXG4gICAgfSksXG4gICAgcXVpZXRIb3Vyczogem9kXzEuei5vYmplY3Qoe1xuICAgICAgICBlbmFibGVkOiB6b2RfMS56LmJvb2xlYW4oKS5kZWZhdWx0KGZhbHNlKSxcbiAgICAgICAgc3RhcnRUaW1lOiB6b2RfMS56LnN0cmluZygpLnJlZ2V4KC9eKFswLTFdP1swLTldfDJbMC0zXSk6WzAtNV1bMC05XSQvKS5vcHRpb25hbCgpLFxuICAgICAgICBlbmRUaW1lOiB6b2RfMS56LnN0cmluZygpLnJlZ2V4KC9eKFswLTFdP1swLTldfDJbMC0zXSk6WzAtNV1bMC05XSQvKS5vcHRpb25hbCgpLFxuICAgICAgICB0aW1lem9uZTogem9kXzEuei5zdHJpbmcoKS5vcHRpb25hbCgpXG4gICAgfSkub3B0aW9uYWwoKVxufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wdXNoLW5vdGlmaWNhdGlvbnMuanMubWFwIl0sInZlcnNpb24iOjN9