{"file":"/home/wetooa/Documents/code/projects/mentara/mentara-api/src/onboarding/onboarding.controller.spec.ts","mappings":"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","names":[],"sources":["/home/wetooa/Documents/code/projects/mentara/mentara-api/src/onboarding/onboarding.controller.spec.ts"],"sourcesContent":["/**\n * Comprehensive Test Suite for OnboardingController\n * Tests user onboarding flow management and completion tracking\n */\n\nimport { Test, TestingModule } from '@nestjs/testing';\nimport { HttpException, HttpStatus } from '@nestjs/common';\nimport { OnboardingController } from './onboarding.controller';\nimport { OnboardingService, OnboardingStatus } from './onboarding.service';\nimport { JwtAuthGuard } from '../auth/guards/jwt-auth.guard';\nimport { AdminAuthGuard } from '../auth/guards/admin-auth.guard';\nimport { ADMIN_ONLY_KEY } from '../auth/decorators/admin-only.decorator';\nimport { SecurityGuardTestUtils, RoleBasedTestUtils } from '../test-utils/auth-testing-helpers';\nimport { MockBuilder, TestDataGenerator, TestAssertions } from '../test-utils/enhanced-test-helpers';\nimport { TEST_USER_IDS, TEST_EMAILS } from '../test-utils/index';\n\ndescribe('OnboardingController', () => {\n  let controller: OnboardingController;\n  let onboardingService: OnboardingService;\n  let module: TestingModule;\n\n  // Mock OnboardingService\n  const mockOnboardingService = {\n    getOnboardingStatus: jest.fn(),\n    markStepCompleted: jest.fn(),\n    validateOnboardingCompleteness: jest.fn(),\n    getOnboardingInsights: jest.fn(),\n  };\n\n  // Mock Guards\n  const mockJwtAuthGuard = {\n    canActivate: jest.fn().mockReturnValue(true),\n  };\n\n  const mockAdminAuthGuard = {\n    canActivate: jest.fn().mockReturnValue(true),\n  };\n\n  // Test data\n  const mockOnboardingStatus: OnboardingStatus = {\n    userId: TEST_USER_IDS.CLIENT,\n    isCompleted: false,\n    completionPercentage: 60,\n    steps: {\n      profileSetup: {\n        completed: true,\n        completedAt: new Date('2024-02-10T10:00:00Z'),\n        required: true,\n      },\n      preAssessment: {\n        completed: true,\n        completedAt: new Date('2024-02-11T14:00:00Z'),\n        required: true,\n      },\n      therapistSelection: {\n        completed: false,\n        completedAt: null,\n        required: true,\n      },\n      firstSession: {\n        completed: false,\n        completedAt: null,\n        required: false,\n      },\n      communityJoin: {\n        completed: false,\n        completedAt: null,\n        required: false,\n      },\n    },\n    nextSteps: [\n      {\n        stepName: 'therapistSelection',\n        title: 'Select Your Therapist',\n        description: 'Browse and select a therapist that matches your needs',\n        required: true,\n        estimatedTime: 15,\n      },\n    ],\n    startedAt: new Date('2024-02-10T09:00:00Z'),\n    lastUpdatedAt: new Date('2024-02-11T14:30:00Z'),\n  };\n\n  const mockCompletedOnboardingStatus: OnboardingStatus = {\n    ...mockOnboardingStatus,\n    isCompleted: true,\n    completionPercentage: 100,\n    steps: {\n      ...mockOnboardingStatus.steps,\n      therapistSelection: {\n        completed: true,\n        completedAt: new Date('2024-02-12T16:00:00Z'),\n        required: true,\n      },\n      firstSession: {\n        completed: true,\n        completedAt: new Date('2024-02-13T10:00:00Z'),\n        required: false,\n      },\n    },\n    nextSteps: [],\n    completedAt: new Date('2024-02-13T10:00:00Z'),\n  };\n\n  const mockValidationResult = {\n    isValid: true,\n    missingSteps: [],\n    recommendations: [\n      {\n        stepName: 'communityJoin',\n        priority: 'low',\n        reason: 'Joining a community can provide additional support',\n      },\n    ],\n  };\n\n  const mockOnboardingInsights = {\n    totalUsers: 15234,\n    completedOnboarding: 12456,\n    completionRate: 81.7,\n    averageCompletionTime: 3.2, // days\n    stepCompletionRates: {\n      profileSetup: 98.5,\n      preAssessment: 94.2,\n      therapistSelection: 87.3,\n      firstSession: 76.8,\n      communityJoin: 45.2,\n    },\n    commonDropOffPoints: [\n      {\n        stepName: 'therapistSelection',\n        dropOffRate: 12.7,\n        commonReasons: ['Too many options', 'Pricing concerns', 'Availability issues'],\n      },\n      {\n        stepName: 'firstSession',\n        dropOffRate: 10.5,\n        commonReasons: ['Scheduling conflicts', 'Technical issues', 'Changed mind'],\n      },\n    ],\n    recentTrends: {\n      weeklyCompletions: [45, 52, 48, 67, 59, 71, 63],\n      improvementAreas: ['therapist matching', 'scheduling flow', 'pricing clarity'],\n    },\n  };\n\n  beforeEach(async () => {\n    module = await Test.createTestingModule({\n      controllers: [OnboardingController],\n      providers: [\n        {\n          provide: OnboardingService,\n          useValue: mockOnboardingService,\n        },\n      ],\n    })\n      .overrideGuard(JwtAuthGuard)\n      .useValue(mockJwtAuthGuard)\n      .overrideGuard(AdminAuthGuard)\n      .useValue(mockAdminAuthGuard)\n      .compile();\n\n    controller = module.get<OnboardingController>(OnboardingController);\n    onboardingService = module.get<OnboardingService>(OnboardingService);\n  });\n\n  afterEach(() => {\n    jest.clearAllMocks();\n  });\n\n  describe('Controller Initialization', () => {\n    it('should be defined', () => {\n      expect(controller).toBeDefined();\n    });\n\n    it('should have onboardingService injected', () => {\n      expect(onboardingService).toBeDefined();\n    });\n  });\n\n  describe('Security Guards', () => {\n    it('should be protected by JwtAuthGuard', () => {\n      const guards = Reflect.getMetadata('__guards__', OnboardingController);\n      expect(guards).toContain(JwtAuthGuard);\n    });\n\n    it('should have proper route decorators', () => {\n      const controllerMetadata = Reflect.getMetadata('path', OnboardingController);\n      expect(controllerMetadata).toBe('onboarding');\n    });\n\n    it('should require admin role for admin-only endpoints', () => {\n      const adminOnlyMethods = ['getUserOnboardingStatus', 'getOnboardingInsights'];\n      adminOnlyMethods.forEach(method => {\n        const metadata = Reflect.getMetadata(ADMIN_ONLY_KEY, controller[method]);\n        expect(metadata).toBe(true);\n      });\n    });\n  });\n\n  describe('GET /onboarding/status', () => {\n    it('should get my onboarding status successfully', async () => {\n      mockOnboardingService.getOnboardingStatus.mockResolvedValue(mockOnboardingStatus);\n\n      const result = await controller.getMyOnboardingStatus(TEST_USER_IDS.CLIENT);\n\n      expect(result).toEqual(mockOnboardingStatus);\n      expect(onboardingService.getOnboardingStatus).toHaveBeenCalledWith(TEST_USER_IDS.CLIENT);\n    });\n\n    it('should handle service errors', async () => {\n      const serviceError = new Error('Failed to retrieve onboarding status');\n      mockOnboardingService.getOnboardingStatus.mockRejectedValue(serviceError);\n\n      await expect(\n        controller.getMyOnboardingStatus(TEST_USER_IDS.CLIENT)\n      ).rejects.toThrow(HttpException);\n\n      try {\n        await controller.getMyOnboardingStatus(TEST_USER_IDS.CLIENT);\n      } catch (error) {\n        expect(error).toBeInstanceOf(HttpException);\n        expect(error.getStatus()).toBe(HttpStatus.INTERNAL_SERVER_ERROR);\n        expect(error.message).toContain('Failed to retrieve onboarding status');\n      }\n    });\n\n    it('should validate onboarding status structure', async () => {\n      mockOnboardingService.getOnboardingStatus.mockResolvedValue(mockOnboardingStatus);\n\n      const result = await controller.getMyOnboardingStatus(TEST_USER_IDS.CLIENT);\n\n      expect(result).toHaveProperty('userId');\n      expect(result).toHaveProperty('isCompleted');\n      expect(result).toHaveProperty('completionPercentage');\n      expect(result).toHaveProperty('steps');\n      expect(result).toHaveProperty('nextSteps');\n      expect(result).toHaveProperty('startedAt');\n      expect(result).toHaveProperty('lastUpdatedAt');\n\n      expect(typeof result.isCompleted).toBe('boolean');\n      expect(typeof result.completionPercentage).toBe('number');\n      expect(result.completionPercentage).toBeGreaterThanOrEqual(0);\n      expect(result.completionPercentage).toBeLessThanOrEqual(100);\n      expect(Array.isArray(result.nextSteps)).toBe(true);\n    });\n\n    it('should handle completed onboarding status', async () => {\n      mockOnboardingService.getOnboardingStatus.mockResolvedValue(mockCompletedOnboardingStatus);\n\n      const result = await controller.getMyOnboardingStatus(TEST_USER_IDS.CLIENT);\n\n      expect(result.isCompleted).toBe(true);\n      expect(result.completionPercentage).toBe(100);\n      expect(result.nextSteps).toHaveLength(0);\n      expect(result.completedAt).toBeDefined();\n    });\n  });\n\n  describe('GET /onboarding/status/:userId', () => {\n    it('should get user onboarding status successfully as admin', async () => {\n      mockOnboardingService.getOnboardingStatus.mockResolvedValue(mockOnboardingStatus);\n\n      const result = await controller.getUserOnboardingStatus(TEST_USER_IDS.CLIENT);\n\n      expect(result).toEqual(mockOnboardingStatus);\n      expect(onboardingService.getOnboardingStatus).toHaveBeenCalledWith(TEST_USER_IDS.CLIENT);\n    });\n\n    it('should handle service errors for admin requests', async () => {\n      const serviceError = new Error('User not found');\n      mockOnboardingService.getOnboardingStatus.mockRejectedValue(serviceError);\n\n      await expect(\n        controller.getUserOnboardingStatus(TEST_USER_IDS.CLIENT)\n      ).rejects.toThrow(HttpException);\n    });\n\n    it('should pass through HTTP exceptions from service', async () => {\n      const httpError = new HttpException('User not found', HttpStatus.NOT_FOUND);\n      mockOnboardingService.getOnboardingStatus.mockRejectedValue(httpError);\n\n      await expect(\n        controller.getUserOnboardingStatus('nonexistent_user')\n      ).rejects.toThrow(httpError);\n    });\n\n    it('should handle different user IDs', async () => {\n      const userIds = [TEST_USER_IDS.CLIENT, TEST_USER_IDS.THERAPIST, 'custom_user_123'];\n      \n      for (const userId of userIds) {\n        mockOnboardingService.getOnboardingStatus.mockResolvedValue({\n          ...mockOnboardingStatus,\n          userId,\n        });\n\n        const result = await controller.getUserOnboardingStatus(userId);\n        expect(result.userId).toBe(userId);\n      }\n    });\n  });\n\n  describe('POST /onboarding/complete-step/:stepName', () => {\n    it('should complete step successfully', async () => {\n      const updatedStatus = {\n        ...mockOnboardingStatus,\n        steps: {\n          ...mockOnboardingStatus.steps,\n          therapistSelection: {\n            completed: true,\n            completedAt: new Date('2024-02-12T16:00:00Z'),\n            required: true,\n          },\n        },\n        completionPercentage: 80,\n      };\n      mockOnboardingService.markStepCompleted.mockResolvedValue(updatedStatus);\n\n      const result = await controller.completeStep(TEST_USER_IDS.CLIENT, 'therapistSelection');\n\n      expect(result).toEqual(updatedStatus);\n      expect(onboardingService.markStepCompleted).toHaveBeenCalledWith(\n        TEST_USER_IDS.CLIENT,\n        'therapistSelection'\n      );\n    });\n\n    it('should handle different step names', async () => {\n      const stepNames = [\n        'profileSetup',\n        'preAssessment',\n        'therapistSelection',\n        'firstSession',\n        'communityJoin',\n      ];\n\n      for (const stepName of stepNames) {\n        mockOnboardingService.markStepCompleted.mockResolvedValue({\n          ...mockOnboardingStatus,\n          steps: {\n            ...mockOnboardingStatus.steps,\n            [stepName]: {\n              completed: true,\n              completedAt: new Date(),\n              required: true,\n            },\n          },\n        });\n\n        const result = await controller.completeStep(TEST_USER_IDS.CLIENT, stepName);\n        expect(result.steps[stepName].completed).toBe(true);\n      }\n    });\n\n    it('should handle service errors during step completion', async () => {\n      const serviceError = new Error('Invalid step name');\n      mockOnboardingService.markStepCompleted.mockRejectedValue(serviceError);\n\n      await expect(\n        controller.completeStep(TEST_USER_IDS.CLIENT, 'invalidStep')\n      ).rejects.toThrow(HttpException);\n\n      try {\n        await controller.completeStep(TEST_USER_IDS.CLIENT, 'invalidStep');\n      } catch (error) {\n        expect(error).toBeInstanceOf(HttpException);\n        expect(error.getStatus()).toBe(HttpStatus.INTERNAL_SERVER_ERROR);\n        expect(error.message).toContain('Failed to complete onboarding step');\n      }\n    });\n\n    it('should validate completion progress updates', async () => {\n      const initialPercentage = mockOnboardingStatus.completionPercentage;\n      const updatedStatus = {\n        ...mockOnboardingStatus,\n        completionPercentage: initialPercentage + 20,\n      };\n      mockOnboardingService.markStepCompleted.mockResolvedValue(updatedStatus);\n\n      const result = await controller.completeStep(TEST_USER_IDS.CLIENT, 'therapistSelection');\n\n      expect(result.completionPercentage).toBeGreaterThan(initialPercentage);\n      expect(result.completionPercentage).toBeLessThanOrEqual(100);\n    });\n  });\n\n  describe('GET /onboarding/validate', () => {\n    it('should validate onboarding successfully', async () => {\n      mockOnboardingService.validateOnboardingCompleteness.mockResolvedValue(mockValidationResult);\n\n      const result = await controller.validateOnboarding(TEST_USER_IDS.CLIENT);\n\n      expect(result).toEqual(mockValidationResult);\n      expect(onboardingService.validateOnboardingCompleteness).toHaveBeenCalledWith(TEST_USER_IDS.CLIENT);\n    });\n\n    it('should handle validation with missing steps', async () => {\n      const validationWithMissingSteps = {\n        isValid: false,\n        missingSteps: ['therapistSelection', 'firstSession'],\n        recommendations: [\n          {\n            stepName: 'therapistSelection',\n            priority: 'high',\n            reason: 'Required step for accessing therapy services',\n          },\n        ],\n      };\n      mockOnboardingService.validateOnboardingCompleteness.mockResolvedValue(validationWithMissingSteps);\n\n      const result = await controller.validateOnboarding(TEST_USER_IDS.CLIENT);\n\n      expect(result.isValid).toBe(false);\n      expect(result.missingSteps).toHaveLength(2);\n      expect(result.recommendations).toHaveLength(1);\n    });\n\n    it('should handle service errors during validation', async () => {\n      const serviceError = new Error('Validation service unavailable');\n      mockOnboardingService.validateOnboardingCompleteness.mockRejectedValue(serviceError);\n\n      await expect(\n        controller.validateOnboarding(TEST_USER_IDS.CLIENT)\n      ).rejects.toThrow(HttpException);\n\n      try {\n        await controller.validateOnboarding(TEST_USER_IDS.CLIENT);\n      } catch (error) {\n        expect(error).toBeInstanceOf(HttpException);\n        expect(error.getStatus()).toBe(HttpStatus.INTERNAL_SERVER_ERROR);\n        expect(error.message).toContain('Failed to validate onboarding completeness');\n      }\n    });\n\n    it('should validate response structure', async () => {\n      mockOnboardingService.validateOnboardingCompleteness.mockResolvedValue(mockValidationResult);\n\n      const result = await controller.validateOnboarding(TEST_USER_IDS.CLIENT);\n\n      expect(result).toHaveProperty('isValid');\n      expect(result).toHaveProperty('missingSteps');\n      expect(result).toHaveProperty('recommendations');\n      expect(typeof result.isValid).toBe('boolean');\n      expect(Array.isArray(result.missingSteps)).toBe(true);\n      expect(Array.isArray(result.recommendations)).toBe(true);\n    });\n  });\n\n  describe('GET /onboarding/insights', () => {\n    it('should get onboarding insights successfully as admin', async () => {\n      mockOnboardingService.getOnboardingInsights.mockResolvedValue(mockOnboardingInsights);\n\n      const result = await controller.getOnboardingInsights();\n\n      expect(result).toEqual(mockOnboardingInsights);\n      expect(onboardingService.getOnboardingInsights).toHaveBeenCalled();\n    });\n\n    it('should handle service errors for insights', async () => {\n      const serviceError = new Error('Analytics service unavailable');\n      mockOnboardingService.getOnboardingInsights.mockRejectedValue(serviceError);\n\n      await expect(\n        controller.getOnboardingInsights()\n      ).rejects.toThrow(HttpException);\n\n      try {\n        await controller.getOnboardingInsights();\n      } catch (error) {\n        expect(error).toBeInstanceOf(HttpException);\n        expect(error.getStatus()).toBe(HttpStatus.INTERNAL_SERVER_ERROR);\n        expect(error.message).toContain('Failed to retrieve onboarding insights');\n      }\n    });\n\n    it('should validate insights structure', async () => {\n      mockOnboardingService.getOnboardingInsights.mockResolvedValue(mockOnboardingInsights);\n\n      const result = await controller.getOnboardingInsights();\n\n      expect(result).toHaveProperty('totalUsers');\n      expect(result).toHaveProperty('completedOnboarding');\n      expect(result).toHaveProperty('completionRate');\n      expect(result).toHaveProperty('averageCompletionTime');\n      expect(result).toHaveProperty('stepCompletionRates');\n      expect(result).toHaveProperty('commonDropOffPoints');\n      expect(result).toHaveProperty('recentTrends');\n\n      expect(typeof result.totalUsers).toBe('number');\n      expect(typeof result.completionRate).toBe('number');\n      expect(typeof result.averageCompletionTime).toBe('number');\n      expect(typeof result.stepCompletionRates).toBe('object');\n      expect(Array.isArray(result.commonDropOffPoints)).toBe(true);\n      expect(Array.isArray(result.recentTrends.weeklyCompletions)).toBe(true);\n\n      // Validate completion rate range\n      expect(result.completionRate).toBeGreaterThanOrEqual(0);\n      expect(result.completionRate).toBeLessThanOrEqual(100);\n    });\n\n    it('should validate step completion rates', async () => {\n      mockOnboardingService.getOnboardingInsights.mockResolvedValue(mockOnboardingInsights);\n\n      const result = await controller.getOnboardingInsights();\n\n      const stepRates = result.stepCompletionRates;\n      Object.values(stepRates).forEach(rate => {\n        expect(typeof rate).toBe('number');\n        expect(rate).toBeGreaterThanOrEqual(0);\n        expect(rate).toBeLessThanOrEqual(100);\n      });\n    });\n  });\n\n  describe('Response Format Validation', () => {\n    it('should return properly formatted onboarding status', async () => {\n      mockOnboardingService.getOnboardingStatus.mockResolvedValue(mockOnboardingStatus);\n\n      const result = await controller.getMyOnboardingStatus(TEST_USER_IDS.CLIENT);\n\n      expect(result).toHaveProperty('userId');\n      expect(result).toHaveProperty('isCompleted');\n      expect(result).toHaveProperty('completionPercentage');\n      expect(result).toHaveProperty('steps');\n      expect(result).toHaveProperty('nextSteps');\n      expect(result).toHaveProperty('startedAt');\n      expect(result).toHaveProperty('lastUpdatedAt');\n\n      expect(result.startedAt).toBeInstanceOf(Date);\n      expect(result.lastUpdatedAt).toBeInstanceOf(Date);\n      expect(typeof result.completionPercentage).toBe('number');\n    });\n\n    it('should return properly formatted validation result', async () => {\n      mockOnboardingService.validateOnboardingCompleteness.mockResolvedValue(mockValidationResult);\n\n      const result = await controller.validateOnboarding(TEST_USER_IDS.CLIENT);\n\n      expect(result).toHaveProperty('isValid');\n      expect(result).toHaveProperty('missingSteps');\n      expect(result).toHaveProperty('recommendations');\n      expect(typeof result.isValid).toBe('boolean');\n      expect(Array.isArray(result.missingSteps)).toBe(true);\n      expect(Array.isArray(result.recommendations)).toBe(true);\n    });\n\n    it('should return properly formatted insights', async () => {\n      mockOnboardingService.getOnboardingInsights.mockResolvedValue(mockOnboardingInsights);\n\n      const result = await controller.getOnboardingInsights();\n\n      expect(result).toHaveProperty('totalUsers');\n      expect(result).toHaveProperty('completedOnboarding');\n      expect(result).toHaveProperty('completionRate');\n      expect(result).toHaveProperty('stepCompletionRates');\n      expect(result).toHaveProperty('commonDropOffPoints');\n\n      expect(typeof result.totalUsers).toBe('number');\n      expect(typeof result.completionRate).toBe('number');\n    });\n  });\n\n  describe('Error Handling', () => {\n    it('should handle database connection errors', async () => {\n      const dbError = new Error('Database connection failed');\n      mockOnboardingService.getOnboardingStatus.mockRejectedValue(dbError);\n\n      await expect(\n        controller.getMyOnboardingStatus(TEST_USER_IDS.CLIENT)\n      ).rejects.toThrow(HttpException);\n    });\n\n    it('should handle invalid user IDs', async () => {\n      const invalidUserError = new Error('Invalid user ID format');\n      mockOnboardingService.getOnboardingStatus.mockRejectedValue(invalidUserError);\n\n      await expect(\n        controller.getMyOnboardingStatus('invalid-user-id')\n      ).rejects.toThrow(HttpException);\n    });\n\n    it('should handle onboarding service unavailable', async () => {\n      const serviceError = new Error('Onboarding service temporarily unavailable');\n      mockOnboardingService.markStepCompleted.mockRejectedValue(serviceError);\n\n      await expect(\n        controller.completeStep(TEST_USER_IDS.CLIENT, 'profileSetup')\n      ).rejects.toThrow(HttpException);\n    });\n  });\n\n  describe('Integration Tests', () => {\n    it('should handle complete onboarding workflow', async () => {\n      // Get initial status\n      mockOnboardingService.getOnboardingStatus.mockResolvedValue(mockOnboardingStatus);\n      const initialStatus = await controller.getMyOnboardingStatus(TEST_USER_IDS.CLIENT);\n      expect(initialStatus.isCompleted).toBe(false);\n\n      // Complete a step\n      const updatedStatus = {\n        ...mockOnboardingStatus,\n        completionPercentage: 80,\n      };\n      mockOnboardingService.markStepCompleted.mockResolvedValue(updatedStatus);\n      const stepResult = await controller.completeStep(TEST_USER_IDS.CLIENT, 'therapistSelection');\n      expect(stepResult.completionPercentage).toBeGreaterThan(initialStatus.completionPercentage);\n\n      // Validate onboarding\n      mockOnboardingService.validateOnboardingCompleteness.mockResolvedValue(mockValidationResult);\n      const validationResult = await controller.validateOnboarding(TEST_USER_IDS.CLIENT);\n      expect(validationResult).toHaveProperty('isValid');\n    });\n\n    it('should handle admin insights workflow', async () => {\n      // Get insights as admin\n      mockOnboardingService.getOnboardingInsights.mockResolvedValue(mockOnboardingInsights);\n      const insights = await controller.getOnboardingInsights();\n      expect(insights.totalUsers).toBeGreaterThan(0);\n      expect(insights.completionRate).toBeGreaterThan(0);\n\n      // Get specific user status as admin\n      mockOnboardingService.getOnboardingStatus.mockResolvedValue(mockOnboardingStatus);\n      const userStatus = await controller.getUserOnboardingStatus(TEST_USER_IDS.CLIENT);\n      expect(userStatus.userId).toBe(TEST_USER_IDS.CLIENT);\n    });\n\n    it('should validate onboarding progression logic', async () => {\n      // Test progression through multiple steps\n      const steps = ['profileSetup', 'preAssessment', 'therapistSelection'];\n      let currentPercentage = 0;\n\n      for (let i = 0; i < steps.length; i++) {\n        const newPercentage = Math.round(((i + 1) / steps.length) * 100);\n        mockOnboardingService.markStepCompleted.mockResolvedValue({\n          ...mockOnboardingStatus,\n          completionPercentage: newPercentage,\n        });\n\n        const result = await controller.completeStep(TEST_USER_IDS.CLIENT, steps[i]);\n        expect(result.completionPercentage).toBeGreaterThanOrEqual(currentPercentage);\n        currentPercentage = result.completionPercentage;\n      }\n    });\n\n    it('should handle edge cases in onboarding flow', async () => {\n      // Test completing already completed step\n      mockOnboardingService.markStepCompleted.mockResolvedValue(mockOnboardingStatus);\n      const result = await controller.completeStep(TEST_USER_IDS.CLIENT, 'profileSetup');\n      expect(result.steps.profileSetup.completed).toBe(true);\n\n      // Test validation for completed onboarding\n      mockOnboardingService.validateOnboardingCompleteness.mockResolvedValue({\n        isValid: true,\n        missingSteps: [],\n        recommendations: [],\n      });\n      const validation = await controller.validateOnboarding(TEST_USER_IDS.CLIENT);\n      expect(validation.isValid).toBe(true);\n      expect(validation.missingSteps).toHaveLength(0);\n    });\n  });\n});"],"version":3}