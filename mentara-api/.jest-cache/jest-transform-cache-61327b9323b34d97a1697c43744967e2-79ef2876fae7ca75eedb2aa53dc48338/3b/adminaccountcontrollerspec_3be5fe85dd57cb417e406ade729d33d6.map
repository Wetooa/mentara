{"file":"/home/wetooa/Documents/code/projects/mentara/mentara-api/src/admin/controllers/admin-account.controller.spec.ts","mappings":"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","names":[],"sources":["/home/wetooa/Documents/code/projects/mentara/mentara-api/src/admin/controllers/admin-account.controller.spec.ts"],"sourcesContent":["/**\n * Comprehensive Test Suite for AdminAccountController\n * Tests admin account management operations\n */\n\nimport { Test, TestingModule } from '@nestjs/testing';\nimport { HttpException, HttpStatus } from '@nestjs/common';\nimport { AdminAccountController } from './admin-account.controller';\nimport { AdminService } from '../admin.service';\nimport { JwtAuthGuard } from '../../auth/guards/jwt-auth.guard';\nimport { AdminAuthGuard } from '../../auth/guards/admin-auth.guard';\nimport {\n  SecurityGuardTestUtils,\n  RoleBasedTestUtils,\n} from '../../test-utils/auth-testing-helpers';\nimport {\n  MockBuilder,\n  TestDataGenerator,\n  TestAssertions,\n} from '../../test-utils/enhanced-test-helpers';\nimport { TEST_USER_IDS, TEST_EMAILS } from '../../test-utils/index';\n\ndescribe('AdminAccountController', () => {\n  let controller: AdminAccountController;\n  let adminService: AdminService;\n  let module: TestingModule;\n\n  // Mock AdminService\n  const mockAdminService = {\n    create: jest.fn(),\n    findAll: jest.fn(),\n    findOne: jest.fn(),\n    update: jest.fn(),\n    remove: jest.fn(),\n  };\n\n  // Mock Guards\n  const mockJwtAuthGuard = {\n    canActivate: jest.fn().mockReturnValue(true),\n  };\n\n  const mockAdminAuthGuard = {\n    canActivate: jest.fn().mockReturnValue(true),\n  };\n\n  // Test data\n  const mockAdmin = {\n    id: TEST_USER_IDS.ADMIN,\n    userId: TEST_USER_IDS.ADMIN,\n    email: TEST_EMAILS.ADMIN,\n    firstName: 'Admin',\n    lastName: 'User',\n    role: 'admin',\n    isActive: true,\n    createdAt: new Date('2024-02-14T10:00:00Z'),\n    updatedAt: new Date('2024-02-14T10:00:00Z'),\n  };\n\n  const createAdminDto = {\n    userId: 'user_123456789',\n    email: 'newadmin@example.com',\n    firstName: 'New',\n    lastName: 'Admin',\n  };\n\n  const updateAdminDto = {\n    firstName: 'Updated',\n    lastName: 'Admin',\n    isActive: false,\n  };\n\n  beforeEach(async () => {\n    module = await Test.createTestingModule({\n      controllers: [AdminAccountController],\n      providers: [\n        {\n          provide: AdminService,\n          useValue: mockAdminService,\n        },\n      ],\n    })\n      .overrideGuard(JwtAuthGuard)\n      .useValue(mockJwtAuthGuard)\n      .overrideGuard(AdminAuthGuard)\n      .useValue(mockAdminAuthGuard)\n      .compile();\n\n    controller = module.get<AdminAccountController>(AdminAccountController);\n    adminService = module.get<AdminService>(AdminService);\n  });\n\n  afterEach(() => {\n    jest.clearAllMocks();\n  });\n\n  describe('Controller Initialization', () => {\n    it('should be defined', () => {\n      expect(controller).toBeDefined();\n    });\n\n    it('should have adminService injected', () => {\n      expect(adminService).toBeDefined();\n    });\n  });\n\n  describe('Security Guards', () => {\n    it('should be protected by JwtAuthGuard and AdminAuthGuard', () => {\n      const guards = Reflect.getMetadata('__guards__', AdminAccountController);\n      expect(guards).toContain(JwtAuthGuard);\n      expect(guards).toContain(AdminAuthGuard);\n    });\n\n    it('should have proper route decorators', () => {\n      const controllerMetadata = Reflect.getMetadata(\n        'path',\n        AdminAccountController,\n      );\n      expect(controllerMetadata).toBe('admin/accounts');\n    });\n\n    it('should require admin role for all endpoints', () => {\n      const adminOnlyMethods = [\n        'create',\n        'findAll',\n        'findOne',\n        'update',\n        'remove',\n      ];\n      adminOnlyMethods.forEach((method) => {\n        const metadata = Reflect.getMetadata('roles', controller[method]);\n        expect(metadata).toEqual(['admin']);\n      });\n    });\n  });\n\n  describe('POST /admin/accounts', () => {\n    it('should create admin successfully', async () => {\n      mockAdminService.create.mockResolvedValue(mockAdmin);\n\n      const result = await controller.create(\n        createAdminDto,\n        TEST_USER_IDS.ADMIN,\n      );\n\n      expect(result).toEqual(mockAdmin);\n      expect(adminService.create).toHaveBeenCalledWith(createAdminDto);\n    });\n\n    it('should handle service errors during creation', async () => {\n      const serviceError = new Error('User already exists');\n      mockAdminService.create.mockRejectedValue(serviceError);\n\n      await expect(\n        controller.create(createAdminDto, TEST_USER_IDS.ADMIN),\n      ).rejects.toThrow(HttpException);\n    });\n\n    it('should validate admin creation with proper DTO', async () => {\n      mockAdminService.create.mockResolvedValue(mockAdmin);\n\n      const validDto = {\n        userId: 'user_123456789',\n        email: 'test@example.com',\n        firstName: 'Test',\n        lastName: 'Admin',\n      };\n\n      const result = await controller.create(validDto, TEST_USER_IDS.ADMIN);\n\n      expect(result).toEqual(mockAdmin);\n      expect(adminService.create).toHaveBeenCalledWith(validDto);\n    });\n  });\n\n  describe('GET /admin/accounts', () => {\n    it('should find all admins successfully', async () => {\n      const admins = [mockAdmin];\n      mockAdminService.findAll.mockResolvedValue(admins);\n\n      const result = await controller.findAll(TEST_USER_IDS.ADMIN);\n\n      expect(result).toEqual(admins);\n      expect(adminService.findAll).toHaveBeenCalled();\n    });\n\n    it('should handle empty admin list', async () => {\n      mockAdminService.findAll.mockResolvedValue([]);\n\n      const result = await controller.findAll(TEST_USER_IDS.ADMIN);\n\n      expect(result).toEqual([]);\n    });\n\n    it('should handle service errors', async () => {\n      const serviceError = new Error('Database connection failed');\n      mockAdminService.findAll.mockRejectedValue(serviceError);\n\n      await expect(controller.findAll(TEST_USER_IDS.ADMIN)).rejects.toThrow(\n        HttpException,\n      );\n    });\n  });\n\n  describe('GET /admin/accounts/:id', () => {\n    it('should find one admin successfully', async () => {\n      mockAdminService.findOne.mockResolvedValue(mockAdmin);\n\n      const result = await controller.findOne('admin_123', TEST_USER_IDS.ADMIN);\n\n      expect(result).toEqual(mockAdmin);\n      expect(adminService.findOne).toHaveBeenCalledWith('admin_123');\n    });\n\n    it('should throw NOT_FOUND when admin does not exist', async () => {\n      mockAdminService.findOne.mockResolvedValue(null);\n\n      await expect(\n        controller.findOne('nonexistent_admin', TEST_USER_IDS.ADMIN),\n      ).rejects.toThrow(\n        new HttpException('Admin not found', HttpStatus.NOT_FOUND),\n      );\n    });\n\n    it('should handle service errors', async () => {\n      const serviceError = new Error('Database error');\n      mockAdminService.findOne.mockRejectedValue(serviceError);\n\n      await expect(\n        controller.findOne('admin_123', TEST_USER_IDS.ADMIN),\n      ).rejects.toThrow(HttpException);\n    });\n\n    it('should pass through HTTP exceptions from service', async () => {\n      const httpError = new HttpException('Forbidden', HttpStatus.FORBIDDEN);\n      mockAdminService.findOne.mockRejectedValue(httpError);\n\n      await expect(\n        controller.findOne('admin_123', TEST_USER_IDS.ADMIN),\n      ).rejects.toThrow(httpError);\n    });\n  });\n\n  describe('PATCH /admin/accounts/:id', () => {\n    it('should update admin successfully', async () => {\n      const updatedAdmin = { ...mockAdmin, ...updateAdminDto };\n      mockAdminService.update.mockResolvedValue(updatedAdmin);\n\n      const result = await controller.update(\n        'admin_123',\n        updateAdminDto,\n        TEST_USER_IDS.ADMIN,\n      );\n\n      expect(result).toEqual(updatedAdmin);\n      expect(adminService.update).toHaveBeenCalledWith(\n        'admin_123',\n        updateAdminDto,\n      );\n    });\n\n    it('should handle service errors during update', async () => {\n      const serviceError = new Error('Admin not found');\n      mockAdminService.update.mockRejectedValue(serviceError);\n\n      await expect(\n        controller.update('admin_123', updateAdminDto, TEST_USER_IDS.ADMIN),\n      ).rejects.toThrow(HttpException);\n    });\n\n    it('should handle partial updates', async () => {\n      const partialUpdate = { firstName: 'UpdatedFirst' };\n      const updatedAdmin = { ...mockAdmin, firstName: 'UpdatedFirst' };\n      mockAdminService.update.mockResolvedValue(updatedAdmin);\n\n      const result = await controller.update(\n        'admin_123',\n        partialUpdate,\n        TEST_USER_IDS.ADMIN,\n      );\n\n      expect(result).toEqual(updatedAdmin);\n      expect(adminService.update).toHaveBeenCalledWith(\n        'admin_123',\n        partialUpdate,\n      );\n    });\n  });\n\n  describe('DELETE /admin/accounts/:id', () => {\n    it('should remove admin successfully', async () => {\n      mockAdminService.remove.mockResolvedValue(undefined);\n\n      const result = await controller.remove('admin_123', TEST_USER_IDS.ADMIN);\n\n      expect(result).toEqual({ message: 'Admin user deleted successfully' });\n      expect(adminService.remove).toHaveBeenCalledWith('admin_123');\n    });\n\n    it('should prevent self-deletion', async () => {\n      await expect(\n        controller.remove(TEST_USER_IDS.ADMIN, TEST_USER_IDS.ADMIN),\n      ).rejects.toThrow(\n        new HttpException(\n          'Cannot delete your own admin account',\n          HttpStatus.BAD_REQUEST,\n        ),\n      );\n\n      expect(adminService.remove).not.toHaveBeenCalled();\n    });\n\n    it('should handle service errors during removal', async () => {\n      const serviceError = new Error('Admin not found');\n      mockAdminService.remove.mockRejectedValue(serviceError);\n\n      await expect(\n        controller.remove('admin_123', TEST_USER_IDS.ADMIN),\n      ).rejects.toThrow(HttpException);\n    });\n\n    it('should pass through HTTP exceptions from service', async () => {\n      const httpError = new HttpException(\n        'Cannot delete admin',\n        HttpStatus.CONFLICT,\n      );\n      mockAdminService.remove.mockRejectedValue(httpError);\n\n      await expect(\n        controller.remove('admin_123', TEST_USER_IDS.ADMIN),\n      ).rejects.toThrow(httpError);\n    });\n  });\n\n  describe('Response Format Validation', () => {\n    it('should return properly formatted admin response', async () => {\n      mockAdminService.create.mockResolvedValue(mockAdmin);\n\n      const result = await controller.create(\n        createAdminDto,\n        TEST_USER_IDS.ADMIN,\n      );\n\n      TestAssertions.expectValidEntity(result, [\n        'id',\n        'userId',\n        'email',\n        'firstName',\n        'lastName',\n      ]);\n      expect(result.role).toBe('admin');\n      expect(typeof result.isActive).toBe('boolean');\n      expect(result.createdAt).toBeInstanceOf(Date);\n    });\n\n    it('should return properly formatted admin list', async () => {\n      const admins = [mockAdmin];\n      mockAdminService.findAll.mockResolvedValue(admins);\n\n      const result = await controller.findAll(TEST_USER_IDS.ADMIN);\n\n      expect(Array.isArray(result)).toBe(true);\n      result.forEach((admin) => {\n        TestAssertions.expectValidEntity(admin, ['id', 'userId', 'email']);\n        expect(admin.role).toBe('admin');\n      });\n    });\n\n    it('should return properly formatted deletion response', async () => {\n      mockAdminService.remove.mockResolvedValue(undefined);\n\n      const result = await controller.remove('admin_123', TEST_USER_IDS.ADMIN);\n\n      expect(result).toHaveProperty('message');\n      expect(typeof result.message).toBe('string');\n      expect(result.message).toContain('deleted successfully');\n    });\n  });\n\n  describe('Error Handling', () => {\n    it('should handle validation errors', async () => {\n      const validationError = new Error('Validation failed');\n      mockAdminService.create.mockRejectedValue(validationError);\n\n      await expect(\n        controller.create(createAdminDto, TEST_USER_IDS.ADMIN),\n      ).rejects.toThrow(HttpException);\n    });\n\n    it('should handle duplicate admin creation', async () => {\n      const duplicateError = new Error('Admin already exists');\n      mockAdminService.create.mockRejectedValue(duplicateError);\n\n      await expect(\n        controller.create(createAdminDto, TEST_USER_IDS.ADMIN),\n      ).rejects.toThrow(HttpException);\n    });\n\n    it('should handle database connection errors', async () => {\n      const dbError = new Error('Database connection failed');\n      mockAdminService.findAll.mockRejectedValue(dbError);\n\n      await expect(controller.findAll(TEST_USER_IDS.ADMIN)).rejects.toThrow(\n        HttpException,\n      );\n    });\n  });\n\n  describe('Integration Tests', () => {\n    it('should handle complete admin lifecycle', async () => {\n      // Create admin\n      mockAdminService.create.mockResolvedValue(mockAdmin);\n      const createResult = await controller.create(\n        createAdminDto,\n        TEST_USER_IDS.ADMIN,\n      );\n      expect(createResult.id).toBeDefined();\n\n      // Find created admin\n      mockAdminService.findOne.mockResolvedValue(mockAdmin);\n      const findResult = await controller.findOne(\n        mockAdmin.id,\n        TEST_USER_IDS.ADMIN,\n      );\n      expect(findResult.id).toBe(mockAdmin.id);\n\n      // Update admin\n      const updatedAdmin = { ...mockAdmin, firstName: 'Updated' };\n      mockAdminService.update.mockResolvedValue(updatedAdmin);\n      const updateResult = await controller.update(\n        mockAdmin.id,\n        { firstName: 'Updated' },\n        TEST_USER_IDS.ADMIN,\n      );\n      expect(updateResult.firstName).toBe('Updated');\n\n      // List all admins\n      mockAdminService.findAll.mockResolvedValue([updatedAdmin]);\n      const listResult = await controller.findAll(TEST_USER_IDS.ADMIN);\n      expect(listResult).toHaveLength(1);\n\n      // Remove admin\n      mockAdminService.remove.mockResolvedValue(undefined);\n      const removeResult = await controller.remove(\n        mockAdmin.id,\n        TEST_USER_IDS.ADMIN,\n      );\n      expect(removeResult.message).toContain('deleted successfully');\n    });\n\n    it('should validate admin management permissions', async () => {\n      // All operations should require admin authentication\n      const operations = [\n        () => controller.create(createAdminDto, TEST_USER_IDS.ADMIN),\n        () => controller.findAll(TEST_USER_IDS.ADMIN),\n        () => controller.findOne('admin_123', TEST_USER_IDS.ADMIN),\n        () =>\n          controller.update('admin_123', updateAdminDto, TEST_USER_IDS.ADMIN),\n        () => controller.remove('admin_123', TEST_USER_IDS.ADMIN),\n      ];\n\n      // Mock successful responses for permission validation\n      mockAdminService.create.mockResolvedValue(mockAdmin);\n      mockAdminService.findAll.mockResolvedValue([mockAdmin]);\n      mockAdminService.findOne.mockResolvedValue(mockAdmin);\n      mockAdminService.update.mockResolvedValue(mockAdmin);\n      mockAdminService.remove.mockResolvedValue(undefined);\n\n      // All operations should be accessible with admin auth\n      for (const operation of operations) {\n        await expect(operation()).resolves.toBeDefined();\n      }\n    });\n  });\n});\n"],"version":3}