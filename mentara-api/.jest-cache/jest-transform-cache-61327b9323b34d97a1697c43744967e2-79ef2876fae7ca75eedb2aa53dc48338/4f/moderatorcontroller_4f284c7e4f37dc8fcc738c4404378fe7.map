{"version":3,"names":["common_1","cov_2ic91wlx0l","s","require","moderator_service_1","client_1","jwt_auth_guard_1","ModeratorController","moderatorService","constructor","f","findAll","error","HttpException","Error","b","message","HttpStatus","INTERNAL_SERVER_ERROR","findOne","id","moderator","NOT_FOUND","create","data","update","remove","exports","__decorate","Get","Promise","_b","Object","__param","Param","_c","Post","Body","Prisma","ModeratorCreateInput","_d","_e","Put","ModeratorUpdateInput","_f","_g","Delete","_h","Controller","UseGuards","JwtAuthGuard","ModeratorService","_a"],"sources":["/home/wetooa/Documents/code/projects/mentara/mentara-api/src/moderator/moderator.controller.ts"],"sourcesContent":["import {\n  Controller,\n  Get,\n  Post,\n  Put,\n  Delete,\n  Param,\n  Body,\n  HttpException,\n  HttpStatus,\n  UseGuards,\n} from '@nestjs/common';\nimport { ModeratorService } from './moderator.service';\nimport { Moderator, Prisma } from '@prisma/client';\nimport { JwtAuthGuard } from 'src/auth/guards/jwt-auth.guard';\n\n@Controller('moderator')\n@UseGuards(JwtAuthGuard)\nexport class ModeratorController {\n  constructor(private readonly moderatorService: ModeratorService) {}\n\n  @Get()\n  async findAll(): Promise<Moderator[]> {\n    try {\n      return await this.moderatorService.findAll();\n    } catch (error) {\n      throw new HttpException(\n        `Failed to fetch moderators: ${error instanceof Error ? error.message : 'Unknown error'}`,\n        HttpStatus.INTERNAL_SERVER_ERROR,\n      );\n    }\n  }\n\n  @Get(':id')\n  async findOne(@Param('id') id: string): Promise<Moderator> {\n    try {\n      const moderator = await this.moderatorService.findOne(id);\n      if (!moderator) {\n        throw new HttpException('Moderator not found', HttpStatus.NOT_FOUND);\n      }\n      return moderator;\n    } catch (error) {\n      if (error instanceof HttpException) {\n        throw error;\n      }\n      throw new HttpException(\n        `Failed to fetch moderator: ${error instanceof Error ? error.message : 'Unknown error'}`,\n        HttpStatus.INTERNAL_SERVER_ERROR,\n      );\n    }\n  }\n\n  @Post()\n  async create(@Body() data: Prisma.ModeratorCreateInput): Promise<Moderator> {\n    try {\n      return await this.moderatorService.create(data);\n    } catch (error) {\n      throw new HttpException(\n        `Failed to create moderator: ${error instanceof Error ? error.message : 'Unknown error'}`,\n        HttpStatus.INTERNAL_SERVER_ERROR,\n      );\n    }\n  }\n\n  @Put(':id')\n  async update(\n    @Param('id') id: string,\n    @Body() data: Prisma.ModeratorUpdateInput,\n  ): Promise<Moderator> {\n    try {\n      return await this.moderatorService.update(id, data);\n    } catch (error) {\n      throw new HttpException(\n        `Failed to update moderator: ${error instanceof Error ? error.message : 'Unknown error'}`,\n        HttpStatus.INTERNAL_SERVER_ERROR,\n      );\n    }\n  }\n\n  @Delete(':id')\n  async remove(@Param('id') id: string): Promise<Moderator> {\n    try {\n      return await this.moderatorService.remove(id);\n    } catch (error) {\n      throw new HttpException(\n        `Failed to delete moderator: ${error instanceof Error ? error.message : 'Unknown error'}`,\n        HttpStatus.INTERNAL_SERVER_ERROR,\n      );\n    }\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}