6031d6d0faf22bb7f4e507b74ea7216f
"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.MeetingsModule = void 0;
const common_1 = require("@nestjs/common");
const jwt_1 = require("@nestjs/jwt");
const meetings_gateway_1 = require("./meetings.gateway");
const meetings_service_1 = require("./meetings.service");
const meetings_controller_1 = require("./meetings.controller");
const prisma_client_provider_1 = require("../providers/prisma-client.provider");
const event_bus_service_1 = require("../common/events/event-bus.service");
const websocket_auth_service_1 = require("../messaging/services/websocket-auth.service");
let MeetingsModule = class MeetingsModule {
};
exports.MeetingsModule = MeetingsModule;
exports.MeetingsModule = MeetingsModule = __decorate([
    (0, common_1.Module)({
        imports: [
            jwt_1.JwtModule.register({
                secret: process.env.JWT_SECRET || 'fallback-secret-key',
                signOptions: { expiresIn: '24h' },
            }),
        ],
        controllers: [meetings_controller_1.MeetingsController],
        providers: [
            meetings_gateway_1.MeetingsGateway,
            meetings_service_1.MeetingsService,
            prisma_client_provider_1.PrismaService,
            event_bus_service_1.EventBusService,
            websocket_auth_service_1.WebSocketAuthService,
        ],
        exports: [meetings_gateway_1.MeetingsGateway, meetings_service_1.MeetingsService],
    })
], MeetingsModule);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvd2V0b29hL0RvY3VtZW50cy9jb2RlL3Byb2plY3RzL21lbnRhcmEvbWVudGFyYS1hcGkvc3JjL21lZXRpbmdzL21lZXRpbmdzLm1vZHVsZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSwyQ0FBd0M7QUFDeEMscUNBQXdDO0FBQ3hDLHlEQUFxRDtBQUNyRCx5REFBcUQ7QUFDckQsK0RBQTJEO0FBQzNELGdGQUFvRTtBQUNwRSwwRUFBcUU7QUFDckUseUZBQW9GO0FBbUI3RSxJQUFNLGNBQWMsR0FBcEIsTUFBTSxjQUFjO0NBQUcsQ0FBQTtBQUFqQix3Q0FBYzt5QkFBZCxjQUFjO0lBakIxQixJQUFBLGVBQU0sRUFBQztRQUNOLE9BQU8sRUFBRTtZQUNQLGVBQVMsQ0FBQyxRQUFRLENBQUM7Z0JBQ2pCLE1BQU0sRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLFVBQVUsSUFBSSxxQkFBcUI7Z0JBQ3ZELFdBQVcsRUFBRSxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQUU7YUFDbEMsQ0FBQztTQUNIO1FBQ0QsV0FBVyxFQUFFLENBQUMsd0NBQWtCLENBQUM7UUFDakMsU0FBUyxFQUFFO1lBQ1Qsa0NBQWU7WUFDZixrQ0FBZTtZQUNmLHNDQUFhO1lBQ2IsbUNBQWU7WUFDZiw2Q0FBb0I7U0FDckI7UUFDRCxPQUFPLEVBQUUsQ0FBQyxrQ0FBZSxFQUFFLGtDQUFlLENBQUM7S0FDNUMsQ0FBQztHQUNXLGNBQWMsQ0FBRyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvaG9tZS93ZXRvb2EvRG9jdW1lbnRzL2NvZGUvcHJvamVjdHMvbWVudGFyYS9tZW50YXJhLWFwaS9zcmMvbWVldGluZ3MvbWVldGluZ3MubW9kdWxlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1vZHVsZSB9IGZyb20gJ0BuZXN0anMvY29tbW9uJztcbmltcG9ydCB7IEp3dE1vZHVsZSB9IGZyb20gJ0BuZXN0anMvand0JztcbmltcG9ydCB7IE1lZXRpbmdzR2F0ZXdheSB9IGZyb20gJy4vbWVldGluZ3MuZ2F0ZXdheSc7XG5pbXBvcnQgeyBNZWV0aW5nc1NlcnZpY2UgfSBmcm9tICcuL21lZXRpbmdzLnNlcnZpY2UnO1xuaW1wb3J0IHsgTWVldGluZ3NDb250cm9sbGVyIH0gZnJvbSAnLi9tZWV0aW5ncy5jb250cm9sbGVyJztcbmltcG9ydCB7IFByaXNtYVNlcnZpY2UgfSBmcm9tICcuLi9wcm92aWRlcnMvcHJpc21hLWNsaWVudC5wcm92aWRlcic7XG5pbXBvcnQgeyBFdmVudEJ1c1NlcnZpY2UgfSBmcm9tICcuLi9jb21tb24vZXZlbnRzL2V2ZW50LWJ1cy5zZXJ2aWNlJztcbmltcG9ydCB7IFdlYlNvY2tldEF1dGhTZXJ2aWNlIH0gZnJvbSAnLi4vbWVzc2FnaW5nL3NlcnZpY2VzL3dlYnNvY2tldC1hdXRoLnNlcnZpY2UnO1xuXG5ATW9kdWxlKHtcbiAgaW1wb3J0czogW1xuICAgIEp3dE1vZHVsZS5yZWdpc3Rlcih7XG4gICAgICBzZWNyZXQ6IHByb2Nlc3MuZW52LkpXVF9TRUNSRVQgfHwgJ2ZhbGxiYWNrLXNlY3JldC1rZXknLFxuICAgICAgc2lnbk9wdGlvbnM6IHsgZXhwaXJlc0luOiAnMjRoJyB9LFxuICAgIH0pLFxuICBdLFxuICBjb250cm9sbGVyczogW01lZXRpbmdzQ29udHJvbGxlcl0sXG4gIHByb3ZpZGVyczogW1xuICAgIE1lZXRpbmdzR2F0ZXdheSxcbiAgICBNZWV0aW5nc1NlcnZpY2UsXG4gICAgUHJpc21hU2VydmljZSxcbiAgICBFdmVudEJ1c1NlcnZpY2UsXG4gICAgV2ViU29ja2V0QXV0aFNlcnZpY2UsXG4gIF0sXG4gIGV4cG9ydHM6IFtNZWV0aW5nc0dhdGV3YXksIE1lZXRpbmdzU2VydmljZV0sXG59KVxuZXhwb3J0IGNsYXNzIE1lZXRpbmdzTW9kdWxlIHt9XG4iXSwidmVyc2lvbiI6M30=