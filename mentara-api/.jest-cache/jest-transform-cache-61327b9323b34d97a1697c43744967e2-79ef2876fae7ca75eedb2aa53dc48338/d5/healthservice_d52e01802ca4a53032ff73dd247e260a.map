{"version":3,"names":["cov_zdbmlc1s","actualCoverage","common_1","s","require","prisma_client_provider_1","os","process","HealthService","HealthService_1","prisma","logger","Logger","name","startTime","Date","now","constructor","f","getBasicHealth","status","timestamp","toISOString","uptime","Math","floor","version","b","env","npm_package_version","getDetailedHealth","dbHealth","servicesHealth","systemMetrics","Promise","all","getDatabaseHealth","getServicesHealth","getSystemMetrics","hasErrors","Object","values","some","service","database","services","system","errors","error","start","$queryRaw","responseTime","connections","active","idle","total","queryStats","totalQueries","averageQueryTime","slowQueries","lastBackup","Error","message","supabase","checkSupabaseHealth","stripe","checkStripeHealth","emailService","checkEmailServiceHealth","aiService","checkAiServiceHealth","resolve","setTimeout","region","webhooksProcessed","emailsSent","failureRate","assessmentsProcessed","memoryUsage","systemMemory","used","heapUsed","free","freemem","totalmem","percentage","cpu","usage","cpuUsage","loadAverage","loadavg","cores","cpus","length","disk","network","bytesReceived","bytesSent","packetsReceived","packetsSent","nodejs","pid","memory","getAdminHealthDashboard","detailedHealth","alerts","severity","resolved","performance","averageResponseTime","requestsPerMinute","activeConnections","errorCount","overview","lastRestart","errorRate","resources","storage","exports","__decorate","Injectable","PrismaService","_a"],"sources":["/home/wetooa/Documents/code/projects/mentara/mentara-api/src/health/health.service.ts"],"sourcesContent":["import { Injectable, Logger } from '@nestjs/common';\nimport { PrismaService } from '../providers/prisma-client.provider';\nimport * as os from 'os';\nimport * as process from 'process';\n\n@Injectable()\nexport class HealthService {\n  private readonly logger = new Logger(HealthService.name);\n  private readonly startTime = Date.now();\n\n  constructor(private readonly prisma: PrismaService) {}\n\n  async getBasicHealth() {\n    return {\n      status: 'ok',\n      timestamp: new Date().toISOString(),\n      uptime: Math.floor((Date.now() - this.startTime) / 1000),\n      version: process.env.npm_package_version || '1.0.0',\n    };\n  }\n\n  async getDetailedHealth() {\n    try {\n      const [dbHealth, servicesHealth, systemMetrics] = await Promise.all([\n        this.getDatabaseHealth(),\n        this.getServicesHealth(),\n        this.getSystemMetrics(),\n      ]);\n\n      const hasErrors =\n        dbHealth.status === 'disconnected' ||\n        Object.values(servicesHealth).some(\n          (service: any) => service.status === 'error',\n        );\n\n      return {\n        status: hasErrors ? 'error' : 'ok',\n        timestamp: new Date().toISOString(),\n        uptime: Math.floor((Date.now() - this.startTime) / 1000),\n        version: process.env.npm_package_version || '1.0.0',\n        database: dbHealth,\n        services: servicesHealth,\n        system: systemMetrics,\n        errors: hasErrors ? ['One or more services are unhealthy'] : [],\n      };\n    } catch (error) {\n      this.logger.error('Failed to get detailed health', error);\n      return {\n        status: 'error',\n        timestamp: new Date().toISOString(),\n        errors: ['Failed to retrieve health information'],\n      };\n    }\n  }\n\n  async getDatabaseHealth() {\n    try {\n      const start = Date.now();\n\n      // Test database connectivity with a simple query\n      await this.prisma.$queryRaw`SELECT 1`;\n\n      const responseTime = Date.now() - start;\n\n      // Get database stats (mock data for demonstration)\n      const connections = {\n        active: 5,\n        idle: 3,\n        total: 10,\n      };\n\n      const queryStats = {\n        totalQueries: 1543,\n        averageQueryTime: 45,\n        slowQueries: 2,\n      };\n\n      return {\n        status: 'connected',\n        responseTime,\n        connections,\n        queryStats,\n        lastBackup: new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString(), // Mock: 24 hours ago\n      };\n    } catch (error) {\n      this.logger.error('Database health check failed', error);\n      return {\n        status: 'disconnected',\n        error: error instanceof Error ? error.message : 'Unknown error',\n        timestamp: new Date().toISOString(),\n      };\n    }\n  }\n\n  async getServicesHealth() {\n    const services = {\n      supabase: await this.checkSupabaseHealth(),\n      stripe: await this.checkStripeHealth(),\n      emailService: await this.checkEmailServiceHealth(),\n      aiService: await this.checkAiServiceHealth(),\n    };\n\n    return services;\n  }\n\n  private async checkSupabaseHealth() {\n    try {\n      const start = Date.now();\n      // Mock Supabase health check\n      // In a real implementation, you'd ping Supabase API\n      await new Promise((resolve) => setTimeout(resolve, 50)); // Simulate API call\n      const responseTime = Date.now() - start;\n\n      return {\n        status: 'ok',\n        responseTime,\n        region: 'us-east-1',\n      };\n    } catch (error) {\n      return {\n        status: 'error',\n        error: error instanceof Error ? error.message : 'Unknown error',\n      };\n    }\n  }\n\n  private async checkStripeHealth() {\n    try {\n      const start = Date.now();\n      // Mock Stripe health check\n      await new Promise((resolve) => setTimeout(resolve, 30));\n      const responseTime = Date.now() - start;\n\n      return {\n        status: 'ok',\n        responseTime,\n        webhooksProcessed: 1247,\n      };\n    } catch (error) {\n      return {\n        status: 'error',\n        error: error instanceof Error ? error.message : 'Unknown error',\n      };\n    }\n  }\n\n  private async checkEmailServiceHealth() {\n    try {\n      const start = Date.now();\n      // Mock email service health check\n      await new Promise((resolve) => setTimeout(resolve, 25));\n      const responseTime = Date.now() - start;\n\n      return {\n        status: 'ok',\n        responseTime,\n        emailsSent: 892,\n        failureRate: 0.02,\n      };\n    } catch (error) {\n      return {\n        status: 'error',\n        error: error instanceof Error ? error.message : 'Unknown error',\n      };\n    }\n  }\n\n  private async checkAiServiceHealth() {\n    try {\n      const start = Date.now();\n      // Mock AI service health check\n      await new Promise((resolve) => setTimeout(resolve, 75));\n      const responseTime = Date.now() - start;\n\n      return {\n        status: 'ok',\n        responseTime,\n        assessmentsProcessed: 234,\n      };\n    } catch (error) {\n      return {\n        status: 'error',\n        error: error instanceof Error ? error.message : 'Unknown error',\n      };\n    }\n  }\n\n  async getSystemMetrics() {\n    const memoryUsage = process.memoryUsage();\n    const systemMemory = {\n      used: memoryUsage.heapUsed,\n      free: os.freemem(),\n      total: os.totalmem(),\n      percentage: ((os.totalmem() - os.freemem()) / os.totalmem()) * 100,\n    };\n\n    const cpu = {\n      usage: process.cpuUsage(),\n      loadAverage: os.loadavg(),\n      cores: os.cpus().length,\n    };\n\n    // Mock disk usage (in a real implementation, you'd use a library like 'diskusage')\n    const disk = {\n      used: 85 * 1024 * 1024 * 1024, // 85GB\n      free: 15 * 1024 * 1024 * 1024, // 15GB\n      total: 100 * 1024 * 1024 * 1024, // 100GB\n      percentage: 85,\n    };\n\n    // Mock network stats\n    const network = {\n      bytesReceived: 1024 * 1024 * 150, // 150MB\n      bytesSent: 1024 * 1024 * 200, // 200MB\n      packetsReceived: 50000,\n      packetsSent: 45000,\n    };\n\n    const nodejs = {\n      version: process.version,\n      uptime: process.uptime(),\n      pid: process.pid,\n    };\n\n    return {\n      memory: systemMemory,\n      cpu,\n      disk,\n      network,\n      nodejs,\n    };\n  }\n\n  async getAdminHealthDashboard() {\n    const [detailedHealth, systemMetrics] = await Promise.all([\n      this.getDetailedHealth(),\n      this.getSystemMetrics(),\n    ]);\n\n    // Mock alerts for admin dashboard\n    const alerts = [\n      {\n        severity: 'medium',\n        message: 'High memory usage detected (>80%)',\n        timestamp: new Date(Date.now() - 15 * 60 * 1000).toISOString(), // 15 minutes ago\n        resolved: false,\n      },\n      {\n        severity: 'low',\n        message: 'Database query time slightly elevated',\n        timestamp: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(), // 2 hours ago\n        resolved: true,\n      },\n    ];\n\n    const performance = {\n      averageResponseTime: 245, // ms\n      requestsPerMinute: 127,\n      activeConnections: 23,\n      errorCount: 3,\n    };\n\n    return {\n      overview: {\n        status: detailedHealth.status,\n        uptime: detailedHealth.uptime,\n        lastRestart: new Date(\n          Date.now() - (detailedHealth.uptime || 0) * 1000,\n        ).toISOString(),\n        errorRate: 0.12, // 0.12%\n      },\n      alerts,\n      performance,\n      resources: {\n        memory: systemMetrics.memory,\n        cpu: systemMetrics.cpu,\n        database: detailedHealth.database,\n        storage: systemMetrics.disk,\n      },\n    };\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}