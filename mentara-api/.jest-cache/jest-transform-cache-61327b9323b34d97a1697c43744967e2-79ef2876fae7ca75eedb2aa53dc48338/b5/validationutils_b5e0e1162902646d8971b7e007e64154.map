{"file":"/home/wetooa/Documents/code/projects/mentara/mentara-api/src/auth/validation/validation.utils.ts","mappings":";AAAA;;;GAGG;;AAgBH,wCAqBC;AAGD,wDAiBC;AAGD,kDAEC;AAGD,0DAMC;AAxDD,8BAA8B;AAC9B,SAAgB,cAAc,CAC5B,MAAsB,EACtB,IAAa;IAEb,MAAM,MAAM,GAAG,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;IAEtC,IAAI,MAAM,CAAC,OAAO,EAAE,CAAC;QACnB,OAAO;YACL,OAAO,EAAE,IAAI;YACb,IAAI,EAAE,MAAM,CAAC,IAAI;SAClB,CAAC;IACJ,CAAC;IAED,OAAO;QACL,OAAO,EAAE,KAAK;QACd,MAAM,EAAE,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;YACxC,IAAI,EAAE,KAAK,CAAC,IAAI;YAChB,OAAO,EAAE,KAAK,CAAC,OAAO;YACtB,IAAI,EAAE,KAAK,CAAC,IAAI;SACjB,CAAC,CAAC;KACJ,CAAC;AACJ,CAAC;AAED,uCAAuC;AACvC,SAAgB,sBAAsB,CACpC,MAIE;IAEF,IAAI,CAAC,MAAM,IAAI,MAAM,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;QACnC,OAAO,mBAAmB,CAAC;IAC7B,CAAC;IAED,OAAO,MAAM;SACV,GAAG,CAAC,KAAK,CAAC,EAAE;QACX,MAAM,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAClC,OAAO,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,KAAK,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC;IAC5D,CAAC,CAAC;SACD,IAAI,CAAC,IAAI,CAAC,CAAC;AAChB,CAAC;AAED,iCAAiC;AACjC,SAAgB,mBAAmB,CAAI,MAA2B;IAChE,OAAO,CAAC,MAAM,CAAC,OAAO,IAAI,CAAC,CAAC,MAAM,CAAC,MAAM,IAAI,MAAM,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC;AACxE,CAAC;AAED,qCAAqC;AACrC,SAAgB,uBAAuB,CAAI,MAA2B;IACpE,IAAI,CAAC,MAAM,CAAC,MAAM,IAAI,MAAM,CAAC,MAAM,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;QACjD,OAAO,SAAS,CAAC;IACnB,CAAC;IAED,OAAO,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;AAClC,CAAC","names":[],"sources":["/home/wetooa/Documents/code/projects/mentara/mentara-api/src/auth/validation/validation.utils.ts"],"sourcesContent":["/**\n * Validation utilities for auth module\n * Simple validation functions for auth operations\n */\n\nimport { z } from 'zod';\n\n// Validation result type\nexport interface ValidationResult<T> {\n  success: boolean;\n  data?: T;\n  errors?: Array<{\n    path: (string | number)[];\n    message: string;\n    code: string;\n  }>;\n}\n\n// Generic validation function\nexport function validateSchema<T>(\n  schema: z.ZodSchema<T>,\n  data: unknown\n): ValidationResult<T> {\n  const result = schema.safeParse(data);\n  \n  if (result.success) {\n    return {\n      success: true,\n      data: result.data\n    };\n  }\n  \n  return {\n    success: false,\n    errors: result.error.errors.map(error => ({\n      path: error.path,\n      message: error.message,\n      code: error.code\n    }))\n  };\n}\n\n// Format validation errors for display\nexport function formatValidationErrors(\n  errors?: Array<{\n    path: (string | number)[];\n    message: string;\n    code: string;\n  }>\n): string {\n  if (!errors || errors.length === 0) {\n    return 'Validation failed';\n  }\n\n  return errors\n    .map(error => {\n      const path = error.path.join('.');\n      return path ? `${path}: ${error.message}` : error.message;\n    })\n    .join(', ');\n}\n\n// Check if validation has errors\nexport function hasValidationErrors<T>(result: ValidationResult<T>): boolean {\n  return !result.success && !!result.errors && result.errors.length > 0;\n}\n\n// Get first validation error message\nexport function getFirstValidationError<T>(result: ValidationResult<T>): string | undefined {\n  if (!result.errors || result.errors.length === 0) {\n    return undefined;\n  }\n  \n  return result.errors[0].message;\n}"],"version":3}