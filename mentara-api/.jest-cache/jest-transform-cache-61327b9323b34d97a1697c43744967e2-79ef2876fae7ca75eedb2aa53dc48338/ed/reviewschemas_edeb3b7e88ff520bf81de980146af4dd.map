{"file":"/home/wetooa/Documents/code/projects/mentara/mentara-api/src/reviews/validation/review.schemas.ts","mappings":"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","names":[],"sources":["/home/wetooa/Documents/code/projects/mentara/mentara-api/src/reviews/validation/review.schemas.ts"],"sourcesContent":["/**\n * Reviews Module Validation Schemas - Zod schemas for review operations\n * Separated from types for clean architecture\n */\n\nimport { z } from 'zod';\n\n// Rating validation helper\nconst ratingSchema = z\n  .number()\n  .int()\n  .min(1, 'Rating must be at least 1')\n  .max(5, 'Rating must be at most 5');\n\n// Category ratings schema\nconst categoriesSchema = z.object({\n  communication: ratingSchema.optional(),\n  professionalism: ratingSchema.optional(),\n  helpfulness: ratingSchema.optional(),\n  availability: ratingSchema.optional(),\n  overall: ratingSchema.optional(),\n}).optional();\n\n// Review creation validation\nexport const CreateReviewDtoSchema = z.object({\n  rating: ratingSchema,\n  comment: z\n    .string()\n    .max(2000, 'Comment must be less than 2000 characters')\n    .optional(),\n  isAnonymous: z\n    .boolean()\n    .optional(),\n  categories: categoriesSchema,\n  tags: z\n    .array(z.string().max(50, 'Tag must be less than 50 characters'))\n    .max(10, 'Maximum 10 tags allowed')\n    .optional(),\n  wouldRecommend: z\n    .boolean()\n    .optional(),\n}).strict();\n\n// Review update validation\nexport const UpdateReviewDtoSchema = z.object({\n  rating: ratingSchema.optional(),\n  comment: z\n    .string()\n    .max(2000, 'Comment must be less than 2000 characters')\n    .optional(),\n  isAnonymous: z\n    .boolean()\n    .optional(),\n  categories: categoriesSchema,\n  tags: z\n    .array(z.string().max(50, 'Tag must be less than 50 characters'))\n    .max(10, 'Maximum 10 tags allowed')\n    .optional(),\n  wouldRecommend: z\n    .boolean()\n    .optional(),\n}).strict();\n\n// Review moderation validation\nexport const ModerateReviewDtoSchema = z.object({\n  action: z\n    .enum(['approve', 'reject', 'flag', 'hide'], {\n      required_error: 'Moderation action is required',\n      invalid_type_error: 'Invalid moderation action',\n    }),\n  reason: z\n    .string()\n    .max(500, 'Reason must be less than 500 characters')\n    .optional(),\n  moderatorNotes: z\n    .string()\n    .max(1000, 'Moderator notes must be less than 1000 characters')\n    .optional(),\n}).strict();\n\n// Review query validation\nexport const GetReviewsDtoSchema = z.object({\n  therapistId: z\n    .string()\n    .uuid('Invalid therapist ID')\n    .optional(),\n  clientId: z\n    .string()\n    .uuid('Invalid client ID')\n    .optional(),\n  rating: ratingSchema.optional(),\n  minRating: ratingSchema.optional(),\n  maxRating: ratingSchema.optional(),\n  status: z\n    .enum(['pending', 'approved', 'rejected', 'flagged', 'hidden'], {\n      invalid_type_error: 'Invalid status',\n    })\n    .optional(),\n  isAnonymous: z\n    .boolean()\n    .optional(),\n  sortBy: z\n    .enum(['rating', 'date', 'helpful'], {\n      invalid_type_error: 'Invalid sort field',\n    })\n    .optional(),\n  sortOrder: z\n    .enum(['asc', 'desc'], {\n      invalid_type_error: 'Invalid sort order',\n    })\n    .optional(),\n  limit: z\n    .number()\n    .int()\n    .min(1, 'Limit must be at least 1')\n    .max(100, 'Limit cannot exceed 100')\n    .optional(),\n  offset: z\n    .number()\n    .int()\n    .min(0, 'Offset cannot be negative')\n    .optional(),\n  includeModerated: z\n    .boolean()\n    .optional(),\n  dateFrom: z\n    .string()\n    .regex(/^\\d{4}-\\d{2}-\\d{2}$/, 'Date must be in YYYY-MM-DD format')\n    .optional(),\n  dateTo: z\n    .string()\n    .regex(/^\\d{4}-\\d{2}-\\d{2}$/, 'Date must be in YYYY-MM-DD format')\n    .optional(),\n  tags: z\n    .array(z.string().max(50, 'Tag must be less than 50 characters'))\n    .optional(),\n}).strict();\n\n// Path parameter validation\nexport const ReviewIdParamSchema = z.object({\n  id: z.string().uuid('Invalid review ID format'),\n});\n\nexport const TherapistIdParamSchema = z.object({\n  therapistId: z.string().uuid('Invalid therapist ID format'),\n});\n\nexport const MeetingIdParamSchema = z.object({\n  meetingId: z.string().uuid('Invalid meeting ID format'),\n});\n\n// Review interaction validation\nexport const ReviewHelpfulDtoSchema = z.object({\n  action: z\n    .enum(['helpful', 'unhelpful', 'remove'], {\n      required_error: 'Action is required',\n      invalid_type_error: 'Invalid action type',\n    }),\n}).strict();\n\nexport const ReviewReportDtoSchema = z.object({\n  reason: z\n    .enum(['inappropriate', 'spam', 'fake', 'harassment', 'other'], {\n      required_error: 'Report reason is required',\n      invalid_type_error: 'Invalid report reason',\n    }),\n  description: z\n    .string()\n    .max(1000, 'Description must be less than 1000 characters')\n    .optional(),\n}).strict();"],"version":3}