{"file":"/home/wetooa/Documents/code/projects/mentara/mentara-api/src/common/events/booking-events.ts","mappings":"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","names":[],"sources":["/home/wetooa/Documents/code/projects/mentara/mentara-api/src/common/events/booking-events.ts"],"sourcesContent":["import {\n  BaseDomainEvent,\n  EventMetadata,\n} from './interfaces/domain-event.interface';\n\n// Booking & Therapy Events\n\nexport interface AppointmentBookedData {\n  appointmentId: string;\n  clientId: string;\n  therapistId: string;\n  startTime: Date;\n  duration: number; // in minutes\n  meetingType: 'video' | 'audio' | 'in_person' | 'chat';\n  title?: string;\n  description?: string;\n  isInitialConsultation: boolean;\n}\n\nexport class AppointmentBookedEvent extends BaseDomainEvent<AppointmentBookedData> {\n  constructor(data: AppointmentBookedData, metadata?: EventMetadata) {\n    super(data.appointmentId, 'Appointment', data, metadata);\n  }\n}\n\nexport interface AppointmentCancelledData {\n  appointmentId: string;\n  clientId: string;\n  therapistId: string;\n  cancelledBy: string; // userId\n  cancellationReason: string;\n  cancelledAt: Date;\n  originalStartTime: Date;\n  cancellationNotice: number; // hours before appointment\n}\n\nexport class AppointmentCancelledEvent extends BaseDomainEvent<AppointmentCancelledData> {\n  constructor(data: AppointmentCancelledData, metadata?: EventMetadata) {\n    super(data.appointmentId, 'Appointment', data, metadata);\n  }\n}\n\nexport interface AppointmentCompletedData {\n  appointmentId: string;\n  clientId: string;\n  therapistId: string;\n  completedAt: Date;\n  duration: number; // actual duration in minutes\n  sessionNotes?: string;\n  attendanceStatus: 'ATTENDED' | 'NO_SHOW' | 'LATE';\n}\n\nexport class AppointmentCompletedEvent extends BaseDomainEvent<AppointmentCompletedData> {\n  constructor(data: AppointmentCompletedData, metadata?: EventMetadata) {\n    super(data.appointmentId, 'Appointment', data, metadata);\n  }\n}\n\nexport interface AppointmentRescheduledData {\n  appointmentId: string;\n  clientId: string;\n  therapistId: string;\n  rescheduledBy: string; // userId\n  originalStartTime: Date;\n  newStartTime: Date;\n  rescheduleReason: string;\n}\n\nexport class AppointmentRescheduledEvent extends BaseDomainEvent<AppointmentRescheduledData> {\n  constructor(data: AppointmentRescheduledData, metadata?: EventMetadata) {\n    super(data.appointmentId, 'Appointment', data, metadata);\n  }\n}\n\nexport interface AppointmentReminderData {\n  appointmentId: string;\n  clientId: string;\n  therapistId: string;\n  startTime: Date;\n  reminderType: '24h' | '1h' | '15min';\n  deliveryMethod: 'email' | 'sms' | 'push' | 'in_app';\n}\n\nexport class AppointmentReminderEvent extends BaseDomainEvent<AppointmentReminderData> {\n  constructor(data: AppointmentReminderData, metadata?: EventMetadata) {\n    super(data.appointmentId, 'Appointment', data, metadata);\n  }\n}\n\nexport interface SessionStartedData {\n  sessionId: string;\n  appointmentId: string;\n  clientId: string;\n  therapistId: string;\n  sessionType: 'individual' | 'group' | 'consultation';\n  platform: string;\n  actualStartTime: Date;\n  scheduledStartTime: Date;\n}\n\nexport class SessionStartedEvent extends BaseDomainEvent<SessionStartedData> {\n  constructor(data: SessionStartedData, metadata?: EventMetadata) {\n    super(data.sessionId, 'Session', data, metadata);\n  }\n}\n\nexport interface SessionEndedData {\n  sessionId: string;\n  appointmentId: string;\n  clientId: string;\n  therapistId: string;\n  endTime: Date;\n  actualDuration: number; // in minutes\n  scheduledDuration: number; // in minutes\n  endReason: 'completed' | 'technical_issue' | 'no_show' | 'cancelled';\n}\n\nexport class SessionEndedEvent extends BaseDomainEvent<SessionEndedData> {\n  constructor(data: SessionEndedData, metadata?: EventMetadata) {\n    super(data.sessionId, 'Session', data, metadata);\n  }\n}\n\nexport interface SessionCompletedData {\n  sessionId: string;\n  appointmentId: string;\n  clientId: string;\n  therapistId: string;\n  completedAt: Date;\n  sessionNotes?: string;\n  nextSteps?: string;\n  followUpRequired: boolean;\n  sessionRating?: number; // 1-5\n}\n\nexport class SessionCompletedEvent extends BaseDomainEvent<SessionCompletedData> {\n  constructor(data: SessionCompletedData, metadata?: EventMetadata) {\n    super(data.sessionId, 'Session', data, metadata);\n  }\n}\n\nexport interface TherapistAssignedData {\n  clientId: string;\n  therapistId: string;\n  assignedBy: string; // userId of admin or system\n  assignmentReason:\n    | 'manual'\n    | 'recommendation'\n    | 'availability'\n    | 'specialty_match';\n  effectiveDate: Date;\n}\n\nexport class TherapistAssignedEvent extends BaseDomainEvent<TherapistAssignedData> {\n  constructor(data: TherapistAssignedData, metadata?: EventMetadata) {\n    super(\n      `${data.clientId}_${data.therapistId}`,\n      'ClientTherapist',\n      data,\n      metadata,\n    );\n  }\n}\n\nexport interface TherapistUnassignedData {\n  clientId: string;\n  therapistId: string;\n  unassignedBy: string;\n  unassignmentReason: string;\n  relationshipDuration: number; // in days\n  sessionCount: number;\n}\n\nexport class TherapistUnassignedEvent extends BaseDomainEvent<TherapistUnassignedData> {\n  constructor(data: TherapistUnassignedData, metadata?: EventMetadata) {\n    super(\n      `${data.clientId}_${data.therapistId}`,\n      'ClientTherapist',\n      data,\n      metadata,\n    );\n  }\n}\n\n// Meeting-specific events\n\nexport interface MeetingConfirmedData {\n  meetingId: string;\n  clientId: string;\n  therapistId: string;\n  confirmedAt: Date;\n  startTime: Date;\n  duration: number;\n}\n\nexport class MeetingConfirmedEvent extends BaseDomainEvent<MeetingConfirmedData> {\n  constructor(data: MeetingConfirmedData, metadata?: EventMetadata) {\n    super(data.meetingId, 'Meeting', data, metadata);\n  }\n}\n\nexport interface MeetingStartedData {\n  meetingId: string;\n  clientId: string;\n  therapistId: string;\n  startedAt: Date;\n  actualStartTime: Date;\n  scheduledStartTime: Date;\n}\n\nexport class MeetingStartedEvent extends BaseDomainEvent<MeetingStartedData> {\n  constructor(data: MeetingStartedData, metadata?: EventMetadata) {\n    super(data.meetingId, 'Meeting', data, metadata);\n  }\n}\n\nexport interface MeetingCompletedData {\n  meetingId: string;\n  clientId: string;\n  therapistId: string;\n  completedAt: Date;\n  actualDuration: number;\n  scheduledDuration: number;\n}\n\nexport class MeetingCompletedEvent extends BaseDomainEvent<MeetingCompletedData> {\n  constructor(data: MeetingCompletedData, metadata?: EventMetadata) {\n    super(data.meetingId, 'Meeting', data, metadata);\n  }\n}\n\nexport interface MeetingCancelledData {\n  meetingId: string;\n  clientId: string;\n  therapistId: string;\n  cancelledBy: string;\n  cancelledAt: Date;\n  cancellationReason?: string;\n  originalStartTime: Date;\n}\n\nexport class MeetingCancelledEvent extends BaseDomainEvent<MeetingCancelledData> {\n  constructor(data: MeetingCancelledData, metadata?: EventMetadata) {\n    super(data.meetingId, 'Meeting', data, metadata);\n  }\n}\n\nexport interface MeetingEmergencyTerminatedData {\n  meetingId: string;\n  clientId: string;\n  therapistId: string;\n  terminatedBy: string;\n  terminatedAt: Date;\n  reason: string;\n}\n\nexport class MeetingEmergencyTerminatedEvent extends BaseDomainEvent<MeetingEmergencyTerminatedData> {\n  constructor(data: MeetingEmergencyTerminatedData, metadata?: EventMetadata) {\n    super(data.meetingId, 'Meeting', data, metadata);\n  }\n}\n"],"version":3}