e319aa9d64e5ab55056a8aac81fad593
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const testing_1 = require("@nestjs/testing");
const prisma_client_provider_1 = require("../../providers/prisma-client.provider");
const database_test_setup_1 = require("../database-test.setup");
const enhanced_test_helpers_1 = require("../enhanced-test-helpers");
/**
 * Complex Workflow Integration Tests
 *
 * End-to-end business process validation testing complete user journeys
 * from onboarding through therapy sessions and beyond.
 */
describe('Complex Workflow Integration', () => {
    let app;
    let prisma;
    let moduleRef;
    beforeAll(async () => {
        // Setup test database
        prisma = await database_test_setup_1.DatabaseTestSetup.setupTestDatabase();
        moduleRef = await testing_1.Test.createTestingModule({
            providers: [
                {
                    provide: prisma_client_provider_1.PrismaService,
                    useValue: prisma,
                },
            ],
        }).compile();
        app = moduleRef.createNestApplication();
        await app.init();
    });
    afterEach(async () => {
        // Clean database after each test
        await database_test_setup_1.DatabaseTestSetup.cleanupDatabase();
    });
    afterAll(async () => {
        await database_test_setup_1.DatabaseTestSetup.stopContainer();
        await app.close();
        await moduleRef.close();
    });
    describe('Complete User Onboarding â†’ Assessment â†’ Matching â†’ Booking â†’ Session Workflow', () => {
        it('should execute complete client journey end-to-end', async () => {
            const startTime = Date.now();
            // === PHASE 1: USER ONBOARDING ===
            console.log('ðŸš€ Starting complete client journey workflow...');
            // 1. Create user account
            const clientUser = await prisma.user.create({
                data: enhanced_test_helpers_1.TestDataGenerator.createUser({
                    id: 'journey-client-123',
                    email: 'client-journey@mentara.com',
                    firstName: 'Journey',
                    lastName: 'Client',
                    role: 'client',
                    isActive: true,
                    emailVerified: false,
                }),
            });
            // 2. Create client profile
            const client = await prisma.client.create({
                data: {
                    userId: clientUser.id,
                    hasSeenTherapistRecommendations: false,
                },
            });
            // 3. Setup notification preferences
            const notificationSettings = await prisma.notificationSettings.create({
                data: {
                    userId: clientUser.id,
                    emailNotifications: true,
                    pushNotifications: true,
                    smsNotifications: false,
                    marketingEmails: true,
                },
            });
            // 4. Create medical history
            const medicalHistories = await prisma.clientMedicalHistory.createMany({
                data: [
                    {
                        clientId: client.userId,
                        condition: 'Generalized Anxiety Disorder',
                        notes: 'Diagnosed in 2020, currently managing with therapy',
                    },
                    {
                        clientId: client.userId,
                        condition: 'Major Depressive Disorder',
                        notes: 'Episodic, responsive to CBT treatment',
                    },
                ],
            });
            // 5. Set client preferences
            const preferences = await prisma.clientPreference.createMany({
                data: [
                    {
                        clientId: client.userId,
                        key: 'preferred_session_time',
                        value: 'morning',
                    },
                    {
                        clientId: client.userId,
                        key: 'session_frequency',
                        value: 'weekly',
                    },
                    {
                        clientId: client.userId,
                        key: 'therapeutic_approach',
                        value: 'CBT',
                    },
                    {
                        clientId: client.userId,
                        key: 'therapist_gender_preference',
                        value: 'no_preference',
                    },
                ],
            });
            // === PHASE 2: MENTAL HEALTH ASSESSMENT ===
            // 6. Create comprehensive pre-assessment
            const preAssessment = await prisma.preAssessment.create({
                data: {
                    userId: clientUser.id,
                    questionnaires: {
                        PHQ9: [2, 3, 2, 1, 3, 2, 3, 2, 1], // Depression screening
                        GAD7: [3, 2, 3, 3, 2, 2, 3], // Anxiety screening
                        PCL5: [1, 2, 1, 0, 2, 3, 2, 1, 2, 3, 1, 2, 2, 1, 3, 2, 1, 2, 1, 2], // PTSD screening
                        DASS21: [2, 1, 3, 2, 1, 2, 3, 2, 1, 2, 3, 1, 2, 2, 1, 3, 2, 1, 2, 1, 2], // Depression, Anxiety, Stress
                        WHOQOL: [3, 4, 3, 4, 3, 3, 4, 3, 4, 3, 3, 4, 3, 3, 4, 3, 4, 3, 3, 4, 3, 4, 3, 3, 4], // Quality of life
                    },
                    scores: {
                        depression: 18, // Moderate depression
                        anxiety: 16, // Moderate anxiety
                        ptsd: 12, // Mild PTSD symptoms
                        stress: 14, // Moderate stress
                        qualityOfLife: 85, // Good quality of life
                        overallSeverity: 'moderate',
                    },
                    severityLevels: {
                        depression: 'moderate',
                        anxiety: 'moderate',
                        ptsd: 'mild',
                        stress: 'moderate',
                    },
                    recommendations: [
                        'CBT therapy recommended for anxiety and depression',
                        'EMDR consideration for PTSD symptoms',
                        'Stress management techniques',
                        'Regular therapy sessions recommended',
                    ],
                    status: 'COMPLETED',
                },
            });
            // === PHASE 3: THERAPIST MATCHING & RECOMMENDATIONS ===
            // 7. Create therapist profiles for matching
            const therapistProfiles = [];
            for (let i = 1; i <= 3; i++) {
                const therapistUser = await prisma.user.create({
                    data: enhanced_test_helpers_1.TestDataGenerator.createUser({
                        id: `journey-therapist-${i}`,
                        email: `therapist${i}-journey@mentara.com`,
                        firstName: `Dr. Therapist${i}`,
                        lastName: 'Professional',
                        role: 'therapist',
                        isActive: true,
                        emailVerified: true,
                    }),
                });
                const therapist = await prisma.therapist.create({
                    data: {
                        userId: therapistUser.id,
                        mobile: `+123456789${i}`,
                        province: 'Ontario',
                        providerType: 'Clinical Psychologist',
                        professionalLicenseType: 'Licensed',
                        isPRCLicensed: 'yes',
                        prcLicenseNumber: `PRC12345${i}`,
                        practiceStartDate: new Date('2020-01-01'),
                        yearsOfExperience: 5 + i,
                        areasOfExpertise: i === 1 ? ['Anxiety', 'Depression', 'CBT'] :
                            i === 2 ? ['PTSD', 'Trauma', 'EMDR'] :
                                ['Stress Management', 'Mindfulness', 'ACT'],
                        assessmentTools: ['PHQ-9', 'GAD-7', 'PCL-5'].slice(0, i + 1),
                        therapeuticApproachesUsedList: i === 1 ? ['CBT', 'DBT'] :
                            i === 2 ? ['EMDR', 'Trauma-Informed CBT'] :
                                ['ACT', 'Mindfulness-Based Therapy'],
                        languagesOffered: ['English'],
                        providedOnlineTherapyBefore: true,
                        comfortableUsingVideoConferencing: true,
                        preferredSessionLength: [60],
                        acceptTypes: ['Individual'],
                        status: 'approved',
                        hourlyRate: 120 + (i * 30),
                        expirationDateOfLicense: new Date('2025-01-01'),
                        compliesWithDataPrivacyAct: true,
                        willingToAbideByPlatformGuidelines: true,
                        treatmentSuccessRates: {
                            anxiety: 0.85 + (i * 0.05),
                            depression: 0.80 + (i * 0.05),
                            ptsd: 0.75 + (i * 0.05),
                        },
                        sessionLength: '60 minutes',
                    },
                });
                therapistProfiles.push({ user: therapistUser, therapist });
            }
            // 8. Create matching analytics and recommendations
            const selectedTherapist = therapistProfiles[0]; // Best match
            const matchHistory = await prisma.matchHistory.create({
                data: {
                    clientId: client.userId,
                    therapistId: selectedTherapist.therapist.userId,
                    totalScore: 92,
                    conditionScore: 95, // Excellent match for anxiety/depression
                    approachScore: 90, // CBT approach matches client preference
                    experienceScore: 88, // Good experience level
                    reviewScore: 85, // Good reviews
                    logisticsScore: 90, // Schedule compatibility
                    compatibilityScore: 89,
                    primaryMatches: ['Anxiety', 'Depression'],
                    secondaryMatches: ['Stress Management'],
                    approachMatches: ['CBT', 'DBT'],
                    recommendationRank: 1,
                    totalRecommendations: 3,
                    wasViewed: true,
                    wasContacted: true,
                    becameClient: true,
                    sessionCount: 0, // Will be updated later
                    recommendationAlgorithm: 'advanced_ml',
                    userAgent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7)',
                },
            });
            // 9. Create client compatibility analysis
            const compatibility = await prisma.clientCompatibility.create({
                data: {
                    clientId: client.userId,
                    therapistId: selectedTherapist.therapist.userId,
                    personalityCompatibility: 88,
                    sessionCompatibility: 92,
                    demographicCompatibility: 85,
                    overallCompatibility: 89,
                    communicationStyleScore: 90,
                    personalityMatchScore: 86,
                    culturalCompatibilityScore: 85,
                    formatMatchScore: 95,
                    durationMatchScore: 90,
                    frequencyMatchScore: 88,
                    schedulingCompatibilityScore: 92,
                    ageCompatibilityScore: 80,
                    genderCompatibilityScore: 85,
                    languageCompatibilityScore: 100,
                    strengths: [
                        'Excellent therapeutic approach match (CBT)',
                        'Strong experience with anxiety and depression',
                        'Compatible session scheduling preferences',
                        'High treatment success rates',
                    ],
                    concerns: [
                        'Consider cultural background alignment',
                    ],
                    recommendations: [
                        'Start with weekly CBT sessions',
                        'Focus on anxiety management techniques',
                        'Monitor depression symptoms closely',
                        'Consider DBT skills integration',
                    ],
                    analysisVersion: '3.1',
                },
            });
            // 10. Update client to show they've seen recommendations
            await prisma.client.update({
                where: { userId: client.userId },
                data: { hasSeenTherapistRecommendations: true },
            });
            // === PHASE 4: THERAPIST ASSIGNMENT & BOOKING ===
            // 11. Create client-therapist assignment
            const assignment = await prisma.clientTherapist.create({
                data: {
                    clientId: client.userId,
                    therapistId: selectedTherapist.therapist.userId,
                    notes: 'Matched based on CBT expertise and anxiety/depression specialization',
                },
            });
            // 12. Create therapy sessions
            const sessions = [];
            const sessionDates = [
                new Date('2024-12-01T10:00:00Z'),
                new Date('2024-12-08T10:00:00Z'),
                new Date('2024-12-15T10:00:00Z'),
                new Date('2024-12-22T10:00:00Z'),
            ];
            for (const [index, sessionDate] of sessionDates.entries()) {
                const meeting = await prisma.meeting.create({
                    data: {
                        clientId: client.userId,
                        therapistId: selectedTherapist.therapist.userId,
                        startTime: sessionDate,
                        duration: 60,
                        status: index < 2 ? 'COMPLETED' : 'SCHEDULED',
                        meetingType: 'video',
                        description: `Session ${index + 1}: ${index === 0 ? 'Initial Assessment and Goal Setting' :
                            index === 1 ? 'CBT Techniques for Anxiety Management' :
                                index === 2 ? 'Depression Coping Strategies' :
                                    'Progress Review and Future Planning'}`,
                    },
                });
                sessions.push(meeting);
                // Create session logs for completed sessions
                if (index < 2) {
                    const sessionLog = await prisma.sessionLog.create({
                        data: {
                            clientId: client.userId,
                            meetingId: meeting.id,
                            sessionDate: sessionDate,
                            duration: 60,
                            sessionType: 'Individual',
                            notes: index === 0
                                ? 'Client presented with moderate anxiety and depression. Established therapeutic goals and introduced CBT concepts. Good rapport established.'
                                : 'Continued CBT work on anxiety management. Client practiced breathing techniques and cognitive restructuring. Showing improvement in anxiety symptoms.',
                            mood: index === 0 ? 'anxious' : 'improving',
                            progress: index === 0 ? 'baseline' : 'good',
                        },
                    });
                }
            }
            // === PHASE 5: ONGOING THERAPY & FEEDBACK ===
            // 13. Create review and feedback
            const review = await prisma.review.create({
                data: {
                    clientId: client.userId,
                    therapistId: selectedTherapist.therapist.userId,
                    rating: 5,
                    comment: 'Dr. Therapist1 has been incredibly helpful. The CBT techniques have really helped me manage my anxiety, and I feel more hopeful about my depression.',
                    isAnonymous: false,
                },
            });
            // 14. Create recommendation feedback
            const feedback = await prisma.recommendationFeedback.create({
                data: {
                    clientId: client.userId,
                    therapistId: selectedTherapist.therapist.userId,
                    matchHistoryId: matchHistory.id,
                    relevanceScore: 5,
                    accuracyScore: 5,
                    helpfulnessScore: 5,
                    feedbackText: 'The recommendation was perfect! The therapist specializes exactly in what I needed help with.',
                    selectedTherapist: true,
                    hadInitialSession: true,
                    continuedTherapy: true,
                    overallSatisfaction: 5,
                },
            });
            // 15. Update match history with session progress
            await prisma.matchHistory.update({
                where: { id: matchHistory.id },
                data: {
                    sessionCount: 2, // Two completed sessions
                    clientSatisfactionScore: 5,
                },
            });
            // === PHASE 6: COMMUNITY ENGAGEMENT ===
            // 16. Create community and user participation
            const community = await prisma.community.create({
                data: {
                    name: 'Anxiety Support Group',
                    description: 'A supportive community for people managing anxiety',
                    isPrivate: false,
                    memberLimit: 50,
                },
            });
            const roomGroup = await prisma.roomGroup.create({
                data: {
                    communityId: community.id,
                    name: 'General Support',
                    description: 'General discussions and support',
                },
            });
            const room = await prisma.room.create({
                data: {
                    communityId: community.id,
                    roomGroupId: roomGroup.id,
                    name: 'Daily Check-ins',
                    description: 'Share your daily progress and challenges',
                    postingRole: 'MEMBER',
                },
            });
            // 17. Join community
            const membership = await prisma.membership.create({
                data: {
                    userId: clientUser.id,
                    communityId: community.id,
                    role: 'MEMBER',
                    status: 'ACTIVE',
                },
            });
            // 18. Create community post
            const post = await prisma.post.create({
                data: {
                    authorId: clientUser.id,
                    communityId: community.id,
                    roomId: room.id,
                    title: 'Progress Update: Two Months of Therapy',
                    content: 'I wanted to share my progress with everyone. After two months of CBT therapy, I\'m seeing real improvements in my anxiety levels. The breathing techniques and cognitive restructuring have been game-changers for me.',
                    type: 'TEXT',
                    isApproved: true,
                },
            });
            // === PHASE 7: ACTIVITY TRACKING & NOTIFICATIONS ===
            // 19. Create comprehensive activity tracking
            const activities = await prisma.userActivity.createMany({
                data: [
                    {
                        userId: clientUser.id,
                        activityType: 'registration',
                        activityData: { source: 'web', completedAt: clientUser.createdAt },
                    },
                    {
                        userId: clientUser.id,
                        activityType: 'assessment_completion',
                        activityData: { assessmentType: 'pre-assessment', score: 18 },
                    },
                    {
                        userId: clientUser.id,
                        activityType: 'therapist_match',
                        activityData: { therapistId: selectedTherapist.therapist.userId, score: 92 },
                    },
                    {
                        userId: clientUser.id,
                        activityType: 'session_completion',
                        activityData: { sessionNumber: 1, meetingId: sessions[0].id },
                    },
                    {
                        userId: clientUser.id,
                        activityType: 'session_completion',
                        activityData: { sessionNumber: 2, meetingId: sessions[1].id },
                    },
                    {
                        userId: clientUser.id,
                        activityType: 'community_post',
                        activityData: { postId: post.id, community: community.name },
                    },
                ],
            });
            // 20. Create notifications
            const notifications = await prisma.notification.createMany({
                data: [
                    {
                        userId: clientUser.id,
                        type: 'welcome',
                        title: 'Welcome to Mentara!',
                        message: 'Complete your mental health assessment to get personalized therapist recommendations.',
                        isRead: true,
                        priority: 'medium',
                    },
                    {
                        userId: clientUser.id,
                        type: 'assessment_complete',
                        title: 'Assessment Complete',
                        message: 'Your mental health assessment is complete. View your therapist recommendations.',
                        isRead: true,
                        priority: 'high',
                    },
                    {
                        userId: clientUser.id,
                        type: 'therapist_match',
                        title: 'Perfect Match Found!',
                        message: 'We found an excellent therapist match for you. Schedule your first session.',
                        isRead: true,
                        priority: 'high',
                    },
                    {
                        userId: clientUser.id,
                        type: 'session_reminder',
                        title: 'Upcoming Session',
                        message: 'You have a therapy session tomorrow at 10:00 AM.',
                        isRead: false,
                        priority: 'high',
                    },
                    {
                        userId: clientUser.id,
                        type: 'community_welcome',
                        title: 'Welcome to Anxiety Support Group',
                        message: 'You\'ve successfully joined the Anxiety Support Group community.',
                        isRead: true,
                        priority: 'medium',
                    },
                ],
            });
            // 21. Create audit logs
            const auditLogs = await prisma.auditLog.createMany({
                data: [
                    {
                        userId: clientUser.id,
                        action: 'USER_REGISTRATION',
                        entity: 'User',
                        entityId: clientUser.id,
                        details: { source: 'web', role: 'client' },
                        severity: 'INFO',
                    },
                    {
                        userId: clientUser.id,
                        action: 'ASSESSMENT_COMPLETION',
                        entity: 'PreAssessment',
                        entityId: preAssessment.id,
                        details: { overallSeverity: 'moderate', status: 'COMPLETED' },
                        severity: 'INFO',
                    },
                    {
                        userId: clientUser.id,
                        action: 'THERAPIST_ASSIGNMENT',
                        entity: 'ClientTherapist',
                        entityId: assignment.id,
                        details: { therapistId: selectedTherapist.therapist.userId, matchScore: 92 },
                        severity: 'INFO',
                    },
                    {
                        userId: clientUser.id,
                        action: 'SESSION_COMPLETION',
                        entity: 'Meeting',
                        entityId: sessions[0].id,
                        details: { sessionNumber: 1, duration: 60 },
                        severity: 'INFO',
                    },
                    {
                        userId: clientUser.id,
                        action: 'COMMUNITY_JOIN',
                        entity: 'Membership',
                        entityId: membership.id,
                        details: { communityId: community.id, role: 'MEMBER' },
                        severity: 'INFO',
                    },
                ],
            });
            const endTime = Date.now();
            const totalDuration = endTime - startTime;
            // === COMPREHENSIVE VERIFICATION ===
            // Verify complete workflow by querying the final state
            const completeUserJourney = await prisma.user.findUnique({
                where: { id: clientUser.id },
                include: {
                    client: {
                        include: {
                            assignedTherapists: {
                                include: {
                                    therapist: {
                                        include: {
                                            user: true,
                                        },
                                    },
                                },
                            },
                            meetings: {
                                include: {
                                    therapist: {
                                        include: {
                                            user: true,
                                        },
                                    },
                                },
                                orderBy: { startTime: 'asc' },
                            },
                            sessionLogs: {
                                orderBy: { sessionDate: 'asc' },
                            },
                            reviews: {
                                include: {
                                    therapist: {
                                        include: {
                                            user: true,
                                        },
                                    },
                                },
                            },
                        },
                    },
                    preAssessment: true,
                    notificationSettings: true,
                    notifications: {
                        orderBy: { createdAt: 'desc' },
                    },
                    activities: {
                        orderBy: { createdAt: 'asc' },
                    },
                    auditLogs: {
                        orderBy: { createdAt: 'asc' },
                    },
                    memberships: {
                        include: {
                            community: true,
                        },
                    },
                    posts: {
                        include: {
                            community: true,
                            room: true,
                        },
                    },
                },
            });
            // Comprehensive assertions
            expect(completeUserJourney).toBeTruthy();
            expect(completeUserJourney?.role).toBe('client');
            expect(completeUserJourney?.client?.hasSeenTherapistRecommendations).toBe(true);
            expect(completeUserJourney?.client?.assignedTherapists).toHaveLength(1);
            expect(completeUserJourney?.client?.meetings).toHaveLength(4);
            expect(completeUserJourney?.client?.sessionLogs).toHaveLength(2);
            expect(completeUserJourney?.client?.reviews).toHaveLength(1);
            expect(completeUserJourney?.preAssessment?.status).toBe('COMPLETED');
            expect(completeUserJourney?.notificationSettings?.emailNotifications).toBe(true);
            expect(completeUserJourney?.notifications).toHaveLength(5);
            expect(completeUserJourney?.activities).toHaveLength(6);
            expect(completeUserJourney?.auditLogs).toHaveLength(5);
            expect(completeUserJourney?.memberships).toHaveLength(1);
            expect(completeUserJourney?.posts).toHaveLength(1);
            // Verify specific workflow outcomes
            const completedSessions = completeUserJourney?.client?.meetings.filter(m => m.status === 'COMPLETED');
            const scheduledSessions = completeUserJourney?.client?.meetings.filter(m => m.status === 'SCHEDULED');
            expect(completedSessions).toHaveLength(2);
            expect(scheduledSessions).toHaveLength(2);
            expect(completeUserJourney?.client?.reviews[0].rating).toBe(5);
            // Verify analytics data exists
            const analyticsData = await Promise.all([
                prisma.matchHistory.findFirst({ where: { clientId: client.userId } }),
                prisma.clientCompatibility.findFirst({ where: { clientId: client.userId } }),
                prisma.recommendationFeedback.findFirst({ where: { clientId: client.userId } }),
            ]);
            expect(analyticsData[0]?.totalScore).toBe(92);
            expect(analyticsData[1]?.overallCompatibility).toBe(89);
            expect(analyticsData[2]?.overallSatisfaction).toBe(5);
            console.log(`âœ… Complete Client Journey Workflow Verified Successfully!
      ðŸ“Š Workflow Statistics:
        â±ï¸  Total Duration: ${totalDuration}ms
        ðŸ‘¤ User Created: ${completeUserJourney?.email}
        ðŸ§  Assessment Score: ${completeUserJourney?.preAssessment?.answers?.scores?.depression}/27 (Depression)
        ðŸŽ¯ Match Score: ${analyticsData[0]?.totalScore}/100
        ðŸ’œ Compatibility: ${analyticsData[1]?.overallCompatibility}/100
        â­ Satisfaction: ${analyticsData[2]?.overallSatisfaction}/5
        ðŸ“… Sessions Completed: ${completedSessions?.length}
        ðŸ† Therapy Review: ${completeUserJourney?.client?.reviews[0].rating}/5 stars
        ðŸ‘¥ Community Posts: ${completeUserJourney?.posts.length}
        ðŸ”” Notifications: ${completeUserJourney?.notifications.length}
        ðŸ“ Activity Logs: ${completeUserJourney?.activities.length}
      `);
            expect(totalDuration).toBeLessThan(30000); // Should complete within 30 seconds
        }, 45000); // Extended timeout for complex workflow
    });
    describe('Therapist Application â†’ Review â†’ Approval â†’ Client Assignment Workflow', () => {
        it('should execute complete therapist onboarding and client assignment workflow', async () => {
            console.log('ðŸ©º Starting therapist onboarding workflow...');
            // === PHASE 1: THERAPIST APPLICATION ===
            // 1. Create therapist user
            const therapistUser = await prisma.user.create({
                data: enhanced_test_helpers_1.TestDataGenerator.createUser({
                    id: 'workflow-therapist-123',
                    email: 'new-therapist@mentara.com',
                    firstName: 'Dr. Sarah',
                    lastName: 'Johnson',
                    role: 'therapist',
                    isActive: true,
                    emailVerified: false, // Not verified until approved
                }),
            });
            // 2. Create comprehensive therapist application
            const therapist = await prisma.therapist.create({
                data: {
                    userId: therapistUser.id,
                    mobile: '+1234567890',
                    province: 'British Columbia',
                    providerType: 'Licensed Clinical Social Worker',
                    professionalLicenseType: 'Licensed',
                    isPRCLicensed: 'yes',
                    prcLicenseNumber: 'PRC789012',
                    isLicenseActive: 'yes',
                    practiceStartDate: new Date('2018-06-01'),
                    yearsOfExperience: 6,
                    areasOfExpertise: [
                        'Trauma Therapy',
                        'PTSD',
                        'Anxiety Disorders',
                        'Depression',
                        'EMDR',
                    ],
                    assessmentTools: [
                        'PHQ-9',
                        'GAD-7',
                        'PCL-5',
                        'CAPS-5',
                        'PTSD Checklist',
                    ],
                    therapeuticApproachesUsedList: [
                        'EMDR',
                        'Trauma-Informed CBT',
                        'Somatic Experiencing',
                        'Mindfulness-Based Therapy',
                    ],
                    languagesOffered: ['English', 'French'],
                    providedOnlineTherapyBefore: true,
                    comfortableUsingVideoConferencing: true,
                    weeklyAvailability: '25',
                    preferredSessionLength: [60, 90],
                    acceptTypes: ['Individual', 'Couples'],
                    hourlyRate: 180,
                    expirationDateOfLicense: new Date('2025-12-31'),
                    compliesWithDataPrivacyAct: true,
                    willingToAbideByPlatformGuidelines: true,
                    status: 'pending', // Pending review
                    bio: 'Specialized trauma therapist with 6 years of experience helping clients heal from PTSD and complex trauma using EMDR and somatic approaches.',
                    education: 'MSW from University of British Columbia',
                    certifications: ['EMDR Level II', 'Trauma-Informed Care Certificate'],
                    treatmentSuccessRates: {},
                    sessionLength: '60-90 minutes',
                },
            });
            // === PHASE 2: ADMIN REVIEW PROCESS ===
            // 3. Create admin user for review
            const adminUser = await prisma.user.create({
                data: enhanced_test_helpers_1.TestDataGenerator.createUser({
                    id: 'workflow-admin-123',
                    email: 'admin@mentara.com',
                    firstName: 'Admin',
                    lastName: 'Reviewer',
                    role: 'admin',
                    isActive: true,
                    isVerified: true,
                }),
            });
            const admin = await prisma.admin.create({
                data: {
                    userId: adminUser.id,
                    permissions: ['review_therapists', 'approve_therapists', 'manage_users'],
                    adminLevel: 'admin',
                },
            });
            // 4. Create audit log for application submission
            await prisma.auditLog.create({
                data: {
                    userId: therapistUser.id,
                    action: 'THERAPIST_APPLICATION_SUBMITTED',
                    entity: 'Therapist',
                    entityId: therapist.userId,
                    details: {
                        applicationStatus: 'pending',
                        providerType: therapist.providerType,
                        specializations: therapist.areasOfExpertise,
                    },
                    severity: 'INFO',
                },
            });
            // 5. Admin reviews and approves therapist
            const approvedTherapist = await prisma.therapist.update({
                where: { userId: therapist.userId },
                data: {
                    status: 'approved',
                    processedBy: admin.userId,
                    processedAt: new Date(),
                    reviewNotes: 'Excellent credentials and experience. EMDR certification verified. Approved for platform.',
                },
            });
            // 6. Update user verification status
            await prisma.user.update({
                where: { id: therapistUser.id },
                data: { emailVerified: true },
            });
            // 7. Create approval audit log
            await prisma.auditLog.create({
                data: {
                    userId: adminUser.id,
                    action: 'THERAPIST_APPROVED',
                    entity: 'Therapist',
                    entityId: therapist.userId,
                    details: {
                        reviewedBy: adminUser.id,
                        previousStatus: 'pending',
                        newStatus: 'approved',
                        reviewNotes: 'Excellent credentials and experience',
                    },
                    severity: 'INFO',
                },
            });
            // === PHASE 3: CLIENT MATCHING AND ASSIGNMENT ===
            // 8. Create client needing trauma therapy
            const traumaClientUser = await prisma.user.create({
                data: enhanced_test_helpers_1.TestDataGenerator.createUser({
                    id: 'trauma-client-123',
                    email: 'trauma-client@mentara.com',
                    firstName: 'Alex',
                    lastName: 'Rivera',
                    role: 'client',
                }),
            });
            const traumaClient = await prisma.client.create({
                data: {
                    userId: traumaClientUser.id,
                    hasSeenTherapistRecommendations: false,
                },
            });
            // 9. Create trauma-focused pre-assessment
            const traumaAssessment = await prisma.preAssessment.create({
                data: {
                    userId: traumaClientUser.id,
                    questionnaires: {
                        PHQ9: [3, 3, 2, 2, 3, 3, 3, 2, 2], // Moderate-severe depression
                        GAD7: [3, 3, 3, 2, 3, 3, 3], // Severe anxiety
                        PCL5: [3, 4, 3, 4, 3, 3, 4, 3, 4, 3, 3, 4, 3, 3, 4, 3, 4, 3, 3, 4], // Significant PTSD symptoms
                    },
                    scores: {
                        depression: 23, // Moderate-severe
                        anxiety: 20, // Severe
                        ptsd: 68, // Significant PTSD symptoms
                    },
                    severityLevels: {
                        depression: 'moderate-severe',
                        anxiety: 'severe',
                        ptsd: 'significant',
                    },
                    status: 'COMPLETED',
                },
            });
            // 10. Create client medical history indicating trauma
            await prisma.clientMedicalHistory.createMany({
                data: [
                    {
                        clientId: traumaClient.userId,
                        condition: 'Post-Traumatic Stress Disorder',
                        notes: 'Motor vehicle accident 18 months ago, experiencing flashbacks and nightmares',
                    },
                    {
                        clientId: traumaClient.userId,
                        condition: 'Major Depressive Disorder',
                        notes: 'Secondary to PTSD, began after trauma',
                    },
                ],
            });
            // 11. Create matching analysis showing therapist as perfect match
            const traumaMatchHistory = await prisma.matchHistory.create({
                data: {
                    clientId: traumaClient.userId,
                    therapistId: approvedTherapist.userId,
                    totalScore: 96, // Excellent match
                    conditionScore: 98, // Perfect specialization match
                    approachScore: 95, // EMDR exactly what client needs
                    experienceScore: 94, // Strong trauma experience
                    reviewScore: 90, // New therapist, no reviews yet
                    logisticsScore: 92, // Good availability match
                    compatibilityScore: 94,
                    primaryMatches: ['PTSD', 'Trauma Therapy'],
                    secondaryMatches: ['Depression', 'Anxiety'],
                    approachMatches: ['EMDR', 'Trauma-Informed CBT'],
                    recommendationRank: 1,
                    totalRecommendations: 1, // Only one perfect match
                    wasViewed: true,
                    wasContacted: true,
                    becameClient: true,
                    sessionCount: 0,
                    recommendationAlgorithm: 'trauma_specialized',
                },
            });
            // 12. Create compatibility analysis
            const traumaCompatibility = await prisma.clientCompatibility.create({
                data: {
                    clientId: traumaClient.userId,
                    therapistId: approvedTherapist.userId,
                    personalityCompatibility: 92,
                    sessionCompatibility: 95,
                    demographicCompatibility: 88,
                    overallCompatibility: 94,
                    communicationStyleScore: 90,
                    personalityMatchScore: 94,
                    culturalCompatibilityScore: 85,
                    formatMatchScore: 98, // Individual therapy preference
                    durationMatchScore: 95, // 60-90 min sessions ideal for trauma
                    frequencyMatchScore: 92,
                    schedulingCompatibilityScore: 88,
                    ageCompatibilityScore: 85,
                    genderCompatibilityScore: 90,
                    languageCompatibilityScore: 100,
                    strengths: [
                        'Specialized EMDR training perfect for PTSD treatment',
                        'Extensive trauma therapy experience',
                        'Excellent session format match for trauma processing',
                        'Strong therapeutic approach alignment',
                    ],
                    concerns: [
                        'New to platform - building review history',
                    ],
                    recommendations: [
                        'Begin with EMDR assessment and preparation',
                        'Schedule 90-minute sessions for trauma processing',
                        'Weekly sessions recommended initially',
                        'Monitor dissociation and grounding techniques',
                    ],
                    analysisVersion: '4.0',
                },
            });
            // === PHASE 4: ASSIGNMENT AND FIRST SESSION ===
            // 13. Create client-therapist assignment
            const traumaAssignment = await prisma.clientTherapist.create({
                data: {
                    clientId: traumaClient.userId,
                    therapistId: approvedTherapist.userId,
                    notes: 'Specialized trauma therapy assignment. Client has PTSD from MVA, excellent match for EMDR treatment.',
                },
            });
            // 14. Schedule first session
            const firstSession = await prisma.meeting.create({
                data: {
                    clientId: traumaClient.userId,
                    therapistId: approvedTherapist.userId,
                    startTime: new Date('2024-12-10T14:00:00Z'),
                    duration: 90, // Extended session for trauma work
                    status: 'COMPLETED',
                    meetingType: 'video',
                    description: 'Initial EMDR Assessment and Trauma History',
                },
            });
            // 15. Create session log
            const traumaSessionLog = await prisma.sessionLog.create({
                data: {
                    clientId: traumaClient.userId,
                    meetingId: firstSession.id,
                    sessionDate: firstSession.startTime,
                    duration: 90,
                    sessionType: 'Individual',
                    notes: 'Comprehensive trauma assessment completed. Client reports MVA trauma with significant PTSD symptoms. EMDR suitability confirmed. Established safety and grounding protocols. Client motivated for treatment.',
                    mood: 'anxious but hopeful',
                    progress: 'assessment complete',
                },
            });
            // 16. Update client to show they've seen recommendations
            await prisma.client.update({
                where: { userId: traumaClient.userId },
                data: { hasSeenTherapistRecommendations: true },
            });
            // 17. Create follow-up feedback
            const traumaFeedback = await prisma.recommendationFeedback.create({
                data: {
                    clientId: traumaClient.userId,
                    therapistId: approvedTherapist.userId,
                    matchHistoryId: traumaMatchHistory.id,
                    relevanceScore: 5,
                    accuracyScore: 5,
                    helpfulnessScore: 5,
                    feedbackText: 'Perfect match! Finally found a therapist who truly understands trauma and has the specialized training I need.',
                    selectedTherapist: true,
                    hadInitialSession: true,
                    continuedTherapy: true,
                    overallSatisfaction: 5,
                },
            });
            // === COMPREHENSIVE VERIFICATION ===
            // Verify complete therapist workflow
            const completeTherapistWorkflow = await prisma.therapist.findUnique({
                where: { userId: approvedTherapist.userId },
                include: {
                    user: true,
                    processedByAdmin: {
                        include: {
                            user: true,
                        },
                    },
                    assignedClients: {
                        include: {
                            client: {
                                include: {
                                    user: true,
                                    preAssessment: true,
                                    sessionLogs: true,
                                },
                            },
                        },
                    },
                    meetings: {
                        include: {
                            client: {
                                include: {
                                    user: true,
                                },
                            },
                        },
                    },
                    reviews: true,
                    matchHistory: true,
                    clientCompatibility: true,
                    recommendationFeedback: true,
                },
            });
            // Comprehensive assertions
            expect(completeTherapistWorkflow).toBeTruthy();
            expect(completeTherapistWorkflow?.status).toBe('approved');
            expect(completeTherapistWorkflow?.user.emailVerified).toBe(true);
            expect(completeTherapistWorkflow?.processedByAdmin?.user.role).toBe('admin');
            expect(completeTherapistWorkflow?.assignedClients).toHaveLength(1);
            expect(completeTherapistWorkflow?.meetings).toHaveLength(1);
            expect(completeTherapistWorkflow?.matchHistory).toHaveLength(1);
            expect(completeTherapistWorkflow?.clientCompatibility).toHaveLength(1);
            expect(completeTherapistWorkflow?.recommendationFeedback).toHaveLength(1);
            // Verify match quality
            const matchQuality = completeTherapistWorkflow?.matchHistory[0];
            const compatibility = completeTherapistWorkflow?.clientCompatibility[0];
            const feedback = completeTherapistWorkflow?.recommendationFeedback[0];
            expect(matchQuality?.totalScore).toBe(96);
            expect(compatibility?.overallCompatibility).toBe(94);
            expect(feedback?.overallSatisfaction).toBe(5);
            // Verify client received proper trauma-specialized care
            const traumaClient = completeTherapistWorkflow?.assignedClients[0].client;
            expect(traumaClient?.preAssessment?.answers?.severityLevels?.ptsd).toBe('significant');
            expect(traumaClient?.sessionLogs).toHaveLength(1);
            expect(traumaClient?.sessionLogs[0].notes).toContain('EMDR');
            console.log(`âœ… Complete Therapist Workflow Verified Successfully!
      ðŸ©º Therapist Onboarding Statistics:
        ðŸ‘¨â€âš•ï¸  Therapist: ${completeTherapistWorkflow?.user.firstName} ${completeTherapistWorkflow?.user.lastName}
        ðŸ“‹ Specialization: ${completeTherapistWorkflow?.areasOfExpertise.join(', ')}
        âœ… Status: ${completeTherapistWorkflow?.status}
        ðŸ‘¤ Reviewed by: ${completeTherapistWorkflow?.processedByAdmin?.user.firstName}
        ðŸ‘¥ Assigned Clients: ${completeTherapistWorkflow?.assignedClients.length}
        ðŸŽ¯ Match Score: ${matchQuality?.totalScore}/100
        ðŸ’œ Compatibility: ${compatibility?.overallCompatibility}/100
        â­ Client Satisfaction: ${feedback?.overallSatisfaction}/5
        ðŸ”§ Specialized for: ${matchQuality?.primaryMatches.join(', ')}
      `);
        });
    });
    describe('Community Participation â†’ Content Creation â†’ Moderation Workflow', () => {
        it('should execute complete community engagement workflow', async () => {
            console.log('ðŸ‘¥ Starting community engagement workflow...');
            // === PHASE 1: COMMUNITY SETUP ===
            // 1. Create community
            const community = await prisma.community.create({
                data: {
                    name: 'Depression Support Network',
                    description: 'A safe space for people experiencing depression to share, support, and heal together',
                    isPrivate: false,
                    memberLimit: 100,
                },
            });
            // 2. Create room structure
            const roomGroups = await prisma.roomGroup.createMany({
                data: [
                    {
                        communityId: community.id,
                        name: 'Support & Sharing',
                        description: 'Share experiences and support each other',
                    },
                    {
                        communityId: community.id,
                        name: 'Resources & Tips',
                        description: 'Share helpful resources and coping strategies',
                    },
                    {
                        communityId: community.id,
                        name: 'General Discussion',
                        description: 'General conversations and community updates',
                    },
                ],
            });
            const createdRoomGroups = await prisma.roomGroup.findMany({
                where: { communityId: community.id },
            });
            const rooms = await prisma.room.createMany({
                data: [
                    {
                        communityId: community.id,
                        roomGroupId: createdRoomGroups[0].id,
                        name: 'Daily Check-ins',
                        description: 'Share how you are feeling today',
                        postingRole: 'MEMBER',
                    },
                    {
                        communityId: community.id,
                        roomGroupId: createdRoomGroups[0].id,
                        name: 'Breakthrough Moments',
                        description: 'Celebrate your wins and progress',
                        postingRole: 'MEMBER',
                    },
                    {
                        communityId: community.id,
                        roomGroupId: createdRoomGroups[1].id,
                        name: 'Coping Strategies',
                        description: 'Share what works for you',
                        postingRole: 'MEMBER',
                    },
                    {
                        communityId: community.id,
                        roomGroupId: createdRoomGroups[2].id,
                        name: 'Community Updates',
                        description: 'Important community announcements',
                        postingRole: 'MODERATOR',
                    },
                ],
            });
            const createdRooms = await prisma.room.findMany({
                where: { communityId: community.id },
            });
            // === PHASE 2: USER PARTICIPATION ===
            // 3. Create community members
            const memberUsers = [];
            for (let i = 1; i <= 5; i++) {
                const user = await prisma.user.create({
                    data: enhanced_test_helpers_1.TestDataGenerator.createUser({
                        id: `community-member-${i}`,
                        email: `member${i}@community.com`,
                        firstName: `Member${i}`,
                        lastName: 'User',
                        role: 'client',
                    }),
                });
                memberUsers.push(user);
            }
            // 4. Create moderator
            const moderatorUser = await prisma.user.create({
                data: enhanced_test_helpers_1.TestDataGenerator.createUser({
                    id: 'community-moderator',
                    email: 'moderator@community.com',
                    firstName: 'Community',
                    lastName: 'Moderator',
                    role: 'moderator',
                }),
            });
            const moderator = await prisma.moderator.create({
                data: {
                    userId: moderatorUser.id,
                    permissions: ['moderate_content', 'manage_members', 'post_announcements'],
                    assignedCommunities: { [community.id]: 'active' },
                },
            });
            // 5. Create memberships
            const memberships = [];
            for (const user of memberUsers) {
                const membership = await prisma.membership.create({
                    data: {
                        userId: user.id,
                        communityId: community.id,
                        role: 'MEMBER',
                        status: 'ACTIVE',
                    },
                });
                memberships.push(membership);
            }
            // Add moderator membership
            await prisma.membership.create({
                data: {
                    userId: moderatorUser.id,
                    communityId: community.id,
                    role: 'MODERATOR',
                    status: 'ACTIVE',
                },
            });
            // === PHASE 3: CONTENT CREATION ===
            // 6. Create community posts
            const posts = [];
            // Member 1: Daily check-in
            const checkInPost = await prisma.post.create({
                data: {
                    authorId: memberUsers[0].id,
                    communityId: community.id,
                    roomId: createdRooms[0].id, // Daily Check-ins room
                    title: 'Struggling today but here',
                    content: 'Having a rough day with my depression. The grey weather isn\'t helping, but I\'m trying to remember that this feeling will pass. Just wanted to check in and let everyone know I\'m still fighting.',
                    type: 'TEXT',
                    isApproved: true,
                },
            });
            posts.push(checkInPost);
            // Member 2: Breakthrough moment
            const breakthroughPost = await prisma.post.create({
                data: {
                    authorId: memberUsers[1].id,
                    communityId: community.id,
                    roomId: createdRooms[1].id, // Breakthrough Moments room
                    title: 'Small victory: Made it to therapy today!',
                    content: 'I almost cancelled my therapy session this morning because my depression was telling me it wouldn\'t help. But I pushed through and went anyway. My therapist reminded me how much progress I\'ve made. Sometimes we need those outside perspectives to see our own growth.',
                    type: 'TEXT',
                    isApproved: true,
                },
            });
            posts.push(breakthroughPost);
            // Member 3: Coping strategy
            const copingPost = await prisma.post.create({
                data: {
                    authorId: memberUsers[2].id,
                    communityId: community.id,
                    roomId: createdRooms[2].id, // Coping Strategies room
                    title: 'The 5-4-3-2-1 grounding technique that saves me',
                    content: 'When my depression spirals and I feel disconnected, I use this grounding technique: 5 things I can see, 4 things I can touch, 3 things I can hear, 2 things I can smell, 1 thing I can taste. It brings me back to the present moment and helps me feel more anchored.',
                    type: 'TEXT',
                    isApproved: true,
                },
            });
            posts.push(copingPost);
            // Moderator: Community update
            const updatePost = await prisma.post.create({
                data: {
                    authorId: moderatorUser.id,
                    communityId: community.id,
                    roomId: createdRooms[3].id, // Community Updates room
                    title: 'Welcome to our new community members!',
                    content: 'We\'ve grown to over 50 members this month! Remember our community guidelines: be kind, respect privacy, no medical advice, and support each other\'s journeys. We\'re here for each other.',
                    type: 'TEXT',
                    isApproved: true,
                },
            });
            posts.push(updatePost);
            // === PHASE 4: COMMUNITY INTERACTION ===
            // 7. Create comments and replies
            const comments = [];
            // Support comment on struggling post
            const supportComment = await prisma.comment.create({
                data: {
                    authorId: memberUsers[3].id,
                    postId: checkInPost.id,
                    content: 'Sending you virtual hugs. The fact that you checked in today shows incredible strength. You\'re not alone in this fight.',
                    isApproved: true,
                },
            });
            comments.push(supportComment);
            // Reply to support comment
            const thankYouReply = await prisma.reply.create({
                data: {
                    authorId: memberUsers[0].id,
                    commentId: supportComment.id,
                    content: 'Thank you so much. This community means everything to me.',
                    isApproved: true,
                },
            });
            // Encouraging comment on breakthrough post
            const encouragingComment = await prisma.comment.create({
                data: {
                    authorId: memberUsers[4].id,
                    postId: breakthroughPost.id,
                    content: 'This is amazing! I needed to read this today. You\'re inspiring me to keep my own therapy appointment tomorrow.',
                    isApproved: true,
                },
            });
            comments.push(encouragingComment);
            // Helpful comment on coping strategy
            const helpfulComment = await prisma.comment.create({
                data: {
                    authorId: moderatorUser.id,
                    postId: copingPost.id,
                    content: 'Thank you for sharing this technique! Grounding exercises are so helpful for managing depression symptoms. This is exactly the kind of resource sharing we love to see.',
                    isApproved: true,
                },
            });
            comments.push(helpfulComment);
            // === PHASE 5: HEARTS AND ENGAGEMENT ===
            // 8. Create hearts (likes) on posts
            await prisma.postHeart.createMany({
                data: [
                    { userId: memberUsers[1].id, postId: checkInPost.id },
                    { userId: memberUsers[2].id, postId: checkInPost.id },
                    { userId: memberUsers[3].id, postId: checkInPost.id },
                    { userId: memberUsers[4].id, postId: checkInPost.id },
                    { userId: moderatorUser.id, postId: checkInPost.id },
                    { userId: memberUsers[0].id, postId: breakthroughPost.id },
                    { userId: memberUsers[2].id, postId: breakthroughPost.id },
                    { userId: memberUsers[3].id, postId: breakthroughPost.id },
                    { userId: memberUsers[0].id, postId: copingPost.id },
                    { userId: memberUsers[1].id, postId: copingPost.id },
                    { userId: memberUsers[3].id, postId: copingPost.id },
                    { userId: memberUsers[4].id, postId: copingPost.id },
                    { userId: moderatorUser.id, postId: copingPost.id },
                ],
            });
            // 9. Create hearts on comments
            await prisma.commentHeart.createMany({
                data: [
                    { userId: memberUsers[0].id, commentId: supportComment.id },
                    { userId: memberUsers[1].id, commentId: supportComment.id },
                    { userId: memberUsers[2].id, commentId: supportComment.id },
                    { userId: memberUsers[1].id, commentId: encouragingComment.id },
                    { userId: memberUsers[2].id, commentId: encouragingComment.id },
                    { userId: memberUsers[0].id, commentId: helpfulComment.id },
                    { userId: memberUsers[1].id, commentId: helpfulComment.id },
                ],
            });
            // 10. Create hearts on replies
            await prisma.replyHeart.createMany({
                data: [
                    { userId: memberUsers[3].id, replyId: thankYouReply.id },
                    { userId: memberUsers[4].id, replyId: thankYouReply.id },
                    { userId: moderatorUser.id, replyId: thankYouReply.id },
                ],
            });
            // === PHASE 6: MODERATION ACTIVITY ===
            // 11. Create moderation activities (simulated content review)
            await prisma.auditLog.createMany({
                data: [
                    {
                        userId: moderatorUser.id,
                        action: 'CONTENT_APPROVED',
                        entity: 'Post',
                        entityId: checkInPost.id,
                        details: { reason: 'Appropriate content, supportive message' },
                        severity: 'INFO',
                    },
                    {
                        userId: moderatorUser.id,
                        action: 'CONTENT_APPROVED',
                        entity: 'Post',
                        entityId: breakthroughPost.id,
                        details: { reason: 'Positive content, encouraging message' },
                        severity: 'INFO',
                    },
                    {
                        userId: moderatorUser.id,
                        action: 'CONTENT_APPROVED',
                        entity: 'Post',
                        entityId: copingPost.id,
                        details: { reason: 'Valuable resource sharing, helpful content' },
                        severity: 'INFO',
                    },
                ],
            });
            // === COMPREHENSIVE VERIFICATION ===
            // Verify complete community workflow
            const completeCommunityWorkflow = await prisma.community.findUnique({
                where: { id: community.id },
                include: {
                    roomGroups: {
                        include: {
                            rooms: {
                                include: {
                                    posts: {
                                        include: {
                                            author: true,
                                            comments: {
                                                include: {
                                                    author: true,
                                                    replies: {
                                                        include: {
                                                            author: true,
                                                            hearts: true,
                                                        },
                                                    },
                                                    hearts: true,
                                                },
                                            },
                                            hearts: true,
                                        },
                                    },
                                },
                            },
                        },
                    },
                    memberships: {
                        include: {
                            user: true,
                        },
                    },
                },
            });
            // Count engagement metrics
            const totalPosts = completeCommunityWorkflow?.roomGroups
                .flatMap(rg => rg.rooms)
                .flatMap(r => r.posts).length || 0;
            const totalComments = completeCommunityWorkflow?.roomGroups
                .flatMap(rg => rg.rooms)
                .flatMap(r => r.posts)
                .flatMap(p => p.comments).length || 0;
            const totalReplies = completeCommunityWorkflow?.roomGroups
                .flatMap(rg => rg.rooms)
                .flatMap(r => r.posts)
                .flatMap(p => p.comments)
                .flatMap(c => c.replies).length || 0;
            const totalPostHearts = completeCommunityWorkflow?.roomGroups
                .flatMap(rg => rg.rooms)
                .flatMap(r => r.posts)
                .flatMap(p => p.hearts).length || 0;
            // Comprehensive assertions
            expect(completeCommunityWorkflow).toBeTruthy();
            expect(completeCommunityWorkflow?.memberships).toHaveLength(6); // 5 members + 1 moderator
            expect(completeCommunityWorkflow?.roomGroups).toHaveLength(3);
            expect(totalPosts).toBe(4);
            expect(totalComments).toBe(3);
            expect(totalReplies).toBe(1);
            expect(totalPostHearts).toBe(13);
            // Verify member roles
            // Note: Membership model does not have role field - roles are determined by User.role and ModeratorCommunity
            const memberIds = completeCommunityWorkflow?.memberships.map(m => m.userId);
            expect(memberIds).toBeDefined();
            expect(memberIds?.length).toBe(6); // 5 members + 1 moderator
            // Verify content distribution across rooms
            const roomPostCounts = completeCommunityWorkflow?.roomGroups
                .flatMap(rg => rg.rooms)
                .map(r => ({ name: r.name, posts: r.posts.length }));
            expect(roomPostCounts?.find(r => r.name === 'Daily Check-ins')?.posts).toBe(1);
            expect(roomPostCounts?.find(r => r.name === 'Breakthrough Moments')?.posts).toBe(1);
            expect(roomPostCounts?.find(r => r.name === 'Coping Strategies')?.posts).toBe(1);
            expect(roomPostCounts?.find(r => r.name === 'Community Updates')?.posts).toBe(1);
            console.log(`âœ… Complete Community Workflow Verified Successfully!
      ðŸ‘¥ Community Engagement Statistics:
        ðŸ˜ï¸  Community: ${completeCommunityWorkflow?.name}
        ðŸ‘¥ Total Members: ${completeCommunityWorkflow?.memberships.length}
        ðŸ  Room Groups: ${completeCommunityWorkflow?.roomGroups.length}
        ðŸ˜ï¸  Rooms: ${completeCommunityWorkflow?.roomGroups.flatMap(rg => rg.rooms).length}
        ðŸ“ Posts Created: ${totalPosts}
        ðŸ’¬ Comments: ${totalComments}
        ðŸ”— Replies: ${totalReplies}
        ðŸ’œ Post Hearts: ${totalPostHearts}
        ðŸ›¡ï¸  Moderator Actions: 3 content approvals
        ðŸ“Š Engagement Rate: ${((totalComments + totalReplies + totalPostHearts) / totalPosts).toFixed(1)} interactions per post
      `);
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvd2V0b29hL0RvY3VtZW50cy9jb2RlL3Byb2plY3RzL21lbnRhcmEvbWVudGFyYS1hcGkvc3JjL3Rlc3QtdXRpbHMvaW50ZWdyYXRpb24tdGVzdHMvY29tcGxleC13b3JrZmxvd3MuaW50ZWdyYXRpb24uc3BlYy50cyIsIm1hcHBpbmdzIjoiOztBQUFBLDZDQUFzRDtBQUV0RCxtRkFBdUU7QUFDdkUsZ0VBQTJEO0FBQzNELG9FQUE2RDtBQUU3RDs7Ozs7R0FLRztBQUNILFFBQVEsQ0FBQyw4QkFBOEIsRUFBRSxHQUFHLEVBQUU7SUFDNUMsSUFBSSxHQUFxQixDQUFDO0lBQzFCLElBQUksTUFBcUIsQ0FBQztJQUMxQixJQUFJLFNBQXdCLENBQUM7SUFFN0IsU0FBUyxDQUFDLEtBQUssSUFBSSxFQUFFO1FBQ25CLHNCQUFzQjtRQUN0QixNQUFNLEdBQUcsTUFBTSx1Q0FBaUIsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1FBRXJELFNBQVMsR0FBRyxNQUFNLGNBQUksQ0FBQyxtQkFBbUIsQ0FBQztZQUN6QyxTQUFTLEVBQUU7Z0JBQ1Q7b0JBQ0UsT0FBTyxFQUFFLHNDQUFhO29CQUN0QixRQUFRLEVBQUUsTUFBTTtpQkFDakI7YUFDRjtTQUNGLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUViLEdBQUcsR0FBRyxTQUFTLENBQUMscUJBQXFCLEVBQUUsQ0FBQztRQUN4QyxNQUFNLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNuQixDQUFDLENBQUMsQ0FBQztJQUVILFNBQVMsQ0FBQyxLQUFLLElBQUksRUFBRTtRQUNuQixpQ0FBaUM7UUFDakMsTUFBTSx1Q0FBaUIsQ0FBQyxlQUFlLEVBQUUsQ0FBQztJQUM1QyxDQUFDLENBQUMsQ0FBQztJQUVILFFBQVEsQ0FBQyxLQUFLLElBQUksRUFBRTtRQUNsQixNQUFNLHVDQUFpQixDQUFDLGFBQWEsRUFBRSxDQUFDO1FBQ3hDLE1BQU0sR0FBRyxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ2xCLE1BQU0sU0FBUyxDQUFDLEtBQUssRUFB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V0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxNQUFNLEVBQUUsV0FBVyxDQUFDLEVBQUUsRUFBRTtvQkFDckQsRUFBRSxNQUFNLEVBQUUsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxNQUFNLEVBQUUsV0FBVyxDQUFDLEVBQUUsRUFBRTtvQkFDckQsRUFBRSxNQUFNLEVBQUUsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxNQUFNLEVBQUUsV0FBVyxDQUFDLEVBQUUsRUFBRTtvQkFDckQsRUFBRSxNQUFNLEVBQUUsYUFBYSxDQUFDLEVBQUUsRUFBRSxNQUFNLEVBQUUsV0FBVyxDQUFDLEVBQUUsRUFBRTtvQkFDcEQsRUFBRSxNQUFNLEVBQUUsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxNQUFNLEVBQUUsZ0JBQWdCLENBQUMsRUFBRSxFQUFFO29CQUMxRCxFQUFFLE1BQU0sRUFBRSxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxnQkFBZ0IsQ0FBQyxFQUFFLEVBQUU7b0JBQzFELEVBQUUsTUFBTSxFQUFFLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsTUFBTSxFQUFFLGdCQUFnQixDQUFDLEVBQUUsRUFBRTtvQkFDMUQsRUFBRSxNQUFNLEVBQUUsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxNQUFNLEVBQUUsVUFBVSxDQUFDLEVBQUUsRUFBRTtvQkFDcEQsRUFBRSxNQUFNLEVBQUUsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxNQUFNLEVBQUUsVUFBVSxDQUFDLEVBQUUsRUFBRTtvQkFDcEQsRUFBRSxNQUFNLEVBQUUsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxNQUFNLEVBQUUsVUFBVSxDQUFDLEVBQUUsRUFBRTtvQkFDcEQsRUFBRSxNQUFNLEVBQUUsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxNQUFN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QyxFQUFFLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNwRixNQUFNLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLEtBQUssbUJBQW1CLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDakYsTUFBTSxDQUFDLGNBQWMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxLQUFLLG1CQUFtQixDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRWpGLE9BQU8sQ0FBQyxHQUFHLENBQUM7OzBCQUVRLHlCQUF5QixFQUFFLElBQUk7NEJBQzdCLHlCQUF5QixFQUFFLFdBQVcsQ0FBQyxNQUFNOzBCQUMvQyx5QkFBeUIsRUFBRSxVQUFVLENBQUMsTUFBTTtzQkFDaEQseUJBQXlCLEVBQUUsVUFBVSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNOzRCQUM5RCxVQUFVO3VCQUNmLGFBQWE7c0JBQ2QsWUFBWTswQkFDUixlQUFlOzs4QkFFWCxDQUFDLENBQUMsYUFBYSxHQUFHLFlBQVksR0FBRyxlQUFlLENBQUMsR0FBRyxVQUFVLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO09BQ2pHLENBQUMsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvaG9tZS93ZXRvb2EvRG9jdW1lbnRzL2NvZGUvcHJvamVjdHMvbWVudGFyYS9tZW50YXJhLWFwaS9zcmMvdGVzdC11dGlscy9pbnRlZ3JhdGlvbi10ZXN0cy9jb21wbGV4LXdvcmtmbG93cy5pbnRlZ3JhdGlvbi5zcGVjLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFRlc3QsIFRlc3RpbmdNb2R1bGUgfSBmcm9tICdAbmVzdGpzL3Rlc3RpbmcnO1xuaW1wb3J0IHsgSU5lc3RBcHBsaWNhdGlvbiB9IGZyb20gJ0BuZXN0anMvY29tbW9uJztcbmltcG9ydCB7IFByaXNtYVNlcnZpY2UgfSBmcm9tICcuLi8uLi9wcm92aWRlcnMvcHJpc21hLWNsaWVudC5wcm92aWRlcic7XG5pbXBvcnQgeyBEYXRhYmFzZVRlc3RTZXR1cCB9IGZyb20gJy4uL2RhdGFiYXNlLXRlc3Quc2V0dXAnO1xuaW1wb3J0IHsgVGVzdERhdGFHZW5lcmF0b3IgfSBmcm9tICcuLi9lbmhhbmNlZC10ZXN0LWhlbHBlcnMnO1xuXG4vKipcbiAqIENvbXBsZXggV29ya2Zsb3cgSW50ZWdyYXRpb24gVGVzdHNcbiAqIFxuICogRW5kLXRvLWVuZCBidXNpbmVzcyBwcm9jZXNzIHZhbGlkYXRpb24gdGVzdGluZyBjb21wbGV0ZSB1c2VyIGpvdXJuZXlzXG4gKiBmcm9tIG9uYm9hcmRpbmcgdGhyb3VnaCB0aGVyYXB5IHNlc3Npb25zIGFuZCBiZXlvbmQuXG4gKi9cbmRlc2NyaWJlKCdDb21wbGV4IFdvcmtmbG93IEludGVncmF0aW9uJywgKCkgPT4ge1xuICBsZXQgYXBwOiBJTmVzdEFwcGxpY2F0aW9uO1xuICBsZXQgcHJpc21hOiBQcmlzbWFTZXJ2aWNlO1xuICBsZXQgbW9kdWxlUmVmOiBUZXN0aW5nTW9kdWxlO1xuXG4gIGJlZm9yZUFsbChhc3luYyAoKSA9PiB7XG4gICAgLy8gU2V0dXAgdGVzdCBkYXRhYmFzZVxuICAgIHByaXNtYSA9IGF3YWl0IERhdGFiYXNlVGVzdFNldHVwLnNldHVwVGVzdERhdGFiYXNlKCk7XG5cbiAgICBtb2R1bGVSZWYgPSBhd2FpdCBUZXN0LmNyZWF0ZVRlc3RpbmdNb2R1bGUoe1xuICAgICAgcHJvdmlkZXJzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBwcm92aWRlOiBQcmlzbWFTZXJ2aWNlLFxuICAgICAgICAgIHVzZVZhbHVlOiBwcmlzbWEsXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgIH0pLmNvbXBpbGUoKTtcblxuICAgIGFwcCA9IG1vZHVsZVJlZi5jcmVhdGVOZXN0QXBwbGljYXRpb24oKTtcbiAgICBhd2FpdCBhcHAuaW5pdCgpO1xuICB9KTtcblxuICBhZnRlckVhY2goYXN5bmMgKCkgPT4ge1xuICAgIC8vIENsZWFuIGRhdGFiYXNlIGFmdGVyIGVhY2ggdGVzdFxuICAgIGF3YWl0IERhdGFiYXNlVGVzdFNldHVwLmNsZWFudXBEYXRhYmFzZSgpO1xuICB9KTtcblxuICBhZnRlckFsbChhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgRGF0YWJhc2VUZXN0U2V0dXAuc3RvcENvbnRhaW5lcigpO1xuICAgIGF3YWl0IGFwcC5jbG9zZSgpO1xuICAgIGF3YWl0IG1vZHVsZVJlZi5jbG9zZSgpO1xuICB9KTtcblxuICBkZXNjcmliZSgnQ29tcGxldGUgVXNlciBPbmJvYXJkaW5nIOKGkiBBc3Nlc3NtZW50IOKGkiBNYXRjaGluZyDihpIgQm9va2luZyDihpIgU2Vzc2lvbiBXb3JrZmxvdycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGV4ZWN1dGUgY29tcGxldGUgY2xpZW50IGpvdXJuZXkgZW5kLXRvLWVuZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICBcbiAgICAgIC8vID09PSBQSEFTRSAxOiBVU0VSIE9OQk9BUkRJTkcgPT09XG4gICAgICBjb25zb2xlLmxvZygn8J+agCBTdGFydGluZyBjb21wbGV0ZSBjbGllbnQgam91cm5leSB3b3JrZmxvdy4uLicpO1xuICAgICAgXG4gICAgICAvLyAxLiBDcmVhdGUgdXNlciBhY2NvdW50XG4gICAgICBjb25zdCBjbGllbnRVc2VyID0gYXdhaXQgcHJpc21hLnVzZXIuY3JlYXRlKHtcbiAgICAgICAgZGF0YTogVGVzdERhdGFHZW5lcmF0b3IuY3JlYXRlVXNlcih7XG4gICAgICAgICAgaWQ6ICdqb3VybmV5LWNsaWVudC0xMjMnLFxuICAgICAgICAgIGVtYWlsOiAnY2xpZW50LWpvdXJuZXlAbWVudGFyYS5jb20nLFxuICAgICAgICAgIGZpcnN0TmFtZTogJ0pvdXJuZXknLFxuICAgICAgICAgIGxhc3ROYW1lOiAnQ2xpZW50JyxcbiAgICAgICAgICByb2xlOiAnY2xpZW50JyxcbiAgICAgICAgICBpc0FjdGl2ZTogdHJ1ZSxcbiAgICAgICAgICBlbWFpbFZlcmlmaWVkOiBmYWxzZSxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgLy8gMi4gQ3JlYXRlIGNsaWVudCBwcm9maWxlXG4gICAgICBjb25zdCBjbGllbnQgPSBhd2FpdCBwcmlzbWEuY2xpZW50LmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICB1c2VySWQ6IGNsaWVudFVzZXIuaWQsXG4gICAgICAgICAgaGFzU2VlblRoZXJhcGlzdFJlY29tbWVuZGF0aW9uczogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gMy4gU2V0dXAgbm90aWZpY2F0aW9uIHByZWZlcmVuY2VzXG4gICAgICBjb25zdCBub3RpZmljYXRpb25TZXR0aW5ncyA9IGF3YWl0IHByaXNtYS5ub3RpZmljYXRpb25TZXR0aW5ncy5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdXNlcklkOiBjbGllbnRVc2VyLmlkLFxuICAgICAgICAgIGVtYWlsTm90aWZpY2F0aW9uczogdHJ1ZSxcbiAgICAgICAgICBwdXNoTm90aWZpY2F0aW9uczogdHJ1ZSxcbiAgICAgICAgICBzbXNOb3RpZmljYXRpb25zOiBmYWxzZSxcbiAgICAgICAgICBtYXJrZXRpbmdFbWFpbHM6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gNC4gQ3JlYXRlIG1lZGljYWwgaGlzdG9yeVxuICAgICAgY29uc3QgbWVkaWNhbEhpc3RvcmllcyA9IGF3YWl0IHByaXNtYS5jbGllbnRNZWRpY2FsSGlzdG9yeS5jcmVhdGVNYW55KHtcbiAgICAgICAgZGF0YTogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNsaWVudElkOiBjbGllbnQudXNlcklkLFxuICAgICAgICAgICAgY29uZGl0aW9uOiAnR2VuZXJhbGl6ZWQgQW54aWV0eSBEaXNvcmRlcicsXG4gICAgICAgICAgICBub3RlczogJ0RpYWdub3NlZCBpbiAyMDIwLCBjdXJyZW50bHkgbWFuYWdpbmcgd2l0aCB0aGVyYXB5JyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNsaWVudElkOiBjbGllbnQudXNlcklkLFxuICAgICAgICAgICAgY29uZGl0aW9uOiAnTWFqb3IgRGVwcmVzc2l2ZSBEaXNvcmRlcicsXG4gICAgICAgICAgICBub3RlczogJ0VwaXNvZGljLCByZXNwb25zaXZlIHRvIENCVCB0cmVhdG1lbnQnLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICB9KTtcblxuICAgICAgLy8gNS4gU2V0IGNsaWVudCBwcmVmZXJlbmNlc1xuICAgICAgY29uc3QgcHJlZmVyZW5jZXMgPSBhd2FpdCBwcmlzbWEuY2xpZW50UHJlZmVyZW5jZS5jcmVhdGVNYW55KHtcbiAgICAgICAgZGF0YTogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNsaWVudElkOiBjbGllbnQudXNlcklkLFxuICAgICAgICAgICAga2V5OiAncHJlZmVycmVkX3Nlc3Npb25fdGltZScsXG4gICAgICAgICAgICB2YWx1ZTogJ21vcm5pbmcnLFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgY2xpZW50SWQ6IGNsaWVudC51c2VySWQsXG4gICAgICAgICAgICBrZXk6ICdzZXNzaW9uX2ZyZXF1ZW5jeScsXG4gICAgICAgICAgICB2YWx1ZTogJ3dlZWtseScsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjbGllbnRJZDogY2xpZW50LnVzZXJJZCxcbiAgICAgICAgICAgIGtleTogJ3RoZXJhcGV1dGljX2FwcHJvYWNoJyxcbiAgICAgICAgICAgIHZhbHVlOiAnQ0JUJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNsaWVudElkOiBjbGllbnQudXNlcklkLFxuICAgICAgICAgICAga2V5OiAndGhlcmFwaXN0X2dlbmRlcl9wcmVmZXJlbmNlJyxcbiAgICAgICAgICAgIHZhbHVlOiAnbm9fcHJlZmVyZW5jZScsXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyA9PT0gUEhBU0UgMjogTUVOVEFMIEhFQUxUSCBBU1NFU1NNRU5UID09PVxuICAgICAgXG4gICAgICAvLyA2LiBDcmVhdGUgY29tcHJlaGVuc2l2ZSBwcmUtYXNzZXNzbWVudFxuICAgICAgY29uc3QgcHJlQXNzZXNzbWVudCA9IGF3YWl0IHByaXNtYS5wcmVBc3Nlc3NtZW50LmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICB1c2VySWQ6IGNsaWVudFVzZXIuaWQsXG4gICAgICAgICAgcXVlc3Rpb25uYWlyZXM6IHtcbiAgICAgICAgICAgIFBIUTk6IFsyLCAzLCAyLCAxLCAzLCAyLCAzLCAyLCAxXSwgLy8gRGVwcmVzc2lvbiBzY3JlZW5pbmdcbiAgICAgICAgICAgIEdBRDc6IFszLCAyLCAzLCAzLCAyLCAyLCAzXSwgLy8gQW54aWV0eSBzY3JlZW5pbmdcbiAgICAgICAgICAgIFBDTDU6IFsxLCAyLCAxLCAwLCAyLCAzLCAyLCAxLCAyLCAzLCAxLCAyLCAyLCAxLCAzLCAyLCAxLCAyLCAxLCAyXSwgLy8gUFRTRCBzY3JlZW5pbmdcbiAgICAgICAgICAgIERBU1MyMTogWzIsIDEsIDMsIDIsIDEsIDIsIDMsIDIsIDEsIDIsIDMsIDEsIDIsIDIsIDEsIDMsIDIsIDEsIDIsIDEsIDJdLCAvLyBEZXByZXNzaW9uLCBBbnhpZXR5LCBTdHJlc3NcbiAgICAgICAgICAgIFdIT1FPTDogWzMsIDQsIDMsIDQsIDMsIDMsIDQsIDMsIDQsIDMsIDMsIDQsIDMsIDMsIDQsIDMsIDQsIDMsIDMsIDQsIDMsIDQsIDMsIDMsIDRdLCAvLyBRdWFsaXR5IG9mIGxpZmVcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNjb3Jlczoge1xuICAgICAgICAgICAgZGVwcmVzc2lvbjogMTgsIC8vIE1vZGVyYXRlIGRlcHJlc3Npb25cbiAgICAgICAgICAgIGFueGlldHk6IDE2LCAvLyBNb2RlcmF0ZSBhbnhpZXR5XG4gICAgICAgICAgICBwdHNkOiAxMiwgLy8gTWlsZCBQVFNEIHN5bXB0b21zXG4gICAgICAgICAgICBzdHJlc3M6IDE0LCAvLyBNb2RlcmF0ZSBzdHJlc3NcbiAgICAgICAgICAgIHF1YWxpdHlPZkxpZmU6IDg1LCAvLyBHb29kIHF1YWxpdHkgb2YgbGlmZVxuICAgICAgICAgICAgb3ZlcmFsbFNldmVyaXR5OiAnbW9kZXJhdGUnLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgc2V2ZXJpdHlMZXZlbHM6IHtcbiAgICAgICAgICAgIGRlcHJlc3Npb246ICdtb2RlcmF0ZScsXG4gICAgICAgICAgICBhbnhpZXR5OiAnbW9kZXJhdGUnLFxuICAgICAgICAgICAgcHRzZDogJ21pbGQnLFxuICAgICAgICAgICAgc3RyZXNzOiAnbW9kZXJhdGUnLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVjb21tZW5kYXRpb25zOiBbXG4gICAgICAgICAgICAnQ0JUIHRoZXJhcHkgcmVjb21tZW5kZWQgZm9yIGFueGlldHkgYW5kIGRlcHJlc3Npb24nLFxuICAgICAgICAgICAgJ0VNRFIgY29uc2lkZXJhdGlvbiBmb3IgUFRTRCBzeW1wdG9tcycsXG4gICAgICAgICAgICAnU3RyZXNzIG1hbmFnZW1lbnQgdGVjaG5pcXVlcycsXG4gICAgICAgICAgICAnUmVndWxhciB0aGVyYXB5IHNlc3Npb25zIHJlY29tbWVuZGVkJyxcbiAgICAgICAgICBdLFxuICAgICAgICAgIHN0YXR1czogJ0NPTVBMRVRFRCcsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gPT09IFBIQVNFIDM6IFRIRVJBUElTVCBNQVRDSElORyAmIFJFQ09NTUVOREFUSU9OUyA9PT1cbiAgICAgIFxuICAgICAgLy8gNy4gQ3JlYXRlIHRoZXJhcGlzdCBwcm9maWxlcyBmb3IgbWF0Y2hpbmdcbiAgICAgIGNvbnN0IHRoZXJhcGlzdFByb2ZpbGVzID0gW107XG4gICAgICBcbiAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IDM7IGkrKykge1xuICAgICAgICBjb25zdCB0aGVyYXBpc3RVc2VyID0gYXdhaXQgcHJpc21hLnVzZXIuY3JlYXRlKHtcbiAgICAgICAgICBkYXRhOiBUZXN0RGF0YUdlbmVyYXRvci5jcmVhdGVVc2VyKHtcbiAgICAgICAgICAgIGlkOiBgam91cm5leS10aGVyYXBpc3QtJHtpfWAsXG4gICAgICAgICAgICBlbWFpbDogYHRoZXJhcGlzdCR7aX0tam91cm5leUBtZW50YXJhLmNvbWAsXG4gICAgICAgICAgICBmaXJzdE5hbWU6IGBEci4gVGhlcmFwaXN0JHtpfWAsXG4gICAgICAgICAgICBsYXN0TmFtZTogJ1Byb2Zlc3Npb25hbCcsXG4gICAgICAgICAgICByb2xlOiAndGhlcmFwaXN0JyxcbiAgICAgICAgICAgIGlzQWN0aXZlOiB0cnVlLFxuICAgICAgICAgICAgZW1haWxWZXJpZmllZDogdHJ1ZSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgdGhlcmFwaXN0ID0gYXdhaXQgcHJpc21hLnRoZXJhcGlzdC5jcmVhdGUoe1xuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHVzZXJJZDogdGhlcmFwaXN0VXNlci5pZCxcbiAgICAgICAgICAgIG1vYmlsZTogYCsxMjM0NTY3ODkke2l9YCxcbiAgICAgICAgICAgIHByb3ZpbmNlOiAnT250YXJpbycsXG4gICAgICAgICAgICBwcm92aWRlclR5cGU6ICdDbGluaWNhbCBQc3ljaG9sb2dpc3QnLFxuICAgICAgICAgICAgcHJvZmVzc2lvbmFsTGljZW5zZVR5cGU6ICdMaWNlbnNlZCcsXG4gICAgICAgICAgICBpc1BSQ0xpY2Vuc2VkOiAneWVzJyxcbiAgICAgICAgICAgIHByY0xpY2Vuc2VOdW1iZXI6IGBQUkMxMjM0NSR7aX1gLFxuICAgICAgICAgICAgcHJhY3RpY2VTdGFydERhdGU6IG5ldyBEYXRlKCcyMDIwLTAxLTAxJyksXG4gICAgICAgICAgICB5ZWFyc09mRXhwZXJpZW5jZTogNSArIGksXG4gICAgICAgICAgICBhcmVhc09mRXhwZXJ0aXNlOiBpID09PSAxID8gWydBbnhpZXR5JywgJ0RlcHJlc3Npb24nLCAnQ0JUJ10gOiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9PT0gMiA/IFsnUFRTRCcsICdUcmF1bWEnLCAnRU1EUiddIDogXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIFsnU3RyZXNzIE1hbmFnZW1lbnQnLCAnTWluZGZ1bG5lc3MnLCAnQUNUJ10sXG4gICAgICAgICAgICBhc3Nlc3NtZW50VG9vbHM6IFsnUEhRLTknLCAnR0FELTcnLCAnUENMLTUnXS5zbGljZSgwLCBpICsgMSksXG4gICAgICAgICAgICB0aGVyYXBldXRpY0FwcHJvYWNoZXNVc2VkTGlzdDogaSA9PT0gMSA/IFsnQ0JUJywgJ0RCVCddIDogXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPT09IDIgPyBbJ0VNRFInLCAnVHJhdW1hLUluZm9ybWVkIENCVCddIDogXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFsnQUNUJywgJ01pbmRmdWxuZXNzLUJhc2VkIFRoZXJhcHknXSxcbiAgICAgICAgICAgIGxhbmd1YWdlc09mZmVyZWQ6IFsnRW5nbGlzaCddLFxuICAgICAgICAgICAgcHJvdmlkZWRPbmxpbmVUaGVyYXB5QmVmb3JlOiB0cnVlLFxuICAgICAgICAgICAgY29tZm9ydGFibGVVc2luZ1ZpZGVvQ29uZmVyZW5jaW5nOiB0cnVlLFxuICAgICAgICAgICAgcHJlZmVycmVkU2Vzc2lvbkxlbmd0aDogWzYwXSxcbiAgICAgICAgICAgIGFjY2VwdFR5cGVzOiBbJ0luZGl2aWR1YWwnXSxcbiAgICAgICAgICAgIHN0YXR1czogJ2FwcHJvdmVkJyxcbiAgICAgICAgICAgIGhvdXJseVJhdGU6IDEyMCArIChpICogMzApLFxuICAgICAgICAgICAgZXhwaXJhdGlvbkRhdGVPZkxpY2Vuc2U6IG5ldyBEYXRlKCcyMDI1LTAxLTAxJyksXG4gICAgICAgICAgICBjb21wbGllc1dpdGhEYXRhUHJpdmFjeUFjdDogdHJ1ZSxcbiAgICAgICAgICAgIHdpbGxpbmdUb0FiaWRlQnlQbGF0Zm9ybUd1aWRlbGluZXM6IHRydWUsXG4gICAgICAgICAgICB0cmVhdG1lbnRTdWNjZXNzUmF0ZXM6IHtcbiAgICAgICAgICAgICAgYW54aWV0eTogMC44NSArIChpICogMC4wNSksXG4gICAgICAgICAgICAgIGRlcHJlc3Npb246IDAuODAgKyAoaSAqIDAuMDUpLFxuICAgICAgICAgICAgICBwdHNkOiAwLjc1ICsgKGkgKiAwLjA1KSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXNzaW9uTGVuZ3RoOiAnNjAgbWludXRlcycsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhlcmFwaXN0UHJvZmlsZXMucHVzaCh7IHVzZXI6IHRoZXJhcGlzdFVzZXIsIHRoZXJhcGlzdCB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gOC4gQ3JlYXRlIG1hdGNoaW5nIGFuYWx5dGljcyBhbmQgcmVjb21tZW5kYXRpb25zXG4gICAgICBjb25zdCBzZWxlY3RlZFRoZXJhcGlzdCA9IHRoZXJhcGlzdFByb2ZpbGVzWzBdOyAvLyBCZXN0IG1hdGNoXG4gICAgICBcbiAgICAgIGNvbnN0IG1hdGNoSGlzdG9yeSA9IGF3YWl0IHByaXNtYS5tYXRjaEhpc3RvcnkuY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGNsaWVudElkOiBjbGllbnQudXNlcklkLFxuICAgICAgICAgIHRoZXJhcGlzdElkOiBzZWxlY3RlZFRoZXJhcGlzdC50aGVyYXBpc3QudXNlcklkLFxuICAgICAgICAgIHRvdGFsU2NvcmU6IDkyLFxuICAgICAgICAgIGNvbmRpdGlvblNjb3JlOiA5NSwgLy8gRXhjZWxsZW50IG1hdGNoIGZvciBhbnhpZXR5L2RlcHJlc3Npb25cbiAgICAgICAgICBhcHByb2FjaFNjb3JlOiA5MCwgLy8gQ0JUIGFwcHJvYWNoIG1hdGNoZXMgY2xpZW50IHByZWZlcmVuY2VcbiAgICAgICAgICBleHBlcmllbmNlU2NvcmU6IDg4LCAvLyBHb29kIGV4cGVyaWVuY2UgbGV2ZWxcbiAgICAgICAgICByZXZpZXdTY29yZTogODUsIC8vIEdvb2QgcmV2aWV3c1xuICAgICAgICAgIGxvZ2lzdGljc1Njb3JlOiA5MCwgLy8gU2NoZWR1bGUgY29tcGF0aWJpbGl0eVxuICAgICAgICAgIGNvbXBhdGliaWxpdHlTY29yZTogODksXG4gICAgICAgICAgcHJpbWFyeU1hdGNoZXM6IFsnQW54aWV0eScsICdEZXByZXNzaW9uJ10sXG4gICAgICAgICAgc2Vjb25kYXJ5TWF0Y2hlczogWydTdHJlc3MgTWFuYWdlbWVudCddLFxuICAgICAgICAgIGFwcHJvYWNoTWF0Y2hlczogWydDQlQnLCAnREJUJ10sXG4gICAgICAgICAgcmVjb21tZW5kYXRpb25SYW5rOiAxLFxuICAgICAgICAgIHRvdGFsUmVjb21tZW5kYXRpb25zOiAzLFxuICAgICAgICAgIHdhc1ZpZXdlZDogdHJ1ZSxcbiAgICAgICAgICB3YXNDb250YWN0ZWQ6IHRydWUsXG4gICAgICAgICAgYmVjYW1lQ2xpZW50OiB0cnVlLFxuICAgICAgICAgIHNlc3Npb25Db3VudDogMCwgLy8gV2lsbCBiZSB1cGRhdGVkIGxhdGVyXG4gICAgICAgICAgcmVjb21tZW5kYXRpb25BbGdvcml0aG06ICdhZHZhbmNlZF9tbCcsXG4gICAgICAgICAgdXNlckFnZW50OiAnTW96aWxsYS81LjAgKE1hY2ludG9zaDsgSW50ZWwgTWFjIE9TIFggMTBfMTVfNyknLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIDkuIENyZWF0ZSBjbGllbnQgY29tcGF0aWJpbGl0eSBhbmFseXNpc1xuICAgICAgY29uc3QgY29tcGF0aWJpbGl0eSA9IGF3YWl0IHByaXNtYS5jbGllbnRDb21wYXRpYmlsaXR5LmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBjbGllbnRJZDogY2xpZW50LnVzZXJJZCxcbiAgICAgICAgICB0aGVyYXBpc3RJZDogc2VsZWN0ZWRUaGVyYXBpc3QudGhlcmFwaXN0LnVzZXJJZCxcbiAgICAgICAgICBwZXJzb25hbGl0eUNvbXBhdGliaWxpdHk6IDg4LFxuICAgICAgICAgIHNlc3Npb25Db21wYXRpYmlsaXR5OiA5MixcbiAgICAgICAgICBkZW1vZ3JhcGhpY0NvbXBhdGliaWxpdHk6IDg1LFxuICAgICAgICAgIG92ZXJhbGxDb21wYXRpYmlsaXR5OiA4OSxcbiAgICAgICAgICBjb21tdW5pY2F0aW9uU3R5bGVTY29yZTogOTAsXG4gICAgICAgICAgcGVyc29uYWxpdHlNYXRjaFNjb3JlOiA4NixcbiAgICAgICAgICBjdWx0dXJhbENvbXBhdGliaWxpdHlTY29yZTogODUsXG4gICAgICAgICAgZm9ybWF0TWF0Y2hTY29yZTogOTUsXG4gICAgICAgICAgZHVyYXRpb25NYXRjaFNjb3JlOiA5MCxcbiAgICAgICAgICBmcmVxdWVuY3lNYXRjaFNjb3JlOiA4OCxcbiAgICAgICAgICBzY2hlZHVsaW5nQ29tcGF0aWJpbGl0eVNjb3JlOiA5MixcbiAgICAgICAgICBhZ2VDb21wYXRpYmlsaXR5U2NvcmU6IDgwLFxuICAgICAgICAgIGdlbmRlckNvbXBhdGliaWxpdHlTY29yZTogODUsXG4gICAgICAgICAgbGFuZ3VhZ2VDb21wYXRpYmlsaXR5U2NvcmU6IDEwMCxcbiAgICAgICAgICBzdHJlbmd0aHM6IFtcbiAgICAgICAgICAgICdFeGNlbGxlbnQgdGhlcmFwZXV0aWMgYXBwcm9hY2ggbWF0Y2ggKENCVCknLFxuICAgICAgICAgICAgJ1N0cm9uZyBleHBlcmllbmNlIHdpdGggYW54aWV0eSBhbmQgZGVwcmVzc2lvbicsXG4gICAgICAgICAgICAnQ29tcGF0aWJsZSBzZXNzaW9uIHNjaGVkdWxpbmcgcHJlZmVyZW5jZXMnLFxuICAgICAgICAgICAgJ0hpZ2ggdHJlYXRtZW50IHN1Y2Nlc3MgcmF0ZXMnLFxuICAgICAgICAgIF0sXG4gICAgICAgICAgY29uY2VybnM6IFtcbiAgICAgICAgICAgICdDb25zaWRlciBjdWx0dXJhbCBiYWNrZ3JvdW5kIGFsaWdubWVudCcsXG4gICAgICAgICAgXSxcbiAgICAgICAgICByZWNvbW1lbmRhdGlvbnM6IFtcbiAgICAgICAgICAgICdTdGFydCB3aXRoIHdlZWtseSBDQlQgc2Vzc2lvbnMnLFxuICAgICAgICAgICAgJ0ZvY3VzIG9uIGFueGlldHkgbWFuYWdlbWVudCB0ZWNobmlxdWVzJyxcbiAgICAgICAgICAgICdNb25pdG9yIGRlcHJlc3Npb24gc3ltcHRvbXMgY2xvc2VseScsXG4gICAgICAgICAgICAnQ29uc2lkZXIgREJUIHNraWxscyBpbnRlZ3JhdGlvbicsXG4gICAgICAgICAgXSxcbiAgICAgICAgICBhbmFseXNpc1ZlcnNpb246ICczLjEnLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIDEwLiBVcGRhdGUgY2xpZW50IHRvIHNob3cgdGhleSd2ZSBzZWVuIHJlY29tbWVuZGF0aW9uc1xuICAgICAgYXdhaXQgcHJpc21hLmNsaWVudC51cGRhdGUoe1xuICAgICAgICB3aGVyZTogeyB1c2VySWQ6IGNsaWVudC51c2VySWQgfSxcbiAgICAgICAgZGF0YTogeyBoYXNTZWVuVGhlcmFwaXN0UmVjb21tZW5kYXRpb25zOiB0cnVlIH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gPT09IFBIQVNFIDQ6IFRIRVJBUElTVCBBU1NJR05NRU5UICYgQk9PS0lORyA9PT1cbiAgICAgIFxuICAgICAgLy8gMTEuIENyZWF0ZSBjbGllbnQtdGhlcmFwaXN0IGFzc2lnbm1lbnRcbiAgICAgIGNvbnN0IGFzc2lnbm1lbnQgPSBhd2FpdCBwcmlzbWEuY2xpZW50VGhlcmFwaXN0LmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBjbGllbnRJZDogY2xpZW50LnVzZXJJZCxcbiAgICAgICAgICB0aGVyYXBpc3RJZDogc2VsZWN0ZWRUaGVyYXBpc3QudGhlcmFwaXN0LnVzZXJJZCxcbiAgICAgICAgICBub3RlczogJ01hdGNoZWQgYmFzZWQgb24gQ0JUIGV4cGVydGlzZSBhbmQgYW54aWV0eS9kZXByZXNzaW9uIHNwZWNpYWxpemF0aW9uJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyAxMi4gQ3JlYXRlIHRoZXJhcHkgc2Vzc2lvbnNcbiAgICAgIGNvbnN0IHNlc3Npb25zID0gW107XG4gICAgICBjb25zdCBzZXNzaW9uRGF0ZXMgPSBbXG4gICAgICAgIG5ldyBEYXRlKCcyMDI0LTEyLTAxVDEwOjAwOjAwWicpLFxuICAgICAgICBuZXcgRGF0ZSgnMjAyNC0xMi0wOFQxMDowMDowMFonKSxcbiAgICAgICAgbmV3IERhdGUoJzIwMjQtMTItMTVUMTA6MDA6MDBaJyksXG4gICAgICAgIG5ldyBEYXRlKCcyMDI0LTEyLTIyVDEwOjAwOjAwWicpLFxuICAgICAgXTtcblxuICAgICAgZm9yIChjb25zdCBbaW5kZXgsIHNlc3Npb25EYXRlXSBvZiBzZXNzaW9uRGF0ZXMuZW50cmllcygpKSB7XG4gICAgICAgIGNvbnN0IG1lZXRpbmcgPSBhd2FpdCBwcmlzbWEubWVldGluZy5jcmVhdGUoe1xuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGNsaWVudElkOiBjbGllbnQudXNlcklkLFxuICAgICAgICAgICAgdGhlcmFwaXN0SWQ6IHNlbGVjdGVkVGhlcmFwaXN0LnRoZXJhcGlzdC51c2VySWQsXG4gICAgICAgICAgICBzdGFydFRpbWU6IHNlc3Npb25EYXRlLFxuICAgICAgICAgICAgZHVyYXRpb246IDYwLFxuICAgICAgICAgICAgc3RhdHVzOiBpbmRleCA8IDIgPyAnQ09NUExFVEVEJyA6ICdTQ0hFRFVMRUQnLFxuICAgICAgICAgICAgbWVldGluZ1R5cGU6ICd2aWRlbycsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogYFNlc3Npb24gJHtpbmRleCArIDF9OiAke1xuICAgICAgICAgICAgICBpbmRleCA9PT0gMCA/ICdJbml0aWFsIEFzc2Vzc21lbnQgYW5kIEdvYWwgU2V0dGluZycgOlxuICAgICAgICAgICAgICBpbmRleCA9PT0gMSA/ICdDQlQgVGVjaG5pcXVlcyBmb3IgQW54aWV0eSBNYW5hZ2VtZW50JyA6XG4gICAgICAgICAgICAgIGluZGV4ID09PSAyID8gJ0RlcHJlc3Npb24gQ29waW5nIFN0cmF0ZWdpZXMnIDpcbiAgICAgICAgICAgICAgJ1Byb2dyZXNzIFJldmlldyBhbmQgRnV0dXJlIFBsYW5uaW5nJ1xuICAgICAgICAgICAgfWAsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2Vzc2lvbnMucHVzaChtZWV0aW5nKTtcblxuICAgICAgICAvLyBDcmVhdGUgc2Vzc2lvbiBsb2dzIGZvciBjb21wbGV0ZWQgc2Vzc2lvbnNcbiAgICAgICAgaWYgKGluZGV4IDwgMikge1xuICAgICAgICAgIGNvbnN0IHNlc3Npb25Mb2cgPSBhd2FpdCBwcmlzbWEuc2Vzc2lvbkxvZy5jcmVhdGUoe1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICBjbGllbnRJZDogY2xpZW50LnVzZXJJZCxcbiAgICAgICAgICAgICAgbWVldGluZ0lkOiBtZWV0aW5nLmlkLFxuICAgICAgICAgICAgICBzZXNzaW9uRGF0ZTogc2Vzc2lvbkRhdGUsXG4gICAgICAgICAgICAgIGR1cmF0aW9uOiA2MCxcbiAgICAgICAgICAgICAgc2Vzc2lvblR5cGU6ICdJbmRpdmlkdWFsJyxcbiAgICAgICAgICAgICAgbm90ZXM6IGluZGV4ID09PSAwIFxuICAgICAgICAgICAgICAgID8gJ0NsaWVudCBwcmVzZW50ZWQgd2l0aCBtb2RlcmF0ZSBhbnhpZXR5IGFuZCBkZXByZXNzaW9uLiBFc3RhYmxpc2hlZCB0aGVyYXBldXRpYyBnb2FscyBhbmQgaW50cm9kdWNlZCBDQlQgY29uY2VwdHMuIEdvb2QgcmFwcG9ydCBlc3RhYmxpc2hlZC4nXG4gICAgICAgICAgICAgICAgOiAnQ29udGludWVkIENCVCB3b3JrIG9uIGFueGlldHkgbWFuYWdlbWVudC4gQ2xpZW50IHByYWN0aWNlZCBicmVhdGhpbmcgdGVjaG5pcXVlcyBhbmQgY29nbml0aXZlIHJlc3RydWN0dXJpbmcuIFNob3dpbmcgaW1wcm92ZW1lbnQgaW4gYW54aWV0eSBzeW1wdG9tcy4nLFxuICAgICAgICAgICAgICBtb29kOiBpbmRleCA9PT0gMCA/ICdhbnhpb3VzJyA6ICdpbXByb3ZpbmcnLFxuICAgICAgICAgICAgICBwcm9ncmVzczogaW5kZXggPT09IDAgPyAnYmFzZWxpbmUnIDogJ2dvb2QnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyA9PT0gUEhBU0UgNTogT05HT0lORyBUSEVSQVBZICYgRkVFREJBQ0sgPT09XG4gICAgICBcbiAgICAgIC8vIDEzLiBDcmVhdGUgcmV2aWV3IGFuZCBmZWVkYmFja1xuICAgICAgY29uc3QgcmV2aWV3ID0gYXdhaXQgcHJpc21hLnJldmlldy5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgY2xpZW50SWQ6IGNsaWVudC51c2VySWQsXG4gICAgICAgICAgdGhlcmFwaXN0SWQ6IHNlbGVjdGVkVGhlcmFwaXN0LnRoZXJhcGlzdC51c2VySWQsXG4gICAgICAgICAgcmF0aW5nOiA1LFxuICAgICAgICAgIGNvbW1lbnQ6ICdEci4gVGhlcmFwaXN0MSBoYXMgYmVlbiBpbmNyZWRpYmx5IGhlbHBmdWwuIFRoZSBDQlQgdGVjaG5pcXVlcyBoYXZlIHJlYWxseSBoZWxwZWQgbWUgbWFuYWdlIG15IGFueGlldHksIGFuZCBJIGZlZWwgbW9yZSBob3BlZnVsIGFib3V0IG15IGRlcHJlc3Npb24uJyxcbiAgICAgICAgICBpc0Fub255bW91czogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gMTQuIENyZWF0ZSByZWNvbW1lbmRhdGlvbiBmZWVkYmFja1xuICAgICAgY29uc3QgZmVlZGJhY2sgPSBhd2FpdCBwcmlzbWEucmVjb21tZW5kYXRpb25GZWVkYmFjay5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgY2xpZW50SWQ6IGNsaWVudC51c2VySWQsXG4gICAgICAgICAgdGhlcmFwaXN0SWQ6IHNlbGVjdGVkVGhlcmFwaXN0LnRoZXJhcGlzdC51c2VySWQsXG4gICAgICAgICAgbWF0Y2hIaXN0b3J5SWQ6IG1hdGNoSGlzdG9yeS5pZCxcbiAgICAgICAgICByZWxldmFuY2VTY29yZTogNSxcbiAgICAgICAgICBhY2N1cmFjeVNjb3JlOiA1LFxuICAgICAgICAgIGhlbHBmdWxuZXNzU2NvcmU6IDUsXG4gICAgICAgICAgZmVlZGJhY2tUZXh0OiAnVGhlIHJlY29tbWVuZGF0aW9uIHdhcyBwZXJmZWN0ISBUaGUgdGhlcmFwaXN0IHNwZWNpYWxpemVzIGV4YWN0bHkgaW4gd2hhdCBJIG5lZWRlZCBoZWxwIHdpdGguJyxcbiAgICAgICAgICBzZWxlY3RlZFRoZXJhcGlzdDogdHJ1ZSxcbiAgICAgICAgICBoYWRJbml0aWFsU2Vzc2lvbjogdHJ1ZSxcbiAgICAgICAgICBjb250aW51ZWRUaGVyYXB5OiB0cnVlLFxuICAgICAgICAgIG92ZXJhbGxTYXRpc2ZhY3Rpb246IDUsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gMTUuIFVwZGF0ZSBtYXRjaCBoaXN0b3J5IHdpdGggc2Vzc2lvbiBwcm9ncmVzc1xuICAgICAgYXdhaXQgcHJpc21hLm1hdGNoSGlzdG9yeS51cGRhdGUoe1xuICAgICAgICB3aGVyZTogeyBpZDogbWF0Y2hIaXN0b3J5LmlkIH0sXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBzZXNzaW9uQ291bnQ6IDIsIC8vIFR3byBjb21wbGV0ZWQgc2Vzc2lvbnNcbiAgICAgICAgICBjbGllbnRTYXRpc2ZhY3Rpb25TY29yZTogNSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyA9PT0gUEhBU0UgNjogQ09NTVVOSVRZIEVOR0FHRU1FTlQgPT09XG4gICAgICBcbiAgICAgIC8vIDE2LiBDcmVhdGUgY29tbXVuaXR5IGFuZCB1c2VyIHBhcnRpY2lwYXRpb25cbiAgICAgIGNvbnN0IGNvbW11bml0eSA9IGF3YWl0IHByaXNtYS5jb21tdW5pdHkuY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIG5hbWU6ICdBbnhpZXR5IFN1cHBvcnQgR3JvdXAnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQSBzdXBwb3J0aXZlIGNvbW11bml0eSBmb3IgcGVvcGxlIG1hbmFnaW5nIGFueGlldHknLFxuICAgICAgICAgIGlzUHJpdmF0ZTogZmFsc2UsXG4gICAgICAgICAgbWVtYmVyTGltaXQ6IDUwLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJvb21Hcm91cCA9IGF3YWl0IHByaXNtYS5yb29tR3JvdXAuY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGNvbW11bml0eUlkOiBjb21tdW5pdHkuaWQsXG4gICAgICAgICAgbmFtZTogJ0dlbmVyYWwgU3VwcG9ydCcsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdHZW5lcmFsIGRpc2N1c3Npb25zIGFuZCBzdXBwb3J0JyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByb29tID0gYXdhaXQgcHJpc21hLnJvb20uY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGNvbW11bml0eUlkOiBjb21tdW5pdHkuaWQsXG4gICAgICAgICAgcm9vbUdyb3VwSWQ6IHJvb21Hcm91cC5pZCxcbiAgICAgICAgICBuYW1lOiAnRGFpbHkgQ2hlY2staW5zJyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ1NoYXJlIHlvdXIgZGFpbHkgcHJvZ3Jlc3MgYW5kIGNoYWxsZW5nZXMnLFxuICAgICAgICAgIHBvc3RpbmdSb2xlOiAnTUVNQkVSJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyAxNy4gSm9pbiBjb21tdW5pdHlcbiAgICAgIGNvbnN0IG1lbWJlcnNoaXAgPSBhd2FpdCBwcmlzbWEubWVtYmVyc2hpcC5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdXNlcklkOiBjbGllbnRVc2VyLmlkLFxuICAgICAgICAgIGNvbW11bml0eUlkOiBjb21tdW5pdHkuaWQsXG4gICAgICAgICAgcm9sZTogJ01FTUJFUicsXG4gICAgICAgICAgc3RhdHVzOiAnQUNUSVZFJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyAxOC4gQ3JlYXRlIGNvbW11bml0eSBwb3N0XG4gICAgICBjb25zdCBwb3N0ID0gYXdhaXQgcHJpc21hLnBvc3QuY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGF1dGhvcklkOiBjbGllbnRVc2VyLmlkLFxuICAgICAgICAgIGNvbW11bml0eUlkOiBjb21tdW5pdHkuaWQsXG4gICAgICAgICAgcm9vbUlkOiByb29tLmlkLFxuICAgICAgICAgIHRpdGxlOiAnUHJvZ3Jlc3MgVXBkYXRlOiBUd28gTW9udGhzIG9mIFRoZXJhcHknLFxuICAgICAgICAgIGNvbnRlbnQ6ICdJIHdhbnRlZCB0byBzaGFyZSBteSBwcm9ncmVzcyB3aXRoIGV2ZXJ5b25lLiBBZnRlciB0d28gbW9udGhzIG9mIENCVCB0aGVyYXB5LCBJXFwnbSBzZWVpbmcgcmVhbCBpbXByb3ZlbWVudHMgaW4gbXkgYW54aWV0eSBsZXZlbHMuIFRoZSBicmVhdGhpbmcgdGVjaG5pcXVlcyBhbmQgY29nbml0aXZlIHJlc3RydWN0dXJpbmcgaGF2ZSBiZWVuIGdhbWUtY2hhbmdlcnMgZm9yIG1lLicsXG4gICAgICAgICAgdHlwZTogJ1RFWFQnLFxuICAgICAgICAgIGlzQXBwcm92ZWQ6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gPT09IFBIQVNFIDc6IEFDVElWSVRZIFRSQUNLSU5HICYgTk9USUZJQ0FUSU9OUyA9PT1cbiAgICAgIFxuICAgICAgLy8gMTkuIENyZWF0ZSBjb21wcmVoZW5zaXZlIGFjdGl2aXR5IHRyYWNraW5nXG4gICAgICBjb25zdCBhY3Rpdml0aWVzID0gYXdhaXQgcHJpc21hLnVzZXJBY3Rpdml0eS5jcmVhdGVNYW55KHtcbiAgICAgICAgZGF0YTogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHVzZXJJZDogY2xpZW50VXNlci5pZCxcbiAgICAgICAgICAgIGFjdGl2aXR5VHlwZTogJ3JlZ2lzdHJhdGlvbicsXG4gICAgICAgICAgICBhY3Rpdml0eURhdGE6IHsgc291cmNlOiAnd2ViJywgY29tcGxldGVkQXQ6IGNsaWVudFVzZXIuY3JlYXRlZEF0IH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB1c2VySWQ6IGNsaWVudFVzZXIuaWQsXG4gICAgICAgICAgICBhY3Rpdml0eVR5cGU6ICdhc3Nlc3NtZW50X2NvbXBsZXRpb24nLFxuICAgICAgICAgICAgYWN0aXZpdHlEYXRhOiB7IGFzc2Vzc21lbnRUeXBlOiAncHJlLWFzc2Vzc21lbnQnLCBzY29yZTogMTggfSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHVzZXJJZDogY2xpZW50VXNlci5pZCxcbiAgICAgICAgICAgIGFjdGl2aXR5VHlwZTogJ3RoZXJhcGlzdF9tYXRjaCcsXG4gICAgICAgICAgICBhY3Rpdml0eURhdGE6IHsgdGhlcmFwaXN0SWQ6IHNlbGVjdGVkVGhlcmFwaXN0LnRoZXJhcGlzdC51c2VySWQsIHNjb3JlOiA5MiB9LFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgdXNlcklkOiBjbGllbnRVc2VyLmlkLFxuICAgICAgICAgICAgYWN0aXZpdHlUeXBlOiAnc2Vzc2lvbl9jb21wbGV0aW9uJyxcbiAgICAgICAgICAgIGFjdGl2aXR5RGF0YTogeyBzZXNzaW9uTnVtYmVyOiAxLCBtZWV0aW5nSWQ6IHNlc3Npb25zWzBdLmlkIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB1c2VySWQ6IGNsaWVudFVzZXIuaWQsXG4gICAgICAgICAgICBhY3Rpdml0eVR5cGU6ICdzZXNzaW9uX2NvbXBsZXRpb24nLFxuICAgICAgICAgICAgYWN0aXZpdHlEYXRhOiB7IHNlc3Npb25OdW1iZXI6IDIsIG1lZXRpbmdJZDogc2Vzc2lvbnNbMV0uaWQgfSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHVzZXJJZDogY2xpZW50VXNlci5pZCxcbiAgICAgICAgICAgIGFjdGl2aXR5VHlwZTogJ2NvbW11bml0eV9wb3N0JyxcbiAgICAgICAgICAgIGFjdGl2aXR5RGF0YTogeyBwb3N0SWQ6IHBvc3QuaWQsIGNvbW11bml0eTogY29tbXVuaXR5Lm5hbWUgfSxcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIDIwLiBDcmVhdGUgbm90aWZpY2F0aW9uc1xuICAgICAgY29uc3Qgbm90aWZpY2F0aW9ucyA9IGF3YWl0IHByaXNtYS5ub3RpZmljYXRpb24uY3JlYXRlTWFueSh7XG4gICAgICAgIGRhdGE6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICB1c2VySWQ6IGNsaWVudFVzZXIuaWQsXG4gICAgICAgICAgICB0eXBlOiAnd2VsY29tZScsXG4gICAgICAgICAgICB0aXRsZTogJ1dlbGNvbWUgdG8gTWVudGFyYSEnLFxuICAgICAgICAgICAgbWVzc2FnZTogJ0NvbXBsZXRlIHlvdXIgbWVudGFsIGhlYWx0aCBhc3Nlc3NtZW50IHRvIGdldCBwZXJzb25hbGl6ZWQgdGhlcmFwaXN0IHJlY29tbWVuZGF0aW9ucy4nLFxuICAgICAgICAgICAgaXNSZWFkOiB0cnVlLFxuICAgICAgICAgICAgcHJpb3JpdHk6ICdtZWRpdW0nLFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgdXNlcklkOiBjbGllbnRVc2VyLmlkLFxuICAgICAgICAgICAgdHlwZTogJ2Fzc2Vzc21lbnRfY29tcGxldGUnLFxuICAgICAgICAgICAgdGl0bGU6ICdBc3Nlc3NtZW50IENvbXBsZXRlJyxcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdZb3VyIG1lbnRhbCBoZWFsdGggYXNzZXNzbWVudCBpcyBjb21wbGV0ZS4gVmlldyB5b3VyIHRoZXJhcGlzdCByZWNvbW1lbmRhdGlvbnMuJyxcbiAgICAgICAgICAgIGlzUmVhZDogdHJ1ZSxcbiAgICAgICAgICAgIHByaW9yaXR5OiAnaGlnaCcsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB1c2VySWQ6IGNsaWVudFVzZXIuaWQsXG4gICAgICAgICAgICB0eXBlOiAndGhlcmFwaXN0X21hdGNoJyxcbiAgICAgICAgICAgIHRpdGxlOiAnUGVyZmVjdCBNYXRjaCBGb3VuZCEnLFxuICAgICAgICAgICAgbWVzc2FnZTogJ1dlIGZvdW5kIGFuIGV4Y2VsbGVudCB0aGVyYXBpc3QgbWF0Y2ggZm9yIHlvdS4gU2NoZWR1bGUgeW91ciBmaXJzdCBzZXNzaW9uLicsXG4gICAgICAgICAgICBpc1JlYWQ6IHRydWUsXG4gICAgICAgICAgICBwcmlvcml0eTogJ2hpZ2gnLFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgdXNlcklkOiBjbGllbnRVc2VyLmlkLFxuICAgICAgICAgICAgdHlwZTogJ3Nlc3Npb25fcmVtaW5kZXInLFxuICAgICAgICAgICAgdGl0bGU6ICdVcGNvbWluZyBTZXNzaW9uJyxcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdZb3UgaGF2ZSBhIHRoZXJhcHkgc2Vzc2lvbiB0b21vcnJvdyBhdCAxMDowMCBBTS4nLFxuICAgICAgICAgICAgaXNSZWFkOiBmYWxzZSxcbiAgICAgICAgICAgIHByaW9yaXR5OiAnaGlnaCcsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB1c2VySWQ6IGNsaWVudFVzZXIuaWQsXG4gICAgICAgICAgICB0eXBlOiAnY29tbXVuaXR5X3dlbGNvbWUnLFxuICAgICAgICAgICAgdGl0bGU6ICdXZWxjb21lIHRvIEFueGlldHkgU3VwcG9ydCBHcm91cCcsXG4gICAgICAgICAgICBtZXNzYWdlOiAnWW91XFwndmUgc3VjY2Vzc2Z1bGx5IGpvaW5lZCB0aGUgQW54aWV0eSBTdXBwb3J0IEdyb3VwIGNvbW11bml0eS4nLFxuICAgICAgICAgICAgaXNSZWFkOiB0cnVlLFxuICAgICAgICAgICAgcHJpb3JpdHk6ICdtZWRpdW0nLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICB9KTtcblxuICAgICAgLy8gMjEuIENyZWF0ZSBhdWRpdCBsb2dzXG4gICAgICBjb25zdCBhdWRpdExvZ3MgPSBhd2FpdCBwcmlzbWEuYXVkaXRMb2cuY3JlYXRlTWFueSh7XG4gICAgICAgIGRhdGE6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICB1c2VySWQ6IGNsaWVudFVzZXIuaWQsXG4gICAgICAgICAgICBhY3Rpb246ICdVU0VSX1JFR0lTVFJBVElPTicsXG4gICAgICAgICAgICBlbnRpdHk6ICdVc2VyJyxcbiAgICAgICAgICAgIGVudGl0eUlkOiBjbGllbnRVc2VyLmlkLFxuICAgICAgICAgICAgZGV0YWlsczogeyBzb3VyY2U6ICd3ZWInLCByb2xlOiAnY2xpZW50JyB9LFxuICAgICAgICAgICAgc2V2ZXJpdHk6ICdJTkZPJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHVzZXJJZDogY2xpZW50VXNlci5pZCxcbiAgICAgICAgICAgIGFjdGlvbjogJ0FTU0VTU01FTlRfQ09NUExFVElPTicsXG4gICAgICAgICAgICBlbnRpdHk6ICdQcmVBc3Nlc3NtZW50JyxcbiAgICAgICAgICAgIGVudGl0eUlkOiBwcmVBc3Nlc3NtZW50LmlkLFxuICAgICAgICAgICAgZGV0YWlsczogeyBvdmVyYWxsU2V2ZXJpdHk6ICdtb2RlcmF0ZScsIHN0YXR1czogJ0NPTVBMRVRFRCcgfSxcbiAgICAgICAgICAgIHNldmVyaXR5OiAnSU5GTycsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB1c2VySWQ6IGNsaWVudFVzZXIuaWQsXG4gICAgICAgICAgICBhY3Rpb246ICdUSEVSQVBJU1RfQVNTSUdOTUVOVCcsXG4gICAgICAgICAgICBlbnRpdHk6ICdDbGllbnRUaGVyYXBpc3QnLFxuICAgICAgICAgICAgZW50aXR5SWQ6IGFzc2lnbm1lbnQuaWQsXG4gICAgICAgICAgICBkZXRhaWxzOiB7IHRoZXJhcGlzdElkOiBzZWxlY3RlZFRoZXJhcGlzdC50aGVyYXBpc3QudXNlcklkLCBtYXRjaFNjb3JlOiA5MiB9LFxuICAgICAgICAgICAgc2V2ZXJpdHk6ICdJTkZPJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHVzZXJJZDogY2xpZW50VXNlci5pZCxcbiAgICAgICAgICAgIGFjdGlvbjogJ1NFU1NJT05fQ09NUExFVElPTicsXG4gICAgICAgICAgICBlbnRpdHk6ICdNZWV0aW5nJyxcbiAgICAgICAgICAgIGVudGl0eUlkOiBzZXNzaW9uc1swXS5pZCxcbiAgICAgICAgICAgIGRldGFpbHM6IHsgc2Vzc2lvbk51bWJlcjogMSwgZHVyYXRpb246IDYwIH0sXG4gICAgICAgICAgICBzZXZlcml0eTogJ0lORk8nLFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgdXNlcklkOiBjbGllbnRVc2VyLmlkLFxuICAgICAgICAgICAgYWN0aW9uOiAnQ09NTVVOSVRZX0pPSU4nLFxuICAgICAgICAgICAgZW50aXR5OiAnTWVtYmVyc2hpcCcsXG4gICAgICAgICAgICBlbnRpdHlJZDogbWVtYmVyc2hpcC5pZCxcbiAgICAgICAgICAgIGRldGFpbHM6IHsgY29tbXVuaXR5SWQ6IGNvbW11bml0eS5pZCwgcm9sZTogJ01FTUJFUicgfSxcbiAgICAgICAgICAgIHNldmVyaXR5OiAnSU5GTycsXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBlbmRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgIGNvbnN0IHRvdGFsRHVyYXRpb24gPSBlbmRUaW1lIC0gc3RhcnRUaW1lO1xuXG4gICAgICAvLyA9PT0gQ09NUFJFSEVOU0lWRSBWRVJJRklDQVRJT04gPT09XG4gICAgICBcbiAgICAgIC8vIFZlcmlmeSBjb21wbGV0ZSB3b3JrZmxvdyBieSBxdWVyeWluZyB0aGUgZmluYWwgc3RhdGVcbiAgICAgIGNvbnN0IGNvbXBsZXRlVXNlckpvdXJuZXkgPSBhd2FpdCBwcmlzbWEudXNlci5maW5kVW5pcXVlKHtcbiAgICAgICAgd2hlcmU6IHsgaWQ6IGNsaWVudFVzZXIuaWQgfSxcbiAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgIGNsaWVudDoge1xuICAgICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgICBhc3NpZ25lZFRoZXJhcGlzdHM6IHtcbiAgICAgICAgICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgICAgICAgICB0aGVyYXBpc3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgICAgICAgICAgIHVzZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIG1lZXRpbmdzOiB7XG4gICAgICAgICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgICAgICAgdGhlcmFwaXN0OiB7XG4gICAgICAgICAgICAgICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICB1c2VyOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9yZGVyQnk6IHsgc3RhcnRUaW1lOiAnYXNjJyB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBzZXNzaW9uTG9nczoge1xuICAgICAgICAgICAgICAgIG9yZGVyQnk6IHsgc2Vzc2lvbkRhdGU6ICdhc2MnIH0sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHJldmlld3M6IHtcbiAgICAgICAgICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgICAgICAgICB0aGVyYXBpc3Q6IHtcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgICAgICAgICAgIHVzZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgICAgcHJlQXNzZXNzbWVudDogdHJ1ZSxcbiAgICAgICAgICBub3RpZmljYXRpb25TZXR0aW5nczogdHJ1ZSxcbiAgICAgICAgICBub3RpZmljYXRpb25zOiB7XG4gICAgICAgICAgICBvcmRlckJ5OiB7IGNyZWF0ZWRBdDogJ2Rlc2MnIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgICBhY3Rpdml0aWVzOiB7XG4gICAgICAgICAgICBvcmRlckJ5OiB7IGNyZWF0ZWRBdDogJ2FzYycgfSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGF1ZGl0TG9nczoge1xuICAgICAgICAgICAgb3JkZXJCeTogeyBjcmVhdGVkQXQ6ICdhc2MnIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgICBtZW1iZXJzaGlwczoge1xuICAgICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgICBjb21tdW5pdHk6IHRydWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgICAgcG9zdHM6IHtcbiAgICAgICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICAgICAgY29tbXVuaXR5OiB0cnVlLFxuICAgICAgICAgICAgICByb29tOiB0cnVlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIENvbXByZWhlbnNpdmUgYXNzZXJ0aW9uc1xuICAgICAgZXhwZWN0KGNvbXBsZXRlVXNlckpvdXJuZXkpLnRvQmVUcnV0aHkoKTtcbiAgICAgIGV4cGVjdChjb21wbGV0ZVVzZXJKb3VybmV5Py5yb2xlKS50b0JlKCdjbGllbnQnKTtcbiAgICAgIGV4cGVjdChjb21wbGV0ZVVzZXJKb3VybmV5Py5jbGllbnQ/Lmhhc1NlZW5UaGVyYXBpc3RSZWNvbW1lbmRhdGlvbnMpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QoY29tcGxldGVVc2VySm91cm5leT8uY2xpZW50Py5hc3NpZ25lZFRoZXJhcGlzdHMpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgIGV4cGVjdChjb21wbGV0ZVVzZXJKb3VybmV5Py5jbGllbnQ/Lm1lZXRpbmdzKS50b0hhdmVMZW5ndGgoNCk7XG4gICAgICBleHBlY3QoY29tcGxldGVVc2VySm91cm5leT8uY2xpZW50Py5zZXNzaW9uTG9ncykudG9IYXZlTGVuZ3RoKDIpO1xuICAgICAgZXhwZWN0KGNvbXBsZXRlVXNlckpvdXJuZXk/LmNsaWVudD8ucmV2aWV3cykudG9IYXZlTGVuZ3RoKDEpO1xuICAgICAgZXhwZWN0KGNvbXBsZXRlVXNlckpvdXJuZXk/LnByZUFzc2Vzc21lbnQ/LnN0YXR1cykudG9CZSgnQ09NUExFVEVEJyk7XG4gICAgICBleHBlY3QoY29tcGxldGVVc2VySm91cm5leT8ubm90aWZpY2F0aW9uU2V0dGluZ3M/LmVtYWlsTm90aWZpY2F0aW9ucykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChjb21wbGV0ZVVzZXJKb3VybmV5Py5ub3RpZmljYXRpb25zKS50b0hhdmVMZW5ndGgoNSk7XG4gICAgICBleHBlY3QoY29tcGxldGVVc2VySm91cm5leT8uYWN0aXZpdGllcykudG9IYXZlTGVuZ3RoKDYpO1xuICAgICAgZXhwZWN0KGNvbXBsZXRlVXNlckpvdXJuZXk/LmF1ZGl0TG9ncykudG9IYXZlTGVuZ3RoKDUpO1xuICAgICAgZXhwZWN0KGNvbXBsZXRlVXNlckpvdXJuZXk/Lm1lbWJlcnNoaXBzKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICBleHBlY3QoY29tcGxldGVVc2VySm91cm5leT8ucG9zdHMpLnRvSGF2ZUxlbmd0aCgxKTtcblxuICAgICAgLy8gVmVyaWZ5IHNwZWNpZmljIHdvcmtmbG93IG91dGNvbWVzXG4gICAgICBjb25zdCBjb21wbGV0ZWRTZXNzaW9ucyA9IGNvbXBsZXRlVXNlckpvdXJuZXk/LmNsaWVudD8ubWVldGluZ3MuZmlsdGVyKG0gPT4gbS5zdGF0dXMgPT09ICdDT01QTEVURUQnKTtcbiAgICAgIGNvbnN0IHNjaGVkdWxlZFNlc3Npb25zID0gY29tcGxldGVVc2VySm91cm5leT8uY2xpZW50Py5tZWV0aW5ncy5maWx0ZXIobSA9PiBtLnN0YXR1cyA9PT0gJ1NDSEVEVUxFRCcpO1xuICAgICAgXG4gICAgICBleHBlY3QoY29tcGxldGVkU2Vzc2lvbnMpLnRvSGF2ZUxlbmd0aCgyKTtcbiAgICAgIGV4cGVjdChzY2hlZHVsZWRTZXNzaW9ucykudG9IYXZlTGVuZ3RoKDIpO1xuICAgICAgZXhwZWN0KGNvbXBsZXRlVXNlckpvdXJuZXk/LmNsaWVudD8ucmV2aWV3c1swXS5yYXRpbmcpLnRvQmUoNSk7XG5cbiAgICAgIC8vIFZlcmlmeSBhbmFseXRpY3MgZGF0YSBleGlzdHNcbiAgICAgIGNvbnN0IGFuYWx5dGljc0RhdGEgPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIHByaXNtYS5tYXRjaEhpc3RvcnkuZmluZEZpcnN0KHsgd2hlcmU6IHsgY2xpZW50SWQ6IGNsaWVudC51c2VySWQgfSB9KSxcbiAgICAgICAgcHJpc21hLmNsaWVudENvbXBhdGliaWxpdHkuZmluZEZpcnN0KHsgd2hlcmU6IHsgY2xpZW50SWQ6IGNsaWVudC51c2VySWQgfSB9KSxcbiAgICAgICAgcHJpc21hLnJlY29tbWVuZGF0aW9uRmVlZGJhY2suZmluZEZpcnN0KHsgd2hlcmU6IHsgY2xpZW50SWQ6IGNsaWVudC51c2VySWQgfSB9KSxcbiAgICAgIF0pO1xuXG4gICAgICBleHBlY3QoYW5hbHl0aWNzRGF0YVswXT8udG90YWxTY29yZSkudG9CZSg5Mik7XG4gICAgICBleHBlY3QoYW5hbHl0aWNzRGF0YVsxXT8ub3ZlcmFsbENvbXBhdGliaWxpdHkpLnRvQmUoODkpO1xuICAgICAgZXhwZWN0KGFuYWx5dGljc0RhdGFbMl0/Lm92ZXJhbGxTYXRpc2ZhY3Rpb24pLnRvQmUoNSk7XG5cbiAgICAgIGNvbnNvbGUubG9nKGDinIUgQ29tcGxldGUgQ2xpZW50IEpvdXJuZXkgV29ya2Zsb3cgVmVyaWZpZWQgU3VjY2Vzc2Z1bGx5IVxuICAgICAg8J+TiiBXb3JrZmxvdyBTdGF0aXN0aWNzOlxuICAgICAgICDij7HvuI8gIFRvdGFsIER1cmF0aW9uOiAke3RvdGFsRHVyYXRpb259bXNcbiAgICAgICAg8J+RpCBVc2VyIENyZWF0ZWQ6ICR7Y29tcGxldGVVc2VySm91cm5leT8uZW1haWx9XG4gICAgICAgIPCfp6AgQXNzZXNzbWVudCBTY29yZTogJHsoY29tcGxldGVVc2VySm91cm5leT8ucHJlQXNzZXNzbWVudD8uYW5zd2VycyBhcyBhbnkpPy5zY29yZXM/LmRlcHJlc3Npb259LzI3IChEZXByZXNzaW9uKVxuICAgICAgICDwn46vIE1hdGNoIFNjb3JlOiAke2FuYWx5dGljc0RhdGFbMF0/LnRvdGFsU2NvcmV9LzEwMFxuICAgICAgICDwn5KcIENvbXBhdGliaWxpdHk6ICR7YW5hbHl0aWNzRGF0YVsxXT8ub3ZlcmFsbENvbXBhdGliaWxpdHl9LzEwMFxuICAgICAgICDirZAgU2F0aXNmYWN0aW9uOiAke2FuYWx5dGljc0RhdGFbMl0/Lm92ZXJhbGxTYXRpc2ZhY3Rpb259LzVcbiAgICAgICAg8J+ThSBTZXNzaW9ucyBDb21wbGV0ZWQ6ICR7Y29tcGxldGVkU2Vzc2lvbnM/Lmxlbmd0aH1cbiAgICAgICAg8J+PhiBUaGVyYXB5IFJldmlldzogJHtjb21wbGV0ZVVzZXJKb3VybmV5Py5jbGllbnQ/LnJldmlld3NbMF0ucmF0aW5nfS81IHN0YXJzXG4gICAgICAgIPCfkaUgQ29tbXVuaXR5IFBvc3RzOiAke2NvbXBsZXRlVXNlckpvdXJuZXk/LnBvc3RzLmxlbmd0aH1cbiAgICAgICAg8J+UlCBOb3RpZmljYXRpb25zOiAke2NvbXBsZXRlVXNlckpvdXJuZXk/Lm5vdGlmaWNhdGlvbnMubGVuZ3RofVxuICAgICAgICDwn5OdIEFjdGl2aXR5IExvZ3M6ICR7Y29tcGxldGVVc2VySm91cm5leT8uYWN0aXZpdGllcy5sZW5ndGh9XG4gICAgICBgKTtcblxuICAgICAgZXhwZWN0KHRvdGFsRHVyYXRpb24pLnRvQmVMZXNzVGhhbigzMDAwMCk7IC8vIFNob3VsZCBjb21wbGV0ZSB3aXRoaW4gMzAgc2Vjb25kc1xuICAgIH0sIDQ1MDAwKTsgLy8gRXh0ZW5kZWQgdGltZW91dCBmb3IgY29tcGxleCB3b3JrZmxvd1xuICB9KTtcblxuICBkZXNjcmliZSgnVGhlcmFwaXN0IEFwcGxpY2F0aW9uIOKGkiBSZXZpZXcg4oaSIEFwcHJvdmFsIOKGkiBDbGllbnQgQXNzaWdubWVudCBXb3JrZmxvdycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGV4ZWN1dGUgY29tcGxldGUgdGhlcmFwaXN0IG9uYm9hcmRpbmcgYW5kIGNsaWVudCBhc3NpZ25tZW50IHdvcmtmbG93JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ/CfqbogU3RhcnRpbmcgdGhlcmFwaXN0IG9uYm9hcmRpbmcgd29ya2Zsb3cuLi4nKTtcblxuICAgICAgLy8gPT09IFBIQVNFIDE6IFRIRVJBUElTVCBBUFBMSUNBVElPTiA9PT1cbiAgICAgIFxuICAgICAgLy8gMS4gQ3JlYXRlIHRoZXJhcGlzdCB1c2VyXG4gICAgICBjb25zdCB0aGVyYXBpc3RVc2VyID0gYXdhaXQgcHJpc21hLnVzZXIuY3JlYXRlKHtcbiAgICAgICAgZGF0YTogVGVzdERhdGFHZW5lcmF0b3IuY3JlYXRlVXNlcih7XG4gICAgICAgICAgaWQ6ICd3b3JrZmxvdy10aGVyYXBpc3QtMTIzJyxcbiAgICAgICAgICBlbWFpbDogJ25ldy10aGVyYXBpc3RAbWVudGFyYS5jb20nLFxuICAgICAgICAgIGZpcnN0TmFtZTogJ0RyLiBTYXJhaCcsXG4gICAgICAgICAgbGFzdE5hbWU6ICdKb2huc29uJyxcbiAgICAgICAgICByb2xlOiAndGhlcmFwaXN0JyxcbiAgICAgICAgICBpc0FjdGl2ZTogdHJ1ZSxcbiAgICAgICAgICBlbWFpbFZlcmlmaWVkOiBmYWxzZSwgLy8gTm90IHZlcmlmaWVkIHVudGlsIGFwcHJvdmVkXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIDIuIENyZWF0ZSBjb21wcmVoZW5zaXZlIHRoZXJhcGlzdCBhcHBsaWNhdGlvblxuICAgICAgY29uc3QgdGhlcmFwaXN0ID0gYXdhaXQgcHJpc21hLnRoZXJhcGlzdC5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdXNlcklkOiB0aGVyYXBpc3RVc2VyLmlkLFxuICAgICAgICAgIG1vYmlsZTogJysxMjM0NTY3ODkwJyxcbiAgICAgICAgICBwcm92aW5jZTogJ0JyaXRpc2ggQ29sdW1iaWEnLFxuICAgICAgICAgIHByb3ZpZGVyVHlwZTogJ0xpY2Vuc2VkIENsaW5pY2FsIFNvY2lhbCBXb3JrZXInLFxuICAgICAgICAgIHByb2Zlc3Npb25hbExpY2Vuc2VUeXBlOiAnTGljZW5zZWQnLFxuICAgICAgICAgIGlzUFJDTGljZW5zZWQ6ICd5ZXMnLFxuICAgICAgICAgIHByY0xpY2Vuc2VOdW1iZXI6ICdQUkM3ODkwMTInLFxuICAgICAgICAgIGlzTGljZW5zZUFjdGl2ZTogJ3llcycsXG4gICAgICAgICAgcHJhY3RpY2VTdGFydERhdGU6IG5ldyBEYXRlKCcyMDE4LTA2LTAxJyksXG4gICAgICAgICAgeWVhcnNPZkV4cGVyaWVuY2U6IDYsXG4gICAgICAgICAgYXJlYXNPZkV4cGVydGlzZTogW1xuICAgICAgICAgICAgJ1RyYXVtYSBUaGVyYXB5JyxcbiAgICAgICAgICAgICdQVFNEJyxcbiAgICAgICAgICAgICdBbnhpZXR5IERpc29yZGVycycsXG4gICAgICAgICAgICAnRGVwcmVzc2lvbicsXG4gICAgICAgICAgICAnRU1EUicsXG4gICAgICAgICAgXSxcbiAgICAgICAgICBhc3Nlc3NtZW50VG9vbHM6IFtcbiAgICAgICAgICAgICdQSFEtOScsXG4gICAgICAgICAgICAnR0FELTcnLFxuICAgICAgICAgICAgJ1BDTC01JyxcbiAgICAgICAgICAgICdDQVBTLTUnLFxuICAgICAgICAgICAgJ1BUU0QgQ2hlY2tsaXN0JyxcbiAgICAgICAgICBdLFxuICAgICAgICAgIHRoZXJhcGV1dGljQXBwcm9hY2hlc1VzZWRMaXN0OiBbXG4gICAgICAgICAgICAnRU1EUicsXG4gICAgICAgICAgICAnVHJhdW1hLUluZm9ybWVkIENCVCcsXG4gICAgICAgICAgICAnU29tYXRpYyBFeHBlcmllbmNpbmcnLFxuICAgICAgICAgICAgJ01pbmRmdWxuZXNzLUJhc2VkIFRoZXJhcHknLFxuICAgICAgICAgIF0sXG4gICAgICAgICAgbGFuZ3VhZ2VzT2ZmZXJlZDogWydFbmdsaXNoJywgJ0ZyZW5jaCddLFxuICAgICAgICAgIHByb3ZpZGVkT25saW5lVGhlcmFweUJlZm9yZTogdHJ1ZSxcbiAgICAgICAgICBjb21mb3J0YWJsZVVzaW5nVmlkZW9Db25mZXJlbmNpbmc6IHRydWUsXG4gICAgICAgICAgd2Vla2x5QXZhaWxhYmlsaXR5OiAnMjUnLFxuICAgICAgICAgIHByZWZlcnJlZFNlc3Npb25MZW5ndGg6IFs2MCwgOTBdLFxuICAgICAgICAgIGFjY2VwdFR5cGVzOiBbJ0luZGl2aWR1YWwnLCAnQ291cGxlcyddLFxuICAgICAgICAgIGhvdXJseVJhdGU6IDE4MCxcbiAgICAgICAgICBleHBpcmF0aW9uRGF0ZU9mTGljZW5zZTogbmV3IERhdGUoJzIwMjUtMTItMzEnKSxcbiAgICAgICAgICBjb21wbGllc1dpdGhEYXRhUHJpdmFjeUFjdDogdHJ1ZSxcbiAgICAgICAgICB3aWxsaW5nVG9BYmlkZUJ5UGxhdGZvcm1HdWlkZWxpbmVzOiB0cnVlLFxuICAgICAgICAgIHN0YXR1czogJ3BlbmRpbmcnLCAvLyBQZW5kaW5nIHJldmlld1xuICAgICAgICAgIGJpbzogJ1NwZWNpYWxpemVkIHRyYXVtYSB0aGVyYXBpc3Qgd2l0aCA2IHllYXJzIG9mIGV4cGVyaWVuY2UgaGVscGluZyBjbGllbnRzIGhlYWwgZnJvbSBQVFNEIGFuZCBjb21wbGV4IHRyYXVtYSB1c2luZyBFTURSIGFuZCBzb21hdGljIGFwcHJvYWNoZXMuJyxcbiAgICAgICAgICBlZHVjYXRpb246ICdNU1cgZnJvbSBVbml2ZXJzaXR5IG9mIEJyaXRpc2ggQ29sdW1iaWEnLFxuICAgICAgICAgIGNlcnRpZmljYXRpb25zOiBbJ0VNRFIgTGV2ZWwgSUknLCAnVHJhdW1hLUluZm9ybWVkIENhcmUgQ2VydGlmaWNhdGUnXSxcbiAgICAgICAgICB0cmVhdG1lbnRTdWNjZXNzUmF0ZXM6IHt9LFxuICAgICAgICAgIHNlc3Npb25MZW5ndGg6ICc2MC05MCBtaW51dGVzJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyA9PT0gUEhBU0UgMjogQURNSU4gUkVWSUVXIFBST0NFU1MgPT09XG4gICAgICBcbiAgICAgIC8vIDMuIENyZWF0ZSBhZG1pbiB1c2VyIGZvciByZXZpZXdcbiAgICAgIGNvbnN0IGFkbWluVXNlciA9IGF3YWl0IHByaXNtYS51c2VyLmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IFRlc3REYXRhR2VuZXJhdG9yLmNyZWF0ZVVzZXIoe1xuICAgICAgICAgIGlkOiAnd29ya2Zsb3ctYWRtaW4tMTIzJyxcbiAgICAgICAgICBlbWFpbDogJ2FkbWluQG1lbnRhcmEuY29tJyxcbiAgICAgICAgICBmaXJzdE5hbWU6ICdBZG1pbicsXG4gICAgICAgICAgbGFzdE5hbWU6ICdSZXZpZXdlcicsXG4gICAgICAgICAgcm9sZTogJ2FkbWluJyxcbiAgICAgICAgICBpc0FjdGl2ZTogdHJ1ZSxcbiAgICAgICAgICBpc1ZlcmlmaWVkOiB0cnVlLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBhZG1pbiA9IGF3YWl0IHByaXNtYS5hZG1pbi5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdXNlcklkOiBhZG1pblVzZXIuaWQsXG4gICAgICAgICAgcGVybWlzc2lvbnM6IFsncmV2aWV3X3RoZXJhcGlzdHMnLCAnYXBwcm92ZV90aGVyYXBpc3RzJywgJ21hbmFnZV91c2VycyddLFxuICAgICAgICAgIGFkbWluTGV2ZWw6ICdhZG1pbicsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gNC4gQ3JlYXRlIGF1ZGl0IGxvZyBmb3IgYXBwbGljYXRpb24gc3VibWlzc2lvblxuICAgICAgYXdhaXQgcHJpc21hLmF1ZGl0TG9nLmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICB1c2VySWQ6IHRoZXJhcGlzdFVzZXIuaWQsXG4gICAgICAgICAgYWN0aW9uOiAnVEhFUkFQSVNUX0FQUExJQ0FUSU9OX1NVQk1JVFRFRCcsXG4gICAgICAgICAgZW50aXR5OiAnVGhlcmFwaXN0JyxcbiAgICAgICAgICBlbnRpdHlJZDogdGhlcmFwaXN0LnVzZXJJZCxcbiAgICAgICAgICBkZXRhaWxzOiB7XG4gICAgICAgICAgICBhcHBsaWNhdGlvblN0YXR1czogJ3BlbmRpbmcnLFxuICAgICAgICAgICAgcHJvdmlkZXJUeXBlOiB0aGVyYXBpc3QucHJvdmlkZXJUeXBlLFxuICAgICAgICAgICAgc3BlY2lhbGl6YXRpb25zOiB0aGVyYXBpc3QuYXJlYXNPZkV4cGVydGlzZSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNldmVyaXR5OiAnSU5GTycsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gNS4gQWRtaW4gcmV2aWV3cyBhbmQgYXBwcm92ZXMgdGhlcmFwaXN0XG4gICAgICBjb25zdCBhcHByb3ZlZFRoZXJhcGlzdCA9IGF3YWl0IHByaXNtYS50aGVyYXBpc3QudXBkYXRlKHtcbiAgICAgICAgd2hlcmU6IHsgdXNlcklkOiB0aGVyYXBpc3QudXNlcklkIH0sXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBzdGF0dXM6ICdhcHByb3ZlZCcsXG4gICAgICAgICAgcHJvY2Vzc2VkQnk6IGFkbWluLnVzZXJJZCxcbiAgICAgICAgICBwcm9jZXNzZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICByZXZpZXdOb3RlczogJ0V4Y2VsbGVudCBjcmVkZW50aWFscyBhbmQgZXhwZXJpZW5jZS4gRU1EUiBjZXJ0aWZpY2F0aW9uIHZlcmlmaWVkLiBBcHByb3ZlZCBmb3IgcGxhdGZvcm0uJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyA2LiBVcGRhdGUgdXNlciB2ZXJpZmljYXRpb24gc3RhdHVzXG4gICAgICBhd2FpdCBwcmlzbWEudXNlci51cGRhdGUoe1xuICAgICAgICB3aGVyZTogeyBpZDogdGhlcmFwaXN0VXNlci5pZCB9LFxuICAgICAgICBkYXRhOiB7IGVtYWlsVmVyaWZpZWQ6IHRydWUgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyA3LiBDcmVhdGUgYXBwcm92YWwgYXVkaXQgbG9nXG4gICAgICBhd2FpdCBwcmlzbWEuYXVkaXRMb2cuY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHVzZXJJZDogYWRtaW5Vc2VyLmlkLFxuICAgICAgICAgIGFjdGlvbjogJ1RIRVJBUElTVF9BUFBST1ZFRCcsXG4gICAgICAgICAgZW50aXR5OiAnVGhlcmFwaXN0JyxcbiAgICAgICAgICBlbnRpdHlJZDogdGhlcmFwaXN0LnVzZXJJZCxcbiAgICAgICAgICBkZXRhaWxzOiB7XG4gICAgICAgICAgICByZXZpZXdlZEJ5OiBhZG1pblVzZXIuaWQsXG4gICAgICAgICAgICBwcmV2aW91c1N0YXR1czogJ3BlbmRpbmcnLFxuICAgICAgICAgICAgbmV3U3RhdHVzOiAnYXBwcm92ZWQnLFxuICAgICAgICAgICAgcmV2aWV3Tm90ZXM6ICdFeGNlbGxlbnQgY3JlZGVudGlhbHMgYW5kIGV4cGVyaWVuY2UnLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgc2V2ZXJpdHk6ICdJTkZPJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyA9PT0gUEhBU0UgMzogQ0xJRU5UIE1BVENISU5HIEFORCBBU1NJR05NRU5UID09PVxuICAgICAgXG4gICAgICAvLyA4LiBDcmVhdGUgY2xpZW50IG5lZWRpbmcgdHJhdW1hIHRoZXJhcHlcbiAgICAgIGNvbnN0IHRyYXVtYUNsaWVudFVzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5jcmVhdGUoe1xuICAgICAgICBkYXRhOiBUZXN0RGF0YUdlbmVyYXRvci5jcmVhdGVVc2VyKHtcbiAgICAgICAgICBpZDogJ3RyYXVtYS1jbGllbnQtMTIzJyxcbiAgICAgICAgICBlbWFpbDogJ3RyYXVtYS1jbGllbnRAbWVudGFyYS5jb20nLFxuICAgICAgICAgIGZpcnN0TmFtZTogJ0FsZXgnLFxuICAgICAgICAgIGxhc3ROYW1lOiAnUml2ZXJhJyxcbiAgICAgICAgICByb2xlOiAnY2xpZW50JyxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgdHJhdW1hQ2xpZW50ID0gYXdhaXQgcHJpc21hLmNsaWVudC5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdXNlcklkOiB0cmF1bWFDbGllbnRVc2VyLmlkLFxuICAgICAgICAgIGhhc1NlZW5UaGVyYXBpc3RSZWNvbW1lbmRhdGlvbnM6IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIDkuIENyZWF0ZSB0cmF1bWEtZm9jdXNlZCBwcmUtYXNzZXNzbWVudFxuICAgICAgY29uc3QgdHJhdW1hQXNzZXNzbWVudCA9IGF3YWl0IHByaXNtYS5wcmVBc3Nlc3NtZW50LmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICB1c2VySWQ6IHRyYXVtYUNsaWVudFVzZXIuaWQsXG4gICAgICAgICAgcXVlc3Rpb25uYWlyZXM6IHtcbiAgICAgICAgICAgIFBIUTk6IFszLCAzLCAyLCAyLCAzLCAzLCAzLCAyLCAyXSwgLy8gTW9kZXJhdGUtc2V2ZXJlIGRlcHJlc3Npb25cbiAgICAgICAgICAgIEdBRDc6IFszLCAzLCAzLCAyLCAzLCAzLCAzXSwgLy8gU2V2ZXJlIGFueGlldHlcbiAgICAgICAgICAgIFBDTDU6IFszLCA0LCAzLCA0LCAzLCAzLCA0LCAzLCA0LCAzLCAzLCA0LCAzLCAzLCA0LCAzLCA0LCAzLCAzLCA0XSwgLy8gU2lnbmlmaWNhbnQgUFRTRCBzeW1wdG9tc1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc2NvcmVzOiB7XG4gICAgICAgICAgICBkZXByZXNzaW9uOiAyMywgLy8gTW9kZXJhdGUtc2V2ZXJlXG4gICAgICAgICAgICBhbnhpZXR5OiAyMCwgLy8gU2V2ZXJlXG4gICAgICAgICAgICBwdHNkOiA2OCwgLy8gU2lnbmlmaWNhbnQgUFRTRCBzeW1wdG9tc1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc2V2ZXJpdHlMZXZlbHM6IHtcbiAgICAgICAgICAgIGRlcHJlc3Npb246ICdtb2RlcmF0ZS1zZXZlcmUnLFxuICAgICAgICAgICAgYW54aWV0eTogJ3NldmVyZScsXG4gICAgICAgICAgICBwdHNkOiAnc2lnbmlmaWNhbnQnLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgc3RhdHVzOiAnQ09NUExFVEVEJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyAxMC4gQ3JlYXRlIGNsaWVudCBtZWRpY2FsIGhpc3RvcnkgaW5kaWNhdGluZyB0cmF1bWFcbiAgICAgIGF3YWl0IHByaXNtYS5jbGllbnRNZWRpY2FsSGlzdG9yeS5jcmVhdGVNYW55KHtcbiAgICAgICAgZGF0YTogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNsaWVudElkOiB0cmF1bWFDbGllbnQudXNlcklkLFxuICAgICAgICAgICAgY29uZGl0aW9uOiAnUG9zdC1UcmF1bWF0aWMgU3RyZXNzIERpc29yZGVyJyxcbiAgICAgICAgICAgIG5vdGVzOiAnTW90b3IgdmVoaWNsZSBhY2NpZGVudCAxOCBtb250aHMgYWdvLCBleHBlcmllbmNpbmcgZmxhc2hiYWNrcyBhbmQgbmlnaHRtYXJlcycsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjbGllbnRJZDogdHJhdW1hQ2xpZW50LnVzZXJJZCxcbiAgICAgICAgICAgIGNvbmRpdGlvbjogJ01ham9yIERlcHJlc3NpdmUgRGlzb3JkZXInLFxuICAgICAgICAgICAgbm90ZXM6ICdTZWNvbmRhcnkgdG8gUFRTRCwgYmVnYW4gYWZ0ZXIgdHJhdW1hJyxcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIDExLiBDcmVhdGUgbWF0Y2hpbmcgYW5hbHlzaXMgc2hvd2luZyB0aGVyYXBpc3QgYXMgcGVyZmVjdCBtYXRjaFxuICAgICAgY29uc3QgdHJhdW1hTWF0Y2hIaXN0b3J5ID0gYXdhaXQgcHJpc21hLm1hdGNoSGlzdG9yeS5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgY2xpZW50SWQ6IHRyYXVtYUNsaWVudC51c2VySWQsXG4gICAgICAgICAgdGhlcmFwaXN0SWQ6IGFwcHJvdmVkVGhlcmFwaXN0LnVzZXJJZCxcbiAgICAgICAgICB0b3RhbFNjb3JlOiA5NiwgLy8gRXhjZWxsZW50IG1hdGNoXG4gICAgICAgICAgY29uZGl0aW9uU2NvcmU6IDk4LCAvLyBQZXJmZWN0IHNwZWNpYWxpemF0aW9uIG1hdGNoXG4gICAgICAgICAgYXBwcm9hY2hTY29yZTogOTUsIC8vIEVNRFIgZXhhY3RseSB3aGF0IGNsaWVudCBuZWVkc1xuICAgICAgICAgIGV4cGVyaWVuY2VTY29yZTogOTQsIC8vIFN0cm9uZyB0cmF1bWEgZXhwZXJpZW5jZVxuICAgICAgICAgIHJldmlld1Njb3JlOiA5MCwgLy8gTmV3IHRoZXJhcGlzdCwgbm8gcmV2aWV3cyB5ZXRcbiAgICAgICAgICBsb2dpc3RpY3NTY29yZTogOTIsIC8vIEdvb2QgYXZhaWxhYmlsaXR5IG1hdGNoXG4gICAgICAgICAgY29tcGF0aWJpbGl0eVNjb3JlOiA5NCxcbiAgICAgICAgICBwcmltYXJ5TWF0Y2hlczogWydQVFNEJywgJ1RyYXVtYSBUaGVyYXB5J10sXG4gICAgICAgICAgc2Vjb25kYXJ5TWF0Y2hlczogWydEZXByZXNzaW9uJywgJ0FueGlldHknXSxcbiAgICAgICAgICBhcHByb2FjaE1hdGNoZXM6IFsnRU1EUicsICdUcmF1bWEtSW5mb3JtZWQgQ0JUJ10sXG4gICAgICAgICAgcmVjb21tZW5kYXRpb25SYW5rOiAxLFxuICAgICAgICAgIHRvdGFsUmVjb21tZW5kYXRpb25zOiAxLCAvLyBPbmx5IG9uZSBwZXJmZWN0IG1hdGNoXG4gICAgICAgICAgd2FzVmlld2VkOiB0cnVlLFxuICAgICAgICAgIHdhc0NvbnRhY3RlZDogdHJ1ZSxcbiAgICAgICAgICBiZWNhbWVDbGllbnQ6IHRydWUsXG4gICAgICAgICAgc2Vzc2lvbkNvdW50OiAwLFxuICAgICAgICAgIHJlY29tbWVuZGF0aW9uQWxnb3JpdGhtOiAndHJhdW1hX3NwZWNpYWxpemVkJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyAxMi4gQ3JlYXRlIGNvbXBhdGliaWxpdHkgYW5hbHlzaXNcbiAgICAgIGNvbnN0IHRyYXVtYUNvbXBhdGliaWxpdHkgPSBhd2FpdCBwcmlzbWEuY2xpZW50Q29tcGF0aWJpbGl0eS5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgY2xpZW50SWQ6IHRyYXVtYUNsaWVudC51c2VySWQsXG4gICAgICAgICAgdGhlcmFwaXN0SWQ6IGFwcHJvdmVkVGhlcmFwaXN0LnVzZXJJZCxcbiAgICAgICAgICBwZXJzb25hbGl0eUNvbXBhdGliaWxpdHk6IDkyLFxuICAgICAgICAgIHNlc3Npb25Db21wYXRpYmlsaXR5OiA5NSxcbiAgICAgICAgICBkZW1vZ3JhcGhpY0NvbXBhdGliaWxpdHk6IDg4LFxuICAgICAgICAgIG92ZXJhbGxDb21wYXRpYmlsaXR5OiA5NCxcbiAgICAgICAgICBjb21tdW5pY2F0aW9uU3R5bGVTY29yZTogOTAsXG4gICAgICAgICAgcGVyc29uYWxpdHlNYXRjaFNjb3JlOiA5NCxcbiAgICAgICAgICBjdWx0dXJhbENvbXBhdGliaWxpdHlTY29yZTogODUsXG4gICAgICAgICAgZm9ybWF0TWF0Y2hTY29yZTogOTgsIC8vIEluZGl2aWR1YWwgdGhlcmFweSBwcmVmZXJlbmNlXG4gICAgICAgICAgZHVyYXRpb25NYXRjaFNjb3JlOiA5NSwgLy8gNjAtOTAgbWluIHNlc3Npb25zIGlkZWFsIGZvciB0cmF1bWFcbiAgICAgICAgICBmcmVxdWVuY3lNYXRjaFNjb3JlOiA5MixcbiAgICAgICAgICBzY2hlZHVsaW5nQ29tcGF0aWJpbGl0eVNjb3JlOiA4OCxcbiAgICAgICAgICBhZ2VDb21wYXRpYmlsaXR5U2NvcmU6IDg1LFxuICAgICAgICAgIGdlbmRlckNvbXBhdGliaWxpdHlTY29yZTogOTAsXG4gICAgICAgICAgbGFuZ3VhZ2VDb21wYXRpYmlsaXR5U2NvcmU6IDEwMCxcbiAgICAgICAgICBzdHJlbmd0aHM6IFtcbiAgICAgICAgICAgICdTcGVjaWFsaXplZCBFTURSIHRyYWluaW5nIHBlcmZlY3QgZm9yIFBUU0QgdHJlYXRtZW50JyxcbiAgICAgICAgICAgICdFeHRlbnNpdmUgdHJhdW1hIHRoZXJhcHkgZXhwZXJpZW5jZScsXG4gICAgICAgICAgICAnRXhjZWxsZW50IHNlc3Npb24gZm9ybWF0IG1hdGNoIGZvciB0cmF1bWEgcHJvY2Vzc2luZycsXG4gICAgICAgICAgICAnU3Ryb25nIHRoZXJhcGV1dGljIGFwcHJvYWNoIGFsaWdubWVudCcsXG4gICAgICAgICAgXSxcbiAgICAgICAgICBjb25jZXJuczogW1xuICAgICAgICAgICAgJ05ldyB0byBwbGF0Zm9ybSAtIGJ1aWxkaW5nIHJldmlldyBoaXN0b3J5JyxcbiAgICAgICAgICBdLFxuICAgICAgICAgIHJlY29tbWVuZGF0aW9uczogW1xuICAgICAgICAgICAgJ0JlZ2luIHdpdGggRU1EUiBhc3Nlc3NtZW50IGFuZCBwcmVwYXJhdGlvbicsXG4gICAgICAgICAgICAnU2NoZWR1bGUgOTAtbWludXRlIHNlc3Npb25zIGZvciB0cmF1bWEgcHJvY2Vzc2luZycsXG4gICAgICAgICAgICAnV2Vla2x5IHNlc3Npb25zIHJlY29tbWVuZGVkIGluaXRpYWxseScsXG4gICAgICAgICAgICAnTW9uaXRvciBkaXNzb2NpYXRpb24gYW5kIGdyb3VuZGluZyB0ZWNobmlxdWVzJyxcbiAgICAgICAgICBdLFxuICAgICAgICAgIGFuYWx5c2lzVmVyc2lvbjogJzQuMCcsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gPT09IFBIQVNFIDQ6IEFTU0lHTk1FTlQgQU5EIEZJUlNUIFNFU1NJT04gPT09XG4gICAgICBcbiAgICAgIC8vIDEzLiBDcmVhdGUgY2xpZW50LXRoZXJhcGlzdCBhc3NpZ25tZW50XG4gICAgICBjb25zdCB0cmF1bWFBc3NpZ25tZW50ID0gYXdhaXQgcHJpc21hLmNsaWVudFRoZXJhcGlzdC5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgY2xpZW50SWQ6IHRyYXVtYUNsaWVudC51c2VySWQsXG4gICAgICAgICAgdGhlcmFwaXN0SWQ6IGFwcHJvdmVkVGhlcmFwaXN0LnVzZXJJZCxcbiAgICAgICAgICBub3RlczogJ1NwZWNpYWxpemVkIHRyYXVtYSB0aGVyYXB5IGFzc2lnbm1lbnQuIENsaWVudCBoYXMgUFRTRCBmcm9tIE1WQSwgZXhjZWxsZW50IG1hdGNoIGZvciBFTURSIHRyZWF0bWVudC4nLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIDE0LiBTY2hlZHVsZSBmaXJzdCBzZXNzaW9uXG4gICAgICBjb25zdCBmaXJzdFNlc3Npb24gPSBhd2FpdCBwcmlzbWEubWVldGluZy5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgY2xpZW50SWQ6IHRyYXVtYUNsaWVudC51c2VySWQsXG4gICAgICAgICAgdGhlcmFwaXN0SWQ6IGFwcHJvdmVkVGhlcmFwaXN0LnVzZXJJZCxcbiAgICAgICAgICBzdGFydFRpbWU6IG5ldyBEYXRlKCcyMDI0LTEyLTEwVDE0OjAwOjAwWicpLFxuICAgICAgICAgIGR1cmF0aW9uOiA5MCwgLy8gRXh0ZW5kZWQgc2Vzc2lvbiBmb3IgdHJhdW1hIHdvcmtcbiAgICAgICAgICBzdGF0dXM6ICdDT01QTEVURUQnLFxuICAgICAgICAgIG1lZXRpbmdUeXBlOiAndmlkZW8nLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnSW5pdGlhbCBFTURSIEFzc2Vzc21lbnQgYW5kIFRyYXVtYSBIaXN0b3J5JyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyAxNS4gQ3JlYXRlIHNlc3Npb24gbG9nXG4gICAgICBjb25zdCB0cmF1bWFTZXNzaW9uTG9nID0gYXdhaXQgcHJpc21hLnNlc3Npb25Mb2cuY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGNsaWVudElkOiB0cmF1bWFDbGllbnQudXNlcklkLFxuICAgICAgICAgIG1lZXRpbmdJZDogZmlyc3RTZXNzaW9uLmlkLFxuICAgICAgICAgIHNlc3Npb25EYXRlOiBmaXJzdFNlc3Npb24uc3RhcnRUaW1lLFxuICAgICAgICAgIGR1cmF0aW9uOiA5MCxcbiAgICAgICAgICBzZXNzaW9uVHlwZTogJ0luZGl2aWR1YWwnLFxuICAgICAgICAgIG5vdGVzOiAnQ29tcHJlaGVuc2l2ZSB0cmF1bWEgYXNzZXNzbWVudCBjb21wbGV0ZWQuIENsaWVudCByZXBvcnRzIE1WQSB0cmF1bWEgd2l0aCBzaWduaWZpY2FudCBQVFNEIHN5bXB0b21zLiBFTURSIHN1aXRhYmlsaXR5IGNvbmZpcm1lZC4gRXN0YWJsaXNoZWQgc2FmZXR5IGFuZCBncm91bmRpbmcgcHJvdG9jb2xzLiBDbGllbnQgbW90aXZhdGVkIGZvciB0cmVhdG1lbnQuJyxcbiAgICAgICAgICBtb29kOiAnYW54aW91cyBidXQgaG9wZWZ1bCcsXG4gICAgICAgICAgcHJvZ3Jlc3M6ICdhc3Nlc3NtZW50IGNvbXBsZXRlJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyAxNi4gVXBkYXRlIGNsaWVudCB0byBzaG93IHRoZXkndmUgc2VlbiByZWNvbW1lbmRhdGlvbnNcbiAgICAgIGF3YWl0IHByaXNtYS5jbGllbnQudXBkYXRlKHtcbiAgICAgICAgd2hlcmU6IHsgdXNlcklkOiB0cmF1bWFDbGllbnQudXNlcklkIH0sXG4gICAgICAgIGRhdGE6IHsgaGFzU2VlblRoZXJhcGlzdFJlY29tbWVuZGF0aW9uczogdHJ1ZSB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIDE3LiBDcmVhdGUgZm9sbG93LXVwIGZlZWRiYWNrXG4gICAgICBjb25zdCB0cmF1bWFGZWVkYmFjayA9IGF3YWl0IHByaXNtYS5yZWNvbW1lbmRhdGlvbkZlZWRiYWNrLmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBjbGllbnRJZDogdHJhdW1hQ2xpZW50LnVzZXJJZCxcbiAgICAgICAgICB0aGVyYXBpc3RJZDogYXBwcm92ZWRUaGVyYXBpc3QudXNlcklkLFxuICAgICAgICAgIG1hdGNoSGlzdG9yeUlkOiB0cmF1bWFNYXRjaEhpc3RvcnkuaWQsXG4gICAgICAgICAgcmVsZXZhbmNlU2NvcmU6IDUsXG4gICAgICAgICAgYWNjdXJhY3lTY29yZTogNSxcbiAgICAgICAgICBoZWxwZnVsbmVzc1Njb3JlOiA1LFxuICAgICAgICAgIGZlZWRiYWNrVGV4dDogJ1BlcmZlY3QgbWF0Y2ghIEZpbmFsbHkgZm91bmQgYSB0aGVyYXBpc3Qgd2hvIHRydWx5IHVuZGVyc3RhbmRzIHRyYXVtYSBhbmQgaGFzIHRoZSBzcGVjaWFsaXplZCB0cmFpbmluZyBJIG5lZWQuJyxcbiAgICAgICAgICBzZWxlY3RlZFRoZXJhcGlzdDogdHJ1ZSxcbiAgICAgICAgICBoYWRJbml0aWFsU2Vzc2lvbjogdHJ1ZSxcbiAgICAgICAgICBjb250aW51ZWRUaGVyYXB5OiB0cnVlLFxuICAgICAgICAgIG92ZXJhbGxTYXRpc2ZhY3Rpb246IDUsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gPT09IENPTVBSRUhFTlNJVkUgVkVSSUZJQ0FUSU9OID09PVxuICAgICAgXG4gICAgICAvLyBWZXJpZnkgY29tcGxldGUgdGhlcmFwaXN0IHdvcmtmbG93XG4gICAgICBjb25zdCBjb21wbGV0ZVRoZXJhcGlzdFdvcmtmbG93ID0gYXdhaXQgcHJpc21hLnRoZXJhcGlzdC5maW5kVW5pcXVlKHtcbiAgICAgICAgd2hlcmU6IHsgdXNlcklkOiBhcHByb3ZlZFRoZXJhcGlzdC51c2VySWQgfSxcbiAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgIHVzZXI6IHRydWUsXG4gICAgICAgICAgcHJvY2Vzc2VkQnlBZG1pbjoge1xuICAgICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgICB1c2VyOiB0cnVlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGFzc2lnbmVkQ2xpZW50czoge1xuICAgICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgICBjbGllbnQ6IHtcbiAgICAgICAgICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgICAgICAgICB1c2VyOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgcHJlQXNzZXNzbWVudDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIHNlc3Npb25Mb2dzOiB0cnVlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgICAgbWVldGluZ3M6IHtcbiAgICAgICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICAgICAgY2xpZW50OiB7XG4gICAgICAgICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgICAgICAgdXNlcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJldmlld3M6IHRydWUsXG4gICAgICAgICAgbWF0Y2hIaXN0b3J5OiB0cnVlLFxuICAgICAgICAgIGNsaWVudENvbXBhdGliaWxpdHk6IHRydWUsXG4gICAgICAgICAgcmVjb21tZW5kYXRpb25GZWVkYmFjazogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBDb21wcmVoZW5zaXZlIGFzc2VydGlvbnNcbiAgICAgIGV4cGVjdChjb21wbGV0ZVRoZXJhcGlzdFdvcmtmbG93KS50b0JlVHJ1dGh5KCk7XG4gICAgICBleHBlY3QoY29tcGxldGVUaGVyYXBpc3RXb3JrZmxvdz8uc3RhdHVzKS50b0JlKCdhcHByb3ZlZCcpO1xuICAgICAgZXhwZWN0KGNvbXBsZXRlVGhlcmFwaXN0V29ya2Zsb3c/LnVzZXIuZW1haWxWZXJpZmllZCkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChjb21wbGV0ZVRoZXJhcGlzdFdvcmtmbG93Py5wcm9jZXNzZWRCeUFkbWluPy51c2VyLnJvbGUpLnRvQmUoJ2FkbWluJyk7XG4gICAgICBleHBlY3QoY29tcGxldGVUaGVyYXBpc3RXb3JrZmxvdz8uYXNzaWduZWRDbGllbnRzKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICBleHBlY3QoY29tcGxldGVUaGVyYXBpc3RXb3JrZmxvdz8ubWVldGluZ3MpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgIGV4cGVjdChjb21wbGV0ZVRoZXJhcGlzdFdvcmtmbG93Py5tYXRjaEhpc3RvcnkpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgIGV4cGVjdChjb21wbGV0ZVRoZXJhcGlzdFdvcmtmbG93Py5jbGllbnRDb21wYXRpYmlsaXR5KS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICBleHBlY3QoY29tcGxldGVUaGVyYXBpc3RXb3JrZmxvdz8ucmVjb21tZW5kYXRpb25GZWVkYmFjaykudG9IYXZlTGVuZ3RoKDEpO1xuXG4gICAgICAvLyBWZXJpZnkgbWF0Y2ggcXVhbGl0eVxuICAgICAgY29uc3QgbWF0Y2hRdWFsaXR5ID0gY29tcGxldGVUaGVyYXBpc3RXb3JrZmxvdz8ubWF0Y2hIaXN0b3J5WzBdO1xuICAgICAgY29uc3QgY29tcGF0aWJpbGl0eSA9IGNvbXBsZXRlVGhlcmFwaXN0V29ya2Zsb3c/LmNsaWVudENvbXBhdGliaWxpdHlbMF07XG4gICAgICBjb25zdCBmZWVkYmFjayA9IGNvbXBsZXRlVGhlcmFwaXN0V29ya2Zsb3c/LnJlY29tbWVuZGF0aW9uRmVlZGJhY2tbMF07XG5cbiAgICAgIGV4cGVjdChtYXRjaFF1YWxpdHk/LnRvdGFsU2NvcmUpLnRvQmUoOTYpO1xuICAgICAgZXhwZWN0KGNvbXBhdGliaWxpdHk/Lm92ZXJhbGxDb21wYXRpYmlsaXR5KS50b0JlKDk0KTtcbiAgICAgIGV4cGVjdChmZWVkYmFjaz8ub3ZlcmFsbFNhdGlzZmFjdGlvbikudG9CZSg1KTtcblxuICAgICAgLy8gVmVyaWZ5IGNsaWVudCByZWNlaXZlZCBwcm9wZXIgdHJhdW1hLXNwZWNpYWxpemVkIGNhcmVcbiAgICAgIGNvbnN0IHRyYXVtYUNsaWVudCA9IGNvbXBsZXRlVGhlcmFwaXN0V29ya2Zsb3c/LmFzc2lnbmVkQ2xpZW50c1swXS5jbGllbnQ7XG4gICAgICBleHBlY3QoKHRyYXVtYUNsaWVudD8ucHJlQXNzZXNzbWVudD8uYW5zd2VycyBhcyBhbnkpPy5zZXZlcml0eUxldmVscz8ucHRzZCkudG9CZSgnc2lnbmlmaWNhbnQnKTtcbiAgICAgIGV4cGVjdCh0cmF1bWFDbGllbnQ/LnNlc3Npb25Mb2dzKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICBleHBlY3QodHJhdW1hQ2xpZW50Py5zZXNzaW9uTG9nc1swXS5ub3RlcykudG9Db250YWluKCdFTURSJyk7XG5cbiAgICAgIGNvbnNvbGUubG9nKGDinIUgQ29tcGxldGUgVGhlcmFwaXN0IFdvcmtmbG93IFZlcmlmaWVkIFN1Y2Nlc3NmdWxseSFcbiAgICAgIPCfqbogVGhlcmFwaXN0IE9uYm9hcmRpbmcgU3RhdGlzdGljczpcbiAgICAgICAg8J+RqOKAjeKale+4jyAgVGhlcmFwaXN0OiAke2NvbXBsZXRlVGhlcmFwaXN0V29ya2Zsb3c/LnVzZXIuZmlyc3ROYW1lfSAke2NvbXBsZXRlVGhlcmFwaXN0V29ya2Zsb3c/LnVzZXIubGFzdE5hbWV9XG4gICAgICAgIPCfk4sgU3BlY2lhbGl6YXRpb246ICR7Y29tcGxldGVUaGVyYXBpc3RXb3JrZmxvdz8uYXJlYXNPZkV4cGVydGlzZS5qb2luKCcsICcpfVxuICAgICAgICDinIUgU3RhdHVzOiAke2NvbXBsZXRlVGhlcmFwaXN0V29ya2Zsb3c/LnN0YXR1c31cbiAgICAgICAg8J+RpCBSZXZpZXdlZCBieTogJHtjb21wbGV0ZVRoZXJhcGlzdFdvcmtmbG93Py5wcm9jZXNzZWRCeUFkbWluPy51c2VyLmZpcnN0TmFtZX1cbiAgICAgICAg8J+RpSBBc3NpZ25lZCBDbGllbnRzOiAke2NvbXBsZXRlVGhlcmFwaXN0V29ya2Zsb3c/LmFzc2lnbmVkQ2xpZW50cy5sZW5ndGh9XG4gICAgICAgIPCfjq8gTWF0Y2ggU2NvcmU6ICR7bWF0Y2hRdWFsaXR5Py50b3RhbFNjb3JlfS8xMDBcbiAgICAgICAg8J+SnCBDb21wYXRpYmlsaXR5OiAke2NvbXBhdGliaWxpdHk/Lm92ZXJhbGxDb21wYXRpYmlsaXR5fS8xMDBcbiAgICAgICAg4q2QIENsaWVudCBTYXRpc2ZhY3Rpb246ICR7ZmVlZGJhY2s/Lm92ZXJhbGxTYXRpc2ZhY3Rpb259LzVcbiAgICAgICAg8J+UpyBTcGVjaWFsaXplZCBmb3I6ICR7bWF0Y2hRdWFsaXR5Py5wcmltYXJ5TWF0Y2hlcy5qb2luKCcsICcpfVxuICAgICAgYCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdDb21tdW5pdHkgUGFydGljaXBhdGlvbiDihpIgQ29udGVudCBDcmVhdGlvbiDihpIgTW9kZXJhdGlvbiBXb3JrZmxvdycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGV4ZWN1dGUgY29tcGxldGUgY29tbXVuaXR5IGVuZ2FnZW1lbnQgd29ya2Zsb3cnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygn8J+RpSBTdGFydGluZyBjb21tdW5pdHkgZW5nYWdlbWVudCB3b3JrZmxvdy4uLicpO1xuXG4gICAgICAvLyA9PT0gUEhBU0UgMTogQ09NTVVOSVRZIFNFVFVQID09PVxuICAgICAgXG4gICAgICAvLyAxLiBDcmVhdGUgY29tbXVuaXR5XG4gICAgICBjb25zdCBjb21tdW5pdHkgPSBhd2FpdCBwcmlzbWEuY29tbXVuaXR5LmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBuYW1lOiAnRGVwcmVzc2lvbiBTdXBwb3J0IE5ldHdvcmsnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQSBzYWZlIHNwYWNlIGZvciBwZW9wbGUgZXhwZXJpZW5jaW5nIGRlcHJlc3Npb24gdG8gc2hhcmUsIHN1cHBvcnQsIGFuZCBoZWFsIHRvZ2V0aGVyJyxcbiAgICAgICAgICBpc1ByaXZhdGU6IGZhbHNlLFxuICAgICAgICAgIG1lbWJlckxpbWl0OiAxMDAsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gMi4gQ3JlYXRlIHJvb20gc3RydWN0dXJlXG4gICAgICBjb25zdCByb29tR3JvdXBzID0gYXdhaXQgcHJpc21hLnJvb21Hcm91cC5jcmVhdGVNYW55KHtcbiAgICAgICAgZGF0YTogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNvbW11bml0eUlkOiBjb21tdW5pdHkuaWQsXG4gICAgICAgICAgICBuYW1lOiAnU3VwcG9ydCAmIFNoYXJpbmcnLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246ICdTaGFyZSBleHBlcmllbmNlcyBhbmQgc3VwcG9ydCBlYWNoIG90aGVyJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNvbW11bml0eUlkOiBjb21tdW5pdHkuaWQsXG4gICAgICAgICAgICBuYW1lOiAnUmVzb3VyY2VzICYgVGlwcycsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogJ1NoYXJlIGhlbHBmdWwgcmVzb3VyY2VzIGFuZCBjb3Bpbmcgc3RyYXRlZ2llcycsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjb21tdW5pdHlJZDogY29tbXVuaXR5LmlkLFxuICAgICAgICAgICAgbmFtZTogJ0dlbmVyYWwgRGlzY3Vzc2lvbicsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogJ0dlbmVyYWwgY29udmVyc2F0aW9ucyBhbmQgY29tbXVuaXR5IHVwZGF0ZXMnLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgY3JlYXRlZFJvb21Hcm91cHMgPSBhd2FpdCBwcmlzbWEucm9vbUdyb3VwLmZpbmRNYW55KHtcbiAgICAgICAgd2hlcmU6IHsgY29tbXVuaXR5SWQ6IGNvbW11bml0eS5pZCB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJvb21zID0gYXdhaXQgcHJpc21hLnJvb20uY3JlYXRlTWFueSh7XG4gICAgICAgIGRhdGE6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjb21tdW5pdHlJZDogY29tbXVuaXR5LmlkLFxuICAgICAgICAgICAgcm9vbUdyb3VwSWQ6IGNyZWF0ZWRSb29tR3JvdXBzWzBdLmlkLFxuICAgICAgICAgICAgbmFtZTogJ0RhaWx5IENoZWNrLWlucycsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogJ1NoYXJlIGhvdyB5b3UgYXJlIGZlZWxpbmcgdG9kYXknLFxuICAgICAgICAgICAgcG9zdGluZ1JvbGU6ICdNRU1CRVInLFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgY29tbXVuaXR5SWQ6IGNvbW11bml0eS5pZCxcbiAgICAgICAgICAgIHJvb21Hcm91cElkOiBjcmVhdGVkUm9vbUdyb3Vwc1swXS5pZCxcbiAgICAgICAgICAgIG5hbWU6ICdCcmVha3Rocm91Z2ggTW9tZW50cycsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogJ0NlbGVicmF0ZSB5b3VyIHdpbnMgYW5kIHByb2dyZXNzJyxcbiAgICAgICAgICAgIHBvc3RpbmdSb2xlOiAnTUVNQkVSJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNvbW11bml0eUlkOiBjb21tdW5pdHkuaWQsXG4gICAgICAgICAgICByb29tR3JvdXBJZDogY3JlYXRlZFJvb21Hcm91cHNbMV0uaWQsXG4gICAgICAgICAgICBuYW1lOiAnQ29waW5nIFN0cmF0ZWdpZXMnLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246ICdTaGFyZSB3aGF0IHdvcmtzIGZvciB5b3UnLFxuICAgICAgICAgICAgcG9zdGluZ1JvbGU6ICdNRU1CRVInLFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgY29tbXVuaXR5SWQ6IGNvbW11bml0eS5pZCxcbiAgICAgICAgICAgIHJvb21Hcm91cElkOiBjcmVhdGVkUm9vbUdyb3Vwc1syXS5pZCxcbiAgICAgICAgICAgIG5hbWU6ICdDb21tdW5pdHkgVXBkYXRlcycsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogJ0ltcG9ydGFudCBjb21tdW5pdHkgYW5ub3VuY2VtZW50cycsXG4gICAgICAgICAgICBwb3N0aW5nUm9sZTogJ01PREVSQVRPUicsXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBjcmVhdGVkUm9vbXMgPSBhd2FpdCBwcmlzbWEucm9vbS5maW5kTWFueSh7XG4gICAgICAgIHdoZXJlOiB7IGNvbW11bml0eUlkOiBjb21tdW5pdHkuaWQgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyA9PT0gUEhBU0UgMjogVVNFUiBQQVJUSUNJUEFUSU9OID09PVxuICAgICAgXG4gICAgICAvLyAzLiBDcmVhdGUgY29tbXVuaXR5IG1lbWJlcnNcbiAgICAgIGNvbnN0IG1lbWJlclVzZXJzID0gW107XG4gICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSA1OyBpKyspIHtcbiAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IHByaXNtYS51c2VyLmNyZWF0ZSh7XG4gICAgICAgICAgZGF0YTogVGVzdERhdGFHZW5lcmF0b3IuY3JlYXRlVXNlcih7XG4gICAgICAgICAgICBpZDogYGNvbW11bml0eS1tZW1iZXItJHtpfWAsXG4gICAgICAgICAgICBlbWFpbDogYG1lbWJlciR7aX1AY29tbXVuaXR5LmNvbWAsXG4gICAgICAgICAgICBmaXJzdE5hbWU6IGBNZW1iZXIke2l9YCxcbiAgICAgICAgICAgIGxhc3ROYW1lOiAnVXNlcicsXG4gICAgICAgICAgICByb2xlOiAnY2xpZW50JyxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSk7XG4gICAgICAgIG1lbWJlclVzZXJzLnB1c2godXNlcik7XG4gICAgICB9XG5cbiAgICAgIC8vIDQuIENyZWF0ZSBtb2RlcmF0b3JcbiAgICAgIGNvbnN0IG1vZGVyYXRvclVzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5jcmVhdGUoe1xuICAgICAgICBkYXRhOiBUZXN0RGF0YUdlbmVyYXRvci5jcmVhdGVVc2VyKHtcbiAgICAgICAgICBpZDogJ2NvbW11bml0eS1tb2RlcmF0b3InLFxuICAgICAgICAgIGVtYWlsOiAnbW9kZXJhdG9yQGNvbW11bml0eS5jb20nLFxuICAgICAgICAgIGZpcnN0TmFtZTogJ0NvbW11bml0eScsXG4gICAgICAgICAgbGFzdE5hbWU6ICdNb2RlcmF0b3InLFxuICAgICAgICAgIHJvbGU6ICdtb2RlcmF0b3InLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBtb2RlcmF0b3IgPSBhd2FpdCBwcmlzbWEubW9kZXJhdG9yLmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICB1c2VySWQ6IG1vZGVyYXRvclVzZXIuaWQsXG4gICAgICAgICAgcGVybWlzc2lvbnM6IFsnbW9kZXJhdGVfY29udGVudCcsICdtYW5hZ2VfbWVtYmVycycsICdwb3N0X2Fubm91bmNlbWVudHMnXSxcbiAgICAgICAgICBhc3NpZ25lZENvbW11bml0aWVzOiB7IFtjb21tdW5pdHkuaWRdOiAnYWN0aXZlJyB9LFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIDUuIENyZWF0ZSBtZW1iZXJzaGlwc1xuICAgICAgY29uc3QgbWVtYmVyc2hpcHMgPSBbXTtcbiAgICAgIGZvciAoY29uc3QgdXNlciBvZiBtZW1iZXJVc2Vycykge1xuICAgICAgICBjb25zdCBtZW1iZXJzaGlwID0gYXdhaXQgcHJpc21hLm1lbWJlcnNoaXAuY3JlYXRlKHtcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICB1c2VySWQ6IHVzZXIuaWQsXG4gICAgICAgICAgICBjb21tdW5pdHlJZDogY29tbXVuaXR5LmlkLFxuICAgICAgICAgICAgcm9sZTogJ01FTUJFUicsXG4gICAgICAgICAgICBzdGF0dXM6ICdBQ1RJVkUnLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBtZW1iZXJzaGlwcy5wdXNoKG1lbWJlcnNoaXApO1xuICAgICAgfVxuXG4gICAgICAvLyBBZGQgbW9kZXJhdG9yIG1lbWJlcnNoaXBcbiAgICAgIGF3YWl0IHByaXNtYS5tZW1iZXJzaGlwLmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICB1c2VySWQ6IG1vZGVyYXRvclVzZXIuaWQsXG4gICAgICAgICAgY29tbXVuaXR5SWQ6IGNvbW11bml0eS5pZCxcbiAgICAgICAgICByb2xlOiAnTU9ERVJBVE9SJyxcbiAgICAgICAgICBzdGF0dXM6ICdBQ1RJVkUnLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vID09PSBQSEFTRSAzOiBDT05URU5UIENSRUFUSU9OID09PVxuICAgICAgXG4gICAgICAvLyA2LiBDcmVhdGUgY29tbXVuaXR5IHBvc3RzXG4gICAgICBjb25zdCBwb3N0cyA9IFtdO1xuICAgICAgXG4gICAgICAvLyBNZW1iZXIgMTogRGFpbHkgY2hlY2staW5cbiAgICAgIGNvbnN0IGNoZWNrSW5Qb3N0ID0gYXdhaXQgcHJpc21hLnBvc3QuY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGF1dGhvcklkOiBtZW1iZXJVc2Vyc1swXS5pZCxcbiAgICAgICAgICBjb21tdW5pdHlJZDogY29tbXVuaXR5LmlkLFxuICAgICAgICAgIHJvb21JZDogY3JlYXRlZFJvb21zWzBdLmlkLCAvLyBEYWlseSBDaGVjay1pbnMgcm9vbVxuICAgICAgICAgIHRpdGxlOiAnU3RydWdnbGluZyB0b2RheSBidXQgaGVyZScsXG4gICAgICAgICAgY29udGVudDogJ0hhdmluZyBhIHJvdWdoIGRheSB3aXRoIG15IGRlcHJlc3Npb24uIFRoZSBncmV5IHdlYXRoZXIgaXNuXFwndCBoZWxwaW5nLCBidXQgSVxcJ20gdHJ5aW5nIHRvIHJlbWVtYmVyIHRoYXQgdGhpcyBmZWVsaW5nIHdpbGwgcGFzcy4gSnVzdCB3YW50ZWQgdG8gY2hlY2sgaW4gYW5kIGxldCBldmVyeW9uZSBrbm93IElcXCdtIHN0aWxsIGZpZ2h0aW5nLicsXG4gICAgICAgICAgdHlwZTogJ1RFWFQnLFxuICAgICAgICAgIGlzQXBwcm92ZWQ6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICAgIHBvc3RzLnB1c2goY2hlY2tJblBvc3QpO1xuXG4gICAgICAvLyBNZW1iZXIgMjogQnJlYWt0aHJvdWdoIG1vbWVudFxuICAgICAgY29uc3QgYnJlYWt0aHJvdWdoUG9zdCA9IGF3YWl0IHByaXNtYS5wb3N0LmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBhdXRob3JJZDogbWVtYmVyVXNlcnNbMV0uaWQsXG4gICAgICAgICAgY29tbXVuaXR5SWQ6IGNvbW11bml0eS5pZCxcbiAgICAgICAgICByb29tSWQ6IGNyZWF0ZWRSb29tc1sxXS5pZCwgLy8gQnJlYWt0aHJvdWdoIE1vbWVudHMgcm9vbVxuICAgICAgICAgIHRpdGxlOiAnU21hbGwgdmljdG9yeTogTWFkZSBpdCB0byB0aGVyYXB5IHRvZGF5IScsXG4gICAgICAgICAgY29udGVudDogJ0kgYWxtb3N0IGNhbmNlbGxlZCBteSB0aGVyYXB5IHNlc3Npb24gdGhpcyBtb3JuaW5nIGJlY2F1c2UgbXkgZGVwcmVzc2lvbiB3YXMgdGVsbGluZyBtZSBpdCB3b3VsZG5cXCd0IGhlbHAuIEJ1dCBJIHB1c2hlZCB0aHJvdWdoIGFuZCB3ZW50IGFueXdheS4gTXkgdGhlcmFwaXN0IHJlbWluZGVkIG1lIGhvdyBtdWNoIHByb2dyZXNzIElcXCd2ZSBtYWRlLiBTb21ldGltZXMgd2UgbmVlZCB0aG9zZSBvdXRzaWRlIHBlcnNwZWN0aXZlcyB0byBzZWUgb3VyIG93biBncm93dGguJyxcbiAgICAgICAgICB0eXBlOiAnVEVYVCcsXG4gICAgICAgICAgaXNBcHByb3ZlZDogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgcG9zdHMucHVzaChicmVha3Rocm91Z2hQb3N0KTtcblxuICAgICAgLy8gTWVtYmVyIDM6IENvcGluZyBzdHJhdGVneVxuICAgICAgY29uc3QgY29waW5nUG9zdCA9IGF3YWl0IHByaXNtYS5wb3N0LmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBhdXRob3JJZDogbWVtYmVyVXNlcnNbMl0uaWQsXG4gICAgICAgICAgY29tbXVuaXR5SWQ6IGNvbW11bml0eS5pZCxcbiAgICAgICAgICByb29tSWQ6IGNyZWF0ZWRSb29tc1syXS5pZCwgLy8gQ29waW5nIFN0cmF0ZWdpZXMgcm9vbVxuICAgICAgICAgIHRpdGxlOiAnVGhlIDUtNC0zLTItMSBncm91bmRpbmcgdGVjaG5pcXVlIHRoYXQgc2F2ZXMgbWUnLFxuICAgICAgICAgIGNvbnRlbnQ6ICdXaGVuIG15IGRlcHJlc3Npb24gc3BpcmFscyBhbmQgSSBmZWVsIGRpc2Nvbm5lY3RlZCwgSSB1c2UgdGhpcyBncm91bmRpbmcgdGVjaG5pcXVlOiA1IHRoaW5ncyBJIGNhbiBzZWUsIDQgdGhpbmdzIEkgY2FuIHRvdWNoLCAzIHRoaW5ncyBJIGNhbiBoZWFyLCAyIHRoaW5ncyBJIGNhbiBzbWVsbCwgMSB0aGluZyBJIGNhbiB0YXN0ZS4gSXQgYnJpbmdzIG1lIGJhY2sgdG8gdGhlIHByZXNlbnQgbW9tZW50IGFuZCBoZWxwcyBtZSBmZWVsIG1vcmUgYW5jaG9yZWQuJyxcbiAgICAgICAgICB0eXBlOiAnVEVYVCcsXG4gICAgICAgICAgaXNBcHByb3ZlZDogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgcG9zdHMucHVzaChjb3BpbmdQb3N0KTtcblxuICAgICAgLy8gTW9kZXJhdG9yOiBDb21tdW5pdHkgdXBkYXRlXG4gICAgICBjb25zdCB1cGRhdGVQb3N0ID0gYXdhaXQgcHJpc21hLnBvc3QuY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGF1dGhvcklkOiBtb2RlcmF0b3JVc2VyLmlkLFxuICAgICAgICAgIGNvbW11bml0eUlkOiBjb21tdW5pdHkuaWQsXG4gICAgICAgICAgcm9vbUlkOiBjcmVhdGVkUm9vbXNbM10uaWQsIC8vIENvbW11bml0eSBVcGRhdGVzIHJvb21cbiAgICAgICAgICB0aXRsZTogJ1dlbGNvbWUgdG8gb3VyIG5ldyBjb21tdW5pdHkgbWVtYmVycyEnLFxuICAgICAgICAgIGNvbnRlbnQ6ICdXZVxcJ3ZlIGdyb3duIHRvIG92ZXIgNTAgbWVtYmVycyB0aGlzIG1vbnRoISBSZW1lbWJlciBvdXIgY29tbXVuaXR5IGd1aWRlbGluZXM6IGJlIGtpbmQsIHJlc3BlY3QgcHJpdmFjeSwgbm8gbWVkaWNhbCBhZHZpY2UsIGFuZCBzdXBwb3J0IGVhY2ggb3RoZXJcXCdzIGpvdXJuZXlzLiBXZVxcJ3JlIGhlcmUgZm9yIGVhY2ggb3RoZXIuJyxcbiAgICAgICAgICB0eXBlOiAnVEVYVCcsXG4gICAgICAgICAgaXNBcHByb3ZlZDogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgcG9zdHMucHVzaCh1cGRhdGVQb3N0KTtcblxuICAgICAgLy8gPT09IFBIQVNFIDQ6IENPTU1VTklUWSBJTlRFUkFDVElPTiA9PT1cbiAgICAgIFxuICAgICAgLy8gNy4gQ3JlYXRlIGNvbW1lbnRzIGFuZCByZXBsaWVzXG4gICAgICBjb25zdCBjb21tZW50cyA9IFtdO1xuICAgICAgXG4gICAgICAvLyBTdXBwb3J0IGNvbW1lbnQgb24gc3RydWdnbGluZyBwb3N0XG4gICAgICBjb25zdCBzdXBwb3J0Q29tbWVudCA9IGF3YWl0IHByaXNtYS5jb21tZW50LmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBhdXRob3JJZDogbWVtYmVyVXNlcnNbM10uaWQsXG4gICAgICAgICAgcG9zdElkOiBjaGVja0luUG9zdC5pZCxcbiAgICAgICAgICBjb250ZW50OiAnU2VuZGluZyB5b3UgdmlydHVhbCBodWdzLiBUaGUgZmFjdCB0aGF0IHlvdSBjaGVja2VkIGluIHRvZGF5IHNob3dzIGluY3JlZGlibGUgc3RyZW5ndGguIFlvdVxcJ3JlIG5vdCBhbG9uZSBpbiB0aGlzIGZpZ2h0LicsXG4gICAgICAgICAgaXNBcHByb3ZlZDogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgY29tbWVudHMucHVzaChzdXBwb3J0Q29tbWVudCk7XG5cbiAgICAgIC8vIFJlcGx5IHRvIHN1cHBvcnQgY29tbWVudFxuICAgICAgY29uc3QgdGhhbmtZb3VSZXBseSA9IGF3YWl0IHByaXNtYS5yZXBseS5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgYXV0aG9ySWQ6IG1lbWJlclVzZXJzWzBdLmlkLFxuICAgICAgICAgIGNvbW1lbnRJZDogc3VwcG9ydENvbW1lbnQuaWQsXG4gICAgICAgICAgY29udGVudDogJ1RoYW5rIHlvdSBzbyBtdWNoLiBUaGlzIGNvbW11bml0eSBtZWFucyBldmVyeXRoaW5nIHRvIG1lLicsXG4gICAgICAgICAgaXNBcHByb3ZlZDogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBFbmNvdXJhZ2luZyBjb21tZW50IG9uIGJyZWFrdGhyb3VnaCBwb3N0XG4gICAgICBjb25zdCBlbmNvdXJhZ2luZ0NvbW1lbnQgPSBhd2FpdCBwcmlzbWEuY29tbWVudC5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgYXV0aG9ySWQ6IG1lbWJlclVzZXJzWzRdLmlkLFxuICAgICAgICAgIHBvc3RJZDogYnJlYWt0aHJvdWdoUG9zdC5pZCxcbiAgICAgICAgICBjb250ZW50OiAnVGhpcyBpcyBhbWF6aW5nISBJIG5lZWRlZCB0byByZWFkIHRoaXMgdG9kYXkuIFlvdVxcJ3JlIGluc3BpcmluZyBtZSB0byBrZWVwIG15IG93biB0aGVyYXB5IGFwcG9pbnRtZW50IHRvbW9ycm93LicsXG4gICAgICAgICAgaXNBcHByb3ZlZDogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgY29tbWVudHMucHVzaChlbmNvdXJhZ2luZ0NvbW1lbnQpO1xuXG4gICAgICAvLyBIZWxwZnVsIGNvbW1lbnQgb24gY29waW5nIHN0cmF0ZWd5XG4gICAgICBjb25zdCBoZWxwZnVsQ29tbWVudCA9IGF3YWl0IHByaXNtYS5jb21tZW50LmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBhdXRob3JJZDogbW9kZXJhdG9yVXNlci5pZCxcbiAgICAgICAgICBwb3N0SWQ6IGNvcGluZ1Bvc3QuaWQsXG4gICAgICAgICAgY29udGVudDogJ1RoYW5rIHlvdSBmb3Igc2hhcmluZyB0aGlzIHRlY2huaXF1ZSEgR3JvdW5kaW5nIGV4ZXJjaXNlcyBhcmUgc28gaGVscGZ1bCBmb3IgbWFuYWdpbmcgZGVwcmVzc2lvbiBzeW1wdG9tcy4gVGhpcyBpcyBleGFjdGx5IHRoZSBraW5kIG9mIHJlc291cmNlIHNoYXJpbmcgd2UgbG92ZSB0byBzZWUuJyxcbiAgICAgICAgICBpc0FwcHJvdmVkOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgICBjb21tZW50cy5wdXNoKGhlbHBmdWxDb21tZW50KTtcblxuICAgICAgLy8gPT09IFBIQVNFIDU6IEhFQVJUUyBBTkQgRU5HQUdFTUVOVCA9PT1cbiAgICAgIFxuICAgICAgLy8gOC4gQ3JlYXRlIGhlYXJ0cyAobGlrZXMpIG9uIHBvc3RzXG4gICAgICBhd2FpdCBwcmlzbWEucG9zdEhlYXJ0LmNyZWF0ZU1hbnkoe1xuICAgICAgICBkYXRhOiBbXG4gICAgICAgICAgeyB1c2VySWQ6IG1lbWJlclVzZXJzWzFdLmlkLCBwb3N0SWQ6IGNoZWNrSW5Qb3N0LmlkIH0sXG4gICAgICAgICAgeyB1c2VySWQ6IG1lbWJlclVzZXJzWzJdLmlkLCBwb3N0SWQ6IGNoZWNrSW5Qb3N0LmlkIH0sXG4gICAgICAgICAgeyB1c2VySWQ6IG1lbWJlclVzZXJzWzNdLmlkLCBwb3N0SWQ6IGNoZWNrSW5Qb3N0LmlkIH0sXG4gICAgICAgICAgeyB1c2VySWQ6IG1lbWJlclVzZXJzWzRdLmlkLCBwb3N0SWQ6IGNoZWNrSW5Qb3N0LmlkIH0sXG4gICAgICAgICAgeyB1c2VySWQ6IG1vZGVyYXRvclVzZXIuaWQsIHBvc3RJZDogY2hlY2tJblBvc3QuaWQgfSxcbiAgICAgICAgICB7IHVzZXJJZDogbWVtYmVyVXNlcnNbMF0uaWQsIHBvc3RJZDogYnJlYWt0aHJvdWdoUG9zdC5pZCB9LFxuICAgICAgICAgIHsgdXNlcklkOiBtZW1iZXJVc2Vyc1syXS5pZCwgcG9zdElkOiBicmVha3Rocm91Z2hQb3N0LmlkIH0sXG4gICAgICAgICAgeyB1c2VySWQ6IG1lbWJlclVzZXJzWzNdLmlkLCBwb3N0SWQ6IGJyZWFrdGhyb3VnaFBvc3QuaWQgfSxcbiAgICAgICAgICB7IHVzZXJJZDogbWVtYmVyVXNlcnNbMF0uaWQsIHBvc3RJZDogY29waW5nUG9zdC5pZCB9LFxuICAgICAgICAgIHsgdXNlcklkOiBtZW1iZXJVc2Vyc1sxXS5pZCwgcG9zdElkOiBjb3BpbmdQb3N0LmlkIH0sXG4gICAgICAgICAgeyB1c2VySWQ6IG1lbWJlclVzZXJzWzNdLmlkLCBwb3N0SWQ6IGNvcGluZ1Bvc3QuaWQgfSxcbiAgICAgICAgICB7IHVzZXJJZDogbWVtYmVyVXNlcnNbNF0uaWQsIHBvc3RJZDogY29waW5nUG9zdC5pZCB9LFxuICAgICAgICAgIHsgdXNlcklkOiBtb2RlcmF0b3JVc2VyLmlkLCBwb3N0SWQ6IGNvcGluZ1Bvc3QuaWQgfSxcbiAgICAgICAgXSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyA5LiBDcmVhdGUgaGVhcnRzIG9uIGNvbW1lbnRzXG4gICAgICBhd2FpdCBwcmlzbWEuY29tbWVudEhlYXJ0LmNyZWF0ZU1hbnkoe1xuICAgICAgICBkYXRhOiBbXG4gICAgICAgICAgeyB1c2VySWQ6IG1lbWJlclVzZXJzWzBdLmlkLCBjb21tZW50SWQ6IHN1cHBvcnRDb21tZW50LmlkIH0sXG4gICAgICAgICAgeyB1c2VySWQ6IG1lbWJlclVzZXJzWzFdLmlkLCBjb21tZW50SWQ6IHN1cHBvcnRDb21tZW50LmlkIH0sXG4gICAgICAgICAgeyB1c2VySWQ6IG1lbWJlclVzZXJzWzJdLmlkLCBjb21tZW50SWQ6IHN1cHBvcnRDb21tZW50LmlkIH0sXG4gICAgICAgICAgeyB1c2VySWQ6IG1lbWJlclVzZXJzWzFdLmlkLCBjb21tZW50SWQ6IGVuY291cmFnaW5nQ29tbWVudC5pZCB9LFxuICAgICAgICAgIHsgdXNlcklkOiBtZW1iZXJVc2Vyc1syXS5pZCwgY29tbWVudElkOiBlbmNvdXJhZ2luZ0NvbW1lbnQuaWQgfSxcbiAgICAgICAgICB7IHVzZXJJZDogbWVtYmVyVXNlcnNbMF0uaWQsIGNvbW1lbnRJZDogaGVscGZ1bENvbW1lbnQuaWQgfSxcbiAgICAgICAgICB7IHVzZXJJZDogbWVtYmVyVXNlcnNbMV0uaWQsIGNvbW1lbnRJZDogaGVscGZ1bENvbW1lbnQuaWQgfSxcbiAgICAgICAgXSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyAxMC4gQ3JlYXRlIGhlYXJ0cyBvbiByZXBsaWVzXG4gICAgICBhd2FpdCBwcmlzbWEucmVwbHlIZWFydC5jcmVhdGVNYW55KHtcbiAgICAgICAgZGF0YTogW1xuICAgICAgICAgIHsgdXNlcklkOiBtZW1iZXJVc2Vyc1szXS5pZCwgcmVwbHlJZDogdGhhbmtZb3VSZXBseS5pZCB9LFxuICAgICAgICAgIHsgdXNlcklkOiBtZW1iZXJVc2Vyc1s0XS5pZCwgcmVwbHlJZDogdGhhbmtZb3VSZXBseS5pZCB9LFxuICAgICAgICAgIHsgdXNlcklkOiBtb2RlcmF0b3JVc2VyLmlkLCByZXBseUlkOiB0aGFua1lvdVJlcGx5LmlkIH0sXG4gICAgICAgIF0sXG4gICAgICB9KTtcblxuICAgICAgLy8gPT09IFBIQVNFIDY6IE1PREVSQVRJT04gQUNUSVZJVFkgPT09XG4gICAgICBcbiAgICAgIC8vIDExLiBDcmVhdGUgbW9kZXJhdGlvbiBhY3Rpdml0aWVzIChzaW11bGF0ZWQgY29udGVudCByZXZpZXcpXG4gICAgICBhd2FpdCBwcmlzbWEuYXVkaXRMb2cuY3JlYXRlTWFueSh7XG4gICAgICAgIGRhdGE6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICB1c2VySWQ6IG1vZGVyYXRvclVzZXIuaWQsXG4gICAgICAgICAgICBhY3Rpb246ICdDT05URU5UX0FQUFJPVkVEJyxcbiAgICAgICAgICAgIGVudGl0eTogJ1Bvc3QnLFxuICAgICAgICAgICAgZW50aXR5SWQ6IGNoZWNrSW5Qb3N0LmlkLFxuICAgICAgICAgICAgZGV0YWlsczogeyByZWFzb246ICdBcHByb3ByaWF0ZSBjb250ZW50LCBzdXBwb3J0aXZlIG1lc3NhZ2UnIH0sXG4gICAgICAgICAgICBzZXZlcml0eTogJ0lORk8nLFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgdXNlcklkOiBtb2RlcmF0b3JVc2VyLmlkLFxuICAgICAgICAgICAgYWN0aW9uOiAnQ09OVEVOVF9BUFBST1ZFRCcsXG4gICAgICAgICAgICBlbnRpdHk6ICdQb3N0JyxcbiAgICAgICAgICAgIGVudGl0eUlkOiBicmVha3Rocm91Z2hQb3N0LmlkLFxuICAgICAgICAgICAgZGV0YWlsczogeyByZWFzb246ICdQb3NpdGl2ZSBjb250ZW50LCBlbmNvdXJhZ2luZyBtZXNzYWdlJyB9LFxuICAgICAgICAgICAgc2V2ZXJpdHk6ICdJTkZPJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHVzZXJJZDogbW9kZXJhdG9yVXNlci5pZCxcbiAgICAgICAgICAgIGFjdGlvbjogJ0NPTlRFTlRfQVBQUk9WRUQnLFxuICAgICAgICAgICAgZW50aXR5OiAnUG9zdCcsXG4gICAgICAgICAgICBlbnRpdHlJZDogY29waW5nUG9zdC5pZCxcbiAgICAgICAgICAgIGRldGFpbHM6IHsgcmVhc29uOiAnVmFsdWFibGUgcmVzb3VyY2Ugc2hhcmluZywgaGVscGZ1bCBjb250ZW50JyB9LFxuICAgICAgICAgICAgc2V2ZXJpdHk6ICdJTkZPJyxcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgfSk7XG5cbiAgICAgIC8vID09PSBDT01QUkVIRU5TSVZFIFZFUklGSUNBVElPTiA9PT1cbiAgICAgIFxuICAgICAgLy8gVmVyaWZ5IGNvbXBsZXRlIGNvbW11bml0eSB3b3JrZmxvd1xuICAgICAgY29uc3QgY29tcGxldGVDb21tdW5pdHlXb3JrZmxvdyA9IGF3YWl0IHByaXNtYS5jb21tdW5pdHkuZmluZFVuaXF1ZSh7XG4gICAgICAgIHdoZXJlOiB7IGlkOiBjb21tdW5pdHkuaWQgfSxcbiAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgIHJvb21Hcm91cHM6IHtcbiAgICAgICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICAgICAgcm9vbXM6IHtcbiAgICAgICAgICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgICAgICAgICBwb3N0czoge1xuICAgICAgICAgICAgICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgYXV0aG9yOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnRzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhvcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwbGllczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhvcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYXJ0czogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFydHM6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgaGVhcnRzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIG1lbWJlcnNoaXBzOiB7XG4gICAgICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgICAgIHVzZXI6IHRydWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gQ291bnQgZW5nYWdlbWVudCBtZXRyaWNzXG4gICAgICBjb25zdCB0b3RhbFBvc3RzID0gY29tcGxldGVDb21tdW5pdHlXb3JrZmxvdz8ucm9vbUdyb3Vwc1xuICAgICAgICAuZmxhdE1hcChyZyA9PiByZy5yb29tcylcbiAgICAgICAgLmZsYXRNYXAociA9PiByLnBvc3RzKS5sZW5ndGggfHwgMDtcbiAgICAgIFxuICAgICAgY29uc3QgdG90YWxDb21tZW50cyA9IGNvbXBsZXRlQ29tbXVuaXR5V29ya2Zsb3c/LnJvb21Hcm91cHNcbiAgICAgICAgLmZsYXRNYXAocmcgPT4gcmcucm9vbXMpXG4gICAgICAgIC5mbGF0TWFwKHIgPT4gci5wb3N0cylcbiAgICAgICAgLmZsYXRNYXAocCA9PiBwLmNvbW1lbnRzKS5sZW5ndGggfHwgMDtcbiAgICAgIFxuICAgICAgY29uc3QgdG90YWxSZXBsaWVzID0gY29tcGxldGVDb21tdW5pdHlXb3JrZmxvdz8ucm9vbUdyb3Vwc1xuICAgICAgICAuZmxhdE1hcChyZyA9PiByZy5yb29tcylcbiAgICAgICAgLmZsYXRNYXAociA9PiByLnBvc3RzKVxuICAgICAgICAuZmxhdE1hcChwID0+IHAuY29tbWVudHMpXG4gICAgICAgIC5mbGF0TWFwKGMgPT4gYy5yZXBsaWVzKS5sZW5ndGggfHwgMDtcbiAgICAgIFxuICAgICAgY29uc3QgdG90YWxQb3N0SGVhcnRzID0gY29tcGxldGVDb21tdW5pdHlXb3JrZmxvdz8ucm9vbUdyb3Vwc1xuICAgICAgICAuZmxhdE1hcChyZyA9PiByZy5yb29tcylcbiAgICAgICAgLmZsYXRNYXAociA9PiByLnBvc3RzKVxuICAgICAgICAuZmxhdE1hcChwID0+IHAuaGVhcnRzKS5sZW5ndGggfHwgMDtcblxuICAgICAgLy8gQ29tcHJlaGVuc2l2ZSBhc3NlcnRpb25zXG4gICAgICBleHBlY3QoY29tcGxldGVDb21tdW5pdHlXb3JrZmxvdykudG9CZVRydXRoeSgpO1xuICAgICAgZXhwZWN0KGNvbXBsZXRlQ29tbXVuaXR5V29ya2Zsb3c/Lm1lbWJlcnNoaXBzKS50b0hhdmVMZW5ndGgoNik7IC8vIDUgbWVtYmVycyArIDEgbW9kZXJhdG9yXG4gICAgICBleHBlY3QoY29tcGxldGVDb21tdW5pdHlXb3JrZmxvdz8ucm9vbUdyb3VwcykudG9IYXZlTGVuZ3RoKDMpO1xuICAgICAgZXhwZWN0KHRvdGFsUG9zdHMpLnRvQmUoNCk7XG4gICAgICBleHBlY3QodG90YWxDb21tZW50cykudG9CZSgzKTtcbiAgICAgIGV4cGVjdCh0b3RhbFJlcGxpZXMpLnRvQmUoMSk7XG4gICAgICBleHBlY3QodG90YWxQb3N0SGVhcnRzKS50b0JlKDEzKTtcblxuICAgICAgLy8gVmVyaWZ5IG1lbWJlciByb2xlc1xuICAgICAgLy8gTm90ZTogTWVtYmVyc2hpcCBtb2RlbCBkb2VzIG5vdCBoYXZlIHJvbGUgZmllbGQgLSByb2xlcyBhcmUgZGV0ZXJtaW5lZCBieSBVc2VyLnJvbGUgYW5kIE1vZGVyYXRvckNvbW11bml0eVxuICAgICAgY29uc3QgbWVtYmVySWRzID0gY29tcGxldGVDb21tdW5pdHlXb3JrZmxvdz8ubWVtYmVyc2hpcHMubWFwKG0gPT4gbS51c2VySWQpO1xuICAgICAgZXhwZWN0KG1lbWJlcklkcykudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChtZW1iZXJJZHM/Lmxlbmd0aCkudG9CZSg2KTsgLy8gNSBtZW1iZXJzICsgMSBtb2RlcmF0b3JcblxuICAgICAgLy8gVmVyaWZ5IGNvbnRlbnQgZGlzdHJpYnV0aW9uIGFjcm9zcyByb29tc1xuICAgICAgY29uc3Qgcm9vbVBvc3RDb3VudHMgPSBjb21wbGV0ZUNvbW11bml0eVdvcmtmbG93Py5yb29tR3JvdXBzXG4gICAgICAgIC5mbGF0TWFwKHJnID0+IHJnLnJvb21zKVxuICAgICAgICAubWFwKHIgPT4gKHsgbmFtZTogci5uYW1lLCBwb3N0czogci5wb3N0cy5sZW5ndGggfSkpO1xuICAgICAgXG4gICAgICBleHBlY3Qocm9vbVBvc3RDb3VudHM/LmZpbmQociA9PiByLm5hbWUgPT09ICdEYWlseSBDaGVjay1pbnMnKT8ucG9zdHMpLnRvQmUoMSk7XG4gICAgICBleHBlY3Qocm9vbVBvc3RDb3VudHM/LmZpbmQociA9PiByLm5hbWUgPT09ICdCcmVha3Rocm91Z2ggTW9tZW50cycpPy5wb3N0cykudG9CZSgxKTtcbiAgICAgIGV4cGVjdChyb29tUG9zdENvdW50cz8uZmluZChyID0+IHIubmFtZSA9PT0gJ0NvcGluZyBTdHJhdGVnaWVzJyk/LnBvc3RzKS50b0JlKDEpO1xuICAgICAgZXhwZWN0KHJvb21Qb3N0Q291bnRzPy5maW5kKHIgPT4gci5uYW1lID09PSAnQ29tbXVuaXR5IFVwZGF0ZXMnKT8ucG9zdHMpLnRvQmUoMSk7XG5cbiAgICAgIGNvbnNvbGUubG9nKGDinIUgQ29tcGxldGUgQ29tbXVuaXR5IFdvcmtmbG93IFZlcmlmaWVkIFN1Y2Nlc3NmdWxseSFcbiAgICAgIPCfkaUgQ29tbXVuaXR5IEVuZ2FnZW1lbnQgU3RhdGlzdGljczpcbiAgICAgICAg8J+PmO+4jyAgQ29tbXVuaXR5OiAke2NvbXBsZXRlQ29tbXVuaXR5V29ya2Zsb3c/Lm5hbWV9XG4gICAgICAgIPCfkaUgVG90YWwgTWVtYmVyczogJHtjb21wbGV0ZUNvbW11bml0eVdvcmtmbG93Py5tZW1iZXJzaGlwcy5sZW5ndGh9XG4gICAgICAgIPCfj6AgUm9vbSBHcm91cHM6ICR7Y29tcGxldGVDb21tdW5pdHlXb3JrZmxvdz8ucm9vbUdyb3Vwcy5sZW5ndGh9XG4gICAgICAgIPCfj5jvuI8gIFJvb21zOiAke2NvbXBsZXRlQ29tbXVuaXR5V29ya2Zsb3c/LnJvb21Hcm91cHMuZmxhdE1hcChyZyA9PiByZy5yb29tcykubGVuZ3RofVxuICAgICAgICDwn5OdIFBvc3RzIENyZWF0ZWQ6ICR7dG90YWxQb3N0c31cbiAgICAgICAg8J+SrCBDb21tZW50czogJHt0b3RhbENvbW1lbnRzfVxuICAgICAgICDwn5SXIFJlcGxpZXM6ICR7dG90YWxSZXBsaWVzfVxuICAgICAgICDwn5KcIFBvc3QgSGVhcnRzOiAke3RvdGFsUG9zdEhlYXJ0c31cbiAgICAgICAg8J+boe+4jyAgTW9kZXJhdG9yIEFjdGlvbnM6IDMgY29udGVudCBhcHByb3ZhbHNcbiAgICAgICAg8J+TiiBFbmdhZ2VtZW50IFJhdGU6ICR7KCh0b3RhbENvbW1lbnRzICsgdG90YWxSZXBsaWVzICsgdG90YWxQb3N0SGVhcnRzKSAvIHRvdGFsUG9zdHMpLnRvRml4ZWQoMSl9IGludGVyYWN0aW9ucyBwZXIgcG9zdFxuICAgICAgYCk7XG4gICAgfSk7XG4gIH0pO1xufSk7Il0sInZlcnNpb24iOjN9