{"file":"/home/wetooa/Documents/code/projects/mentara/mentara-api/src/test-utils/integration-tests/complex-workflows.integration.spec.ts","mappings":"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","names":[],"sources":["/home/wetooa/Documents/code/projects/mentara/mentara-api/src/test-utils/integration-tests/complex-workflows.integration.spec.ts"],"sourcesContent":["import { Test, TestingModule } from '@nestjs/testing';\nimport { INestApplication } from '@nestjs/common';\nimport { PrismaService } from '../../providers/prisma-client.provider';\nimport { DatabaseTestSetup } from '../database-test.setup';\nimport { TestDataGenerator } from '../enhanced-test-helpers';\n\n/**\n * Complex Workflow Integration Tests\n * \n * End-to-end business process validation testing complete user journeys\n * from onboarding through therapy sessions and beyond.\n */\ndescribe('Complex Workflow Integration', () => {\n  let app: INestApplication;\n  let prisma: PrismaService;\n  let moduleRef: TestingModule;\n\n  beforeAll(async () => {\n    // Setup test database\n    prisma = await DatabaseTestSetup.setupTestDatabase();\n\n    moduleRef = await Test.createTestingModule({\n      providers: [\n        {\n          provide: PrismaService,\n          useValue: prisma,\n        },\n      ],\n    }).compile();\n\n    app = moduleRef.createNestApplication();\n    await app.init();\n  });\n\n  afterEach(async () => {\n    // Clean database after each test\n    await DatabaseTestSetup.cleanupDatabase();\n  });\n\n  afterAll(async () => {\n    await DatabaseTestSetup.stopContainer();\n    await app.close();\n    await moduleRef.close();\n  });\n\n  describe('Complete User Onboarding â†’ Assessment â†’ Matching â†’ Booking â†’ Session Workflow', () => {\n    it('should execute complete client journey end-to-end', async () => {\n      const startTime = Date.now();\n      \n      // === PHASE 1: USER ONBOARDING ===\n      console.log('ðŸš€ Starting complete client journey workflow...');\n      \n      // 1. Create user account\n      const clientUser = await prisma.user.create({\n        data: TestDataGenerator.createUser({\n          id: 'journey-client-123',\n          email: 'client-journey@mentara.com',\n          firstName: 'Journey',\n          lastName: 'Client',\n          role: 'client',\n          isActive: true,\n          emailVerified: false,\n        }),\n      });\n\n      // 2. Create client profile\n      const client = await prisma.client.create({\n        data: {\n          userId: clientUser.id,\n          hasSeenTherapistRecommendations: false,\n        },\n      });\n\n      // 3. Setup notification preferences\n      const notificationSettings = await prisma.notificationSettings.create({\n        data: {\n          userId: clientUser.id,\n          emailNotifications: true,\n          pushNotifications: true,\n          smsNotifications: false,\n          marketingEmails: true,\n        },\n      });\n\n      // 4. Create medical history\n      const medicalHistories = await prisma.clientMedicalHistory.createMany({\n        data: [\n          {\n            clientId: client.userId,\n            condition: 'Generalized Anxiety Disorder',\n            notes: 'Diagnosed in 2020, currently managing with therapy',\n          },\n          {\n            clientId: client.userId,\n            condition: 'Major Depressive Disorder',\n            notes: 'Episodic, responsive to CBT treatment',\n          },\n        ],\n      });\n\n      // 5. Set client preferences\n      const preferences = await prisma.clientPreference.createMany({\n        data: [\n          {\n            clientId: client.userId,\n            key: 'preferred_session_time',\n            value: 'morning',\n          },\n          {\n            clientId: client.userId,\n            key: 'session_frequency',\n            value: 'weekly',\n          },\n          {\n            clientId: client.userId,\n            key: 'therapeutic_approach',\n            value: 'CBT',\n          },\n          {\n            clientId: client.userId,\n            key: 'therapist_gender_preference',\n            value: 'no_preference',\n          },\n        ],\n      });\n\n      // === PHASE 2: MENTAL HEALTH ASSESSMENT ===\n      \n      // 6. Create comprehensive pre-assessment\n      const preAssessment = await prisma.preAssessment.create({\n        data: {\n          userId: clientUser.id,\n          questionnaires: {\n            PHQ9: [2, 3, 2, 1, 3, 2, 3, 2, 1], // Depression screening\n            GAD7: [3, 2, 3, 3, 2, 2, 3], // Anxiety screening\n            PCL5: [1, 2, 1, 0, 2, 3, 2, 1, 2, 3, 1, 2, 2, 1, 3, 2, 1, 2, 1, 2], // PTSD screening\n            DASS21: [2, 1, 3, 2, 1, 2, 3, 2, 1, 2, 3, 1, 2, 2, 1, 3, 2, 1, 2, 1, 2], // Depression, Anxiety, Stress\n            WHOQOL: [3, 4, 3, 4, 3, 3, 4, 3, 4, 3, 3, 4, 3, 3, 4, 3, 4, 3, 3, 4, 3, 4, 3, 3, 4], // Quality of life\n          },\n          scores: {\n            depression: 18, // Moderate depression\n            anxiety: 16, // Moderate anxiety\n            ptsd: 12, // Mild PTSD symptoms\n            stress: 14, // Moderate stress\n            qualityOfLife: 85, // Good quality of life\n            overallSeverity: 'moderate',\n          },\n          severityLevels: {\n            depression: 'moderate',\n            anxiety: 'moderate',\n            ptsd: 'mild',\n            stress: 'moderate',\n          },\n          recommendations: [\n            'CBT therapy recommended for anxiety and depression',\n            'EMDR consideration for PTSD symptoms',\n            'Stress management techniques',\n            'Regular therapy sessions recommended',\n          ],\n          status: 'COMPLETED',\n        },\n      });\n\n      // === PHASE 3: THERAPIST MATCHING & RECOMMENDATIONS ===\n      \n      // 7. Create therapist profiles for matching\n      const therapistProfiles = [];\n      \n      for (let i = 1; i <= 3; i++) {\n        const therapistUser = await prisma.user.create({\n          data: TestDataGenerator.createUser({\n            id: `journey-therapist-${i}`,\n            email: `therapist${i}-journey@mentara.com`,\n            firstName: `Dr. Therapist${i}`,\n            lastName: 'Professional',\n            role: 'therapist',\n            isActive: true,\n            emailVerified: true,\n          }),\n        });\n\n        const therapist = await prisma.therapist.create({\n          data: {\n            userId: therapistUser.id,\n            mobile: `+123456789${i}`,\n            province: 'Ontario',\n            providerType: 'Clinical Psychologist',\n            professionalLicenseType: 'Licensed',\n            isPRCLicensed: 'yes',\n            prcLicenseNumber: `PRC12345${i}`,\n            practiceStartDate: new Date('2020-01-01'),\n            yearsOfExperience: 5 + i,\n            areasOfExpertise: i === 1 ? ['Anxiety', 'Depression', 'CBT'] : \n                             i === 2 ? ['PTSD', 'Trauma', 'EMDR'] : \n                             ['Stress Management', 'Mindfulness', 'ACT'],\n            assessmentTools: ['PHQ-9', 'GAD-7', 'PCL-5'].slice(0, i + 1),\n            therapeuticApproachesUsedList: i === 1 ? ['CBT', 'DBT'] : \n                                         i === 2 ? ['EMDR', 'Trauma-Informed CBT'] : \n                                         ['ACT', 'Mindfulness-Based Therapy'],\n            languagesOffered: ['English'],\n            providedOnlineTherapyBefore: true,\n            comfortableUsingVideoConferencing: true,\n            preferredSessionLength: [60],\n            acceptTypes: ['Individual'],\n            status: 'approved',\n            hourlyRate: 120 + (i * 30),\n            expirationDateOfLicense: new Date('2025-01-01'),\n            compliesWithDataPrivacyAct: true,\n            willingToAbideByPlatformGuidelines: true,\n            treatmentSuccessRates: {\n              anxiety: 0.85 + (i * 0.05),\n              depression: 0.80 + (i * 0.05),\n              ptsd: 0.75 + (i * 0.05),\n            },\n            sessionLength: '60 minutes',\n          },\n        });\n\n        therapistProfiles.push({ user: therapistUser, therapist });\n      }\n\n      // 8. Create matching analytics and recommendations\n      const selectedTherapist = therapistProfiles[0]; // Best match\n      \n      const matchHistory = await prisma.matchHistory.create({\n        data: {\n          clientId: client.userId,\n          therapistId: selectedTherapist.therapist.userId,\n          totalScore: 92,\n          conditionScore: 95, // Excellent match for anxiety/depression\n          approachScore: 90, // CBT approach matches client preference\n          experienceScore: 88, // Good experience level\n          reviewScore: 85, // Good reviews\n          logisticsScore: 90, // Schedule compatibility\n          compatibilityScore: 89,\n          primaryMatches: ['Anxiety', 'Depression'],\n          secondaryMatches: ['Stress Management'],\n          approachMatches: ['CBT', 'DBT'],\n          recommendationRank: 1,\n          totalRecommendations: 3,\n          wasViewed: true,\n          wasContacted: true,\n          becameClient: true,\n          sessionCount: 0, // Will be updated later\n          recommendationAlgorithm: 'advanced_ml',\n          userAgent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7)',\n        },\n      });\n\n      // 9. Create client compatibility analysis\n      const compatibility = await prisma.clientCompatibility.create({\n        data: {\n          clientId: client.userId,\n          therapistId: selectedTherapist.therapist.userId,\n          personalityCompatibility: 88,\n          sessionCompatibility: 92,\n          demographicCompatibility: 85,\n          overallCompatibility: 89,\n          communicationStyleScore: 90,\n          personalityMatchScore: 86,\n          culturalCompatibilityScore: 85,\n          formatMatchScore: 95,\n          durationMatchScore: 90,\n          frequencyMatchScore: 88,\n          schedulingCompatibilityScore: 92,\n          ageCompatibilityScore: 80,\n          genderCompatibilityScore: 85,\n          languageCompatibilityScore: 100,\n          strengths: [\n            'Excellent therapeutic approach match (CBT)',\n            'Strong experience with anxiety and depression',\n            'Compatible session scheduling preferences',\n            'High treatment success rates',\n          ],\n          concerns: [\n            'Consider cultural background alignment',\n          ],\n          recommendations: [\n            'Start with weekly CBT sessions',\n            'Focus on anxiety management techniques',\n            'Monitor depression symptoms closely',\n            'Consider DBT skills integration',\n          ],\n          analysisVersion: '3.1',\n        },\n      });\n\n      // 10. Update client to show they've seen recommendations\n      await prisma.client.update({\n        where: { userId: client.userId },\n        data: { hasSeenTherapistRecommendations: true },\n      });\n\n      // === PHASE 4: THERAPIST ASSIGNMENT & BOOKING ===\n      \n      // 11. Create client-therapist assignment\n      const assignment = await prisma.clientTherapist.create({\n        data: {\n          clientId: client.userId,\n          therapistId: selectedTherapist.therapist.userId,\n          notes: 'Matched based on CBT expertise and anxiety/depression specialization',\n        },\n      });\n\n      // 12. Create therapy sessions\n      const sessions = [];\n      const sessionDates = [\n        new Date('2024-12-01T10:00:00Z'),\n        new Date('2024-12-08T10:00:00Z'),\n        new Date('2024-12-15T10:00:00Z'),\n        new Date('2024-12-22T10:00:00Z'),\n      ];\n\n      for (const [index, sessionDate] of sessionDates.entries()) {\n        const meeting = await prisma.meeting.create({\n          data: {\n            clientId: client.userId,\n            therapistId: selectedTherapist.therapist.userId,\n            startTime: sessionDate,\n            duration: 60,\n            status: index < 2 ? 'COMPLETED' : 'SCHEDULED',\n            meetingType: 'video',\n            description: `Session ${index + 1}: ${\n              index === 0 ? 'Initial Assessment and Goal Setting' :\n              index === 1 ? 'CBT Techniques for Anxiety Management' :\n              index === 2 ? 'Depression Coping Strategies' :\n              'Progress Review and Future Planning'\n            }`,\n          },\n        });\n\n        sessions.push(meeting);\n\n        // Create session logs for completed sessions\n        if (index < 2) {\n          const sessionLog = await prisma.sessionLog.create({\n            data: {\n              clientId: client.userId,\n              meetingId: meeting.id,\n              sessionDate: sessionDate,\n              duration: 60,\n              sessionType: 'Individual',\n              notes: index === 0 \n                ? 'Client presented with moderate anxiety and depression. Established therapeutic goals and introduced CBT concepts. Good rapport established.'\n                : 'Continued CBT work on anxiety management. Client practiced breathing techniques and cognitive restructuring. Showing improvement in anxiety symptoms.',\n              mood: index === 0 ? 'anxious' : 'improving',\n              progress: index === 0 ? 'baseline' : 'good',\n            },\n          });\n        }\n      }\n\n      // === PHASE 5: ONGOING THERAPY & FEEDBACK ===\n      \n      // 13. Create review and feedback\n      const review = await prisma.review.create({\n        data: {\n          clientId: client.userId,\n          therapistId: selectedTherapist.therapist.userId,\n          rating: 5,\n          comment: 'Dr. Therapist1 has been incredibly helpful. The CBT techniques have really helped me manage my anxiety, and I feel more hopeful about my depression.',\n          isAnonymous: false,\n        },\n      });\n\n      // 14. Create recommendation feedback\n      const feedback = await prisma.recommendationFeedback.create({\n        data: {\n          clientId: client.userId,\n          therapistId: selectedTherapist.therapist.userId,\n          matchHistoryId: matchHistory.id,\n          relevanceScore: 5,\n          accuracyScore: 5,\n          helpfulnessScore: 5,\n          feedbackText: 'The recommendation was perfect! The therapist specializes exactly in what I needed help with.',\n          selectedTherapist: true,\n          hadInitialSession: true,\n          continuedTherapy: true,\n          overallSatisfaction: 5,\n        },\n      });\n\n      // 15. Update match history with session progress\n      await prisma.matchHistory.update({\n        where: { id: matchHistory.id },\n        data: {\n          sessionCount: 2, // Two completed sessions\n          clientSatisfactionScore: 5,\n        },\n      });\n\n      // === PHASE 6: COMMUNITY ENGAGEMENT ===\n      \n      // 16. Create community and user participation\n      const community = await prisma.community.create({\n        data: {\n          name: 'Anxiety Support Group',\n          description: 'A supportive community for people managing anxiety',\n          isPrivate: false,\n          memberLimit: 50,\n        },\n      });\n\n      const roomGroup = await prisma.roomGroup.create({\n        data: {\n          communityId: community.id,\n          name: 'General Support',\n          description: 'General discussions and support',\n        },\n      });\n\n      const room = await prisma.room.create({\n        data: {\n          communityId: community.id,\n          roomGroupId: roomGroup.id,\n          name: 'Daily Check-ins',\n          description: 'Share your daily progress and challenges',\n          postingRole: 'MEMBER',\n        },\n      });\n\n      // 17. Join community\n      const membership = await prisma.membership.create({\n        data: {\n          userId: clientUser.id,\n          communityId: community.id,\n          role: 'MEMBER',\n          status: 'ACTIVE',\n        },\n      });\n\n      // 18. Create community post\n      const post = await prisma.post.create({\n        data: {\n          authorId: clientUser.id,\n          communityId: community.id,\n          roomId: room.id,\n          title: 'Progress Update: Two Months of Therapy',\n          content: 'I wanted to share my progress with everyone. After two months of CBT therapy, I\\'m seeing real improvements in my anxiety levels. The breathing techniques and cognitive restructuring have been game-changers for me.',\n          type: 'TEXT',\n          isApproved: true,\n        },\n      });\n\n      // === PHASE 7: ACTIVITY TRACKING & NOTIFICATIONS ===\n      \n      // 19. Create comprehensive activity tracking\n      const activities = await prisma.userActivity.createMany({\n        data: [\n          {\n            userId: clientUser.id,\n            activityType: 'registration',\n            activityData: { source: 'web', completedAt: clientUser.createdAt },\n          },\n          {\n            userId: clientUser.id,\n            activityType: 'assessment_completion',\n            activityData: { assessmentType: 'pre-assessment', score: 18 },\n          },\n          {\n            userId: clientUser.id,\n            activityType: 'therapist_match',\n            activityData: { therapistId: selectedTherapist.therapist.userId, score: 92 },\n          },\n          {\n            userId: clientUser.id,\n            activityType: 'session_completion',\n            activityData: { sessionNumber: 1, meetingId: sessions[0].id },\n          },\n          {\n            userId: clientUser.id,\n            activityType: 'session_completion',\n            activityData: { sessionNumber: 2, meetingId: sessions[1].id },\n          },\n          {\n            userId: clientUser.id,\n            activityType: 'community_post',\n            activityData: { postId: post.id, community: community.name },\n          },\n        ],\n      });\n\n      // 20. Create notifications\n      const notifications = await prisma.notification.createMany({\n        data: [\n          {\n            userId: clientUser.id,\n            type: 'welcome',\n            title: 'Welcome to Mentara!',\n            message: 'Complete your mental health assessment to get personalized therapist recommendations.',\n            isRead: true,\n            priority: 'medium',\n          },\n          {\n            userId: clientUser.id,\n            type: 'assessment_complete',\n            title: 'Assessment Complete',\n            message: 'Your mental health assessment is complete. View your therapist recommendations.',\n            isRead: true,\n            priority: 'high',\n          },\n          {\n            userId: clientUser.id,\n            type: 'therapist_match',\n            title: 'Perfect Match Found!',\n            message: 'We found an excellent therapist match for you. Schedule your first session.',\n            isRead: true,\n            priority: 'high',\n          },\n          {\n            userId: clientUser.id,\n            type: 'session_reminder',\n            title: 'Upcoming Session',\n            message: 'You have a therapy session tomorrow at 10:00 AM.',\n            isRead: false,\n            priority: 'high',\n          },\n          {\n            userId: clientUser.id,\n            type: 'community_welcome',\n            title: 'Welcome to Anxiety Support Group',\n            message: 'You\\'ve successfully joined the Anxiety Support Group community.',\n            isRead: true,\n            priority: 'medium',\n          },\n        ],\n      });\n\n      // 21. Create audit logs\n      const auditLogs = await prisma.auditLog.createMany({\n        data: [\n          {\n            userId: clientUser.id,\n            action: 'USER_REGISTRATION',\n            entity: 'User',\n            entityId: clientUser.id,\n            details: { source: 'web', role: 'client' },\n            severity: 'INFO',\n          },\n          {\n            userId: clientUser.id,\n            action: 'ASSESSMENT_COMPLETION',\n            entity: 'PreAssessment',\n            entityId: preAssessment.id,\n            details: { overallSeverity: 'moderate', status: 'COMPLETED' },\n            severity: 'INFO',\n          },\n          {\n            userId: clientUser.id,\n            action: 'THERAPIST_ASSIGNMENT',\n            entity: 'ClientTherapist',\n            entityId: assignment.id,\n            details: { therapistId: selectedTherapist.therapist.userId, matchScore: 92 },\n            severity: 'INFO',\n          },\n          {\n            userId: clientUser.id,\n            action: 'SESSION_COMPLETION',\n            entity: 'Meeting',\n            entityId: sessions[0].id,\n            details: { sessionNumber: 1, duration: 60 },\n            severity: 'INFO',\n          },\n          {\n            userId: clientUser.id,\n            action: 'COMMUNITY_JOIN',\n            entity: 'Membership',\n            entityId: membership.id,\n            details: { communityId: community.id, role: 'MEMBER' },\n            severity: 'INFO',\n          },\n        ],\n      });\n\n      const endTime = Date.now();\n      const totalDuration = endTime - startTime;\n\n      // === COMPREHENSIVE VERIFICATION ===\n      \n      // Verify complete workflow by querying the final state\n      const completeUserJourney = await prisma.user.findUnique({\n        where: { id: clientUser.id },\n        include: {\n          client: {\n            include: {\n              assignedTherapists: {\n                include: {\n                  therapist: {\n                    include: {\n                      user: true,\n                    },\n                  },\n                },\n              },\n              meetings: {\n                include: {\n                  therapist: {\n                    include: {\n                      user: true,\n                    },\n                  },\n                },\n                orderBy: { startTime: 'asc' },\n              },\n              sessionLogs: {\n                orderBy: { sessionDate: 'asc' },\n              },\n              reviews: {\n                include: {\n                  therapist: {\n                    include: {\n                      user: true,\n                    },\n                  },\n                },\n              },\n            },\n          },\n          preAssessment: true,\n          notificationSettings: true,\n          notifications: {\n            orderBy: { createdAt: 'desc' },\n          },\n          activities: {\n            orderBy: { createdAt: 'asc' },\n          },\n          auditLogs: {\n            orderBy: { createdAt: 'asc' },\n          },\n          memberships: {\n            include: {\n              community: true,\n            },\n          },\n          posts: {\n            include: {\n              community: true,\n              room: true,\n            },\n          },\n        },\n      });\n\n      // Comprehensive assertions\n      expect(completeUserJourney).toBeTruthy();\n      expect(completeUserJourney?.role).toBe('client');\n      expect(completeUserJourney?.client?.hasSeenTherapistRecommendations).toBe(true);\n      expect(completeUserJourney?.client?.assignedTherapists).toHaveLength(1);\n      expect(completeUserJourney?.client?.meetings).toHaveLength(4);\n      expect(completeUserJourney?.client?.sessionLogs).toHaveLength(2);\n      expect(completeUserJourney?.client?.reviews).toHaveLength(1);\n      expect(completeUserJourney?.preAssessment?.status).toBe('COMPLETED');\n      expect(completeUserJourney?.notificationSettings?.emailNotifications).toBe(true);\n      expect(completeUserJourney?.notifications).toHaveLength(5);\n      expect(completeUserJourney?.activities).toHaveLength(6);\n      expect(completeUserJourney?.auditLogs).toHaveLength(5);\n      expect(completeUserJourney?.memberships).toHaveLength(1);\n      expect(completeUserJourney?.posts).toHaveLength(1);\n\n      // Verify specific workflow outcomes\n      const completedSessions = completeUserJourney?.client?.meetings.filter(m => m.status === 'COMPLETED');\n      const scheduledSessions = completeUserJourney?.client?.meetings.filter(m => m.status === 'SCHEDULED');\n      \n      expect(completedSessions).toHaveLength(2);\n      expect(scheduledSessions).toHaveLength(2);\n      expect(completeUserJourney?.client?.reviews[0].rating).toBe(5);\n\n      // Verify analytics data exists\n      const analyticsData = await Promise.all([\n        prisma.matchHistory.findFirst({ where: { clientId: client.userId } }),\n        prisma.clientCompatibility.findFirst({ where: { clientId: client.userId } }),\n        prisma.recommendationFeedback.findFirst({ where: { clientId: client.userId } }),\n      ]);\n\n      expect(analyticsData[0]?.totalScore).toBe(92);\n      expect(analyticsData[1]?.overallCompatibility).toBe(89);\n      expect(analyticsData[2]?.overallSatisfaction).toBe(5);\n\n      console.log(`âœ… Complete Client Journey Workflow Verified Successfully!\n      ðŸ“Š Workflow Statistics:\n        â±ï¸  Total Duration: ${totalDuration}ms\n        ðŸ‘¤ User Created: ${completeUserJourney?.email}\n        ðŸ§  Assessment Score: ${(completeUserJourney?.preAssessment?.answers as any)?.scores?.depression}/27 (Depression)\n        ðŸŽ¯ Match Score: ${analyticsData[0]?.totalScore}/100\n        ðŸ’œ Compatibility: ${analyticsData[1]?.overallCompatibility}/100\n        â­ Satisfaction: ${analyticsData[2]?.overallSatisfaction}/5\n        ðŸ“… Sessions Completed: ${completedSessions?.length}\n        ðŸ† Therapy Review: ${completeUserJourney?.client?.reviews[0].rating}/5 stars\n        ðŸ‘¥ Community Posts: ${completeUserJourney?.posts.length}\n        ðŸ”” Notifications: ${completeUserJourney?.notifications.length}\n        ðŸ“ Activity Logs: ${completeUserJourney?.activities.length}\n      `);\n\n      expect(totalDuration).toBeLessThan(30000); // Should complete within 30 seconds\n    }, 45000); // Extended timeout for complex workflow\n  });\n\n  describe('Therapist Application â†’ Review â†’ Approval â†’ Client Assignment Workflow', () => {\n    it('should execute complete therapist onboarding and client assignment workflow', async () => {\n      console.log('ðŸ©º Starting therapist onboarding workflow...');\n\n      // === PHASE 1: THERAPIST APPLICATION ===\n      \n      // 1. Create therapist user\n      const therapistUser = await prisma.user.create({\n        data: TestDataGenerator.createUser({\n          id: 'workflow-therapist-123',\n          email: 'new-therapist@mentara.com',\n          firstName: 'Dr. Sarah',\n          lastName: 'Johnson',\n          role: 'therapist',\n          isActive: true,\n          emailVerified: false, // Not verified until approved\n        }),\n      });\n\n      // 2. Create comprehensive therapist application\n      const therapist = await prisma.therapist.create({\n        data: {\n          userId: therapistUser.id,\n          mobile: '+1234567890',\n          province: 'British Columbia',\n          providerType: 'Licensed Clinical Social Worker',\n          professionalLicenseType: 'Licensed',\n          isPRCLicensed: 'yes',\n          prcLicenseNumber: 'PRC789012',\n          isLicenseActive: 'yes',\n          practiceStartDate: new Date('2018-06-01'),\n          yearsOfExperience: 6,\n          areasOfExpertise: [\n            'Trauma Therapy',\n            'PTSD',\n            'Anxiety Disorders',\n            'Depression',\n            'EMDR',\n          ],\n          assessmentTools: [\n            'PHQ-9',\n            'GAD-7',\n            'PCL-5',\n            'CAPS-5',\n            'PTSD Checklist',\n          ],\n          therapeuticApproachesUsedList: [\n            'EMDR',\n            'Trauma-Informed CBT',\n            'Somatic Experiencing',\n            'Mindfulness-Based Therapy',\n          ],\n          languagesOffered: ['English', 'French'],\n          providedOnlineTherapyBefore: true,\n          comfortableUsingVideoConferencing: true,\n          weeklyAvailability: '25',\n          preferredSessionLength: [60, 90],\n          acceptTypes: ['Individual', 'Couples'],\n          hourlyRate: 180,\n          expirationDateOfLicense: new Date('2025-12-31'),\n          compliesWithDataPrivacyAct: true,\n          willingToAbideByPlatformGuidelines: true,\n          status: 'pending', // Pending review\n          bio: 'Specialized trauma therapist with 6 years of experience helping clients heal from PTSD and complex trauma using EMDR and somatic approaches.',\n          education: 'MSW from University of British Columbia',\n          certifications: ['EMDR Level II', 'Trauma-Informed Care Certificate'],\n          treatmentSuccessRates: {},\n          sessionLength: '60-90 minutes',\n        },\n      });\n\n      // === PHASE 2: ADMIN REVIEW PROCESS ===\n      \n      // 3. Create admin user for review\n      const adminUser = await prisma.user.create({\n        data: TestDataGenerator.createUser({\n          id: 'workflow-admin-123',\n          email: 'admin@mentara.com',\n          firstName: 'Admin',\n          lastName: 'Reviewer',\n          role: 'admin',\n          isActive: true,\n          isVerified: true,\n        }),\n      });\n\n      const admin = await prisma.admin.create({\n        data: {\n          userId: adminUser.id,\n          permissions: ['review_therapists', 'approve_therapists', 'manage_users'],\n          adminLevel: 'admin',\n        },\n      });\n\n      // 4. Create audit log for application submission\n      await prisma.auditLog.create({\n        data: {\n          userId: therapistUser.id,\n          action: 'THERAPIST_APPLICATION_SUBMITTED',\n          entity: 'Therapist',\n          entityId: therapist.userId,\n          details: {\n            applicationStatus: 'pending',\n            providerType: therapist.providerType,\n            specializations: therapist.areasOfExpertise,\n          },\n          severity: 'INFO',\n        },\n      });\n\n      // 5. Admin reviews and approves therapist\n      const approvedTherapist = await prisma.therapist.update({\n        where: { userId: therapist.userId },\n        data: {\n          status: 'approved',\n          processedBy: admin.userId,\n          processedAt: new Date(),\n          reviewNotes: 'Excellent credentials and experience. EMDR certification verified. Approved for platform.',\n        },\n      });\n\n      // 6. Update user verification status\n      await prisma.user.update({\n        where: { id: therapistUser.id },\n        data: { emailVerified: true },\n      });\n\n      // 7. Create approval audit log\n      await prisma.auditLog.create({\n        data: {\n          userId: adminUser.id,\n          action: 'THERAPIST_APPROVED',\n          entity: 'Therapist',\n          entityId: therapist.userId,\n          details: {\n            reviewedBy: adminUser.id,\n            previousStatus: 'pending',\n            newStatus: 'approved',\n            reviewNotes: 'Excellent credentials and experience',\n          },\n          severity: 'INFO',\n        },\n      });\n\n      // === PHASE 3: CLIENT MATCHING AND ASSIGNMENT ===\n      \n      // 8. Create client needing trauma therapy\n      const traumaClientUser = await prisma.user.create({\n        data: TestDataGenerator.createUser({\n          id: 'trauma-client-123',\n          email: 'trauma-client@mentara.com',\n          firstName: 'Alex',\n          lastName: 'Rivera',\n          role: 'client',\n        }),\n      });\n\n      const traumaClient = await prisma.client.create({\n        data: {\n          userId: traumaClientUser.id,\n          hasSeenTherapistRecommendations: false,\n        },\n      });\n\n      // 9. Create trauma-focused pre-assessment\n      const traumaAssessment = await prisma.preAssessment.create({\n        data: {\n          userId: traumaClientUser.id,\n          questionnaires: {\n            PHQ9: [3, 3, 2, 2, 3, 3, 3, 2, 2], // Moderate-severe depression\n            GAD7: [3, 3, 3, 2, 3, 3, 3], // Severe anxiety\n            PCL5: [3, 4, 3, 4, 3, 3, 4, 3, 4, 3, 3, 4, 3, 3, 4, 3, 4, 3, 3, 4], // Significant PTSD symptoms\n          },\n          scores: {\n            depression: 23, // Moderate-severe\n            anxiety: 20, // Severe\n            ptsd: 68, // Significant PTSD symptoms\n          },\n          severityLevels: {\n            depression: 'moderate-severe',\n            anxiety: 'severe',\n            ptsd: 'significant',\n          },\n          status: 'COMPLETED',\n        },\n      });\n\n      // 10. Create client medical history indicating trauma\n      await prisma.clientMedicalHistory.createMany({\n        data: [\n          {\n            clientId: traumaClient.userId,\n            condition: 'Post-Traumatic Stress Disorder',\n            notes: 'Motor vehicle accident 18 months ago, experiencing flashbacks and nightmares',\n          },\n          {\n            clientId: traumaClient.userId,\n            condition: 'Major Depressive Disorder',\n            notes: 'Secondary to PTSD, began after trauma',\n          },\n        ],\n      });\n\n      // 11. Create matching analysis showing therapist as perfect match\n      const traumaMatchHistory = await prisma.matchHistory.create({\n        data: {\n          clientId: traumaClient.userId,\n          therapistId: approvedTherapist.userId,\n          totalScore: 96, // Excellent match\n          conditionScore: 98, // Perfect specialization match\n          approachScore: 95, // EMDR exactly what client needs\n          experienceScore: 94, // Strong trauma experience\n          reviewScore: 90, // New therapist, no reviews yet\n          logisticsScore: 92, // Good availability match\n          compatibilityScore: 94,\n          primaryMatches: ['PTSD', 'Trauma Therapy'],\n          secondaryMatches: ['Depression', 'Anxiety'],\n          approachMatches: ['EMDR', 'Trauma-Informed CBT'],\n          recommendationRank: 1,\n          totalRecommendations: 1, // Only one perfect match\n          wasViewed: true,\n          wasContacted: true,\n          becameClient: true,\n          sessionCount: 0,\n          recommendationAlgorithm: 'trauma_specialized',\n        },\n      });\n\n      // 12. Create compatibility analysis\n      const traumaCompatibility = await prisma.clientCompatibility.create({\n        data: {\n          clientId: traumaClient.userId,\n          therapistId: approvedTherapist.userId,\n          personalityCompatibility: 92,\n          sessionCompatibility: 95,\n          demographicCompatibility: 88,\n          overallCompatibility: 94,\n          communicationStyleScore: 90,\n          personalityMatchScore: 94,\n          culturalCompatibilityScore: 85,\n          formatMatchScore: 98, // Individual therapy preference\n          durationMatchScore: 95, // 60-90 min sessions ideal for trauma\n          frequencyMatchScore: 92,\n          schedulingCompatibilityScore: 88,\n          ageCompatibilityScore: 85,\n          genderCompatibilityScore: 90,\n          languageCompatibilityScore: 100,\n          strengths: [\n            'Specialized EMDR training perfect for PTSD treatment',\n            'Extensive trauma therapy experience',\n            'Excellent session format match for trauma processing',\n            'Strong therapeutic approach alignment',\n          ],\n          concerns: [\n            'New to platform - building review history',\n          ],\n          recommendations: [\n            'Begin with EMDR assessment and preparation',\n            'Schedule 90-minute sessions for trauma processing',\n            'Weekly sessions recommended initially',\n            'Monitor dissociation and grounding techniques',\n          ],\n          analysisVersion: '4.0',\n        },\n      });\n\n      // === PHASE 4: ASSIGNMENT AND FIRST SESSION ===\n      \n      // 13. Create client-therapist assignment\n      const traumaAssignment = await prisma.clientTherapist.create({\n        data: {\n          clientId: traumaClient.userId,\n          therapistId: approvedTherapist.userId,\n          notes: 'Specialized trauma therapy assignment. Client has PTSD from MVA, excellent match for EMDR treatment.',\n        },\n      });\n\n      // 14. Schedule first session\n      const firstSession = await prisma.meeting.create({\n        data: {\n          clientId: traumaClient.userId,\n          therapistId: approvedTherapist.userId,\n          startTime: new Date('2024-12-10T14:00:00Z'),\n          duration: 90, // Extended session for trauma work\n          status: 'COMPLETED',\n          meetingType: 'video',\n          description: 'Initial EMDR Assessment and Trauma History',\n        },\n      });\n\n      // 15. Create session log\n      const traumaSessionLog = await prisma.sessionLog.create({\n        data: {\n          clientId: traumaClient.userId,\n          meetingId: firstSession.id,\n          sessionDate: firstSession.startTime,\n          duration: 90,\n          sessionType: 'Individual',\n          notes: 'Comprehensive trauma assessment completed. Client reports MVA trauma with significant PTSD symptoms. EMDR suitability confirmed. Established safety and grounding protocols. Client motivated for treatment.',\n          mood: 'anxious but hopeful',\n          progress: 'assessment complete',\n        },\n      });\n\n      // 16. Update client to show they've seen recommendations\n      await prisma.client.update({\n        where: { userId: traumaClient.userId },\n        data: { hasSeenTherapistRecommendations: true },\n      });\n\n      // 17. Create follow-up feedback\n      const traumaFeedback = await prisma.recommendationFeedback.create({\n        data: {\n          clientId: traumaClient.userId,\n          therapistId: approvedTherapist.userId,\n          matchHistoryId: traumaMatchHistory.id,\n          relevanceScore: 5,\n          accuracyScore: 5,\n          helpfulnessScore: 5,\n          feedbackText: 'Perfect match! Finally found a therapist who truly understands trauma and has the specialized training I need.',\n          selectedTherapist: true,\n          hadInitialSession: true,\n          continuedTherapy: true,\n          overallSatisfaction: 5,\n        },\n      });\n\n      // === COMPREHENSIVE VERIFICATION ===\n      \n      // Verify complete therapist workflow\n      const completeTherapistWorkflow = await prisma.therapist.findUnique({\n        where: { userId: approvedTherapist.userId },\n        include: {\n          user: true,\n          processedByAdmin: {\n            include: {\n              user: true,\n            },\n          },\n          assignedClients: {\n            include: {\n              client: {\n                include: {\n                  user: true,\n                  preAssessment: true,\n                  sessionLogs: true,\n                },\n              },\n            },\n          },\n          meetings: {\n            include: {\n              client: {\n                include: {\n                  user: true,\n                },\n              },\n            },\n          },\n          reviews: true,\n          matchHistory: true,\n          clientCompatibility: true,\n          recommendationFeedback: true,\n        },\n      });\n\n      // Comprehensive assertions\n      expect(completeTherapistWorkflow).toBeTruthy();\n      expect(completeTherapistWorkflow?.status).toBe('approved');\n      expect(completeTherapistWorkflow?.user.emailVerified).toBe(true);\n      expect(completeTherapistWorkflow?.processedByAdmin?.user.role).toBe('admin');\n      expect(completeTherapistWorkflow?.assignedClients).toHaveLength(1);\n      expect(completeTherapistWorkflow?.meetings).toHaveLength(1);\n      expect(completeTherapistWorkflow?.matchHistory).toHaveLength(1);\n      expect(completeTherapistWorkflow?.clientCompatibility).toHaveLength(1);\n      expect(completeTherapistWorkflow?.recommendationFeedback).toHaveLength(1);\n\n      // Verify match quality\n      const matchQuality = completeTherapistWorkflow?.matchHistory[0];\n      const compatibility = completeTherapistWorkflow?.clientCompatibility[0];\n      const feedback = completeTherapistWorkflow?.recommendationFeedback[0];\n\n      expect(matchQuality?.totalScore).toBe(96);\n      expect(compatibility?.overallCompatibility).toBe(94);\n      expect(feedback?.overallSatisfaction).toBe(5);\n\n      // Verify client received proper trauma-specialized care\n      const traumaClient = completeTherapistWorkflow?.assignedClients[0].client;\n      expect((traumaClient?.preAssessment?.answers as any)?.severityLevels?.ptsd).toBe('significant');\n      expect(traumaClient?.sessionLogs).toHaveLength(1);\n      expect(traumaClient?.sessionLogs[0].notes).toContain('EMDR');\n\n      console.log(`âœ… Complete Therapist Workflow Verified Successfully!\n      ðŸ©º Therapist Onboarding Statistics:\n        ðŸ‘¨â€âš•ï¸  Therapist: ${completeTherapistWorkflow?.user.firstName} ${completeTherapistWorkflow?.user.lastName}\n        ðŸ“‹ Specialization: ${completeTherapistWorkflow?.areasOfExpertise.join(', ')}\n        âœ… Status: ${completeTherapistWorkflow?.status}\n        ðŸ‘¤ Reviewed by: ${completeTherapistWorkflow?.processedByAdmin?.user.firstName}\n        ðŸ‘¥ Assigned Clients: ${completeTherapistWorkflow?.assignedClients.length}\n        ðŸŽ¯ Match Score: ${matchQuality?.totalScore}/100\n        ðŸ’œ Compatibility: ${compatibility?.overallCompatibility}/100\n        â­ Client Satisfaction: ${feedback?.overallSatisfaction}/5\n        ðŸ”§ Specialized for: ${matchQuality?.primaryMatches.join(', ')}\n      `);\n    });\n  });\n\n  describe('Community Participation â†’ Content Creation â†’ Moderation Workflow', () => {\n    it('should execute complete community engagement workflow', async () => {\n      console.log('ðŸ‘¥ Starting community engagement workflow...');\n\n      // === PHASE 1: COMMUNITY SETUP ===\n      \n      // 1. Create community\n      const community = await prisma.community.create({\n        data: {\n          name: 'Depression Support Network',\n          description: 'A safe space for people experiencing depression to share, support, and heal together',\n          isPrivate: false,\n          memberLimit: 100,\n        },\n      });\n\n      // 2. Create room structure\n      const roomGroups = await prisma.roomGroup.createMany({\n        data: [\n          {\n            communityId: community.id,\n            name: 'Support & Sharing',\n            description: 'Share experiences and support each other',\n          },\n          {\n            communityId: community.id,\n            name: 'Resources & Tips',\n            description: 'Share helpful resources and coping strategies',\n          },\n          {\n            communityId: community.id,\n            name: 'General Discussion',\n            description: 'General conversations and community updates',\n          },\n        ],\n      });\n\n      const createdRoomGroups = await prisma.roomGroup.findMany({\n        where: { communityId: community.id },\n      });\n\n      const rooms = await prisma.room.createMany({\n        data: [\n          {\n            communityId: community.id,\n            roomGroupId: createdRoomGroups[0].id,\n            name: 'Daily Check-ins',\n            description: 'Share how you are feeling today',\n            postingRole: 'MEMBER',\n          },\n          {\n            communityId: community.id,\n            roomGroupId: createdRoomGroups[0].id,\n            name: 'Breakthrough Moments',\n            description: 'Celebrate your wins and progress',\n            postingRole: 'MEMBER',\n          },\n          {\n            communityId: community.id,\n            roomGroupId: createdRoomGroups[1].id,\n            name: 'Coping Strategies',\n            description: 'Share what works for you',\n            postingRole: 'MEMBER',\n          },\n          {\n            communityId: community.id,\n            roomGroupId: createdRoomGroups[2].id,\n            name: 'Community Updates',\n            description: 'Important community announcements',\n            postingRole: 'MODERATOR',\n          },\n        ],\n      });\n\n      const createdRooms = await prisma.room.findMany({\n        where: { communityId: community.id },\n      });\n\n      // === PHASE 2: USER PARTICIPATION ===\n      \n      // 3. Create community members\n      const memberUsers = [];\n      for (let i = 1; i <= 5; i++) {\n        const user = await prisma.user.create({\n          data: TestDataGenerator.createUser({\n            id: `community-member-${i}`,\n            email: `member${i}@community.com`,\n            firstName: `Member${i}`,\n            lastName: 'User',\n            role: 'client',\n          }),\n        });\n        memberUsers.push(user);\n      }\n\n      // 4. Create moderator\n      const moderatorUser = await prisma.user.create({\n        data: TestDataGenerator.createUser({\n          id: 'community-moderator',\n          email: 'moderator@community.com',\n          firstName: 'Community',\n          lastName: 'Moderator',\n          role: 'moderator',\n        }),\n      });\n\n      const moderator = await prisma.moderator.create({\n        data: {\n          userId: moderatorUser.id,\n          permissions: ['moderate_content', 'manage_members', 'post_announcements'],\n          assignedCommunities: { [community.id]: 'active' },\n        },\n      });\n\n      // 5. Create memberships\n      const memberships = [];\n      for (const user of memberUsers) {\n        const membership = await prisma.membership.create({\n          data: {\n            userId: user.id,\n            communityId: community.id,\n            role: 'MEMBER',\n            status: 'ACTIVE',\n          },\n        });\n        memberships.push(membership);\n      }\n\n      // Add moderator membership\n      await prisma.membership.create({\n        data: {\n          userId: moderatorUser.id,\n          communityId: community.id,\n          role: 'MODERATOR',\n          status: 'ACTIVE',\n        },\n      });\n\n      // === PHASE 3: CONTENT CREATION ===\n      \n      // 6. Create community posts\n      const posts = [];\n      \n      // Member 1: Daily check-in\n      const checkInPost = await prisma.post.create({\n        data: {\n          authorId: memberUsers[0].id,\n          communityId: community.id,\n          roomId: createdRooms[0].id, // Daily Check-ins room\n          title: 'Struggling today but here',\n          content: 'Having a rough day with my depression. The grey weather isn\\'t helping, but I\\'m trying to remember that this feeling will pass. Just wanted to check in and let everyone know I\\'m still fighting.',\n          type: 'TEXT',\n          isApproved: true,\n        },\n      });\n      posts.push(checkInPost);\n\n      // Member 2: Breakthrough moment\n      const breakthroughPost = await prisma.post.create({\n        data: {\n          authorId: memberUsers[1].id,\n          communityId: community.id,\n          roomId: createdRooms[1].id, // Breakthrough Moments room\n          title: 'Small victory: Made it to therapy today!',\n          content: 'I almost cancelled my therapy session this morning because my depression was telling me it wouldn\\'t help. But I pushed through and went anyway. My therapist reminded me how much progress I\\'ve made. Sometimes we need those outside perspectives to see our own growth.',\n          type: 'TEXT',\n          isApproved: true,\n        },\n      });\n      posts.push(breakthroughPost);\n\n      // Member 3: Coping strategy\n      const copingPost = await prisma.post.create({\n        data: {\n          authorId: memberUsers[2].id,\n          communityId: community.id,\n          roomId: createdRooms[2].id, // Coping Strategies room\n          title: 'The 5-4-3-2-1 grounding technique that saves me',\n          content: 'When my depression spirals and I feel disconnected, I use this grounding technique: 5 things I can see, 4 things I can touch, 3 things I can hear, 2 things I can smell, 1 thing I can taste. It brings me back to the present moment and helps me feel more anchored.',\n          type: 'TEXT',\n          isApproved: true,\n        },\n      });\n      posts.push(copingPost);\n\n      // Moderator: Community update\n      const updatePost = await prisma.post.create({\n        data: {\n          authorId: moderatorUser.id,\n          communityId: community.id,\n          roomId: createdRooms[3].id, // Community Updates room\n          title: 'Welcome to our new community members!',\n          content: 'We\\'ve grown to over 50 members this month! Remember our community guidelines: be kind, respect privacy, no medical advice, and support each other\\'s journeys. We\\'re here for each other.',\n          type: 'TEXT',\n          isApproved: true,\n        },\n      });\n      posts.push(updatePost);\n\n      // === PHASE 4: COMMUNITY INTERACTION ===\n      \n      // 7. Create comments and replies\n      const comments = [];\n      \n      // Support comment on struggling post\n      const supportComment = await prisma.comment.create({\n        data: {\n          authorId: memberUsers[3].id,\n          postId: checkInPost.id,\n          content: 'Sending you virtual hugs. The fact that you checked in today shows incredible strength. You\\'re not alone in this fight.',\n          isApproved: true,\n        },\n      });\n      comments.push(supportComment);\n\n      // Reply to support comment\n      const thankYouReply = await prisma.reply.create({\n        data: {\n          authorId: memberUsers[0].id,\n          commentId: supportComment.id,\n          content: 'Thank you so much. This community means everything to me.',\n          isApproved: true,\n        },\n      });\n\n      // Encouraging comment on breakthrough post\n      const encouragingComment = await prisma.comment.create({\n        data: {\n          authorId: memberUsers[4].id,\n          postId: breakthroughPost.id,\n          content: 'This is amazing! I needed to read this today. You\\'re inspiring me to keep my own therapy appointment tomorrow.',\n          isApproved: true,\n        },\n      });\n      comments.push(encouragingComment);\n\n      // Helpful comment on coping strategy\n      const helpfulComment = await prisma.comment.create({\n        data: {\n          authorId: moderatorUser.id,\n          postId: copingPost.id,\n          content: 'Thank you for sharing this technique! Grounding exercises are so helpful for managing depression symptoms. This is exactly the kind of resource sharing we love to see.',\n          isApproved: true,\n        },\n      });\n      comments.push(helpfulComment);\n\n      // === PHASE 5: HEARTS AND ENGAGEMENT ===\n      \n      // 8. Create hearts (likes) on posts\n      await prisma.postHeart.createMany({\n        data: [\n          { userId: memberUsers[1].id, postId: checkInPost.id },\n          { userId: memberUsers[2].id, postId: checkInPost.id },\n          { userId: memberUsers[3].id, postId: checkInPost.id },\n          { userId: memberUsers[4].id, postId: checkInPost.id },\n          { userId: moderatorUser.id, postId: checkInPost.id },\n          { userId: memberUsers[0].id, postId: breakthroughPost.id },\n          { userId: memberUsers[2].id, postId: breakthroughPost.id },\n          { userId: memberUsers[3].id, postId: breakthroughPost.id },\n          { userId: memberUsers[0].id, postId: copingPost.id },\n          { userId: memberUsers[1].id, postId: copingPost.id },\n          { userId: memberUsers[3].id, postId: copingPost.id },\n          { userId: memberUsers[4].id, postId: copingPost.id },\n          { userId: moderatorUser.id, postId: copingPost.id },\n        ],\n      });\n\n      // 9. Create hearts on comments\n      await prisma.commentHeart.createMany({\n        data: [\n          { userId: memberUsers[0].id, commentId: supportComment.id },\n          { userId: memberUsers[1].id, commentId: supportComment.id },\n          { userId: memberUsers[2].id, commentId: supportComment.id },\n          { userId: memberUsers[1].id, commentId: encouragingComment.id },\n          { userId: memberUsers[2].id, commentId: encouragingComment.id },\n          { userId: memberUsers[0].id, commentId: helpfulComment.id },\n          { userId: memberUsers[1].id, commentId: helpfulComment.id },\n        ],\n      });\n\n      // 10. Create hearts on replies\n      await prisma.replyHeart.createMany({\n        data: [\n          { userId: memberUsers[3].id, replyId: thankYouReply.id },\n          { userId: memberUsers[4].id, replyId: thankYouReply.id },\n          { userId: moderatorUser.id, replyId: thankYouReply.id },\n        ],\n      });\n\n      // === PHASE 6: MODERATION ACTIVITY ===\n      \n      // 11. Create moderation activities (simulated content review)\n      await prisma.auditLog.createMany({\n        data: [\n          {\n            userId: moderatorUser.id,\n            action: 'CONTENT_APPROVED',\n            entity: 'Post',\n            entityId: checkInPost.id,\n            details: { reason: 'Appropriate content, supportive message' },\n            severity: 'INFO',\n          },\n          {\n            userId: moderatorUser.id,\n            action: 'CONTENT_APPROVED',\n            entity: 'Post',\n            entityId: breakthroughPost.id,\n            details: { reason: 'Positive content, encouraging message' },\n            severity: 'INFO',\n          },\n          {\n            userId: moderatorUser.id,\n            action: 'CONTENT_APPROVED',\n            entity: 'Post',\n            entityId: copingPost.id,\n            details: { reason: 'Valuable resource sharing, helpful content' },\n            severity: 'INFO',\n          },\n        ],\n      });\n\n      // === COMPREHENSIVE VERIFICATION ===\n      \n      // Verify complete community workflow\n      const completeCommunityWorkflow = await prisma.community.findUnique({\n        where: { id: community.id },\n        include: {\n          roomGroups: {\n            include: {\n              rooms: {\n                include: {\n                  posts: {\n                    include: {\n                      author: true,\n                      comments: {\n                        include: {\n                          author: true,\n                          replies: {\n                            include: {\n                              author: true,\n                              hearts: true,\n                            },\n                          },\n                          hearts: true,\n                        },\n                      },\n                      hearts: true,\n                    },\n                  },\n                },\n              },\n            },\n          },\n          memberships: {\n            include: {\n              user: true,\n            },\n          },\n        },\n      });\n\n      // Count engagement metrics\n      const totalPosts = completeCommunityWorkflow?.roomGroups\n        .flatMap(rg => rg.rooms)\n        .flatMap(r => r.posts).length || 0;\n      \n      const totalComments = completeCommunityWorkflow?.roomGroups\n        .flatMap(rg => rg.rooms)\n        .flatMap(r => r.posts)\n        .flatMap(p => p.comments).length || 0;\n      \n      const totalReplies = completeCommunityWorkflow?.roomGroups\n        .flatMap(rg => rg.rooms)\n        .flatMap(r => r.posts)\n        .flatMap(p => p.comments)\n        .flatMap(c => c.replies).length || 0;\n      \n      const totalPostHearts = completeCommunityWorkflow?.roomGroups\n        .flatMap(rg => rg.rooms)\n        .flatMap(r => r.posts)\n        .flatMap(p => p.hearts).length || 0;\n\n      // Comprehensive assertions\n      expect(completeCommunityWorkflow).toBeTruthy();\n      expect(completeCommunityWorkflow?.memberships).toHaveLength(6); // 5 members + 1 moderator\n      expect(completeCommunityWorkflow?.roomGroups).toHaveLength(3);\n      expect(totalPosts).toBe(4);\n      expect(totalComments).toBe(3);\n      expect(totalReplies).toBe(1);\n      expect(totalPostHearts).toBe(13);\n\n      // Verify member roles\n      // Note: Membership model does not have role field - roles are determined by User.role and ModeratorCommunity\n      const memberIds = completeCommunityWorkflow?.memberships.map(m => m.userId);\n      expect(memberIds).toBeDefined();\n      expect(memberIds?.length).toBe(6); // 5 members + 1 moderator\n\n      // Verify content distribution across rooms\n      const roomPostCounts = completeCommunityWorkflow?.roomGroups\n        .flatMap(rg => rg.rooms)\n        .map(r => ({ name: r.name, posts: r.posts.length }));\n      \n      expect(roomPostCounts?.find(r => r.name === 'Daily Check-ins')?.posts).toBe(1);\n      expect(roomPostCounts?.find(r => r.name === 'Breakthrough Moments')?.posts).toBe(1);\n      expect(roomPostCounts?.find(r => r.name === 'Coping Strategies')?.posts).toBe(1);\n      expect(roomPostCounts?.find(r => r.name === 'Community Updates')?.posts).toBe(1);\n\n      console.log(`âœ… Complete Community Workflow Verified Successfully!\n      ðŸ‘¥ Community Engagement Statistics:\n        ðŸ˜ï¸  Community: ${completeCommunityWorkflow?.name}\n        ðŸ‘¥ Total Members: ${completeCommunityWorkflow?.memberships.length}\n        ðŸ  Room Groups: ${completeCommunityWorkflow?.roomGroups.length}\n        ðŸ˜ï¸  Rooms: ${completeCommunityWorkflow?.roomGroups.flatMap(rg => rg.rooms).length}\n        ðŸ“ Posts Created: ${totalPosts}\n        ðŸ’¬ Comments: ${totalComments}\n        ðŸ”— Replies: ${totalReplies}\n        ðŸ’œ Post Hearts: ${totalPostHearts}\n        ðŸ›¡ï¸  Moderator Actions: 3 content approvals\n        ðŸ“Š Engagement Rate: ${((totalComments + totalReplies + totalPostHearts) / totalPosts).toFixed(1)} interactions per post\n      `);\n    });\n  });\n});"],"version":3}