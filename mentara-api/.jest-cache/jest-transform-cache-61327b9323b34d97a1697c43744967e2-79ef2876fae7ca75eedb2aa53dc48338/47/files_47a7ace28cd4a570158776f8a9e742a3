d9755dca8a5905a99f03a77c31eaf18d
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.FileAnalyticsQueryDtoSchema = exports.BulkFileOperationDtoSchema = exports.DownloadSharedFileDtoSchema = exports.ShareTokenParamsDtoSchema = exports.CreateFileShareDtoSchema = exports.CreateFileVersionDtoSchema = exports.GetAttachmentsParamsDtoSchema = exports.AttachFileToEntityDtoSchema = exports.UpdateFileStatusDtoSchema = exports.FileParamsDtoSchema = exports.FindFilesQueryDtoSchema = exports.EnhancedFileUploadDtoSchema = exports.FilePathParamSchema = exports.FileIdParamSchema = exports.FileDownloadDtoSchema = exports.MultipleFileUploadDtoSchema = exports.FileUploadProgressSchema = exports.FileQuerySchema = exports.UpdateFileDtoSchema = exports.FileUploadDtoSchema = exports.FileSchema = void 0;
const zod_1 = require("zod");
// File Schema
exports.FileSchema = zod_1.z.object({
    id: zod_1.z.string().uuid(),
    filename: zod_1.z.string(),
    originalName: zod_1.z.string(),
    mimeType: zod_1.z.string(),
    size: zod_1.z.number(),
    path: zod_1.z.string(),
    url: zod_1.z.string().url(),
    uploadedBy: zod_1.z.string().uuid(),
    isPublic: zod_1.z.boolean(),
    createdAt: zod_1.z.string().datetime(),
    updatedAt: zod_1.z.string().datetime()
});
// File Upload Schema
exports.FileUploadDtoSchema = zod_1.z.object({
    filename: zod_1.z.string().min(1, 'Filename is required'),
    mimeType: zod_1.z.string().min(1, 'MIME type is required'),
    size: zod_1.z.number().min(1, 'File size must be greater than 0'),
    isPublic: zod_1.z.boolean().default(false),
    folder: zod_1.z.string().optional()
});
// File Update Schema
exports.UpdateFileDtoSchema = zod_1.z.object({
    filename: zod_1.z.string().min(1, 'Filename is required').optional(),
    isPublic: zod_1.z.boolean().optional()
});
// File Query Parameters
exports.FileQuerySchema = zod_1.z.object({
    page: zod_1.z.number().min(1).optional(),
    limit: zod_1.z.number().min(1).max(100).optional(),
    mimeType: zod_1.z.string().optional(),
    folder: zod_1.z.string().optional(),
    isPublic: zod_1.z.boolean().optional(),
    uploadedBy: zod_1.z.string().uuid().optional(),
    search: zod_1.z.string().optional(),
    sortBy: zod_1.z.enum(['filename', 'size', 'createdAt']).optional(),
    sortOrder: zod_1.z.enum(['asc', 'desc']).optional()
});
// File Upload Progress Schema
exports.FileUploadProgressSchema = zod_1.z.object({
    uploadId: zod_1.z.string(),
    filename: zod_1.z.string(),
    bytesUploaded: zod_1.z.number(),
    totalBytes: zod_1.z.number(),
    percentage: zod_1.z.number().min(0).max(100),
    status: zod_1.z.enum(['uploading', 'completed', 'failed', 'cancelled'])
});
// Multiple File Upload Schema
exports.MultipleFileUploadDtoSchema = zod_1.z.object({
    files: zod_1.z.array(exports.FileUploadDtoSchema).min(1, 'At least one file is required'),
    folder: zod_1.z.string().optional()
});
// File Download Schema
exports.FileDownloadDtoSchema = zod_1.z.object({
    downloadType: zod_1.z.enum(['direct', 'attachment']).default('attachment'),
    expires: zod_1.z.number().optional()
});
// Parameter Schemas
exports.FileIdParamSchema = zod_1.z.object({
    id: zod_1.z.string().uuid('Invalid file ID format')
});
exports.FilePathParamSchema = zod_1.z.object({
    path: zod_1.z.string().min(1, 'File path is required')
});
// Enhanced File Upload Schema (replaces duplicate)
exports.EnhancedFileUploadDtoSchema = zod_1.z.object({
    filename: zod_1.z.string().min(1, 'Filename is required'),
    mimeType: zod_1.z.string().min(1, 'MIME type is required'),
    size: zod_1.z.number().min(1, 'File size must be greater than 0'),
    isPublic: zod_1.z.boolean().default(false),
    folder: zod_1.z.string().optional(),
    description: zod_1.z.string().max(500, 'Description too long').optional(),
    tags: zod_1.z.array(zod_1.z.string()).optional(),
    expiresAt: zod_1.z.string().datetime().optional()
});
exports.FindFilesQueryDtoSchema = zod_1.z.object({
    page: zod_1.z.number().min(1).optional(),
    limit: zod_1.z.number().min(1).max(100).optional(),
    mimeType: zod_1.z.string().optional(),
    folder: zod_1.z.string().optional(),
    isPublic: zod_1.z.boolean().optional(),
    uploadedBy: zod_1.z.string().uuid().optional(),
    search: zod_1.z.string().optional(),
    tags: zod_1.z.array(zod_1.z.string()).optional(),
    sizeMin: zod_1.z.number().min(0).optional(),
    sizeMax: zod_1.z.number().min(1).optional(),
    dateFrom: zod_1.z.string().datetime().optional(),
    dateTo: zod_1.z.string().datetime().optional(),
    sortBy: zod_1.z.enum(['filename', 'size', 'createdAt', 'downloads']).optional(),
    sortOrder: zod_1.z.enum(['asc', 'desc']).optional()
});
exports.FileParamsDtoSchema = zod_1.z.object({
    id: zod_1.z.string().uuid('Invalid file ID format')
});
exports.UpdateFileStatusDtoSchema = zod_1.z.object({
    status: zod_1.z.enum(['active', 'inactive', 'quarantined', 'deleted']),
    reason: zod_1.z.string().max(500, 'Reason too long').optional(),
    notifyUploader: zod_1.z.boolean().default(false)
});
exports.AttachFileToEntityDtoSchema = zod_1.z.object({
    entityType: zod_1.z.string().min(1, 'Entity type is required'),
    entityId: zod_1.z.string().uuid('Invalid entity ID format'),
    attachmentType: zod_1.z.enum(['primary', 'secondary', 'thumbnail', 'document', 'media']).default('primary'),
    description: zod_1.z.string().max(200, 'Description too long').optional()
});
exports.GetAttachmentsParamsDtoSchema = zod_1.z.object({
    entityType: zod_1.z.string().min(1, 'Entity type is required'),
    entityId: zod_1.z.string().uuid('Invalid entity ID format')
});
exports.CreateFileVersionDtoSchema = zod_1.z.object({
    filename: zod_1.z.string().min(1, 'Filename is required'),
    mimeType: zod_1.z.string().min(1, 'MIME type is required'),
    size: zod_1.z.number().min(1, 'File size must be greater than 0'),
    versionNote: zod_1.z.string().max(500, 'Version note too long').optional(),
    isMinorUpdate: zod_1.z.boolean().default(false)
});
exports.CreateFileShareDtoSchema = zod_1.z.object({
    shareType: zod_1.z.enum(['public', 'password', 'expiring', 'one_time']),
    password: zod_1.z.string().min(4, 'Password must be at least 4 characters').optional(),
    expiresAt: zod_1.z.string().datetime().optional(),
    maxDownloads: zod_1.z.number().min(1).optional(),
    allowPreview: zod_1.z.boolean().default(true),
    notifyOnAccess: zod_1.z.boolean().default(false)
}).refine((data) => {
    if (data.shareType === 'password' && !data.password) {
        return false;
    }
    if (data.shareType === 'expiring' && !data.expiresAt) {
        return false;
    }
    if (data.shareType === 'one_time' && !data.maxDownloads) {
        return false;
    }
    return true;
}, {
    message: 'Required fields missing for share type',
    path: ['shareType']
});
exports.ShareTokenParamsDtoSchema = zod_1.z.object({
    token: zod_1.z.string().min(1, 'Share token is required')
});
exports.DownloadSharedFileDtoSchema = zod_1.z.object({
    password: zod_1.z.string().optional(),
    trackDownload: zod_1.z.boolean().default(true),
    clientInfo: zod_1.z.object({
        userAgent: zod_1.z.string().optional(),
        ipAddress: zod_1.z.string().optional(),
        referrer: zod_1.z.string().optional()
    }).optional()
});
// Bulk operations
exports.BulkFileOperationDtoSchema = zod_1.z.object({
    fileIds: zod_1.z.array(zod_1.z.string().uuid()).min(1, 'At least one file ID is required').max(100, 'Too many files'),
    operation: zod_1.z.enum(['delete', 'archive', 'move', 'copy', 'update_permissions']),
    targetFolder: zod_1.z.string().optional(), // For move/copy operations
    permissions: zod_1.z.object({
        isPublic: zod_1.z.boolean().optional(),
        allowDownload: zod_1.z.boolean().optional(),
        allowPreview: zod_1.z.boolean().optional()
    }).optional() // For update_permissions operation
});
// File analytics
exports.FileAnalyticsQueryDtoSchema = zod_1.z.object({
    fileId: zod_1.z.string().uuid('Invalid file ID format').optional(),
    dateFrom: zod_1.z.string().datetime().optional(),
    dateTo: zod_1.z.string().datetime().optional(),
    metrics: zod_1.z.array(zod_1.z.enum(['downloads', 'views', 'shares', 'storage_usage'])).optional(),
    groupBy: zod_1.z.enum(['day', 'week', 'month']).default('day')
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvd2V0b29hL0RvY3VtZW50cy9jb2RlL3Byb2plY3RzL21lbnRhcmEvbWVudGFyYS1jb21tb25zL2Rpc3Qvc2NoZW1hcy9maWxlcy5qcyIsIm1hcHBpbmdzIjoiQUFBQSxZQUFZLENBQUM7QUFDYixNQUFNLENBQUMsY0FBYyxDQUFDLE9BQU8sRUFBRSxZQUFZLEVBQUUsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQztBQUM5RCxPQUFPLENBQUMsMkJBQTJCLEdBQUcsT0FBTyxDQUFDLDBCQUEwQixHQUFHLE9BQU8sQ0FBQywyQkFBMkIsR0FBRyxPQUFPLENBQUMseUJBQXlCLEdBQUcsT0FBTyxDQUFDLHdCQUF3QixHQUFHLE9BQU8sQ0FBQywwQkFBMEIsR0FBRyxPQUFPLENBQUMsNkJBQTZCLEdBQUcsT0FBTyxDQUFDLDJCQUEyQixHQUFHLE9BQU8sQ0FBQyx5QkFBeUIsR0FBRyxPQUFPLENBQUMsbUJBQW1CLEdBQUcsT0FBTyxDQUFDLHVCQUF1QixHQUFHLE9BQU8sQ0FBQywyQkFBMkIsR0FBRyxPQUFPLENBQUMsbUJBQW1CLEdBQUcsT0FBTyxDQUFDLGlCQUFpQixHQUFHLE9BQU8sQ0FBQyxxQkFBcUIsR0FBRyxPQUFPLENBQUMsMkJBQTJCLEdBQUcsT0FBTyxDQUFDLHdCQUF3QixHQUFHLE9BQU8sQ0FBQyxlQUFlLEdBQUcsT0FBTyxDQUFDLG1CQUFtQixHQUFHLE9BQU8sQ0FBQyxtQkFBbUIsR0FBRyxPQUFPLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQyxDQUFDO0FBQzFzQixNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDN0IsY0FBYztBQUNkLE9BQU8sQ0FBQyxVQUFVLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUM7SUFDaEMsRUFBRSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsSUFBSSxFQUFFO0lBQzNCLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRTtJ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QUMsQ0FBQyxDQUFDLE9BQU8sRUFBRSxDQUFDLFFBQVEsRUFBRTtRQUN0QyxhQUFhLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxRQUFRLEVBQUU7UUFDM0MsWUFBWSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsT0FBTyxFQUFFLENBQUMsUUFBUSxFQUFFO0tBQzdDLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxtQ0FBbUM7Q0FDcEQsQ0FBQyxDQUFDO0FBQ0gsaUJBQWlCO0FBQ2pCLE9BQU8sQ0FBQywyQkFBMkIsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztJQUNqRCxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxJQUFJLENBQUMsd0JBQXdCLENBQUMsQ0FBQyxRQUFRLEVBQUU7SUFDbEUsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxFQUFFLENBQUMsUUFBUSxFQUFFO0lBQ2hELE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLFFBQVEsRUFBRSxDQUFDLFFBQVEsRUFBRTtJQUM5QyxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxXQUFXLEVBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUFFO0lBQ2xHLE9BQU8sRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLEtBQUssRUFBRSxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDO0NBQ2pFLENBQUMsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvaG9tZS93ZXRvb2EvRG9jdW1lbnRzL2NvZGUvcHJvamVjdHMvbWVudGFyYS9tZW50YXJhLWNvbW1vbnMvZGlzdC9zY2hlbWFzL2ZpbGVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5GaWxlQW5hbHl0aWNzUXVlcnlEdG9TY2hlbWEgPSBleHBvcnRzLkJ1bGtGaWxlT3BlcmF0aW9uRHRvU2NoZW1hID0gZXhwb3J0cy5Eb3dubG9hZFNoYXJlZEZpbGVEdG9TY2hlbWEgPSBleHBvcnRzLlNoYXJlVG9rZW5QYXJhbXNEdG9TY2hlbWEgPSBleHBvcnRzLkNyZWF0ZUZpbGVTaGFyZUR0b1NjaGVtYSA9IGV4cG9ydHMuQ3JlYXRlRmlsZVZlcnNpb25EdG9TY2hlbWEgPSBleHBvcnRzLkdldEF0dGFjaG1lbnRzUGFyYW1zRHRvU2NoZW1hID0gZXhwb3J0cy5BdHRhY2hGaWxlVG9FbnRpdHlEdG9TY2hlbWEgPSBleHBvcnRzLlVwZGF0ZUZpbGVTdGF0dXNEdG9TY2hlbWEgPSBleHBvcnRzLkZpbGVQYXJhbXNEdG9TY2hlbWEgPSBleHBvcnRzLkZpbmRGaWxlc1F1ZXJ5RHRvU2NoZW1hID0gZXhwb3J0cy5FbmhhbmNlZEZpbGVVcGxvYWREdG9TY2hlbWEgPSBleHBvcnRzLkZpbGVQYXRoUGFyYW1TY2hlbWEgPSBleHBvcnRzLkZpbGVJZFBhcmFtU2NoZW1hID0gZXhwb3J0cy5GaWxlRG93bmxvYWREdG9TY2hlbWEgPSBleHBvcnRzLk11bHRpcGxlRmlsZVVwbG9hZER0b1NjaGVtYSA9IGV4cG9ydHMuRmlsZVVwbG9hZFByb2dyZXNzU2NoZW1hID0gZXhwb3J0cy5GaWxlUXVlcnlTY2hlbWEgPSBleHBvcnRzLlVwZGF0ZUZpbGVEdG9TY2hlbWEgPSBleHBvcnRzLkZpbGVVcGxvYWREdG9TY2hlbWEgPSBleHBvcnRzLkZpbGVTY2hlbWEgPSB2b2lkIDA7XG5jb25zdCB6b2RfMSA9IHJlcXVpcmUoXCJ6b2RcIik7XG4vLyBGaWxlIFNjaGVtYVxuZXhwb3J0cy5GaWxlU2NoZW1hID0gem9kXzEuei5vYmplY3Qoe1xuICAgIGlkOiB6b2RfMS56LnN0cmluZygpLnV1aWQoKSxcbiAgICBmaWxlbmFtZTogem9kXzEuei5zdHJpbmcoKSxcbiAgICBvcmlnaW5hbE5hbWU6IHpvZF8xLnouc3RyaW5nKCksXG4gICAgbWltZVR5cGU6IHpvZF8xLnouc3RyaW5nKCksXG4gICAgc2l6ZTogem9kXzEuei5udW1iZXIoKSxcbiAgICBwYXRoOiB6b2RfMS56LnN0cmluZygpLFxuICAgIHVybDogem9kXzEuei5zdHJpbmcoKS51cmwoKSxcbiAgICB1cGxvYWRlZEJ5OiB6b2RfMS56LnN0cmluZygpLnV1aWQoKSxcbiAgICBpc1B1YmxpYzogem9kXzEuei5ib29sZWFuKCksXG4gICAgY3JlYXRlZEF0OiB6b2RfMS56LnN0cmluZygpLmRhdGV0aW1lKCksXG4gICAgdXBkYXRlZEF0OiB6b2RfMS56LnN0cmluZygpLmRhdGV0aW1lKClcbn0pO1xuLy8gRmlsZSBVcGxvYWQgU2NoZW1hXG5leHBvcnRzLkZpbGVVcGxvYWREdG9TY2hlbWEgPSB6b2RfMS56Lm9iamVjdCh7XG4gICAgZmlsZW5hbWU6IHpvZF8xLnouc3RyaW5nKCkubWluKDEsICdGaWxlbmFtZSBpcyByZXF1aXJlZCcpLFxuICAgIG1pbWVUeXBlOiB6b2RfMS56LnN0cmluZygpLm1pbigxLCAnTUlNRSB0eXBlIGlzIHJlcXVpcmVkJyksXG4gICAgc2l6ZTogem9kXzEuei5udW1iZXIoKS5taW4oMSwgJ0ZpbGUgc2l6ZSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwJyksXG4gICAgaXNQdWJsaWM6IHpvZF8xLnouYm9vbGVhbigpLmRlZmF1bHQoZmFsc2UpLFxuICAgIGZvbGRlcjogem9kXzEuei5zdHJpbmcoKS5vcHRpb25hbCgpXG59KTtcbi8vIEZpbGUgVXBkYXRlIFNjaGVtYVxuZXhwb3J0cy5VcGRhdGVGaWxlRHRvU2NoZW1hID0gem9kXzEuei5vYmplY3Qoe1xuICAgIGZpbGVuYW1lOiB6b2RfMS56LnN0cmluZygpLm1pbigxLCAnRmlsZW5hbWUgaXMgcmVxdWlyZWQnKS5vcHRpb25hbCgpLFxuICAgIGlzUHVibGljOiB6b2RfMS56LmJvb2xlYW4oKS5vcHRpb25hbCgpXG59KTtcbi8vIEZpbGUgUXVlcnkgUGFyYW1ldGVyc1xuZXhwb3J0cy5GaWxlUXVlcnlTY2hlbWEgPSB6b2RfMS56Lm9iamVjdCh7XG4gICAgcGFnZTogem9kXzEuei5udW1iZXIoKS5taW4oMSkub3B0aW9uYWwoKSxcbiAgICBsaW1pdDogem9kXzEuei5udW1iZXIoKS5taW4oMSkubWF4KDEwMCkub3B0aW9uYWwoKSxcbiAgICBtaW1lVHlwZTogem9kXzEuei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIGZvbGRlcjogem9kXzEuei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIGlzUHVibGljOiB6b2RfMS56LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICAgIHVwbG9hZGVkQnk6IHpvZF8xLnouc3RyaW5nKCkudXVpZCgpLm9wdGlvbmFsKCksXG4gICAgc2VhcmNoOiB6b2RfMS56LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgc29ydEJ5OiB6b2RfMS56LmVudW0oWydmaWxlbmFtZScsICdzaXplJywgJ2NyZWF0ZWRBdCddKS5vcHRpb25hbCgpLFxuICAgIHNvcnRPcmRlcjogem9kXzEuei5lbnVtKFsnYXNjJywgJ2Rlc2MnXSkub3B0aW9uYWwoKVxufSk7XG4vLyBGaWxlIFVwbG9hZCBQcm9ncmVzcyBTY2hlbWFcbmV4cG9ydHMuRmlsZVVwbG9hZFByb2dyZXNzU2NoZW1hID0gem9kXzEuei5vYmplY3Qoe1xuICAgIHVwbG9hZElkOiB6b2RfMS56LnN0cmluZygpLFxuICAgIGZpbGVuYW1lOiB6b2RfMS56LnN0cmluZygpLFxuICAgIGJ5dGVzVXBsb2FkZWQ6IHpvZF8xLnoubnVtYmVyKCksXG4gICAgdG90YWxCeXRlczogem9kXzEuei5udW1iZXIoKSxcbiAgICBwZXJjZW50YWdlOiB6b2RfMS56Lm51bWJlcigpLm1pbigwKS5tYXgoMTAwKSxcbiAgICBzdGF0dXM6IHpvZF8xLnouZW51bShbJ3VwbG9hZGluZycsICdjb21wbGV0ZWQnLCAnZmFpbGVkJywgJ2NhbmNlbGxlZCddKVxufSk7XG4vLyBNdWx0aXBsZSBGaWxlIFVwbG9hZCBTY2hlbWFcbmV4cG9ydHMuTXVsdGlwbGVGaWxlVXBsb2FkRHRvU2NoZW1hID0gem9kXzEuei5vYmplY3Qoe1xuICAgIGZpbGVzOiB6b2RfMS56LmFycmF5KGV4cG9ydHMuRmlsZVVwbG9hZER0b1NjaGVtYSkubWluKDEsICdBdCBsZWFzdCBvbmUgZmlsZSBpcyByZXF1aXJlZCcpLFxuICAgIGZvbGRlcjogem9kXzEuei5zdHJpbmcoKS5vcHRpb25hbCgpXG59KTtcbi8vIEZpbGUgRG93bmxvYWQgU2NoZW1hXG5leHBvcnRzLkZpbGVEb3dubG9hZER0b1NjaGVtYSA9IHpvZF8xLnoub2JqZWN0KHtcbiAgICBkb3dubG9hZFR5cGU6IHpvZF8xLnouZW51bShbJ2RpcmVjdCcsICdhdHRhY2htZW50J10pLmRlZmF1bHQoJ2F0dGFjaG1lbnQnKSxcbiAgICBleHBpcmVzOiB6b2RfMS56Lm51bWJlcigpLm9wdGlvbmFsKClcbn0pO1xuLy8gUGFyYW1ldGVyIFNjaGVtYXNcbmV4cG9ydHMuRmlsZUlkUGFyYW1TY2hlbWEgPSB6b2RfMS56Lm9iamVjdCh7XG4gICAgaWQ6IHpvZF8xLnouc3RyaW5nKCkudXVpZCgnSW52YWxpZCBmaWxlIElEIGZvcm1hdCcpXG59KTtcbmV4cG9ydHMuRmlsZVBhdGhQYXJhbVNjaGVtYSA9IHpvZF8xLnoub2JqZWN0KHtcbiAgICBwYXRoOiB6b2RfMS56LnN0cmluZygpLm1pbigxLCAnRmlsZSBwYXRoIGlzIHJlcXVpcmVkJylcbn0pO1xuLy8gRW5oYW5jZWQgRmlsZSBVcGxvYWQgU2NoZW1hIChyZXBsYWNlcyBkdXBsaWNhdGUpXG5leHBvcnRzLkVuaGFuY2VkRmlsZVVwbG9hZER0b1NjaGVtYSA9IHpvZF8xLnoub2JqZWN0KHtcbiAgICBmaWxlbmFtZTogem9kXzEuei5zdHJpbmcoKS5taW4oMSwgJ0ZpbGVuYW1lIGlzIHJlcXVpcmVkJyksXG4gICAgbWltZVR5cGU6IHpvZF8xLnouc3RyaW5nKCkubWluKDEsICdNSU1FIHR5cGUgaXMgcmVxdWlyZWQnKSxcbiAgICBzaXplOiB6b2RfMS56Lm51bWJlcigpLm1pbigxLCAnRmlsZSBzaXplIG11c3QgYmUgZ3JlYXRlciB0aGFuIDAnKSxcbiAgICBpc1B1YmxpYzogem9kXzEuei5ib29sZWFuKCkuZGVmYXVsdChmYWxzZSksXG4gICAgZm9sZGVyOiB6b2RfMS56LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgZGVzY3JpcHRpb246IHpvZF8xLnouc3RyaW5nKCkubWF4KDUwMCwgJ0Rlc2NyaXB0aW9uIHRvbyBsb25nJykub3B0aW9uYWwoKSxcbiAgICB0YWdzOiB6b2RfMS56LmFycmF5KHpvZF8xLnouc3RyaW5nKCkpLm9wdGlvbmFsKCksXG4gICAgZXhwaXJlc0F0OiB6b2RfMS56LnN0cmluZygpLmRhdGV0aW1lKCkub3B0aW9uYWwoKVxufSk7XG5leHBvcnRzLkZpbmRGaWxlc1F1ZXJ5RHRvU2NoZW1hID0gem9kXzEuei5vYmplY3Qoe1xuICAgIHBhZ2U6IHpvZF8xLnoubnVtYmVyKCkubWluKDEpLm9wdGlvbmFsKCksXG4gICAgbGltaXQ6IHpvZF8xLnoubnVtYmVyKCkubWluKDEpLm1heCgxMDApLm9wdGlvbmFsKCksXG4gICAgbWltZVR5cGU6IHpvZF8xLnouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICBmb2xkZXI6IHpvZF8xLnouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICBpc1B1YmxpYzogem9kXzEuei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgICB1cGxvYWRlZEJ5OiB6b2RfMS56LnN0cmluZygpLnV1aWQoKS5vcHRpb25hbCgpLFxuICAgIHNlYXJjaDogem9kXzEuei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIHRhZ3M6IHpvZF8xLnouYXJyYXkoem9kXzEuei5zdHJpbmcoKSkub3B0aW9uYWwoKSxcbiAgICBzaXplTWluOiB6b2RfMS56Lm51bWJlcigpLm1pbigwKS5vcHRpb25hbCgpLFxuICAgIHNpemVNYXg6IHpvZF8xLnoubnVtYmVyKCkubWluKDEpLm9wdGlvbmFsKCksXG4gICAgZGF0ZUZyb206IHpvZF8xLnouc3RyaW5nKCkuZGF0ZXRpbWUoKS5vcHRpb25hbCgpLFxuICAgIGRhdGVUbzogem9kXzEuei5zdHJpbmcoKS5kYXRldGltZSgpLm9wdGlvbmFsKCksXG4gICAgc29ydEJ5OiB6b2RfMS56LmVudW0oWydmaWxlbmFtZScsICdzaXplJywgJ2NyZWF0ZWRBdCcsICdkb3dubG9hZHMnXSkub3B0aW9uYWwoKSxcbiAgICBzb3J0T3JkZXI6IHpvZF8xLnouZW51bShbJ2FzYycsICdkZXNjJ10pLm9wdGlvbmFsKClcbn0pO1xuZXhwb3J0cy5GaWxlUGFyYW1zRHRvU2NoZW1hID0gem9kXzEuei5vYmplY3Qoe1xuICAgIGlkOiB6b2RfMS56LnN0cmluZygpLnV1aWQoJ0ludmFsaWQgZmlsZSBJRCBmb3JtYXQnKVxufSk7XG5leHBvcnRzLlVwZGF0ZUZpbGVTdGF0dXNEdG9TY2hlbWEgPSB6b2RfMS56Lm9iamVjdCh7XG4gICAgc3RhdHVzOiB6b2RfMS56LmVudW0oWydhY3RpdmUnLCAnaW5hY3RpdmUnLCAncXVhcmFudGluZWQnLCAnZGVsZXRlZCddKSxcbiAgICByZWFzb246IHpvZF8xLnouc3RyaW5nKCkubWF4KDUwMCwgJ1JlYXNvbiB0b28gbG9uZycpLm9wdGlvbmFsKCksXG4gICAgbm90aWZ5VXBsb2FkZXI6IHpvZF8xLnouYm9vbGVhbigpLmRlZmF1bHQoZmFsc2UpXG59KTtcbmV4cG9ydHMuQXR0YWNoRmlsZVRvRW50aXR5RHRvU2NoZW1hID0gem9kXzEuei5vYmplY3Qoe1xuICAgIGVudGl0eVR5cGU6IHpvZF8xLnouc3RyaW5nKCkubWluKDEsICdFbnRpdHkgdHlwZSBpcyByZXF1aXJlZCcpLFxuICAgIGVudGl0eUlkOiB6b2RfMS56LnN0cmluZygpLnV1aWQoJ0ludmFsaWQgZW50aXR5IElEIGZvcm1hdCcpLFxuICAgIGF0dGFjaG1lbnRUeXBlOiB6b2RfMS56LmVudW0oWydwcmltYXJ5JywgJ3NlY29uZGFyeScsICd0aHVtYm5haWwnLCAnZG9jdW1lbnQnLCAnbWVkaWEnXSkuZGVmYXVsdCgncHJpbWFyeScpLFxuICAgIGRlc2NyaXB0aW9uOiB6b2RfMS56LnN0cmluZygpLm1heCgyMDAsICdEZXNjcmlwdGlvbiB0b28gbG9uZycpLm9wdGlvbmFsKClcbn0pO1xuZXhwb3J0cy5HZXRBdHRhY2htZW50c1BhcmFtc0R0b1NjaGVtYSA9IHpvZF8xLnoub2JqZWN0KHtcbiAgICBlbnRpdHlUeXBlOiB6b2RfMS56LnN0cmluZygpLm1pbigxLCAnRW50aXR5IHR5cGUgaXMgcmVxdWlyZWQnKSxcbiAgICBlbnRpdHlJZDogem9kXzEuei5zdHJpbmcoKS51dWlkKCdJbnZhbGlkIGVudGl0eSBJRCBmb3JtYXQnKVxufSk7XG5leHBvcnRzLkNyZWF0ZUZpbGVWZXJzaW9uRHRvU2NoZW1hID0gem9kXzEuei5vYmplY3Qoe1xuICAgIGZpbGVuYW1lOiB6b2RfMS56LnN0cmluZygpLm1pbigxLCAnRmlsZW5hbWUgaXMgcmVxdWlyZWQnKSxcbiAgICBtaW1lVHlwZTogem9kXzEuei5zdHJpbmcoKS5taW4oMSwgJ01JTUUgdHlwZSBpcyByZXF1aXJlZCcpLFxuICAgIHNpemU6IHpvZF8xLnoubnVtYmVyKCkubWluKDEsICdGaWxlIHNpemUgbXVzdCBiZSBncmVhdGVyIHRoYW4gMCcpLFxuICAgIHZlcnNpb25Ob3RlOiB6b2RfMS56LnN0cmluZygpLm1heCg1MDAsICdWZXJzaW9uIG5vdGUgdG9vIGxvbmcnKS5vcHRpb25hbCgpLFxuICAgIGlzTWlub3JVcGRhdGU6IHpvZF8xLnouYm9vbGVhbigpLmRlZmF1bHQoZmFsc2UpXG59KTtcbmV4cG9ydHMuQ3JlYXRlRmlsZVNoYXJlRHRvU2NoZW1hID0gem9kXzEuei5vYmplY3Qoe1xuICAgIHNoYXJlVHlwZTogem9kXzEuei5lbnVtKFsncHVibGljJywgJ3Bhc3N3b3JkJywgJ2V4cGlyaW5nJywgJ29uZV90aW1lJ10pLFxuICAgIHBhc3N3b3JkOiB6b2RfMS56LnN0cmluZygpLm1pbig0LCAnUGFzc3dvcmQgbXVzdCBiZSBhdCBsZWFzdCA0IGNoYXJhY3RlcnMnKS5vcHRpb25hbCgpLFxuICAgIGV4cGlyZXNBdDogem9kXzEuei5zdHJpbmcoKS5kYXRldGltZSgpLm9wdGlvbmFsKCksXG4gICAgbWF4RG93bmxvYWRzOiB6b2RfMS56Lm51bWJlcigpLm1pbigxKS5vcHRpb25hbCgpLFxuICAgIGFsbG93UHJldmlldzogem9kXzEuei5ib29sZWFuKCkuZGVmYXVsdCh0cnVlKSxcbiAgICBub3RpZnlPbkFjY2Vzczogem9kXzEuei5ib29sZWFuKCkuZGVmYXVsdChmYWxzZSlcbn0pLnJlZmluZSgoZGF0YSkgPT4ge1xuICAgIGlmIChkYXRhLnNoYXJlVHlwZSA9PT0gJ3Bhc3N3b3JkJyAmJiAhZGF0YS5wYXNzd29yZCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChkYXRhLnNoYXJlVHlwZSA9PT0gJ2V4cGlyaW5nJyAmJiAhZGF0YS5leHBpcmVzQXQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoZGF0YS5zaGFyZVR5cGUgPT09ICdvbmVfdGltZScgJiYgIWRhdGEubWF4RG93bmxvYWRzKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59LCB7XG4gICAgbWVzc2FnZTogJ1JlcXVpcmVkIGZpZWxkcyBtaXNzaW5nIGZvciBzaGFyZSB0eXBlJyxcbiAgICBwYXRoOiBbJ3NoYXJlVHlwZSddXG59KTtcbmV4cG9ydHMuU2hhcmVUb2tlblBhcmFtc0R0b1NjaGVtYSA9IHpvZF8xLnoub2JqZWN0KHtcbiAgICB0b2tlbjogem9kXzEuei5zdHJpbmcoKS5taW4oMSwgJ1NoYXJlIHRva2VuIGlzIHJlcXVpcmVkJylcbn0pO1xuZXhwb3J0cy5Eb3dubG9hZFNoYXJlZEZpbGVEdG9TY2hlbWEgPSB6b2RfMS56Lm9iamVjdCh7XG4gICAgcGFzc3dvcmQ6IHpvZF8xLnouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICB0cmFja0Rvd25sb2FkOiB6b2RfMS56LmJvb2xlYW4oKS5kZWZhdWx0KHRydWUpLFxuICAgIGNsaWVudEluZm86IHpvZF8xLnoub2JqZWN0KHtcbiAgICAgICAgdXNlckFnZW50OiB6b2RfMS56LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICAgIGlwQWRkcmVzczogem9kXzEuei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgICAgICByZWZlcnJlcjogem9kXzEuei5zdHJpbmcoKS5vcHRpb25hbCgpXG4gICAgfSkub3B0aW9uYWwoKVxufSk7XG4vLyBCdWxrIG9wZXJhdGlvbnNcbmV4cG9ydHMuQnVsa0ZpbGVPcGVyYXRpb25EdG9TY2hlbWEgPSB6b2RfMS56Lm9iamVjdCh7XG4gICAgZmlsZUlkczogem9kXzEuei5hcnJheSh6b2RfMS56LnN0cmluZygpLnV1aWQoKSkubWluKDEsICdBdCBsZWFzdCBvbmUgZmlsZSBJRCBpcyByZXF1aXJlZCcpLm1heCgxMDAsICdUb28gbWFueSBmaWxlcycpLFxuICAgIG9wZXJhdGlvbjogem9kXzEuei5lbnVtKFsnZGVsZXRlJywgJ2FyY2hpdmUnLCAnbW92ZScsICdjb3B5JywgJ3VwZGF0ZV9wZXJtaXNzaW9ucyddKSxcbiAgICB0YXJnZXRGb2xkZXI6IHpvZF8xLnouc3RyaW5nKCkub3B0aW9uYWwoKSwgLy8gRm9yIG1vdmUvY29weSBvcGVyYXRpb25zXG4gICAgcGVybWlzc2lvbnM6IHpvZF8xLnoub2JqZWN0KHtcbiAgICAgICAgaXNQdWJsaWM6IHpvZF8xLnouYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gICAgICAgIGFsbG93RG93bmxvYWQ6IHpvZF8xLnouYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gICAgICAgIGFsbG93UHJldmlldzogem9kXzEuei5ib29sZWFuKCkub3B0aW9uYWwoKVxuICAgIH0pLm9wdGlvbmFsKCkgLy8gRm9yIHVwZGF0ZV9wZXJtaXNzaW9ucyBvcGVyYXRpb25cbn0pO1xuLy8gRmlsZSBhbmFseXRpY3NcbmV4cG9ydHMuRmlsZUFuYWx5dGljc1F1ZXJ5RHRvU2NoZW1hID0gem9kXzEuei5vYmplY3Qoe1xuICAgIGZpbGVJZDogem9kXzEuei5zdHJpbmcoKS51dWlkKCdJbnZhbGlkIGZpbGUgSUQgZm9ybWF0Jykub3B0aW9uYWwoKSxcbiAgICBkYXRlRnJvbTogem9kXzEuei5zdHJpbmcoKS5kYXRldGltZSgpLm9wdGlvbmFsKCksXG4gICAgZGF0ZVRvOiB6b2RfMS56LnN0cmluZygpLmRhdGV0aW1lKCkub3B0aW9uYWwoKSxcbiAgICBtZXRyaWNzOiB6b2RfMS56LmFycmF5KHpvZF8xLnouZW51bShbJ2Rvd25sb2FkcycsICd2aWV3cycsICdzaGFyZXMnLCAnc3RvcmFnZV91c2FnZSddKSkub3B0aW9uYWwoKSxcbiAgICBncm91cEJ5OiB6b2RfMS56LmVudW0oWydkYXknLCAnd2VlaycsICdtb250aCddKS5kZWZhdWx0KCdkYXknKVxufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maWxlcy5qcy5tYXAiXSwidmVyc2lvbiI6M30=