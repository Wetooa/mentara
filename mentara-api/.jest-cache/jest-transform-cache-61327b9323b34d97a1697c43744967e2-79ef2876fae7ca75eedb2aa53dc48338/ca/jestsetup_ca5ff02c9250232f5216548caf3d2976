3556102d4a78db8bf31e718dd3485977
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.TEST_TIMEOUT = void 0;
// Mock external dependencies
jest.mock('axios');
require("reflect-metadata");
// Global test setup for unit tests
beforeAll(async () => {
    // Set test environment variables
    process.env.NODE_ENV = 'test';
    process.env.DATABASE_URL =
        process.env.TEST_DATABASE_URL ||
            'postgresql://test:test@localhost:5432/mentara_test';
    // Disable external services in tests
    process.env.DISABLE_CLERK_WEBHOOK = 'true';
    process.env.DISABLE_EMAIL_SERVICE = 'true';
    process.env.DISABLE_AI_SERVICE = 'true';
    // Test-specific configurations
    process.env.JWT_SECRET = 'test-jwt-secret-key';
    process.env.ENCRYPTION_KEY = 'test-encryption-key-32-chars!!';
});
// @clerk/backend has been removed from the project - JWT auth is now used instead
// Note: File upload and AI service mocks will be added per-test as needed
// This prevents global module resolution issues when dependencies aren't installed
// Enhanced console mocking with test insights
const originalConsole = { ...console };
global.console = {
    ...console,
    // Suppress console.log during tests unless explicitly needed
    log: jest.fn((message) => {
        if (process.env.DEBUG_TESTS === 'true') {
            originalConsole.log('[TEST DEBUG]', message);
        }
    }),
    debug: jest.fn(),
    info: jest.fn(),
    warn: (message) => {
        if (process.env.SHOW_WARNINGS === 'true') {
            originalConsole.warn('[TEST WARN]', message);
        }
    },
    error: originalConsole.error.bind(originalConsole), // Always show errors
};
// Setup global test timeout
jest.setTimeout(10000);
// Enhanced cleanup after each test
afterEach(async () => {
    jest.clearAllMocks();
    jest.clearAllTimers();
    // Reset environment variables that might have been modified
    delete process.env.TEST_USER_ID;
    delete process.env.TEST_ROLE;
});
// Global cleanup
afterAll(async () => {
    // Clean up any remaining async operations
    await new Promise((resolve) => setTimeout(resolve, 100));
});
// Test environment validation
if (process.env.JEST_TEST_TYPE === 'integration' &&
    !process.env.DATABASE_URL?.includes('test')) {
    throw new Error('Integration tests must use a test database. DATABASE_URL must contain "test"');
}
// Prevent tests from running against production database
if (process.env.DATABASE_URL?.includes('prod')) {
    throw new Error('Tests cannot run against production database!');
}
// Enhanced test timeouts with categories
exports.TEST_TIMEOUT = {
    UNIT: 5000,
    INTEGRATION: 15000,
    E2E: 30000,
    DATABASE: 20000,
    ASYNC_OPERATION: 10000,
};
// Test performance tracking
const testStartTimes = new Map();
beforeEach(() => {
    const testName = expect.getState().currentTestName;
    testStartTimes.set(testName, Date.now());
});
afterEach(() => {
    const testName = expect.getState().currentTestName;
    const startTime = testStartTimes.get(testName);
    if (startTime && process.env.TRACK_TEST_PERFORMANCE === 'true') {
        const duration = Date.now() - startTime;
        if (duration > 1000) {
            console.warn(`Slow test detected: ${testName} took ${duration}ms`);
        }
    }
    testStartTimes.delete(testName);
});
// Global error handlers for unhandled promises
process.on('unhandledRejection', (reason, promise) => {
    console.error('Unhandled Rejection at:', promise, 'reason:', reason);
});
process.on('uncaughtException', (error) => {
    console.error('Uncaught Exception:', error);
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvd2V0b29hL0RvY3VtZW50cy9jb2RlL3Byb2plY3RzL21lbnRhcmEvbWVudGFyYS1hcGkvc3JjL3Rlc3QtdXRpbHMvamVzdC5zZXR1cC50cyIsIm1hcHBpbmdzIjoiOzs7QUFvQkEsNkJBQTZCO0FBQzdCLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7QUFyQm5CLDRCQUEwQjtBQUUxQixtQ0FBbUM7QUFDbkMsU0FBUyxDQUFDLEtBQUssSUFBSSxFQUFFO0lBQ25CLGlDQUFpQztJQUNqQyxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsR0FBRyxNQUFNLENBQUM7SUFDOUIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxZQUFZO1FBQ3RCLE9BQU8sQ0FBQyxHQUFHLENBQUMsaUJBQWlCO1lBQzdCLG9EQUFvRCxDQUFDO0lBRXZELHFDQUFxQztJQUNyQyxPQUFPLENBQUMsR0FBRyxDQUFDLHFCQUFxQixHQUFHLE1BQU0sQ0FBQztJQUMzQyxPQUFPLENBQUMsR0FBRyxDQUFDLHFCQUFxQixHQUFHLE1BQU0sQ0FBQztJQUMzQyxPQUFPLENBQUMsR0FBRyxDQUFDLGtCQUFrQixHQUFHLE1BQU0sQ0FBQztJQUV4QywrQkFBK0I7SUFDL0IsT0FBTyxDQUFDLEdBQUcsQ0FBQyxVQUFVLEdBQUcscUJBQXFCLENBQUM7SUFDL0MsT0FBTyxDQUFDLEdBQUcsQ0FBQyxjQUFjLEdBQUcsZ0NBQWdDLENBQUM7QUFDaEUsQ0FBQyxDQUFDLENBQUM7QUFJSCxrRkFBa0Y7QUFFbEYsMEVBQTBFO0FBQzFFLG1GQUFtRjtBQUVuRiw4Q0FBOEM7QUFDOUMsTUFBTSxlQUFlLEdBQUcsRUFBRSxHQUFHLE9BQU8sRUFBRSxDQUFDO0FBQ3ZDLE1BQU0sQ0FBQyxPQUFPLEdBQUc7SUFDZixHQUFHLE9BQU87SUFDViw2REFBNkQ7SUFDN0QsR0FBRyxFQUFFLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxPQUFPLEVBQUUsRUFBRTtRQUN2QixJQUFJLE9BQU8sQ0FBQyxHQUFHLENBQUMsV0FBVyxLQUFLLE1B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QUksUUFBUSxHQUFHLElBQUksRUFBRSxDQUFDO1lBQ3BCLE9BQU8sQ0FBQyxJQUFJLENBQUMsdUJBQXVCLFFBQVEsU0FBUyxRQUFRLElBQUksQ0FBQyxDQUFDO1FBQ3JFLENBQUM7SUFDSCxDQUFDO0lBQ0QsY0FBYyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUNsQyxDQUFDLENBQUMsQ0FBQztBQUVILCtDQUErQztBQUMvQyxPQUFPLENBQUMsRUFBRSxDQUFDLG9CQUFvQixFQUFFLENBQUMsTUFBTSxFQUFFLE9BQU8sRUFBRSxFQUFFO0lBQ25ELE9BQU8sQ0FBQyxLQUFLLENBQUMseUJBQXlCLEVBQUUsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLENBQUMsQ0FBQztBQUN2RSxDQUFDLENBQUMsQ0FBQztBQUVILE9BQU8sQ0FBQyxFQUFFLENBQUMsbUJBQW1CLEVBQUUsQ0FBQyxLQUFLLEVBQUUsRUFBRTtJQUN4QyxPQUFPLENBQUMsS0FBSyxDQUFDLHFCQUFxQixFQUFFLEtBQUssQ0FBQyxDQUFDO0FBQzlDLENBQUMsQ0FBQyxDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9ob21lL3dldG9vYS9Eb2N1bWVudHMvY29kZS9wcm9qZWN0cy9tZW50YXJhL21lbnRhcmEtYXBpL3NyYy90ZXN0LXV0aWxzL2plc3Quc2V0dXAudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICdyZWZsZWN0LW1ldGFkYXRhJztcblxuLy8gR2xvYmFsIHRlc3Qgc2V0dXAgZm9yIHVuaXQgdGVzdHNcbmJlZm9yZUFsbChhc3luYyAoKSA9PiB7XG4gIC8vIFNldCB0ZXN0IGVudmlyb25tZW50IHZhcmlhYmxlc1xuICBwcm9jZXNzLmVudi5OT0RFX0VOViA9ICd0ZXN0JztcbiAgcHJvY2Vzcy5lbnYuREFUQUJBU0VfVVJMID1cbiAgICBwcm9jZXNzLmVudi5URVNUX0RBVEFCQVNFX1VSTCB8fFxuICAgICdwb3N0Z3Jlc3FsOi8vdGVzdDp0ZXN0QGxvY2FsaG9zdDo1NDMyL21lbnRhcmFfdGVzdCc7XG5cbiAgLy8gRGlzYWJsZSBleHRlcm5hbCBzZXJ2aWNlcyBpbiB0ZXN0c1xuICBwcm9jZXNzLmVudi5ESVNBQkxFX0NMRVJLX1dFQkhPT0sgPSAndHJ1ZSc7XG4gIHByb2Nlc3MuZW52LkRJU0FCTEVfRU1BSUxfU0VSVklDRSA9ICd0cnVlJztcbiAgcHJvY2Vzcy5lbnYuRElTQUJMRV9BSV9TRVJWSUNFID0gJ3RydWUnO1xuXG4gIC8vIFRlc3Qtc3BlY2lmaWMgY29uZmlndXJhdGlvbnNcbiAgcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCA9ICd0ZXN0LWp3dC1zZWNyZXQta2V5JztcbiAgcHJvY2Vzcy5lbnYuRU5DUllQVElPTl9LRVkgPSAndGVzdC1lbmNyeXB0aW9uLWtleS0zMi1jaGFycyEhJztcbn0pO1xuXG4vLyBNb2NrIGV4dGVybmFsIGRlcGVuZGVuY2llc1xuamVzdC5tb2NrKCdheGlvcycpO1xuLy8gQGNsZXJrL2JhY2tlbmQgaGFzIGJlZW4gcmVtb3ZlZCBmcm9tIHRoZSBwcm9qZWN0IC0gSldUIGF1dGggaXMgbm93IHVzZWQgaW5zdGVhZFxuXG4vLyBOb3RlOiBGaWxlIHVwbG9hZCBhbmQgQUkgc2VydmljZSBtb2NrcyB3aWxsIGJlIGFkZGVkIHBlci10ZXN0IGFzIG5lZWRlZFxuLy8gVGhpcyBwcmV2ZW50cyBnbG9iYWwgbW9kdWxlIHJlc29sdXRpb24gaXNzdWVzIHdoZW4gZGVwZW5kZW5jaWVzIGFyZW4ndCBpbnN0YWxsZWRcblxuLy8gRW5oYW5jZWQgY29uc29sZSBtb2NraW5nIHdpdGggdGVzdCBpbnNpZ2h0c1xuY29uc3Qgb3JpZ2luYWxDb25zb2xlID0geyAuLi5jb25zb2xlIH07XG5nbG9iYWwuY29uc29sZSA9IHtcbiAgLi4uY29uc29sZSxcbiAgLy8gU3VwcHJlc3MgY29uc29sZS5sb2cgZHVyaW5nIHRlc3RzIHVubGVzcyBleHBsaWNpdGx5IG5lZWRlZFxuICBsb2c6IGplc3QuZm4oKG1lc3NhZ2UpID0+IHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuREVCVUdfVEVTVFMgPT09ICd0cnVlJykge1xuICAgICAgb3JpZ2luYWxDb25zb2xlLmxvZygnW1RFU1QgREVCVUddJywgbWVzc2FnZSk7XG4gICAgfVxuICB9KSxcbiAgZGVidWc6IGplc3QuZm4oKSxcbiAgaW5mbzogamVzdC5mbigpLFxuICB3YXJuOiAobWVzc2FnZSkgPT4ge1xuICAgIGlmIChwcm9jZXNzLmVudi5TSE9XX1dBUk5JTkdTID09PSAndHJ1ZScpIHtcbiAgICAgIG9yaWdpbmFsQ29uc29sZS53YXJuKCdbVEVTVCBXQVJOXScsIG1lc3NhZ2UpO1xuICAgIH1cbiAgfSxcbiAgZXJyb3I6IG9yaWdpbmFsQ29uc29sZS5lcnJvci5iaW5kKG9yaWdpbmFsQ29uc29sZSksIC8vIEFsd2F5cyBzaG93IGVycm9yc1xufTtcblxuLy8gU2V0dXAgZ2xvYmFsIHRlc3QgdGltZW91dFxuamVzdC5zZXRUaW1lb3V0KDEwMDAwKTtcblxuLy8gRW5oYW5jZWQgY2xlYW51cCBhZnRlciBlYWNoIHRlc3RcbmFmdGVyRWFjaChhc3luYyAoKSA9PiB7XG4gIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICBqZXN0LmNsZWFyQWxsVGltZXJzKCk7XG5cbiAgLy8gUmVzZXQgZW52aXJvbm1lbnQgdmFyaWFibGVzIHRoYXQgbWlnaHQgaGF2ZSBiZWVuIG1vZGlmaWVkXG4gIGRlbGV0ZSBwcm9jZXNzLmVudi5URVNUX1VTRVJfSUQ7XG4gIGRlbGV0ZSBwcm9jZXNzLmVudi5URVNUX1JPTEU7XG59KTtcblxuLy8gR2xvYmFsIGNsZWFudXBcbmFmdGVyQWxsKGFzeW5jICgpID0+IHtcbiAgLy8gQ2xlYW4gdXAgYW55IHJlbWFpbmluZyBhc3luYyBvcGVyYXRpb25zXG4gIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwMCkpO1xufSk7XG5cbi8vIFRlc3QgZW52aXJvbm1lbnQgdmFsaWRhdGlvblxuaWYgKFxuICBwcm9jZXNzLmVudi5KRVNUX1RFU1RfVFlQRSA9PT0gJ2ludGVncmF0aW9uJyAmJlxuICAhcHJvY2Vzcy5lbnYuREFUQUJBU0VfVVJMPy5pbmNsdWRlcygndGVzdCcpXG4pIHtcbiAgdGhyb3cgbmV3IEVycm9yKFxuICAgICdJbnRlZ3JhdGlvbiB0ZXN0cyBtdXN0IHVzZSBhIHRlc3QgZGF0YWJhc2UuIERBVEFCQVNFX1VSTCBtdXN0IGNvbnRhaW4gXCJ0ZXN0XCInLFxuICApO1xufVxuXG4vLyBQcmV2ZW50IHRlc3RzIGZyb20gcnVubmluZyBhZ2FpbnN0IHByb2R1Y3Rpb24gZGF0YWJhc2VcbmlmIChwcm9jZXNzLmVudi5EQVRBQkFTRV9VUkw/LmluY2x1ZGVzKCdwcm9kJykpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdUZXN0cyBjYW5ub3QgcnVuIGFnYWluc3QgcHJvZHVjdGlvbiBkYXRhYmFzZSEnKTtcbn1cblxuLy8gR2xvYmFsIHRlc3QgY29uc3RhbnRzXG5kZWNsYXJlIGdsb2JhbCB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbmFtZXNwYWNlXG4gIG5hbWVzcGFjZSBOb2RlSlMge1xuICAgIGludGVyZmFjZSBHbG9iYWwge1xuICAgICAgdGVzdERiOiBhbnk7XG4gICAgICB0ZXN0RmFjdG9yeTogYW55O1xuICAgIH1cbiAgfVxufVxuXG4vLyBFbmhhbmNlZCB0ZXN0IHRpbWVvdXRzIHdpdGggY2F0ZWdvcmllc1xuZXhwb3J0IGNvbnN0IFRFU1RfVElNRU9VVCA9IHtcbiAgVU5JVDogNTAwMCxcbiAgSU5URUdSQVRJT046IDE1MDAwLFxuICBFMkU6IDMwMDAwLFxuICBEQVRBQkFTRTogMjAwMDAsXG4gIEFTWU5DX09QRVJBVElPTjogMTAwMDAsXG59O1xuXG4vLyBUZXN0IHBlcmZvcm1hbmNlIHRyYWNraW5nXG5jb25zdCB0ZXN0U3RhcnRUaW1lcyA9IG5ldyBNYXAoKTtcblxuYmVmb3JlRWFjaCgoKSA9PiB7XG4gIGNvbnN0IHRlc3ROYW1lID0gZXhwZWN0LmdldFN0YXRlKCkuY3VycmVudFRlc3ROYW1lO1xuICB0ZXN0U3RhcnRUaW1lcy5zZXQodGVzdE5hbWUsIERhdGUubm93KCkpO1xufSk7XG5cbmFmdGVyRWFjaCgoKSA9PiB7XG4gIGNvbnN0IHRlc3ROYW1lID0gZXhwZWN0LmdldFN0YXRlKCkuY3VycmVudFRlc3ROYW1lO1xuICBjb25zdCBzdGFydFRpbWUgPSB0ZXN0U3RhcnRUaW1lcy5nZXQodGVzdE5hbWUpO1xuICBpZiAoc3RhcnRUaW1lICYmIHByb2Nlc3MuZW52LlRSQUNLX1RFU1RfUEVSRk9STUFOQ0UgPT09ICd0cnVlJykge1xuICAgIGNvbnN0IGR1cmF0aW9uID0gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZTtcbiAgICBpZiAoZHVyYXRpb24gPiAxMDAwKSB7XG4gICAgICBjb25zb2xlLndhcm4oYFNsb3cgdGVzdCBkZXRlY3RlZDogJHt0ZXN0TmFtZX0gdG9vayAke2R1cmF0aW9ufW1zYCk7XG4gICAgfVxuICB9XG4gIHRlc3RTdGFydFRpbWVzLmRlbGV0ZSh0ZXN0TmFtZSk7XG59KTtcblxuLy8gR2xvYmFsIGVycm9yIGhhbmRsZXJzIGZvciB1bmhhbmRsZWQgcHJvbWlzZXNcbnByb2Nlc3Mub24oJ3VuaGFuZGxlZFJlamVjdGlvbicsIChyZWFzb24sIHByb21pc2UpID0+IHtcbiAgY29uc29sZS5lcnJvcignVW5oYW5kbGVkIFJlamVjdGlvbiBhdDonLCBwcm9taXNlLCAncmVhc29uOicsIHJlYXNvbik7XG59KTtcblxucHJvY2Vzcy5vbigndW5jYXVnaHRFeGNlcHRpb24nLCAoZXJyb3IpID0+IHtcbiAgY29uc29sZS5lcnJvcignVW5jYXVnaHQgRXhjZXB0aW9uOicsIGVycm9yKTtcbn0pO1xuIl0sInZlcnNpb24iOjN9