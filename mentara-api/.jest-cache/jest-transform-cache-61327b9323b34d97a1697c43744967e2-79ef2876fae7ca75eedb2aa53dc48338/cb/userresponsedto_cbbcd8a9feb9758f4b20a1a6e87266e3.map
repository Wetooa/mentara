{"file":"/home/wetooa/Documents/code/projects/mentara/mentara-api/src/common/dto/user-response.dto.ts","mappings":"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","names":[],"sources":["/home/wetooa/Documents/code/projects/mentara/mentara-api/src/common/dto/user-response.dto.ts"],"sourcesContent":["import type { UserDto } from '../../users/types';\nimport type { AuthResponse } from '../../auth/types';\nimport { UserRole } from '../../types/global';\n\n// Define UserProfileResponse locally since it's only used here\ninterface UserProfileResponse extends UserDto {\n  fullName?: string;\n}\n\n/**\n * User response DTO for public API endpoints\n */\nexport class UserResponseDto implements UserDto {\n  id: string;\n  email: string;\n  firstName: string;\n  middleName?: string;\n  lastName: string;\n  birthDate?: string;\n  address?: string;\n  role: string;\n  bio?: string;\n  avatarUrl?: string;\n  coverImageUrl?: string;\n  phoneNumber?: string;\n  timezone?: string;\n  language?: string;\n  theme?: string;\n  isActive: boolean;\n  isEmailVerified: boolean;\n  createdAt: string;\n  updatedAt: string;\n\n  constructor(user: any) {\n    this.id = user.id;\n    this.email = user.email;\n    this.firstName = user.firstName || '';\n    this.middleName = user.middleName;\n    this.lastName = user.lastName || '';\n    this.birthDate = user.birthDate?.toISOString();\n    this.address = user.address;\n    this.role = user.role;\n    this.bio = user.bio;\n    this.avatarUrl = user.avatarUrl;\n    this.coverImageUrl = user.coverImageUrl;\n    this.phoneNumber = user.phoneNumber;\n    this.timezone = user.timezone;\n    this.language = user.language;\n    this.theme = user.theme;\n    this.isActive = user.isActive ?? true;\n    this.isEmailVerified = user.isEmailVerified ?? user.emailVerified ?? false;\n    this.createdAt = user.createdAt.toISOString();\n    this.updatedAt = user.updatedAt.toISOString();\n  }\n\n  /**\n   * Create UserResponseDto from Prisma User object\n   */\n  static fromPrismaUser(user: any): UserResponseDto {\n    return new UserResponseDto(user);\n  }\n\n  /**\n   * Create array of UserResponseDto from Prisma User array\n   */\n  static fromPrismaUsers(users: any[]): UserResponseDto[] {\n    return users.map(user => UserResponseDto.fromPrismaUser(user));\n  }\n}\n\n/**\n * User profile response DTO with additional computed fields\n */\nexport class UserProfileResponseDto extends UserResponseDto implements UserProfileResponse {\n  fullName?: string;\n\n  constructor(user: any) {\n    super(user);\n    this.fullName = this.computeFullName();\n  }\n\n  private computeFullName(): string | undefined {\n    const parts = [this.firstName, this.middleName, this.lastName].filter(Boolean);\n    return parts.length > 0 ? parts.join(' ') : undefined;\n  }\n\n  /**\n   * Create UserProfileResponseDto from Prisma User object\n   */\n  static fromPrismaUser(user: any): UserProfileResponseDto {\n    return new UserProfileResponseDto(user);\n  }\n}\n\n/**\n * Authentication response DTO\n */\nexport class AuthResponseDto implements AuthResponse {\n  user: {\n    id: string;\n    email: string;\n    firstName: string;\n    lastName: string;\n    role: UserRole;\n    isEmailVerified: boolean;\n    createdAt: Date;\n    updatedAt: Date;\n  };\n  token: string;\n  message: string;\n\n  constructor(user: any, token: string, message: string = 'Authentication successful') {\n    // Create AuthUser object with required fields\n    this.user = {\n      id: user.id,\n      email: user.email,\n      firstName: user.firstName || '',\n      lastName: user.lastName || '',\n      role: user.role,\n      isEmailVerified: user.emailVerified || user.isEmailVerified || false,\n      createdAt: user.createdAt || new Date(),\n      updatedAt: user.updatedAt || new Date(),\n    };\n    this.token = token;\n    this.message = message;\n  }\n}"],"version":3}