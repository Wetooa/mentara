5fcafb022de4cec6c21e68727a91b9ad
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.AuthResponseDto = exports.UserProfileResponseDto = exports.UserResponseDto = void 0;
/**
 * User response DTO for public API endpoints
 */
class UserResponseDto {
    id;
    email;
    firstName;
    middleName;
    lastName;
    birthDate;
    address;
    role;
    bio;
    avatarUrl;
    coverImageUrl;
    phoneNumber;
    timezone;
    language;
    theme;
    isActive;
    isEmailVerified;
    createdAt;
    updatedAt;
    constructor(user) {
        this.id = user.id;
        this.email = user.email;
        this.firstName = user.firstName || '';
        this.middleName = user.middleName;
        this.lastName = user.lastName || '';
        this.birthDate = user.birthDate?.toISOString();
        this.address = user.address;
        this.role = user.role;
        this.bio = user.bio;
        this.avatarUrl = user.avatarUrl;
        this.coverImageUrl = user.coverImageUrl;
        this.phoneNumber = user.phoneNumber;
        this.timezone = user.timezone;
        this.language = user.language;
        this.theme = user.theme;
        this.isActive = user.isActive ?? true;
        this.isEmailVerified = user.isEmailVerified ?? user.emailVerified ?? false;
        this.createdAt = user.createdAt.toISOString();
        this.updatedAt = user.updatedAt.toISOString();
    }
    /**
     * Create UserResponseDto from Prisma User object
     */
    static fromPrismaUser(user) {
        return new UserResponseDto(user);
    }
    /**
     * Create array of UserResponseDto from Prisma User array
     */
    static fromPrismaUsers(users) {
        return users.map(user => UserResponseDto.fromPrismaUser(user));
    }
}
exports.UserResponseDto = UserResponseDto;
/**
 * User profile response DTO with additional computed fields
 */
class UserProfileResponseDto extends UserResponseDto {
    fullName;
    constructor(user) {
        super(user);
        this.fullName = this.computeFullName();
    }
    computeFullName() {
        const parts = [this.firstName, this.middleName, this.lastName].filter(Boolean);
        return parts.length > 0 ? parts.join(' ') : undefined;
    }
    /**
     * Create UserProfileResponseDto from Prisma User object
     */
    static fromPrismaUser(user) {
        return new UserProfileResponseDto(user);
    }
}
exports.UserProfileResponseDto = UserProfileResponseDto;
/**
 * Authentication response DTO
 */
class AuthResponseDto {
    user;
    token;
    message;
    constructor(user, token, message = 'Authentication successful') {
        // Create AuthUser object with required fields
        this.user = {
            id: user.id,
            email: user.email,
            firstName: user.firstName || '',
            lastName: user.lastName || '',
            role: user.role,
            isEmailVerified: user.emailVerified || user.isEmailVerified || false,
            createdAt: user.createdAt || new Date(),
            updatedAt: user.updatedAt || new Date(),
        };
        this.token = token;
        this.message = message;
    }
}
exports.AuthResponseDto = AuthResponseDto;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvd2V0b29hL0RvY3VtZW50cy9jb2RlL3Byb2plY3RzL21lbnRhcmEvbWVudGFyYS1hcGkvc3JjL2NvbW1vbi9kdG8vdXNlci1yZXNwb25zZS5kdG8udHMiLCJtYXBwaW5ncyI6Ijs7O0FBU0E7O0dBRUc7QUFDSCxNQUFhLGVBQWU7SUFDMUIsRUFBRSxDQUFTO0lBQ1gsS0FBSyxDQUFTO0lBQ2QsU0FBUyxDQUFTO0lBQ2xCLFVBQVUsQ0FBVTtJQUNwQixRQUFRLENBQVM7SUFDakIsU0FBUyxDQUFVO0lBQ25CLE9BQU8sQ0FBVTtJQUNqQixJQUFJLENBQVM7SUFDYixHQUFHLENBQVU7SUFDYixTQUFTLENBQVU7SUFDbkIsYUFBYSxDQUFVO0lBQ3ZCLFdBQVcsQ0FBVTtJQUNyQixRQUFRLENBQVU7SUFDbEIsUUFBUSxDQUFVO0lBQ2xCLEtBQUssQ0FBVTtJQUNmLFFBQVEsQ0FBVTtJQUNsQixlQUFlLENBQVU7SUFDekIsU0FBUyxDQUFTO0lBQ2xCLFNBQVMsQ0FBUztJQUVsQixZQUFZLElBQVM7UUFDbkIsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDO1FBQ2xCLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztRQUN4QixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxTQUFTLElBQUksRUFBRSxDQUFDO1FBQ3RDLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQztRQUNsQyxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxRQUFRLElBQUksRUFBRSxDQUFDO1FBQ3BDLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFNBQVMsRUFBRSxXQUFXLEVBQUUsQ0FBQztRQUMvQyxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUM7UUFDNUIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQ3RCLElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdB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LElBQUksRUFBRTtTQUN4QyxDQUFDO1FBQ0YsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFDbkIsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7SUFDekIsQ0FBQztDQUNGO0FBN0JELDBDQTZCQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvaG9tZS93ZXRvb2EvRG9jdW1lbnRzL2NvZGUvcHJvamVjdHMvbWVudGFyYS9tZW50YXJhLWFwaS9zcmMvY29tbW9uL2R0by91c2VyLXJlc3BvbnNlLmR0by50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IFVzZXJEdG8gfSBmcm9tICcuLi8uLi91c2Vycy90eXBlcyc7XG5pbXBvcnQgdHlwZSB7IEF1dGhSZXNwb25zZSB9IGZyb20gJy4uLy4uL2F1dGgvdHlwZXMnO1xuaW1wb3J0IHsgVXNlclJvbGUgfSBmcm9tICcuLi8uLi90eXBlcy9nbG9iYWwnO1xuXG4vLyBEZWZpbmUgVXNlclByb2ZpbGVSZXNwb25zZSBsb2NhbGx5IHNpbmNlIGl0J3Mgb25seSB1c2VkIGhlcmVcbmludGVyZmFjZSBVc2VyUHJvZmlsZVJlc3BvbnNlIGV4dGVuZHMgVXNlckR0byB7XG4gIGZ1bGxOYW1lPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIFVzZXIgcmVzcG9uc2UgRFRPIGZvciBwdWJsaWMgQVBJIGVuZHBvaW50c1xuICovXG5leHBvcnQgY2xhc3MgVXNlclJlc3BvbnNlRHRvIGltcGxlbWVudHMgVXNlckR0byB7XG4gIGlkOiBzdHJpbmc7XG4gIGVtYWlsOiBzdHJpbmc7XG4gIGZpcnN0TmFtZTogc3RyaW5nO1xuICBtaWRkbGVOYW1lPzogc3RyaW5nO1xuICBsYXN0TmFtZTogc3RyaW5nO1xuICBiaXJ0aERhdGU/OiBzdHJpbmc7XG4gIGFkZHJlc3M/OiBzdHJpbmc7XG4gIHJvbGU6IHN0cmluZztcbiAgYmlvPzogc3RyaW5nO1xuICBhdmF0YXJVcmw/OiBzdHJpbmc7XG4gIGNvdmVySW1hZ2VVcmw/OiBzdHJpbmc7XG4gIHBob25lTnVtYmVyPzogc3RyaW5nO1xuICB0aW1lem9uZT86IHN0cmluZztcbiAgbGFuZ3VhZ2U/OiBzdHJpbmc7XG4gIHRoZW1lPzogc3RyaW5nO1xuICBpc0FjdGl2ZTogYm9vbGVhbjtcbiAgaXNFbWFpbFZlcmlmaWVkOiBib29sZWFuO1xuICBjcmVhdGVkQXQ6IHN0cmluZztcbiAgdXBkYXRlZEF0OiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IodXNlcjogYW55KSB7XG4gICAgdGhpcy5pZCA9IHVzZXIuaWQ7XG4gICAgdGhpcy5lbWFpbCA9IHVzZXIuZW1haWw7XG4gICAgdGhpcy5maXJzdE5hbWUgPSB1c2VyLmZpcnN0TmFtZSB8fCAnJztcbiAgICB0aGlzLm1pZGRsZU5hbWUgPSB1c2VyLm1pZGRsZU5hbWU7XG4gICAgdGhpcy5sYXN0TmFtZSA9IHVzZXIubGFzdE5hbWUgfHwgJyc7XG4gICAgdGhpcy5iaXJ0aERhdGUgPSB1c2VyLmJpcnRoRGF0ZT8udG9JU09TdHJpbmcoKTtcbiAgICB0aGlzLmFkZHJlc3MgPSB1c2VyLmFkZHJlc3M7XG4gICAgdGhpcy5yb2xlID0gdXNlci5yb2xlO1xuICAgIHRoaXMuYmlvID0gdXNlci5iaW87XG4gICAgdGhpcy5hdmF0YXJVcmwgPSB1c2VyLmF2YXRhclVybDtcbiAgICB0aGlzLmNvdmVySW1hZ2VVcmwgPSB1c2VyLmNvdmVySW1hZ2VVcmw7XG4gICAgdGhpcy5waG9uZU51bWJlciA9IHVzZXIucGhvbmVOdW1iZXI7XG4gICAgdGhpcy50aW1lem9uZSA9IHVzZXIudGltZXpvbmU7XG4gICAgdGhpcy5sYW5ndWFnZSA9IHVzZXIubGFuZ3VhZ2U7XG4gICAgdGhpcy50aGVtZSA9IHVzZXIudGhlbWU7XG4gICAgdGhpcy5pc0FjdGl2ZSA9IHVzZXIuaXNBY3RpdmUgPz8gdHJ1ZTtcbiAgICB0aGlzLmlzRW1haWxWZXJpZmllZCA9IHVzZXIuaXNFbWFpbFZlcmlmaWVkID8/IHVzZXIuZW1haWxWZXJpZmllZCA/PyBmYWxzZTtcbiAgICB0aGlzLmNyZWF0ZWRBdCA9IHVzZXIuY3JlYXRlZEF0LnRvSVNPU3RyaW5nKCk7XG4gICAgdGhpcy51cGRhdGVkQXQgPSB1c2VyLnVwZGF0ZWRBdC50b0lTT1N0cmluZygpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBVc2VyUmVzcG9uc2VEdG8gZnJvbSBQcmlzbWEgVXNlciBvYmplY3RcbiAgICovXG4gIHN0YXRpYyBmcm9tUHJpc21hVXNlcih1c2VyOiBhbnkpOiBVc2VyUmVzcG9uc2VEdG8ge1xuICAgIHJldHVybiBuZXcgVXNlclJlc3BvbnNlRHRvKHVzZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhcnJheSBvZiBVc2VyUmVzcG9uc2VEdG8gZnJvbSBQcmlzbWEgVXNlciBhcnJheVxuICAgKi9cbiAgc3RhdGljIGZyb21QcmlzbWFVc2Vycyh1c2VyczogYW55W10pOiBVc2VyUmVzcG9uc2VEdG9bXSB7XG4gICAgcmV0dXJuIHVzZXJzLm1hcCh1c2VyID0+IFVzZXJSZXNwb25zZUR0by5mcm9tUHJpc21hVXNlcih1c2VyKSk7XG4gIH1cbn1cblxuLyoqXG4gKiBVc2VyIHByb2ZpbGUgcmVzcG9uc2UgRFRPIHdpdGggYWRkaXRpb25hbCBjb21wdXRlZCBmaWVsZHNcbiAqL1xuZXhwb3J0IGNsYXNzIFVzZXJQcm9maWxlUmVzcG9uc2VEdG8gZXh0ZW5kcyBVc2VyUmVzcG9uc2VEdG8gaW1wbGVtZW50cyBVc2VyUHJvZmlsZVJlc3BvbnNlIHtcbiAgZnVsbE5hbWU/OiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IodXNlcjogYW55KSB7XG4gICAgc3VwZXIodXNlcik7XG4gICAgdGhpcy5mdWxsTmFtZSA9IHRoaXMuY29tcHV0ZUZ1bGxOYW1lKCk7XG4gIH1cblxuICBwcml2YXRlIGNvbXB1dGVGdWxsTmFtZSgpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IHBhcnRzID0gW3RoaXMuZmlyc3ROYW1lLCB0aGlzLm1pZGRsZU5hbWUsIHRoaXMubGFzdE5hbWVdLmZpbHRlcihCb29sZWFuKTtcbiAgICByZXR1cm4gcGFydHMubGVuZ3RoID4gMCA/IHBhcnRzLmpvaW4oJyAnKSA6IHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgVXNlclByb2ZpbGVSZXNwb25zZUR0byBmcm9tIFByaXNtYSBVc2VyIG9iamVjdFxuICAgKi9cbiAgc3RhdGljIGZyb21QcmlzbWFVc2VyKHVzZXI6IGFueSk6IFVzZXJQcm9maWxlUmVzcG9uc2VEdG8ge1xuICAgIHJldHVybiBuZXcgVXNlclByb2ZpbGVSZXNwb25zZUR0byh1c2VyKTtcbiAgfVxufVxuXG4vKipcbiAqIEF1dGhlbnRpY2F0aW9uIHJlc3BvbnNlIERUT1xuICovXG5leHBvcnQgY2xhc3MgQXV0aFJlc3BvbnNlRHRvIGltcGxlbWVudHMgQXV0aFJlc3BvbnNlIHtcbiAgdXNlcjoge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgZW1haWw6IHN0cmluZztcbiAgICBmaXJzdE5hbWU6IHN0cmluZztcbiAgICBsYXN0TmFtZTogc3RyaW5nO1xuICAgIHJvbGU6IFVzZXJSb2xlO1xuICAgIGlzRW1haWxWZXJpZmllZDogYm9vbGVhbjtcbiAgICBjcmVhdGVkQXQ6IERhdGU7XG4gICAgdXBkYXRlZEF0OiBEYXRlO1xuICB9O1xuICB0b2tlbjogc3RyaW5nO1xuICBtZXNzYWdlOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IodXNlcjogYW55LCB0b2tlbjogc3RyaW5nLCBtZXNzYWdlOiBzdHJpbmcgPSAnQXV0aGVudGljYXRpb24gc3VjY2Vzc2Z1bCcpIHtcbiAgICAvLyBDcmVhdGUgQXV0aFVzZXIgb2JqZWN0IHdpdGggcmVxdWlyZWQgZmllbGRzXG4gICAgdGhpcy51c2VyID0ge1xuICAgICAgaWQ6IHVzZXIuaWQsXG4gICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgIGZpcnN0TmFtZTogdXNlci5maXJzdE5hbWUgfHwgJycsXG4gICAgICBsYXN0TmFtZTogdXNlci5sYXN0TmFtZSB8fCAnJyxcbiAgICAgIHJvbGU6IHVzZXIucm9sZSxcbiAgICAgIGlzRW1haWxWZXJpZmllZDogdXNlci5lbWFpbFZlcmlmaWVkIHx8IHVzZXIuaXNFbWFpbFZlcmlmaWVkIHx8IGZhbHNlLFxuICAgICAgY3JlYXRlZEF0OiB1c2VyLmNyZWF0ZWRBdCB8fCBuZXcgRGF0ZSgpLFxuICAgICAgdXBkYXRlZEF0OiB1c2VyLnVwZGF0ZWRBdCB8fCBuZXcgRGF0ZSgpLFxuICAgIH07XG4gICAgdGhpcy50b2tlbiA9IHRva2VuO1xuICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gIH1cbn0iXSwidmVyc2lvbiI6M30=