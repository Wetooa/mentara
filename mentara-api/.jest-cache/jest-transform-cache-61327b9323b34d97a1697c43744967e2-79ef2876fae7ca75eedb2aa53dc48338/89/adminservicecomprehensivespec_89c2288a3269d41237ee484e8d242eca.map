{"file":"/home/wetooa/Documents/code/projects/mentara/mentara-api/src/admin/admin.service.comprehensive.spec.ts","mappings":"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","names":[],"sources":["/home/wetooa/Documents/code/projects/mentara/mentara-api/src/admin/admin.service.comprehensive.spec.ts"],"sourcesContent":["import { Test, TestingModule } from '@nestjs/testing';\nimport { AdminService } from './admin.service';\nimport { PrismaService } from '../providers/prisma-client.provider';\nimport { NotFoundException } from '@nestjs/common';\nimport { Prisma } from '@prisma/client';\n\ndescribe('AdminService - Comprehensive Testing', () => {\n  let service: AdminService;\n  let prismaService: jest.Mocked<PrismaService>;\n\n  // Mock data structures\n  const mockDate = new Date('2024-01-15T10:00:00Z');\n  const mockProcessingDate = new Date('2024-01-16T14:30:00Z');\n  const mockSuspensionDate = new Date('2024-01-14T09:00:00Z');\n\n  const mockUser = {\n    id: 'user-123',\n    firstName: 'John',\n    lastName: 'Doe',\n    email: 'john.doe@example.com',\n    role: 'client',\n    isActive: true,\n    isVerified: true,\n    createdAt: mockDate,\n    lastLoginAt: mockDate,\n    suspendedAt: null,\n    suspensionReason: null,\n  };\n\n  const mockAdmin = {\n    id: 'admin-123',\n    userId: 'admin-user-123',\n    user: {\n      firstName: 'Admin',\n      lastName: 'User',\n    },\n  };\n\n  const mockTherapist = {\n    id: 'therapist-123',\n    userId: 'therapist-user-123',\n    status: 'pending',\n    submissionDate: mockDate,\n    processedByAdminId: null,\n    processingDate: null,\n    user: {\n      id: 'therapist-user-123',\n      firstName: 'Dr. Jane',\n      lastName: 'Smith',\n      email: 'jane.smith@example.com',\n      createdAt: mockDate,\n    },\n    processedByAdmin: null,\n  };\n\n  const mockApprovedTherapist = {\n    ...mockTherapist,\n    status: 'approved',\n    processedByAdminId: 'admin-123',\n    processingDate: mockProcessingDate,\n    processedByAdmin: mockAdmin,\n  };\n\n  const mockSuspendedUser = {\n    ...mockUser,\n    id: 'suspended-user-123',\n    isActive: false,\n    suspendedAt: mockSuspensionDate,\n    suspendedBy: 'admin-123',\n    suspensionReason: 'Inappropriate behavior',\n  };\n\n  const mockPost = {\n    id: 'post-123',\n    title: 'Sample Post',\n    content: 'Post content here',\n    userId: 'user-123',\n    createdAt: mockDate,\n    user: {\n      id: 'user-123',\n      firstName: 'John',\n      lastName: 'Doe',\n    },\n    room: {\n      name: 'General Discussion',\n      roomGroup: {\n        community: {\n          name: 'Mental Health Support',\n        },\n      },\n    },\n  };\n\n  const mockComment = {\n    id: 'comment-123',\n    content: 'Comment content here',\n    userId: 'user-123',\n    postId: 'post-123',\n    createdAt: mockDate,\n    user: {\n      id: 'user-123',\n      firstName: 'John',\n      lastName: 'Doe',\n    },\n    post: {\n      title: 'Sample Post',\n    },\n  };\n\n  const mockMatchHistory = {\n    id: 'match-123',\n    userId: 'user-123',\n    therapistId: 'therapist-123',\n    totalScore: 85.5,\n    becameClient: true,\n    wasViewed: true,\n    wasContacted: true,\n    createdAt: mockDate,\n  };\n\n  const mockMeeting = {\n    id: 'meeting-123',\n    title: 'Therapy Session',\n    clientId: 'client-123',\n    therapistId: 'therapist-123',\n    createdAt: mockDate,\n  };\n\n  const mockCommunity = {\n    id: 'community-123',\n    name: 'Depression Support',\n    createdAt: mockDate,\n  };\n\n  beforeEach(async () => {\n    const mockPrismaService = {\n      therapist: {\n        findMany: jest.fn(),\n        findUnique: jest.fn(),\n        count: jest.fn(),\n        update: jest.fn(),\n      },\n      user: {\n        findMany: jest.fn(),\n        findUnique: jest.fn(),\n        count: jest.fn(),\n        update: jest.fn(),\n      },\n      client: {\n        count: jest.fn(),\n      },\n      community: {\n        count: jest.fn(),\n      },\n      post: {\n        findMany: jest.fn(),\n        findUnique: jest.fn(),\n        count: jest.fn(),\n        delete: jest.fn(),\n      },\n      comment: {\n        findMany: jest.fn(),\n        findUnique: jest.fn(),\n        delete: jest.fn(),\n      },\n      meeting: {\n        count: jest.fn(),\n      },\n      matchHistory: {\n        findMany: jest.fn(),\n      },\n      auditLog: {\n        create: jest.fn(),\n      },\n      $transaction: jest.fn(),\n    };\n\n    const module: TestingModule = await Test.createTestingModule({\n      providers: [\n        AdminService,\n        {\n          provide: PrismaService,\n          useValue: mockPrismaService,\n        },\n      ],\n    }).compile();\n\n    service = module.get<AdminService>(AdminService);\n    prismaService = module.get(PrismaService);\n\n    // Mock Date constructor for consistent testing\n    jest.useFakeTimers();\n    jest.setSystemTime(mockDate);\n  });\n\n  afterEach(() => {\n    jest.clearAllMocks();\n    jest.useRealTimers();\n  });\n\n  it('should be defined', () => {\n    expect(service).toBeDefined();\n  });\n\n  describe('Therapist Application Management', () => {\n    describe('getAllTherapistApplications', () => {\n      beforeEach(() => {\n        prismaService.therapist.findMany.mockResolvedValue([mockTherapist]);\n        prismaService.therapist.count.mockResolvedValue(1);\n      });\n\n      it('should retrieve all therapist applications with pagination', async () => {\n        const params = { page: 1, limit: 10 };\n        const result = await service.getAllTherapistApplications(params);\n\n        expect(prismaService.therapist.findMany).toHaveBeenCalledWith({\n          where: {},\n          skip: 0,\n          take: 10,\n          orderBy: { submissionDate: 'desc' },\n          include: {\n            user: {\n              select: {\n                id: true,\n                firstName: true,\n                lastName: true,\n                email: true,\n                createdAt: true,\n              },\n            },\n            processedByAdmin: {\n              include: {\n                user: {\n                  select: {\n                    firstName: true,\n                    lastName: true,\n                  },\n                },\n              },\n            },\n          },\n        });\n\n        expect(prismaService.therapist.count).toHaveBeenCalledWith({ where: {} });\n\n        expect(result).toEqual({\n          applications: [mockTherapist],\n          totalCount: 1,\n          page: 1,\n          totalPages: 1,\n        });\n      });\n\n      it('should filter by status when provided', async () => {\n        const params = { status: 'pending', page: 1, limit: 10 };\n        await service.getAllTherapistApplications(params);\n\n        expect(prismaService.therapist.findMany).toHaveBeenCalledWith({\n          where: { status: 'pending' },\n          skip: 0,\n          take: 10,\n          orderBy: { submissionDate: 'desc' },\n          include: expect.any(Object),\n        });\n\n        expect(prismaService.therapist.count).toHaveBeenCalledWith({\n          where: { status: 'pending' },\n        });\n      });\n\n      it('should handle pagination correctly', async () => {\n        const params = { page: 3, limit: 5 };\n        await service.getAllTherapistApplications(params);\n\n        expect(prismaService.therapist.findMany).toHaveBeenCalledWith({\n          where: {},\n          skip: 10, // (3-1) * 5\n          take: 5,\n          orderBy: { submissionDate: 'desc' },\n          include: expect.any(Object),\n        });\n      });\n\n      it('should calculate total pages correctly', async () => {\n        prismaService.therapist.count.mockResolvedValue(23);\n        const params = { page: 1, limit: 10 };\n        const result = await service.getAllTherapistApplications(params);\n\n        expect(result.totalPages).toBe(3); // Math.ceil(23/10)\n      });\n\n      it('should handle empty results', async () => {\n        prismaService.therapist.findMany.mockResolvedValue([]);\n        prismaService.therapist.count.mockResolvedValue(0);\n\n        const params = { page: 1, limit: 10 };\n        const result = await service.getAllTherapistApplications(params);\n\n        expect(result).toEqual({\n          applications: [],\n          totalCount: 0,\n          page: 1,\n          totalPages: 0,\n        });\n      });\n\n      it('should handle database errors', async () => {\n        const databaseError = new Error('Database connection failed');\n        prismaService.therapist.findMany.mockRejectedValue(databaseError);\n\n        const params = { page: 1, limit: 10 };\n        await expect(service.getAllTherapistApplications(params)).rejects.toThrow(\n          'Database connection failed'\n        );\n      });\n    });\n\n    describe('getTherapistApplication', () => {\n      beforeEach(() => {\n        prismaService.therapist.findUnique.mockResolvedValue(mockTherapist);\n      });\n\n      it('should retrieve specific therapist application', async () => {\n        const result = await service.getTherapistApplication('therapist-user-123');\n\n        expect(prismaService.therapist.findUnique).toHaveBeenCalledWith({\n          where: { userId: 'therapist-user-123' },\n          include: {\n            user: true,\n            processedByAdmin: {\n              include: {\n                user: {\n                  select: {\n                    firstName: true,\n                    lastName: true,\n                  },\n                },\n              },\n            },\n          },\n        });\n\n        expect(result).toEqual(mockTherapist);\n      });\n\n      it('should return null for non-existent application', async () => {\n        prismaService.therapist.findUnique.mockResolvedValue(null);\n\n        const result = await service.getTherapistApplication('non-existent');\n\n        expect(result).toBeNull();\n      });\n\n      it('should handle database errors', async () => {\n        const databaseError = new Error('Database connection failed');\n        prismaService.therapist.findUnique.mockRejectedValue(databaseError);\n\n        await expect(\n          service.getTherapistApplication('therapist-user-123')\n        ).rejects.toThrow('Database connection failed');\n      });\n    });\n\n    describe('approveTherapistApplication', () => {\n      beforeEach(() => {\n        prismaService.$transaction.mockImplementation(async (callback) => {\n          const mockTx = {\n            therapist: {\n              update: jest.fn().mockResolvedValue(mockApprovedTherapist),\n            },\n            user: {\n              update: jest.fn().mockResolvedValue({\n                ...mockUser,\n                role: 'therapist',\n              }),\n            },\n            auditLog: {\n              create: jest.fn().mockResolvedValue({}),\n            },\n          };\n          return callback(mockTx);\n        });\n      });\n\n      it('should approve therapist application successfully', async () => {\n        const result = await service.approveTherapistApplication(\n          'therapist-user-123',\n          'admin-123',\n          'Good qualifications'\n        );\n\n        expect(prismaService.$transaction).toHaveBeenCalled();\n        expect(result).toEqual({\n          success: true,\n          therapist: mockApprovedTherapist,\n        });\n      });\n\n      it('should update therapist status in transaction', async () => {\n        let capturedTx: any;\n        prismaService.$transaction.mockImplementation(async (callback) => {\n          const mockTx = {\n            therapist: {\n              update: jest.fn().mockResolvedValue(mockApprovedTherapist),\n            },\n            user: {\n              update: jest.fn().mockResolvedValue({}),\n            },\n            auditLog: {\n              create: jest.fn().mockResolvedValue({}),\n            },\n          };\n          capturedTx = mockTx;\n          return callback(mockTx);\n        });\n\n        await service.approveTherapistApplication(\n          'therapist-user-123',\n          'admin-123',\n          'Good qualifications'\n        );\n\n        expect(capturedTx.therapist.update).toHaveBeenCalledWith({\n          where: { userId: 'therapist-user-123' },\n          data: {\n            status: 'approved',\n            processedByAdminId: 'admin-123',\n            processingDate: mockDate,\n          },\n        });\n      });\n\n      it('should update user role to therapist', async () => {\n        let capturedTx: any;\n        prismaService.$transaction.mockImplementation(async (callback) => {\n          const mockTx = {\n            therapist: {\n              update: jest.fn().mockResolvedValue(mockApprovedTherapist),\n            },\n            user: {\n              update: jest.fn().mockResolvedValue({}),\n            },\n            auditLog: {\n              create: jest.fn().mockResolvedValue({}),\n            },\n          };\n          capturedTx = mockTx;\n          return callback(mockTx);\n        });\n\n        await service.approveTherapistApplication(\n          'therapist-user-123',\n          'admin-123'\n        );\n\n        expect(capturedTx.user.update).toHaveBeenCalledWith({\n          where: { id: 'therapist-user-123' },\n          data: { role: 'therapist' },\n        });\n      });\n\n      it('should create audit log for approval', async () => {\n        let capturedTx: any;\n        prismaService.$transaction.mockImplementation(async (callback) => {\n          const mockTx = {\n            therapist: {\n              update: jest.fn().mockResolvedValue(mockApprovedTherapist),\n            },\n            user: {\n              update: jest.fn().mockResolvedValue({}),\n            },\n            auditLog: {\n              create: jest.fn().mockResolvedValue({}),\n            },\n          };\n          capturedTx = mockTx;\n          return callback(mockTx);\n        });\n\n        await service.approveTherapistApplication(\n          'therapist-user-123',\n          'admin-123',\n          'Excellent credentials'\n        );\n\n        expect(capturedTx.auditLog.create).toHaveBeenCalledWith({\n          data: {\n            userId: 'admin-123',\n            action: 'APPROVE_THERAPIST_APPLICATION',\n            entity: 'therapist',\n            entityId: 'therapist-user-123',\n            metadata: {\n              applicationId: 'therapist-user-123',\n              notes: 'Excellent credentials',\n              timestamp: mockDate.toISOString(),\n            },\n          },\n        });\n      });\n\n      it('should handle approval without notes', async () => {\n        await service.approveTherapistApplication(\n          'therapist-user-123',\n          'admin-123'\n        );\n\n        expect(prismaService.$transaction).toHaveBeenCalled();\n      });\n\n      it('should handle transaction errors', async () => {\n        const transactionError = new Error('Transaction failed');\n        prismaService.$transaction.mockRejectedValue(transactionError);\n\n        await expect(\n          service.approveTherapistApplication(\n            'therapist-user-123',\n            'admin-123'\n          )\n        ).rejects.toThrow('Transaction failed');\n      });\n    });\n\n    describe('rejectTherapistApplication', () => {\n      beforeEach(() => {\n        prismaService.$transaction.mockImplementation(async (callback) => {\n          const mockTx = {\n            therapist: {\n              update: jest.fn().mockResolvedValue({\n                ...mockTherapist,\n                status: 'rejected',\n                processedByAdminId: 'admin-123',\n                processingDate: mockDate,\n              }),\n            },\n            auditLog: {\n              create: jest.fn().mockResolvedValue({}),\n            },\n          };\n          return callback(mockTx);\n        });\n      });\n\n      it('should reject therapist application successfully', async () => {\n        const result = await service.rejectTherapistApplication(\n          'therapist-user-123',\n          'admin-123',\n          'Insufficient experience',\n          'Needs more clinical hours'\n        );\n\n        expect(prismaService.$transaction).toHaveBeenCalled();\n        expect(result).toEqual({\n          success: true,\n          therapist: expect.objectContaining({\n            status: 'rejected',\n            processedByAdminId: 'admin-123',\n          }),\n          reason: 'Insufficient experience',\n        });\n      });\n\n      it('should update therapist status to rejected', async () => {\n        let capturedTx: any;\n        prismaService.$transaction.mockImplementation(async (callback) => {\n          const mockTx = {\n            therapist: {\n              update: jest.fn().mockResolvedValue({}),\n            },\n            auditLog: {\n              create: jest.fn().mockResolvedValue({}),\n            },\n          };\n          capturedTx = mockTx;\n          return callback(mockTx);\n        });\n\n        await service.rejectTherapistApplication(\n          'therapist-user-123',\n          'admin-123',\n          'Insufficient experience'\n        );\n\n        expect(capturedTx.therapist.update).toHaveBeenCalledWith({\n          where: { userId: 'therapist-user-123' },\n          data: {\n            status: 'rejected',\n            processedByAdminId: 'admin-123',\n            processingDate: mockDate,\n          },\n        });\n      });\n\n      it('should create audit log for rejection', async () => {\n        let capturedTx: any;\n        prismaService.$transaction.mockImplementation(async (callback) => {\n          const mockTx = {\n            therapist: {\n              update: jest.fn().mockResolvedValue({}),\n            },\n            auditLog: {\n              create: jest.fn().mockResolvedValue({}),\n            },\n          };\n          capturedTx = mockTx;\n          return callback(mockTx);\n        });\n\n        await service.rejectTherapistApplication(\n          'therapist-user-123',\n          'admin-123',\n          'Insufficient experience',\n          'Needs more training'\n        );\n\n        expect(capturedTx.auditLog.create).toHaveBeenCalledWith({\n          data: {\n            userId: 'admin-123',\n            action: 'REJECT_THERAPIST_APPLICATION',\n            entity: 'therapist',\n            entityId: 'therapist-user-123',\n            metadata: {\n              applicationId: 'therapist-user-123',\n              reason: 'Insufficient experience',\n              notes: 'Needs more training',\n              timestamp: mockDate.toISOString(),\n            },\n          },\n        });\n      });\n\n      it('should handle rejection without notes', async () => {\n        await service.rejectTherapistApplication(\n          'therapist-user-123',\n          'admin-123',\n          'Insufficient experience'\n        );\n\n        expect(prismaService.$transaction).toHaveBeenCalled();\n      });\n\n      it('should handle transaction errors', async () => {\n        const transactionError = new Error('Transaction failed');\n        prismaService.$transaction.mockRejectedValue(transactionError);\n\n        await expect(\n          service.rejectTherapistApplication(\n            'therapist-user-123',\n            'admin-123',\n            'Insufficient experience'\n          )\n        ).rejects.toThrow('Transaction failed');\n      });\n    });\n  });\n\n  describe('User Management', () => {\n    describe('getAllUsers', () => {\n      beforeEach(() => {\n        prismaService.user.findMany.mockResolvedValue([mockUser]);\n        prismaService.user.count.mockResolvedValue(1);\n      });\n\n      it('should retrieve all users with pagination', async () => {\n        const params = { page: 1, limit: 10 };\n        const result = await service.getAllUsers(params);\n\n        expect(prismaService.user.findMany).toHaveBeenCalledWith({\n          where: {},\n          skip: 0,\n          take: 10,\n          orderBy: { createdAt: 'desc' },\n          select: {\n            id: true,\n            firstName: true,\n            lastName: true,\n            email: true,\n            role: true,\n            isActive: true,\n            isVerified: true,\n            createdAt: true,\n            lastLoginAt: true,\n            suspendedAt: true,\n            suspensionReason: true,\n          },\n        });\n\n        expect(result).toEqual({\n          users: [mockUser],\n          totalCount: 1,\n          page: 1,\n          totalPages: 1,\n        });\n      });\n\n      it('should filter by role when provided', async () => {\n        const params = { role: 'therapist', page: 1, limit: 10 };\n        await service.getAllUsers(params);\n\n        expect(prismaService.user.findMany).toHaveBeenCalledWith({\n          where: { role: 'therapist' },\n          skip: 0,\n          take: 10,\n          orderBy: { createdAt: 'desc' },\n          select: expect.any(Object),\n        });\n      });\n\n      it('should filter by search term', async () => {\n        const params = { search: 'john', page: 1, limit: 10 };\n        await service.getAllUsers(params);\n\n        expect(prismaService.user.findMany).toHaveBeenCalledWith({\n          where: {\n            OR: [\n              { firstName: { contains: 'john', mode: 'insensitive' } },\n              { lastName: { contains: 'john', mode: 'insensitive' } },\n              { email: { contains: 'john', mode: 'insensitive' } },\n            ],\n          },\n          skip: 0,\n          take: 10,\n          orderBy: { createdAt: 'desc' },\n          select: expect.any(Object),\n        });\n      });\n\n      it('should filter by active status', async () => {\n        const params = { status: 'active', page: 1, limit: 10 };\n        await service.getAllUsers(params);\n\n        expect(prismaService.user.findMany).toHaveBeenCalledWith({\n          where: { isActive: true },\n          skip: 0,\n          take: 10,\n          orderBy: { createdAt: 'desc' },\n          select: expect.any(Object),\n        });\n      });\n\n      it('should filter by inactive status', async () => {\n        const params = { status: 'inactive', page: 1, limit: 10 };\n        await service.getAllUsers(params);\n\n        expect(prismaService.user.findMany).toHaveBeenCalledWith({\n          where: { isActive: false },\n          skip: 0,\n          take: 10,\n          orderBy: { createdAt: 'desc' },\n          select: expect.any(Object),\n        });\n      });\n\n      it('should filter by suspended status', async () => {\n        const params = { status: 'suspended', page: 1, limit: 10 };\n        await service.getAllUsers(params);\n\n        expect(prismaService.user.findMany).toHaveBeenCalledWith({\n          where: { suspendedAt: { not: null } },\n          skip: 0,\n          take: 10,\n          orderBy: { createdAt: 'desc' },\n          select: expect.any(Object),\n        });\n      });\n\n      it('should sort by specified field and order', async () => {\n        const params = {\n          page: 1,\n          limit: 10,\n          sortBy: 'firstName',\n          sortOrder: 'asc',\n        };\n        await service.getAllUsers(params);\n\n        expect(prismaService.user.findMany).toHaveBeenCalledWith({\n          where: {},\n          skip: 0,\n          take: 10,\n          orderBy: { firstName: 'asc' },\n          select: expect.any(Object),\n        });\n      });\n\n      it('should use default sort when invalid sortBy provided', async () => {\n        const params = {\n          page: 1,\n          limit: 10,\n          sortBy: 'invalidField',\n          sortOrder: 'asc',\n        };\n        await service.getAllUsers(params);\n\n        expect(prismaService.user.findMany).toHaveBeenCalledWith({\n          where: {},\n          skip: 0,\n          take: 10,\n          orderBy: { createdAt: 'desc' },\n          select: expect.any(Object),\n        });\n      });\n\n      it('should combine multiple filters', async () => {\n        const params = {\n          role: 'client',\n          search: 'john',\n          status: 'active',\n          page: 1,\n          limit: 10,\n        };\n        await service.getAllUsers(params);\n\n        expect(prismaService.user.findMany).toHaveBeenCalledWith({\n          where: {\n            role: 'client',\n            isActive: true,\n            OR: [\n              { firstName: { contains: 'john', mode: 'insensitive' } },\n              { lastName: { contains: 'john', mode: 'insensitive' } },\n              { email: { contains: 'john', mode: 'insensitive' } },\n            ],\n          },\n          skip: 0,\n          take: 10,\n          orderBy: { createdAt: 'desc' },\n          select: expect.any(Object),\n        });\n      });\n\n      it('should handle database errors', async () => {\n        const databaseError = new Error('Database connection failed');\n        prismaService.user.findMany.mockRejectedValue(databaseError);\n\n        const params = { page: 1, limit: 10 };\n        await expect(service.getAllUsers(params)).rejects.toThrow(\n          'Database connection failed'\n        );\n      });\n    });\n\n    describe('getUser', () => {\n      beforeEach(() => {\n        prismaService.user.findUnique.mockResolvedValue({\n          ...mockUser,\n          client: { id: 'client-123' },\n          therapist: null,\n          admin: null,\n          moderator: null,\n        });\n      });\n\n      it('should retrieve specific user with relations', async () => {\n        const result = await service.getUser('user-123');\n\n        expect(prismaService.user.findUnique).toHaveBeenCalledWith({\n          where: { id: 'user-123' },\n          include: {\n            client: true,\n            therapist: true,\n            admin: true,\n            moderator: true,\n          },\n        });\n\n        expect(result).toEqual(\n          expect.objectContaining({\n            id: 'user-123',\n            client: { id: 'client-123' },\n          })\n        );\n      });\n\n      it('should return null for non-existent user', async () => {\n        prismaService.user.findUnique.mockResolvedValue(null);\n\n        const result = await service.getUser('non-existent');\n\n        expect(result).toBeNull();\n      });\n\n      it('should handle database errors', async () => {\n        const databaseError = new Error('Database connection failed');\n        prismaService.user.findUnique.mockRejectedValue(databaseError);\n\n        await expect(service.getUser('user-123')).rejects.toThrow(\n          'Database connection failed'\n        );\n      });\n    });\n\n    describe('suspendUser', () => {\n      beforeEach(() => {\n        prismaService.$transaction.mockImplementation(async (callback) => {\n          const mockTx = {\n            user: {\n              update: jest.fn().mockResolvedValue(mockSuspendedUser),\n            },\n            auditLog: {\n              create: jest.fn().mockResolvedValue({}),\n            },\n          };\n          return callback(mockTx);\n        });\n      });\n\n      it('should suspend user successfully', async () => {\n        const result = await service.suspendUser(\n          'user-123',\n          'admin-123',\n          'Inappropriate behavior',\n          7\n        );\n\n        expect(prismaService.$transaction).toHaveBeenCalled();\n        expect(result).toEqual({\n          success: true,\n          user: mockSuspendedUser,\n        });\n      });\n\n      it('should suspend user with duration', async () => {\n        let capturedTx: any;\n        prismaService.$transaction.mockImplementation(async (callback) => {\n          const mockTx = {\n            user: {\n              update: jest.fn().mockResolvedValue(mockSuspendedUser),\n            },\n            auditLog: {\n              create: jest.fn().mockResolvedValue({}),\n            },\n          };\n          capturedTx = mockTx;\n          return callback(mockTx);\n        });\n\n        await service.suspendUser(\n          'user-123',\n          'admin-123',\n          'Inappropriate behavior',\n          7\n        );\n\n        expect(capturedTx.user.update).toHaveBeenCalledWith({\n          where: { id: 'user-123' },\n          data: {\n            suspendedAt: mockDate,\n            suspendedBy: 'admin-123',\n            suspensionReason: 'Inappropriate behavior',\n            isActive: false,\n          },\n        });\n      });\n\n      it('should suspend user without duration (permanent)', async () => {\n        await service.suspendUser(\n          'user-123',\n          'admin-123',\n          'Serious violation'\n        );\n\n        expect(prismaService.$transaction).toHaveBeenCalled();\n      });\n\n      it('should create audit log for suspension', async () => {\n        let capturedTx: any;\n        prismaService.$transaction.mockImplementation(async (callback) => {\n          const mockTx = {\n            user: {\n              update: jest.fn().mockResolvedValue(mockSuspendedUser),\n            },\n            auditLog: {\n              create: jest.fn().mockResolvedValue({}),\n            },\n          };\n          capturedTx = mockTx;\n          return callback(mockTx);\n        });\n\n        await service.suspendUser(\n          'user-123',\n          'admin-123',\n          'Inappropriate behavior',\n          7\n        );\n\n        const expectedSuspensionEnd = new Date(\n          mockDate.getTime() + 7 * 24 * 60 * 60 * 1000\n        );\n\n        expect(capturedTx.auditLog.create).toHaveBeenCalledWith({\n          data: {\n            userId: 'admin-123',\n            action: 'SUSPEND_USER',\n            entity: 'user',\n            entityId: 'user-123',\n            metadata: {\n              userId: 'user-123',\n              reason: 'Inappropriate behavior',\n              duration: 7,\n              suspensionEnd: expectedSuspensionEnd.toISOString(),\n              timestamp: mockDate.toISOString(),\n            },\n          },\n        });\n      });\n\n      it('should handle transaction errors', async () => {\n        const transactionError = new Error('Transaction failed');\n        prismaService.$transaction.mockRejectedValue(transactionError);\n\n        await expect(\n          service.suspendUser('user-123', 'admin-123', 'reason')\n        ).rejects.toThrow('Transaction failed');\n      });\n    });\n\n    describe('unsuspendUser', () => {\n      beforeEach(() => {\n        prismaService.$transaction.mockImplementation(async (callback) => {\n          const mockTx = {\n            user: {\n              update: jest.fn().mockResolvedValue({\n                ...mockUser,\n                suspendedAt: null,\n                suspendedBy: null,\n                suspensionReason: null,\n                isActive: true,\n              }),\n            },\n            auditLog: {\n              create: jest.fn().mockResolvedValue({}),\n            },\n          };\n          return callback(mockTx);\n        });\n      });\n\n      it('should unsuspend user successfully', async () => {\n        const result = await service.unsuspendUser('user-123', 'admin-123');\n\n        expect(prismaService.$transaction).toHaveBeenCalled();\n        expect(result).toEqual({\n          success: true,\n          user: expect.objectContaining({\n            suspendedAt: null,\n            suspendedBy: null,\n            suspensionReason: null,\n            isActive: true,\n          }),\n        });\n      });\n\n      it('should clear suspension data', async () => {\n        let capturedTx: any;\n        prismaService.$transaction.mockImplementation(async (callback) => {\n          const mockTx = {\n            user: {\n              update: jest.fn().mockResolvedValue({}),\n            },\n            auditLog: {\n              create: jest.fn().mockResolvedValue({}),\n            },\n          };\n          capturedTx = mockTx;\n          return callback(mockTx);\n        });\n\n        await service.unsuspendUser('user-123', 'admin-123');\n\n        expect(capturedTx.user.update).toHaveBeenCalledWith({\n          where: { id: 'user-123' },\n          data: {\n            suspendedAt: null,\n            suspendedBy: null,\n            suspensionReason: null,\n            isActive: true,\n          },\n        });\n      });\n\n      it('should create audit log for unsuspension', async () => {\n        let capturedTx: any;\n        prismaService.$transaction.mockImplementation(async (callback) => {\n          const mockTx = {\n            user: {\n              update: jest.fn().mockResolvedValue({}),\n            },\n            auditLog: {\n              create: jest.fn().mockResolvedValue({}),\n            },\n          };\n          capturedTx = mockTx;\n          return callback(mockTx);\n        });\n\n        await service.unsuspendUser('user-123', 'admin-123');\n\n        expect(capturedTx.auditLog.create).toHaveBeenCalledWith({\n          data: {\n            userId: 'admin-123',\n            action: 'UNSUSPEND_USER',\n            entity: 'user',\n            entityId: 'user-123',\n            metadata: {\n              userId: 'user-123',\n              timestamp: mockDate.toISOString(),\n            },\n          },\n        });\n      });\n\n      it('should handle transaction errors', async () => {\n        const transactionError = new Error('Transaction failed');\n        prismaService.$transaction.mockRejectedValue(transactionError);\n\n        await expect(\n          service.unsuspendUser('user-123', 'admin-123')\n        ).rejects.toThrow('Transaction failed');\n      });\n    });\n  });\n\n  describe('Platform Analytics', () => {\n    describe('getPlatformOverview', () => {\n      beforeEach(() => {\n        prismaService.user.count.mockResolvedValue(100);\n        prismaService.client.count.mockResolvedValue(80);\n        prismaService.therapist.count\n          .mockResolvedValueOnce(15) // approved therapists\n          .mockResolvedValueOnce(5); // pending applications\n        prismaService.community.count.mockResolvedValue(12);\n        prismaService.post.count.mockResolvedValue(500);\n        prismaService.meeting.count.mockResolvedValue(200);\n        prismaService.user.findMany.mockResolvedValue([\n          { ...mockUser, role: 'client' },\n          { ...mockUser, id: 'user-124', role: 'therapist' },\n        ]);\n      });\n\n      it('should retrieve platform overview successfully', async () => {\n        const result = await service.getPlatformOverview();\n\n        expect(result).toEqual({\n          overview: {\n            totalUsers: 100,\n            totalClients: 80,\n            totalTherapists: 15,\n            pendingApplications: 5,\n            totalCommunities: 12,\n            totalPosts: 500,\n            totalSessions: 200,\n          },\n          recentActivity: [\n            { ...mockUser, role: 'client' },\n            { ...mockUser, id: 'user-124', role: 'therapist' },\n          ],\n        });\n      });\n\n      it('should make correct database queries', async () => {\n        await service.getPlatformOverview();\n\n        expect(prismaService.user.count).toHaveBeenCalledWith();\n        expect(prismaService.client.count).toHaveBeenCalledWith();\n        expect(prismaService.therapist.count).toHaveBeenCalledWith({\n          where: { status: 'approved' },\n        });\n        expect(prismaService.therapist.count).toHaveBeenCalledWith({\n          where: { status: 'pending' },\n        });\n        expect(prismaService.community.count).toHaveBeenCalledWith();\n        expect(prismaService.post.count).toHaveBeenCalledWith();\n        expect(prismaService.meeting.count).toHaveBeenCalledWith();\n\n        expect(prismaService.user.findMany).toHaveBeenCalledWith({\n          take: 10,\n          orderBy: { createdAt: 'desc' },\n          select: {\n            id: true,\n            firstName: true,\n            lastName: true,\n            role: true,\n            createdAt: true,\n          },\n        });\n      });\n\n      it('should handle empty platform data', async () => {\n        prismaService.user.count.mockResolvedValue(0);\n        prismaService.client.count.mockResolvedValue(0);\n        prismaService.therapist.count.mockResolvedValue(0);\n        prismaService.community.count.mockResolvedValue(0);\n        prismaService.post.count.mockResolvedValue(0);\n        prismaService.meeting.count.mockResolvedValue(0);\n        prismaService.user.findMany.mockResolvedValue([]);\n\n        const result = await service.getPlatformOverview();\n\n        expect(result.overview.totalUsers).toBe(0);\n        expect(result.recentActivity).toEqual([]);\n      });\n\n      it('should handle database errors', async () => {\n        const databaseError = new Error('Database connection failed');\n        prismaService.user.count.mockRejectedValue(databaseError);\n\n        await expect(service.getPlatformOverview()).rejects.toThrow(\n          'Database connection failed'\n        );\n      });\n    });\n\n    describe('getMatchingPerformance', () => {\n      beforeEach(() => {\n        prismaService.matchHistory.findMany.mockResolvedValue([\n          mockMatchHistory,\n          {\n            ...mockMatchHistory,\n            id: 'match-124',\n            totalScore: 75.0,\n            becameClient: false,\n            wasViewed: true,\n            wasContacted: false,\n          },\n        ]);\n      });\n\n      it('should retrieve matching performance with default date range', async () => {\n        const result = await service.getMatchingPerformance();\n\n        const expectedStart = new Date(mockDate.getTime() - 30 * 24 * 60 * 60 * 1000);\n        const expectedEnd = mockDate;\n\n        expect(prismaService.matchHistory.findMany).toHaveBeenCalledWith({\n          where: {\n            createdAt: {\n              gte: expectedStart,\n              lte: expectedEnd,\n            },\n          },\n        });\n\n        expect(result).toEqual({\n          period: { start: expectedStart, end: expectedEnd },\n          metrics: {\n            totalRecommendations: 2,\n            successfulMatches: 1,\n            viewedRecommendations: 2,\n            contactedTherapists: 1,\n            averageMatchScore: 80.25, // (85.5 + 75.0) / 2\n            conversionRate: 50.0, // 1/2 * 100\n            clickThroughRate: 100.0, // 2/2 * 100\n          },\n        });\n      });\n\n      it('should retrieve matching performance with custom date range', async () => {\n        const startDate = '2024-01-01';\n        const endDate = '2024-01-31';\n\n        await service.getMatchingPerformance(startDate, endDate);\n\n        expect(prismaService.matchHistory.findMany).toHaveBeenCalledWith({\n          where: {\n            createdAt: {\n              gte: new Date(startDate),\n              lte: new Date(endDate),\n            },\n          },\n        });\n      });\n\n      it('should handle empty matching data', async () => {\n        prismaService.matchHistory.findMany.mockResolvedValue([]);\n\n        const result = await service.getMatchingPerformance();\n\n        expect(result.metrics).toEqual({\n          totalRecommendations: 0,\n          successfulMatches: 0,\n          viewedRecommendations: 0,\n          contactedTherapists: 0,\n          averageMatchScore: 0,\n          conversionRate: 0,\n          clickThroughRate: 0,\n        });\n      });\n\n      it('should calculate metrics correctly for various scenarios', async () => {\n        const testMatchData = [\n          { totalScore: 90, becameClient: true, wasViewed: true, wasContacted: true },\n          { totalScore: 80, becameClient: false, wasViewed: true, wasContacted: false },\n          { totalScore: 70, becameClient: false, wasViewed: false, wasContacted: false },\n          { totalScore: 85, becameClient: true, wasViewed: true, wasContacted: true },\n        ];\n\n        prismaService.matchHistory.findMany.mockResolvedValue(testMatchData);\n\n        const result = await service.getMatchingPerformance();\n\n        expect(result.metrics).toEqual({\n          totalRecommendations: 4,\n          successfulMatches: 2, // 2 became clients\n          viewedRecommendations: 3, // 3 were viewed\n          contactedTherapists: 2, // 2 were contacted\n          averageMatchScore: 81.25, // (90+80+70+85)/4\n          conversionRate: 50.0, // 2/4 * 100\n          clickThroughRate: 75.0, // 3/4 * 100\n        });\n      });\n\n      it('should handle database errors', async () => {\n        const databaseError = new Error('Database connection failed');\n        prismaService.matchHistory.findMany.mockRejectedValue(databaseError);\n\n        await expect(service.getMatchingPerformance()).rejects.toThrow(\n          'Database connection failed'\n        );\n      });\n    });\n  });\n\n  describe('Content Moderation', () => {\n    describe('getFlaggedContent', () => {\n      beforeEach(() => {\n        prismaService.post.findMany.mockResolvedValue([mockPost]);\n        prismaService.comment.findMany.mockResolvedValue([mockComment]);\n      });\n\n      it('should retrieve flagged content with pagination', async () => {\n        const params = { page: 1, limit: 10 };\n        const result = await service.getFlaggedContent(params);\n\n        expect(prismaService.post.findMany).toHaveBeenCalledWith({\n          where: {},\n          skip: 0,\n          take: 10,\n          orderBy: { createdAt: 'desc' },\n          include: {\n            user: {\n              select: {\n                id: true,\n                firstName: true,\n                lastName: true,\n              },\n            },\n            room: {\n              select: {\n                name: true,\n                roomGroup: {\n                  select: {\n                    community: {\n                      select: {\n                        name: true,\n                      },\n                    },\n                  },\n                },\n              },\n            },\n          },\n        });\n\n        expect(prismaService.comment.findMany).toHaveBeenCalledWith({\n          where: {},\n          skip: 0,\n          take: 10,\n          orderBy: { createdAt: 'desc' },\n          include: {\n            user: {\n              select: {\n                id: true,\n                firstName: true,\n                lastName: true,\n              },\n            },\n            post: {\n              select: {\n                title: true,\n              },\n            },\n          },\n        });\n\n        expect(result).toEqual({\n          posts: [mockPost],\n          comments: [mockComment],\n          page: 1,\n          totalItems: 2,\n        });\n      });\n\n      it('should filter by content type - posts only', async () => {\n        const params = { type: 'post', page: 1, limit: 10 };\n        await service.getFlaggedContent(params);\n\n        expect(prismaService.post.findMany).toHaveBeenCalledWith({\n          where: {},\n          skip: 0,\n          take: 10,\n          orderBy: { createdAt: 'desc' },\n          include: expect.any(Object),\n        });\n\n        expect(prismaService.comment.findMany).toHaveBeenCalledWith({\n          where: {},\n          skip: 0,\n          take: 0, // Should be 0 for posts only\n          orderBy: { createdAt: 'desc' },\n          include: expect.any(Object),\n        });\n      });\n\n      it('should filter by content type - comments only', async () => {\n        const params = { type: 'comment', page: 1, limit: 10 };\n        await service.getFlaggedContent(params);\n\n        expect(prismaService.post.findMany).toHaveBeenCalledWith({\n          where: {},\n          skip: 0,\n          take: 0, // Should be 0 for comments only\n          orderBy: { createdAt: 'desc' },\n          include: expect.any(Object),\n        });\n\n        expect(prismaService.comment.findMany).toHaveBeenCalledWith({\n          where: {},\n          skip: 0,\n          take: 10,\n          orderBy: { createdAt: 'desc' },\n          include: expect.any(Object),\n        });\n      });\n\n      it('should handle pagination correctly', async () => {\n        const params = { page: 3, limit: 5 };\n        await service.getFlaggedContent(params);\n\n        expect(prismaService.post.findMany).toHaveBeenCalledWith(\n          expect.objectContaining({\n            skip: 10, // (3-1) * 5\n            take: 5,\n          })\n        );\n      });\n\n      it('should handle empty results', async () => {\n        prismaService.post.findMany.mockResolvedValue([]);\n        prismaService.comment.findMany.mockResolvedValue([]);\n\n        const params = { page: 1, limit: 10 };\n        const result = await service.getFlaggedContent(params);\n\n        expect(result).toEqual({\n          posts: [],\n          comments: [],\n          page: 1,\n          totalItems: 0,\n        });\n      });\n\n      it('should handle database errors', async () => {\n        const databaseError = new Error('Database connection failed');\n        prismaService.post.findMany.mockRejectedValue(databaseError);\n\n        const params = { page: 1, limit: 10 };\n        await expect(service.getFlaggedContent(params)).rejects.toThrow(\n          'Database connection failed'\n        );\n      });\n    });\n\n    describe('moderateContent', () => {\n      beforeEach(() => {\n        prismaService.$transaction.mockImplementation(async (callback) => {\n          const mockTx = {\n            post: {\n              delete: jest.fn().mockResolvedValue(mockPost),\n              findUnique: jest.fn().mockResolvedValue(mockPost),\n            },\n            comment: {\n              delete: jest.fn().mockResolvedValue(mockComment),\n              findUnique: jest.fn().mockResolvedValue(mockComment),\n            },\n            auditLog: {\n              create: jest.fn().mockResolvedValue({}),\n            },\n          };\n          return callback(mockTx);\n        });\n      });\n\n      it('should remove post successfully', async () => {\n        const result = await service.moderateContent(\n          'post',\n          'post-123',\n          'admin-123',\n          'remove',\n          'Inappropriate content'\n        );\n\n        expect(prismaService.$transaction).toHaveBeenCalled();\n        expect(result).toEqual({\n          success: true,\n          action: 'remove',\n          moderatedContent: mockPost,\n        });\n      });\n\n      it('should approve post successfully', async () => {\n        const result = await service.moderateContent(\n          'post',\n          'post-123',\n          'admin-123',\n          'approve',\n          'Content is acceptable'\n        );\n\n        expect(result).toEqual({\n          success: true,\n          action: 'approve',\n          moderatedContent: mockPost,\n        });\n      });\n\n      it('should flag post successfully', async () => {\n        const result = await service.moderateContent(\n          'post',\n          'post-123',\n          'admin-123',\n          'flag',\n          'Needs review'\n        );\n\n        expect(result).toEqual({\n          success: true,\n          action: 'flag',\n          moderatedContent: mockPost,\n        });\n      });\n\n      it('should remove comment successfully', async () => {\n        const result = await service.moderateContent(\n          'comment',\n          'comment-123',\n          'admin-123',\n          'remove',\n          'Spam content'\n        );\n\n        expect(result).toEqual({\n          success: true,\n          action: 'remove',\n          moderatedContent: mockComment,\n        });\n      });\n\n      it('should create audit log for post moderation', async () => {\n        let capturedTx: any;\n        prismaService.$transaction.mockImplementation(async (callback) => {\n          const mockTx = {\n            post: {\n              delete: jest.fn().mockResolvedValue(mockPost),\n            },\n            auditLog: {\n              create: jest.fn().mockResolvedValue({}),\n            },\n          };\n          capturedTx = mockTx;\n          return callback(mockTx);\n        });\n\n        await service.moderateContent(\n          'post',\n          'post-123',\n          'admin-123',\n          'remove',\n          'Inappropriate content'\n        );\n\n        expect(capturedTx.auditLog.create).toHaveBeenCalledWith({\n          data: {\n            userId: 'admin-123',\n            action: 'MODERATE_POST',\n            entity: 'post',\n            entityId: 'post-123',\n            metadata: {\n              contentId: 'post-123',\n              contentType: 'post',\n              moderationAction: 'remove',\n              reason: 'Inappropriate content',\n              timestamp: mockDate.toISOString(),\n            },\n          },\n        });\n      });\n\n      it('should create audit log for comment moderation', async () => {\n        let capturedTx: any;\n        prismaService.$transaction.mockImplementation(async (callback) => {\n          const mockTx = {\n            comment: {\n              delete: jest.fn().mockResolvedValue(mockComment),\n            },\n            auditLog: {\n              create: jest.fn().mockResolvedValue({}),\n            },\n          };\n          capturedTx = mockTx;\n          return callback(mockTx);\n        });\n\n        await service.moderateContent(\n          'comment',\n          'comment-123',\n          'admin-123',\n          'remove',\n          'Spam content'\n        );\n\n        expect(capturedTx.auditLog.create).toHaveBeenCalledWith({\n          data: {\n            userId: 'admin-123',\n            action: 'MODERATE_COMMENT',\n            entity: 'comment',\n            entityId: 'comment-123',\n            metadata: {\n              contentId: 'comment-123',\n              contentType: 'comment',\n              moderationAction: 'remove',\n              reason: 'Spam content',\n              timestamp: mockDate.toISOString(),\n            },\n          },\n        });\n      });\n\n      it('should handle moderation without reason', async () => {\n        await service.moderateContent(\n          'post',\n          'post-123',\n          'admin-123',\n          'approve'\n        );\n\n        expect(prismaService.$transaction).toHaveBeenCalled();\n      });\n\n      it('should handle transaction errors', async () => {\n        const transactionError = new Error('Transaction failed');\n        prismaService.$transaction.mockRejectedValue(transactionError);\n\n        await expect(\n          service.moderateContent(\n            'post',\n            'post-123',\n            'admin-123',\n            'remove',\n            'Inappropriate content'\n          )\n        ).rejects.toThrow('Transaction failed');\n      });\n\n      it('should handle unknown content types gracefully', async () => {\n        let capturedTx: any;\n        prismaService.$transaction.mockImplementation(async (callback) => {\n          const mockTx = {\n            auditLog: {\n              create: jest.fn().mockResolvedValue({}),\n            },\n          };\n          capturedTx = mockTx;\n          return callback(mockTx);\n        });\n\n        const result = await service.moderateContent(\n          'unknown',\n          'content-123',\n          'admin-123',\n          'remove',\n          'Unknown content type'\n        );\n\n        expect(result).toEqual({\n          success: true,\n          action: 'remove',\n          moderatedContent: undefined,\n        });\n      });\n    });\n  });\n\n  describe('Edge Cases and Error Handling', () => {\n    it('should handle concurrent therapist application processing', async () => {\n      const approvePromise = service.approveTherapistApplication(\n        'therapist-123',\n        'admin-123'\n      );\n      const rejectPromise = service.rejectTherapistApplication(\n        'therapist-123',\n        'admin-124',\n        'Insufficient experience'\n      );\n\n      // Mock different transaction outcomes\n      prismaService.$transaction\n        .mockResolvedValueOnce({ success: true, therapist: mockApprovedTherapist })\n        .mockRejectedValueOnce(new Error('Record already processed'));\n\n      const results = await Promise.allSettled([approvePromise, rejectPromise]);\n\n      expect(results[0].status).toBe('fulfilled');\n      expect(results[1].status).toBe('rejected');\n    });\n\n    it('should handle very large user datasets efficiently', async () => {\n      const largeUserList = Array.from({ length: 10000 }, (_, i) => ({\n        ...mockUser,\n        id: `user-${i}`,\n        email: `user${i}@example.com`,\n      }));\n\n      prismaService.user.findMany.mockResolvedValue(largeUserList.slice(0, 100));\n      prismaService.user.count.mockResolvedValue(10000);\n\n      const params = { page: 1, limit: 100 };\n      const startTime = Date.now();\n      const result = await service.getAllUsers(params);\n      const endTime = Date.now();\n\n      expect(result.users).toHaveLength(100);\n      expect(result.totalCount).toBe(10000);\n      expect(result.totalPages).toBe(100);\n      expect(endTime - startTime).toBeLessThan(1000); // Should complete within 1 second\n    });\n\n    it('should handle special characters in search queries', async () => {\n      const specialCharSearch = \"John O'Connor & Co. <script>\";\n      const params = { search: specialCharSearch, page: 1, limit: 10 };\n\n      await service.getAllUsers(params);\n\n      expect(prismaService.user.findMany).toHaveBeenCalledWith({\n        where: {\n          OR: [\n            { firstName: { contains: specialCharSearch, mode: 'insensitive' } },\n            { lastName: { contains: specialCharSearch, mode: 'insensitive' } },\n            { email: { contains: specialCharSearch, mode: 'insensitive' } },\n          ],\n        },\n        skip: 0,\n        take: 10,\n        orderBy: { createdAt: 'desc' },\n        select: expect.any(Object),\n      });\n    });\n\n    it('should handle invalid date ranges in matching performance', async () => {\n      const invalidStartDate = 'invalid-date';\n      const invalidEndDate = 'another-invalid-date';\n\n      await service.getMatchingPerformance(invalidStartDate, invalidEndDate);\n\n      // Should handle gracefully and create Date objects\n      expect(prismaService.matchHistory.findMany).toHaveBeenCalledWith({\n        where: {\n          createdAt: {\n            gte: new Date(invalidStartDate), // Will be Invalid Date\n            lte: new Date(invalidEndDate), // Will be Invalid Date\n          },\n        },\n      });\n    });\n\n    it('should handle null/undefined values in platform overview', async () => {\n      prismaService.user.count.mockResolvedValue(null);\n      prismaService.client.count.mockResolvedValue(undefined);\n      prismaService.therapist.count.mockResolvedValue(0);\n      prismaService.user.findMany.mockResolvedValue(null);\n\n      const result = await service.getPlatformOverview();\n\n      expect(result.overview.totalUsers).toBeNull();\n      expect(result.overview.totalClients).toBeUndefined();\n      expect(result.recentActivity).toBeNull();\n    });\n\n    it('should handle database timeouts gracefully', async () => {\n      const timeoutError = new Error('Connection timeout');\n      timeoutError.name = 'TimeoutError';\n\n      prismaService.user.findMany.mockRejectedValue(timeoutError);\n\n      const params = { page: 1, limit: 10 };\n      await expect(service.getAllUsers(params)).rejects.toThrow('Connection timeout');\n    });\n\n    it('should handle malformed therapy application data', async () => {\n      const malformedTherapist = {\n        id: null,\n        userId: undefined,\n        status: 'invalid_status',\n        submissionDate: 'invalid_date',\n        user: null,\n      };\n\n      prismaService.therapist.findMany.mockResolvedValue([malformedTherapist]);\n      prismaService.therapist.count.mockResolvedValue(1);\n\n      const params = { page: 1, limit: 10 };\n      const result = await service.getAllTherapistApplications(params);\n\n      expect(result.applications).toEqual([malformedTherapist]);\n    });\n  });\n\n  describe('Performance and Scalability', () => {\n    it('should handle bulk user operations efficiently', async () => {\n      const bulkUserIds = Array.from({ length: 100 }, (_, i) => `user-${i}`);\n      \n      // Mock parallel processing\n      const promises = bulkUserIds.map((userId) => {\n        prismaService.user.findUnique.mockResolvedValueOnce({\n          ...mockUser,\n          id: userId,\n        });\n        return service.getUser(userId);\n      });\n\n      const startTime = Date.now();\n      const results = await Promise.all(promises);\n      const endTime = Date.now();\n\n      expect(results).toHaveLength(100);\n      expect(endTime - startTime).toBeLessThan(2000); // Should complete within 2 seconds\n    });\n\n    it('should handle high-volume content moderation efficiently', async () => {\n      const bulkModerationPromises = Array.from({ length: 50 }, (_, i) => {\n        prismaService.$transaction.mockResolvedValueOnce({\n          success: true,\n          action: 'remove',\n          moderatedContent: { id: `content-${i}` },\n        });\n        return service.moderateContent(\n          'post',\n          `post-${i}`,\n          'admin-123',\n          'remove',\n          'Bulk moderation'\n        );\n      });\n\n      const startTime = Date.now();\n      const results = await Promise.all(bulkModerationPromises);\n      const endTime = Date.now();\n\n      expect(results).toHaveLength(50);\n      expect(results.every(r => r.success)).toBe(true);\n      expect(endTime - startTime).toBeLessThan(3000); // Should complete within 3 seconds\n    });\n\n    it('should maintain performance with complex filtering', async () => {\n      const complexParams = {\n        role: 'client',\n        search: 'john smith depression anxiety',\n        status: 'active',\n        sortBy: 'lastName',\n        sortOrder: 'asc',\n        page: 50,\n        limit: 100,\n      };\n\n      const largeFilteredResult = Array.from({ length: 100 }, (_, i) => ({\n        ...mockUser,\n        id: `user-${i}`,\n        lastName: `Smith${i}`,\n      }));\n\n      prismaService.user.findMany.mockResolvedValue(largeFilteredResult);\n      prismaService.user.count.mockResolvedValue(5000);\n\n      const startTime = Date.now();\n      const result = await service.getAllUsers(complexParams);\n      const endTime = Date.now();\n\n      expect(result.users).toHaveLength(100);\n      expect(result.totalCount).toBe(5000);\n      expect(endTime - startTime).toBeLessThan(1000); // Should complete within 1 second\n    });\n  });\n\n  describe('Data Integrity and Audit', () => {\n    it('should ensure audit logs are created for all administrative actions', async () => {\n      const auditActions = [\n        () => service.approveTherapistApplication('therapist-123', 'admin-123'),\n        () => service.rejectTherapistApplication('therapist-123', 'admin-123', 'reason'),\n        () => service.suspendUser('user-123', 'admin-123', 'reason'),\n        () => service.unsuspendUser('user-123', 'admin-123'),\n        () => service.moderateContent('post', 'post-123', 'admin-123', 'remove'),\n      ];\n\n      let auditLogCallCount = 0;\n      prismaService.$transaction.mockImplementation(async (callback) => {\n        const mockTx = {\n          therapist: { update: jest.fn().mockResolvedValue({}) },\n          user: { update: jest.fn().mockResolvedValue({}) },\n          post: { delete: jest.fn().mockResolvedValue({}) },\n          auditLog: {\n            create: jest.fn().mockImplementation(() => {\n              auditLogCallCount++;\n              return Promise.resolve({});\n            }),\n          },\n        };\n        return callback(mockTx);\n      });\n\n      await Promise.all(auditActions.map(action => action()));\n\n      expect(auditLogCallCount).toBe(5); // One audit log per action\n    });\n\n    it('should ensure proper transaction rollback on failures', async () => {\n      let transactionCallCount = 0;\n      prismaService.$transaction.mockImplementation(async (callback) => {\n        transactionCallCount++;\n        const mockTx = {\n          therapist: {\n            update: jest.fn().mockRejectedValue(new Error('Update failed')),\n          },\n          user: {\n            update: jest.fn().mockResolvedValue({}),\n          },\n          auditLog: {\n            create: jest.fn().mockResolvedValue({}),\n          },\n        };\n        return callback(mockTx);\n      });\n\n      await expect(\n        service.approveTherapistApplication('therapist-123', 'admin-123')\n      ).rejects.toThrow('Update failed');\n\n      expect(transactionCallCount).toBe(1);\n    });\n\n    it('should maintain data consistency across related entities', async () => {\n      let capturedTx: any;\n      prismaService.$transaction.mockImplementation(async (callback) => {\n        const mockTx = {\n          therapist: {\n            update: jest.fn().mockResolvedValue(mockApprovedTherapist),\n          },\n          user: {\n            update: jest.fn().mockResolvedValue({\n              ...mockUser,\n              role: 'therapist',\n            }),\n          },\n          auditLog: {\n            create: jest.fn().mockResolvedValue({}),\n          },\n        };\n        capturedTx = mockTx;\n        return callback(mockTx);\n      });\n\n      await service.approveTherapistApplication('therapist-123', 'admin-123');\n\n      // Verify both therapist and user entities are updated consistently\n      expect(capturedTx.therapist.update).toHaveBeenCalledWith({\n        where: { userId: 'therapist-123' },\n        data: expect.objectContaining({\n          status: 'approved',\n          processedByAdminId: 'admin-123',\n        }),\n      });\n\n      expect(capturedTx.user.update).toHaveBeenCalledWith({\n        where: { id: 'therapist-123' },\n        data: { role: 'therapist' },\n      });\n    });\n\n    it('should validate admin permissions through audit trails', async () => {\n      const adminActions = [\n        { action: 'APPROVE_THERAPIST_APPLICATION', entity: 'therapist' },\n        { action: 'REJECT_THERAPIST_APPLICATION', entity: 'therapist' },\n        { action: 'SUSPEND_USER', entity: 'user' },\n        { action: 'UNSUSPEND_USER', entity: 'user' },\n        { action: 'MODERATE_POST', entity: 'post' },\n        { action: 'MODERATE_COMMENT', entity: 'comment' },\n      ];\n\n      const capturedAuditLogs: any[] = [];\n      prismaService.$transaction.mockImplementation(async (callback) => {\n        const mockTx = {\n          therapist: { update: jest.fn().mockResolvedValue({}) },\n          user: { update: jest.fn().mockResolvedValue({}) },\n          post: { delete: jest.fn().mockResolvedValue({}) },\n          comment: { delete: jest.fn().mockResolvedValue({}) },\n          auditLog: {\n            create: jest.fn().mockImplementation((data) => {\n              capturedAuditLogs.push(data);\n              return Promise.resolve({});\n            }),\n          },\n        };\n        return callback(mockTx);\n      });\n\n      await service.approveTherapistApplication('therapist-123', 'admin-123');\n      await service.rejectTherapistApplication('therapist-124', 'admin-123', 'reason');\n      await service.suspendUser('user-123', 'admin-123', 'reason');\n      await service.unsuspendUser('user-124', 'admin-123');\n      await service.moderateContent('post', 'post-123', 'admin-123', 'remove');\n      await service.moderateContent('comment', 'comment-123', 'admin-123', 'remove');\n\n      expect(capturedAuditLogs).toHaveLength(6);\n      \n      capturedAuditLogs.forEach((log, index) => {\n        expect(log.data.userId).toBe('admin-123');\n        expect(log.data.action).toBe(adminActions[index].action);\n        expect(log.data.entity).toBe(adminActions[index].entity);\n        expect(log.data.metadata.timestamp).toBeDefined();\n      });\n    });\n  });\n});"],"version":3}