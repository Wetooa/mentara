{"version":3,"names":["cov_tjxswbvts","actualCoverage","common_1","s","require","config_1","event_emitter_1","throttler_1","core_1","auth_module_1","app_controller_1","app_service_1","users_module_1","communities_module_1","posts_module_1","comments_module_1","therapist_module_1","worksheets_module_1","pre_assessment_module_1","booking_module_1","reviews_module_1","admin_module_1","moderator_module_1","client_module_1","messaging_module_1","meetings_module_1","sessions_module_1","notifications_module_1","audit_logs_module_1","billing_module_1","dashboard_module_1","search_module_1","analytics_module_1","onboarding_module_1","health_module_1","prisma_client_provider_1","response_interceptor_1","http_exception_filter_1","event_bus_service_1","common_module_1","jwt_auth_guard_1","security_guard_1","security_headers_middleware_1","rate_limit_middleware_1","jwt_1","AppModule","configure","consumer","f","apply","SecurityHeadersMiddleware","forRoutes","RateLimitMiddleware","exports","__decorate","Module","imports","ConfigModule","forRoot","ThrottlerModule","ttl","limit","name","EventEmitterModule","wildcard","delimiter","ignoreErrors","maxListeners","verboseMemoryLeak","CommonModule","AuthModule","UsersModule","CommunitiesModule","PostsModule","CommentsModule","TherapistModule","WorksheetsModule","PreAssessmentModule","BookingModule","ReviewsModule","AdminModule","ModeratorModule","ClientModule","MessagingModule","MeetingsModule","SessionsModule","NotificationsModule","AuditLogsModule","BillingModule","DashboardModule","SearchModule","AnalyticsModule","OnboardingModule","HealthModule","controllers","AppController","providers","AppService","PrismaService","EventBusService","JwtService","provide","APP_INTERCEPTOR","useClass","ResponseInterceptor","APP_FILTER","HttpExceptionFilter","APP_GUARD","ThrottlerGuard","JwtAuthGuard","SecurityGuard"],"sources":["/home/wetooa/Documents/code/projects/mentara/mentara-api/src/app.module.ts"],"sourcesContent":["import { Module, NestModule, MiddlewareConsumer } from '@nestjs/common';\nimport { ConfigModule } from '@nestjs/config';\nimport { EventEmitterModule } from '@nestjs/event-emitter';\nimport { ThrottlerModule, ThrottlerGuard } from '@nestjs/throttler';\nimport { APP_INTERCEPTOR, APP_FILTER, APP_GUARD } from '@nestjs/core';\nimport { AuthModule } from './auth/auth.module';\nimport { AppController } from './app.controller';\nimport { AppService } from './app.service';\nimport { UsersModule } from './users/users.module';\nimport { CommunitiesModule } from './communities/communities.module';\nimport { PostsModule } from './posts/posts.module';\nimport { CommentsModule } from './comments/comments.module';\nimport { TherapistModule } from './therapist/therapist.module';\nimport { WorksheetsModule } from './worksheets/worksheets.module';\nimport { PreAssessmentModule } from './pre-assessment/pre-assessment.module';\nimport { BookingModule } from './booking/booking.module';\nimport { ReviewsModule } from './reviews/reviews.module';\nimport { AdminModule } from './admin/admin.module';\nimport { ModeratorModule } from './moderator/moderator.module';\nimport { ClientModule } from './client/client.module';\nimport { MessagingModule } from './messaging/messaging.module';\nimport { MeetingsModule } from './meetings/meetings.module';\nimport { SessionsModule } from './sessions/sessions.module';\nimport { NotificationsModule } from './notifications/notifications.module';\nimport { AuditLogsModule } from './audit-logs/audit-logs.module';\nimport { BillingModule } from './billing/billing.module';\nimport { DashboardModule } from './dashboard/dashboard.module';\nimport { SearchModule } from './search/search.module';\nimport { AnalyticsModule } from './analytics/analytics.module';\nimport { OnboardingModule } from './onboarding/onboarding.module';\nimport { HealthModule } from './health/health.module';\nimport { PrismaService } from './providers/prisma-client.provider';\nimport { ResponseInterceptor } from './common/interceptors/response.interceptor';\nimport { HttpExceptionFilter } from './common/filters/http-exception.filter';\nimport { EventBusService } from './common/events/event-bus.service';\nimport { CommonModule } from './common/common.module';\nimport { JwtAuthGuard } from './auth/guards/jwt-auth.guard';\nimport { SecurityGuard } from './common/guards/security.guard';\nimport { SecurityHeadersMiddleware } from './common/middleware/security-headers.middleware';\nimport { RateLimitMiddleware } from './common/middleware/rate-limit.middleware';\nimport { JwtService } from '@nestjs/jwt';\n\n@Module({\n  imports: [\n    ConfigModule.forRoot(),\n    ThrottlerModule.forRoot([\n      {\n        ttl: 60000, // 1 minute\n        limit: 100, // 100 requests per minute per IP\n      },\n      {\n        name: 'auth',\n        ttl: 300000, // 5 minutes\n        limit: 10, // 10 auth attempts per 5 minutes per IP\n      },\n      {\n        name: 'upload',\n        ttl: 60000, // 1 minute\n        limit: 5, // 5 file uploads per minute per IP\n      },\n    ]),\n    EventEmitterModule.forRoot({\n      // Set this to `true` to use wildcards\n      wildcard: true,\n      // The delimiter used to segment namespaces\n      delimiter: '.',\n      // Disable throwing uncaught exceptions\n      ignoreErrors: false,\n      // Max listeners per event\n      maxListeners: 10,\n      // Show event name in memory leaks message when more than maximum amount of listeners\n      verboseMemoryLeak: false,\n    }),\n    CommonModule,\n    AuthModule,\n    UsersModule,\n    CommunitiesModule,\n    PostsModule,\n    CommentsModule,\n    TherapistModule,\n    WorksheetsModule,\n    PreAssessmentModule,\n    BookingModule,\n    ReviewsModule,\n    AdminModule,\n    ModeratorModule,\n    ClientModule,\n    MessagingModule,\n    MeetingsModule,\n    SessionsModule,\n    NotificationsModule,\n    AuditLogsModule,\n    BillingModule,\n    DashboardModule,\n    SearchModule,\n    AnalyticsModule,\n    OnboardingModule,\n    HealthModule,\n  ],\n  controllers: [AppController],\n  providers: [\n    AppService,\n    PrismaService,\n    EventBusService,\n    JwtService,\n    {\n      provide: APP_INTERCEPTOR,\n      useClass: ResponseInterceptor,\n    },\n    {\n      provide: APP_FILTER,\n      useClass: HttpExceptionFilter,\n    },\n    {\n      provide: APP_GUARD,\n      useClass: ThrottlerGuard,\n    },\n    {\n      provide: APP_GUARD,\n      useClass: JwtAuthGuard,\n    },\n    {\n      provide: APP_GUARD,\n      useClass: SecurityGuard,\n    },\n  ],\n})\nexport class AppModule implements NestModule {\n  configure(consumer: MiddlewareConsumer) {\n    consumer.apply(SecurityHeadersMiddleware).forRoutes('*');\n\n    consumer.apply(RateLimitMiddleware).forRoutes('*');\n  }\n}\n"],"mappings":"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","ignoreList":[]}