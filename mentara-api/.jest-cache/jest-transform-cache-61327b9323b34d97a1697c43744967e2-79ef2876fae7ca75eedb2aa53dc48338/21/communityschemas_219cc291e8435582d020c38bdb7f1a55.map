{"file":"/home/wetooa/Documents/code/projects/mentara/mentara-api/src/communities/validation/community.schemas.ts","mappings":"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","names":[],"sources":["/home/wetooa/Documents/code/projects/mentara/mentara-api/src/communities/validation/community.schemas.ts"],"sourcesContent":["/**\n * Community Module Validation Schemas - Zod schemas for community operations\n * Separated from types for clean architecture\n */\n\nimport { z } from 'zod';\n\n// Community creation validation\nexport const CommunityCreateInputDtoSchema = z.object({\n  name: z\n    .string()\n    .min(1, 'Community name is required')\n    .max(100, 'Community name must be less than 100 characters'),\n  description: z\n    .string()\n    .min(1, 'Description is required')\n    .max(1000, 'Description must be less than 1000 characters'),\n  slug: z\n    .string()\n    .regex(/^[a-z0-9-]+$/, 'Slug can only contain lowercase letters, numbers, and hyphens')\n    .optional(),\n  imageUrl: z\n    .string()\n    .url('Invalid image URL')\n    .optional(),\n  isPrivate: z\n    .boolean()\n    .optional(),\n  category: z\n    .string()\n    .max(50, 'Category must be less than 50 characters')\n    .optional(),\n  tags: z\n    .array(z.string().max(50, 'Tag must be less than 50 characters'))\n    .max(10, 'Maximum 10 tags allowed')\n    .optional(),\n  rules: z\n    .array(z.string().max(200, 'Rule must be less than 200 characters'))\n    .max(20, 'Maximum 20 rules allowed')\n    .optional(),\n  moderatorIds: z\n    .array(z.string().uuid('Invalid moderator ID'))\n    .optional(),\n  maxMembers: z\n    .number()\n    .int()\n    .min(1, 'Must allow at least 1 member')\n    .max(10000, 'Maximum 10000 members allowed')\n    .optional(),\n  requireApproval: z\n    .boolean()\n    .optional(),\n}).strict();\n\n// Community update validation\nexport const CommunityUpdateInputDtoSchema = z.object({\n  name: z\n    .string()\n    .min(1, 'Community name cannot be empty')\n    .max(100, 'Community name must be less than 100 characters')\n    .optional(),\n  description: z\n    .string()\n    .min(1, 'Description cannot be empty')\n    .max(1000, 'Description must be less than 1000 characters')\n    .optional(),\n  slug: z\n    .string()\n    .regex(/^[a-z0-9-]+$/, 'Slug can only contain lowercase letters, numbers, and hyphens')\n    .optional(),\n  imageUrl: z\n    .string()\n    .url('Invalid image URL')\n    .optional(),\n  isPrivate: z\n    .boolean()\n    .optional(),\n  category: z\n    .string()\n    .max(50, 'Category must be less than 50 characters')\n    .optional(),\n  tags: z\n    .array(z.string().max(50, 'Tag must be less than 50 characters'))\n    .max(10, 'Maximum 10 tags allowed')\n    .optional(),\n  rules: z\n    .array(z.string().max(200, 'Rule must be less than 200 characters'))\n    .max(20, 'Maximum 20 rules allowed')\n    .optional(),\n  moderatorIds: z\n    .array(z.string().uuid('Invalid moderator ID'))\n    .optional(),\n  maxMembers: z\n    .number()\n    .int()\n    .min(1, 'Must allow at least 1 member')\n    .max(10000, 'Maximum 10000 members allowed')\n    .optional(),\n  requireApproval: z\n    .boolean()\n    .optional(),\n  isActive: z\n    .boolean()\n    .optional(),\n}).strict();\n\n// Community recommendation validation schemas\nexport const GenerateRecommendationsDtoSchema = z.object({\n  userId: z\n    .string()\n    .uuid('Invalid user ID'),\n  limit: z\n    .number()\n    .int()\n    .min(1, 'Limit must be at least 1')\n    .max(50, 'Limit cannot exceed 50')\n    .optional(),\n  includeReason: z\n    .boolean()\n    .optional(),\n  categories: z\n    .array(z.string().max(50, 'Category must be less than 50 characters'))\n    .optional(),\n  excludeCommunityIds: z\n    .array(z.string().uuid('Invalid community ID'))\n    .optional(),\n  basedOnActivity: z\n    .boolean()\n    .optional(),\n  basedOnProfile: z\n    .boolean()\n    .optional(),\n}).strict();\n\nexport const RecommendationInteractionDtoSchema = z.object({\n  userId: z\n    .string()\n    .uuid('Invalid user ID'),\n  communityId: z\n    .string()\n    .uuid('Invalid community ID'),\n  action: z\n    .enum(['view', 'join', 'dismiss', 'report'], {\n      required_error: 'Action is required',\n      invalid_type_error: 'Invalid action type',\n    }),\n  metadata: z.object({\n    viewDuration: z\n      .number()\n      .int()\n      .min(0, 'View duration cannot be negative')\n      .optional(),\n    source: z\n      .string()\n      .max(50, 'Source must be less than 50 characters')\n      .optional(),\n    reason: z\n      .string()\n      .max(200, 'Reason must be less than 200 characters')\n      .optional(),\n  }).optional(),\n}).strict();\n\nexport const RecommendationQueryDtoSchema = z.object({\n  limit: z\n    .number()\n    .int()\n    .min(1, 'Limit must be at least 1')\n    .max(100, 'Limit cannot exceed 100')\n    .optional(),\n  offset: z\n    .number()\n    .int()\n    .min(0, 'Offset cannot be negative')\n    .optional(),\n  category: z\n    .string()\n    .max(50, 'Category must be less than 50 characters')\n    .optional(),\n  includeJoined: z\n    .boolean()\n    .optional(),\n  sortBy: z\n    .enum(['relevance', 'popularity', 'recent', 'activity'], {\n      invalid_type_error: 'Invalid sort option',\n    })\n    .optional(),\n  filters: z.object({\n    memberCount: z.object({\n      min: z\n        .number()\n        .int()\n        .min(0, 'Minimum member count cannot be negative')\n        .optional(),\n      max: z\n        .number()\n        .int()\n        .min(1, 'Maximum member count must be at least 1')\n        .optional(),\n    }).optional(),\n    isPrivate: z\n      .boolean()\n      .optional(),\n    requireApproval: z\n      .boolean()\n      .optional(),\n  }).optional(),\n}).strict();"],"version":3}