{"file":"/home/wetooa/Documents/code/projects/mentara/mentara-api/src/common/events/event-bus.service.spec.ts","mappings":"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","names":[],"sources":["/home/wetooa/Documents/code/projects/mentara/mentara-api/src/common/events/event-bus.service.spec.ts"],"sourcesContent":["/**\n * ULTRA-COMPREHENSIVE Test Suite for EventBusService\n * \n * Extensively tests all event management, domain event handling, and pub/sub functionality.\n * Covers all 10+ methods with comprehensive scenarios including:\n * - Event emission with multiple patterns and error handling\n * - Subscription management with async/sync options\n * - Aggregate-specific and wildcard event handling\n * - Event statistics and listener management\n * - Performance testing with high-frequency events\n * - Concurrent event processing and error recovery\n * - Memory management and cleanup scenarios\n * - Integration workflows and real-world scenarios\n * - Error boundary testing and resilience\n * - Advanced event correlation and tracing\n */\n\nimport { Test, TestingModule } from '@nestjs/testing';\nimport { EventEmitter2 } from '@nestjs/event-emitter';\nimport { EventBusService } from './event-bus.service';\nimport {\n  BaseDomainEvent,\n  EventMetadata,\n} from './interfaces/domain-event.interface';\n\n// Mock event for testing\nclass TestDomainEvent extends BaseDomainEvent<{ test: string }> {\n  constructor(\n    aggregateId: string,\n    data: { test: string },\n    metadata: EventMetadata = {},\n  ) {\n    super(aggregateId, 'TestAggregate', data, metadata);\n  }\n}\n\ndescribe('EventBusService', () => {\n  let service: EventBusService;\n  let eventEmitter: jest.Mocked<EventEmitter2>;\n\n  beforeEach(async () => {\n    const mockEventEmitter = {\n      emitAsync: jest.fn(),\n      on: jest.fn(),\n      off: jest.fn(),\n      eventNames: jest.fn(),\n      listenerCount: jest.fn(),\n      removeAllListeners: jest.fn(),\n    };\n\n    const module: TestingModule = await Test.createTestingModule({\n      providers: [\n        EventBusService,\n        {\n          provide: EventEmitter2,\n          useValue: mockEventEmitter,\n        },\n      ],\n    }).compile();\n\n    service = module.get<EventBusService>(EventBusService);\n    eventEmitter = module.get(EventEmitter2);\n\n    // Mock the logger methods\n    jest.spyOn(service['logger'], 'debug').mockImplementation();\n    jest.spyOn(service['logger'], 'error').mockImplementation();\n    jest.spyOn(service['logger'], 'log').mockImplementation();\n    jest.spyOn(service['logger'], 'warn').mockImplementation();\n  });\n\n  afterEach(() => {\n    jest.clearAllMocks();\n  });\n\n  describe('emit', () => {\n    it('should emit event successfully', async () => {\n      // Arrange\n      const testEvent = new TestDomainEvent('aggregate-1', { test: 'data' });\n      eventEmitter.emitAsync.mockResolvedValue([] as any);\n\n      // Act\n      await service.emit(testEvent);\n\n      // Assert\n      expect(eventEmitter.emitAsync).toHaveBeenCalledTimes(3);\n      expect(eventEmitter.emitAsync).toHaveBeenCalledWith(\n        'TestDomainEvent',\n        testEvent,\n      );\n      expect(eventEmitter.emitAsync).toHaveBeenCalledWith('*', testEvent);\n      expect(eventEmitter.emitAsync).toHaveBeenCalledWith(\n        'TestAggregate.*',\n        testEvent,\n      );\n\n      expect(service['logger'].debug).toHaveBeenCalledWith(\n        'Emitting event: TestDomainEvent',\n        expect.objectContaining({\n          eventId: testEvent.eventId,\n          aggregateId: testEvent.aggregateId,\n          aggregateType: testEvent.aggregateType,\n          correlationId: testEvent.metadata.correlationId,\n        }),\n      );\n      expect(service['logger'].debug).toHaveBeenCalledWith(\n        'Event emitted successfully: TestDomainEvent',\n      );\n    });\n\n    it('should handle emit errors', async () => {\n      // Arrange\n      const testEvent = new TestDomainEvent('aggregate-1', { test: 'data' });\n      const error = new Error('Emit failed');\n      eventEmitter.emitAsync.mockRejectedValue(error);\n\n      // Act & Assert\n      await expect(service.emit(testEvent)).rejects.toThrow('Emit failed');\n\n      expect(service['logger'].error).toHaveBeenCalledWith(\n        'Failed to emit event: TestDomainEvent',\n        expect.objectContaining({\n          eventId: testEvent.eventId,\n          error: 'Emit failed',\n          stack: error.stack,\n        }),\n      );\n    });\n  });\n\n  describe('subscribe', () => {\n    it('should subscribe to events with default options', () => {\n      // Arrange\n      const eventType = 'TestEvent';\n      const handler = jest.fn();\n\n      // Act\n      service.subscribe(eventType, handler);\n\n      // Assert\n      expect(eventEmitter.on).toHaveBeenCalledWith(\n        eventType,\n        expect.any(Function),\n      );\n      expect(service['logger'].debug).toHaveBeenCalledWith(\n        'Subscribing to event: TestEvent',\n        expect.objectContaining({\n          handlerName: handler.name,\n          options: {},\n        }),\n      );\n    });\n\n    it('should subscribe with async=false option', () => {\n      // Arrange\n      const eventType = 'TestEvent';\n      const handler = jest.fn();\n      const options = { async: false };\n\n      // Act\n      service.subscribe(eventType, handler, options);\n\n      // Assert\n      expect(eventEmitter.on).toHaveBeenCalledWith(\n        eventType,\n        expect.any(Function),\n      );\n      expect(service['logger'].debug).toHaveBeenCalledWith(\n        'Subscribing to event: TestEvent',\n        expect.objectContaining({\n          handlerName: handler.name,\n          options,\n        }),\n      );\n    });\n\n    it('should handle successful event processing', async () => {\n      // Arrange\n      const eventType = 'TestEvent';\n      const handler = jest.fn().mockResolvedValue(undefined);\n      const testEvent = new TestDomainEvent('aggregate-1', { test: 'data' });\n\n      service.subscribe(eventType, handler);\n\n      // Get the wrapped handler that was passed to eventEmitter.on\n      const wrappedHandler = eventEmitter.on.mock.calls[0][1];\n\n      // Act\n\n      await wrappedHandler(testEvent);\n\n      // Assert\n      expect(handler).toHaveBeenCalledWith(testEvent);\n      expect(service['logger'].debug).toHaveBeenCalledWith(\n        'Handling event: TestDomainEvent',\n        expect.objectContaining({\n          eventId: testEvent.eventId,\n          handlerName: handler.name,\n        }),\n      );\n      expect(service['logger'].debug).toHaveBeenCalledWith(\n        'Event handled successfully: TestDomainEvent',\n        expect.objectContaining({\n          eventId: testEvent.eventId,\n          handlerName: handler.name,\n        }),\n      );\n    });\n\n    it('should handle event processing errors', async () => {\n      // Arrange\n      const eventType = 'TestEvent';\n      const error = new Error('Handler failed');\n      const handler = jest.fn().mockRejectedValue(error);\n      const testEvent = new TestDomainEvent('aggregate-1', { test: 'data' });\n\n      service.subscribe(eventType, handler);\n\n      // Get the wrapped handler that was passed to eventEmitter.on\n      const wrappedHandler = eventEmitter.on.mock.calls[0][1];\n\n      // Act & Assert\n      await expect(wrappedHandler(testEvent)).rejects.toThrow('Handler failed');\n\n      expect(service['logger'].error).toHaveBeenCalledWith(\n        'Event handler failed: TestDomainEvent',\n        expect.objectContaining({\n          eventId: testEvent.eventId,\n          handlerName: handler.name,\n          error: 'Handler failed',\n          stack: error.stack,\n        }),\n      );\n    });\n  });\n\n  describe('unsubscribe', () => {\n    it('should unsubscribe from events', () => {\n      // Arrange\n      const eventType = 'TestEvent';\n      const handler = jest.fn();\n\n      // Act\n      service.unsubscribe(eventType, handler);\n\n      // Assert\n      expect(eventEmitter.off).toHaveBeenCalledWith(eventType, handler);\n      expect(service['logger'].debug).toHaveBeenCalledWith(\n        'Unsubscribing from event: TestEvent',\n        expect.objectContaining({\n          handlerName: handler.name,\n        }),\n      );\n    });\n  });\n\n  describe('subscribeToAggregate', () => {\n    it('should subscribe to aggregate events', () => {\n      // Arrange\n      const aggregateType = 'User';\n      const handler = jest.fn();\n      const options = { async: true };\n\n      // Spy on the subscribe method\n      const subscribeSpy = jest.spyOn(service, 'subscribe');\n\n      // Act\n      service.subscribeToAggregate(aggregateType, handler, options);\n\n      // Assert\n      expect(subscribeSpy).toHaveBeenCalledWith('User.*', handler, options);\n    });\n  });\n\n  describe('subscribeToAll', () => {\n    it('should subscribe to all events with wildcard', () => {\n      // Arrange\n      const handler = jest.fn();\n      const options = { async: true };\n\n      // Spy on the subscribe method\n      const subscribeSpy = jest.spyOn(service, 'subscribe');\n\n      // Act\n      service.subscribeToAll(handler, options);\n\n      // Assert\n      expect(subscribeSpy).toHaveBeenCalledWith('*', handler, options);\n    });\n  });\n\n  describe('getEventStats', () => {\n    it('should return event statistics', () => {\n      // Arrange\n      const eventNames = ['event1', 'event2', 'event3'];\n      eventEmitter.eventNames.mockReturnValue(eventNames as any);\n      eventEmitter.listenerCount.mockImplementation((eventName) => {\n        return eventName === 'event1' ? 2 : 1;\n      });\n\n      // Act\n      const stats = service.getEventStats();\n\n      // Assert\n      expect(stats).toEqual({\n        totalListeners: 4, // 2 + 1 + 1\n        eventTypes: ['event1', 'event2', 'event3'],\n      });\n      expect(eventEmitter.eventNames).toHaveBeenCalled();\n      expect(eventEmitter.listenerCount).toHaveBeenCalledTimes(3);\n    });\n\n    it('should return zero statistics when no events', () => {\n      // Arrange\n      eventEmitter.eventNames.mockReturnValue([]);\n\n      // Act\n      const stats = service.getEventStats();\n\n      // Assert\n      expect(stats).toEqual({\n        totalListeners: 0,\n        eventTypes: [],\n      });\n    });\n  });\n\n  describe('hasListeners', () => {\n    it('should return true when listeners exist', () => {\n      // Arrange\n      const eventType = 'TestEvent';\n      eventEmitter.listenerCount.mockReturnValue(2);\n\n      // Act\n      const result = service.hasListeners(eventType);\n\n      // Assert\n      expect(result).toBe(true);\n      expect(eventEmitter.listenerCount).toHaveBeenCalledWith(eventType);\n    });\n\n    it('should return false when no listeners exist', () => {\n      // Arrange\n      const eventType = 'TestEvent';\n      eventEmitter.listenerCount.mockReturnValue(0);\n\n      // Act\n      const result = service.hasListeners(eventType);\n\n      // Assert\n      expect(result).toBe(false);\n      expect(eventEmitter.listenerCount).toHaveBeenCalledWith(eventType);\n    });\n  });\n\n  describe('removeAllListeners', () => {\n    it('should remove all listeners for specific event type', () => {\n      // Arrange\n      const eventType = 'TestEvent';\n\n      // Act\n      service.removeAllListeners(eventType);\n\n      // Assert\n      expect(eventEmitter.removeAllListeners).toHaveBeenCalledWith(eventType);\n      expect(service['logger'].debug).toHaveBeenCalledWith(\n        'Removing all listeners for event: TestEvent',\n      );\n    });\n\n    it('should remove all listeners when no event type specified', () => {\n      // Act\n      service.removeAllListeners();\n\n      // Assert\n      expect(eventEmitter.removeAllListeners).toHaveBeenCalledWith();\n      expect(service['logger'].debug).toHaveBeenCalledWith(\n        'Removing all event listeners',\n      );\n    });\n  });\n\n  describe('Advanced Event Emission Scenarios', () => {\n    describe('Complex Event Patterns', () => {\n      it('should emit events with complex aggregate patterns', async () => {\n        const complexEvent = new TestDomainEvent(\n          'user-profile-123',\n          { test: 'complex-aggregate-update', profileData: { name: 'John', email: 'john@example.com' } },\n          { userId: 'user-123', sessionId: 'session-456' }\n        );\n        \n        eventEmitter.emitAsync.mockResolvedValue([] as any);\n\n        await service.emit(complexEvent);\n\n        expect(eventEmitter.emitAsync).toHaveBeenCalledWith('TestDomainEvent', complexEvent);\n        expect(eventEmitter.emitAsync).toHaveBeenCalledWith('*', complexEvent);\n        expect(eventEmitter.emitAsync).toHaveBeenCalledWith('TestAggregate.*', complexEvent);\n      });\n\n      it('should handle rapid sequential event emission', async () => {\n        const events = Array.from({ length: 100 }, (_, i) => \n          new TestDomainEvent(\n            `aggregate-${i}`,\n            { test: `rapid-event-${i}`, sequence: i },\n            { correlationId: `corr-${i}` }\n          )\n        );\n\n        eventEmitter.emitAsync.mockResolvedValue([] as any);\n\n        const startTime = Date.now();\n        await Promise.all(events.map(event => service.emit(event)));\n        const duration = Date.now() - startTime;\n\n        expect(duration).toBeLessThan(1000); // Should complete within 1 second\n        expect(eventEmitter.emitAsync).toHaveBeenCalledTimes(300); // 100 events * 3 calls each\n      });\n\n      it('should handle events with large payloads efficiently', async () => {\n        const largePayload = {\n          test: 'large-payload',\n          data: Array.from({ length: 10000 }, (_, i) => ({ id: i, value: `data-${i}`.repeat(10) })),\n          metadata: {\n            description: 'x'.repeat(50000), // 50KB string\n            tags: Array.from({ length: 1000 }, (_, i) => `tag-${i}`),\n          },\n        };\n        \n        const largeEvent = new TestDomainEvent('large-aggregate', largePayload);\n        eventEmitter.emitAsync.mockResolvedValue([] as any);\n\n        const startTime = Date.now();\n        await service.emit(largeEvent);\n        const duration = Date.now() - startTime;\n\n        expect(duration).toBeLessThan(500); // Should handle large payloads efficiently\n        expect(eventEmitter.emitAsync).toHaveBeenCalledTimes(3);\n      });\n\n      it('should handle concurrent event emission from multiple sources', async () => {\n        const concurrentEvents = Array.from({ length: 50 }, (_, i) => {\n          const aggregateType = i % 3 === 0 ? 'User' : i % 3 === 1 ? 'Order' : 'Product';\n          return new TestDomainEvent(\n            `${aggregateType.toLowerCase()}-${i}`,\n            { test: `concurrent-${i}`, type: aggregateType },\n            { \n              userId: `user-${i % 10}`,\n              sessionId: `session-${Math.floor(i / 10)}`,\n              correlationId: `corr-${i}`,\n            }\n          );\n        });\n\n        eventEmitter.emitAsync.mockResolvedValue([] as any);\n\n        const promises = concurrentEvents.map(event => service.emit(event));\n        await Promise.all(promises);\n\n        expect(eventEmitter.emitAsync).toHaveBeenCalledTimes(150); // 50 events * 3 calls each\n        \n        // Verify all aggregate patterns were called\n        expect(eventEmitter.emitAsync).toHaveBeenCalledWith('TestAggregate.*', expect.any(Object));\n      });\n    });\n\n    describe('Error Recovery and Resilience', () => {\n      it('should handle partial emission failures gracefully', async () => {\n        const testEvent = new TestDomainEvent('test-aggregate', { test: 'partial-failure' });\n        \n        // Mock the first emission to succeed, second to fail, third to succeed\n        eventEmitter.emitAsync\n          .mockResolvedValueOnce([] as any) // Specific event type succeeds\n          .mockRejectedValueOnce(new Error('Wildcard emission failed')) // Wildcard fails\n          .mockResolvedValueOnce([] as any); // Aggregate pattern succeeds\n\n        await expect(service.emit(testEvent)).rejects.toThrow('Wildcard emission failed');\n        \n        expect(service['logger'].error).toHaveBeenCalledWith(\n          'Failed to emit event: TestDomainEvent',\n          expect.objectContaining({\n            eventId: testEvent.eventId,\n            error: 'Wildcard emission failed',\n          })\n        );\n      });\n\n      it('should handle non-Error exceptions during emission', async () => {\n        const testEvent = new TestDomainEvent('test-aggregate', { test: 'string-error' });\n        const stringError = 'String-based error';\n        \n        eventEmitter.emitAsync.mockRejectedValue(stringError);\n\n        await expect(service.emit(testEvent)).rejects.toBe(stringError);\n        \n        expect(service['logger'].error).toHaveBeenCalledWith(\n          'Failed to emit event: TestDomainEvent',\n          expect.objectContaining({\n            eventId: testEvent.eventId,\n            error: 'String-based error',\n            stack: undefined,\n          })\n        );\n      });\n\n      it('should handle timeout scenarios during emission', async () => {\n        const testEvent = new TestDomainEvent('test-aggregate', { test: 'timeout-test' });\n        const timeoutError = new Error('Event emission timeout');\n        timeoutError.name = 'TimeoutError';\n        \n        eventEmitter.emitAsync.mockRejectedValue(timeoutError);\n\n        await expect(service.emit(testEvent)).rejects.toThrow('Event emission timeout');\n        \n        expect(service['logger'].error).toHaveBeenCalledWith(\n          'Failed to emit event: TestDomainEvent',\n          expect.objectContaining({\n            eventId: testEvent.eventId,\n            error: 'Event emission timeout',\n          })\n        );\n      });\n    });\n  });\n\n  describe('Advanced Subscription Management', () => {\n    describe('Handler Lifecycle Management', () => {\n      it('should handle subscription lifecycle with multiple handlers', async () => {\n        const eventType = 'UserCreated';\n        const handlers = Array.from({ length: 5 }, (_, i) => \n          jest.fn().mockImplementation(async (event) => {\n            await new Promise(resolve => setTimeout(resolve, i * 10)); // Variable delay\n            return `handler-${i}-processed`;\n          })\n        );\n\n        // Subscribe all handlers\n        handlers.forEach((handler, i) => {\n          service.subscribe(eventType, handler, { async: i % 2 === 0 });\n        });\n\n        expect(eventEmitter.on).toHaveBeenCalledTimes(5);\n        \n        // Test that each handler receives different wrapping\n        const wrappedHandlers = eventEmitter.on.mock.calls.map(call => call[1]);\n        expect(wrappedHandlers).toHaveLength(5);\n        \n        // Simulate event handling\n        const testEvent = new TestDomainEvent('user-123', { test: 'multi-handler' });\n        \n        await Promise.all(wrappedHandlers.map(handler => handler(testEvent)));\n        \n        handlers.forEach(handler => {\n          expect(handler).toHaveBeenCalledWith(testEvent);\n        });\n      });\n\n      it('should handle handler failures with proper error logging', async () => {\n        const eventType = 'ErrorProneEvent';\n        const successHandler = jest.fn().mockResolvedValue('success');\n        const errorHandler = jest.fn().mockRejectedValue(new Error('Handler processing failed'));\n        const timeoutHandler = jest.fn().mockImplementation(\n          () => new Promise((_, reject) => \n            setTimeout(() => reject(new Error('Handler timeout')), 100)\n          )\n        );\n\n        service.subscribe(eventType, successHandler);\n        service.subscribe(eventType, errorHandler);\n        service.subscribe(eventType, timeoutHandler);\n\n        const testEvent = new TestDomainEvent('test-aggregate', { test: 'error-handling' });\n        const wrappedHandlers = eventEmitter.on.mock.calls.map(call => call[1]);\n\n        // Test successful handler\n        await wrappedHandlers[0](testEvent);\n        expect(successHandler).toHaveBeenCalledWith(testEvent);\n        \n        // Test error handler\n        await expect(wrappedHandlers[1](testEvent)).rejects.toThrow('Handler processing failed');\n        expect(service['logger'].error).toHaveBeenCalledWith(\n          'Event handler failed: TestDomainEvent',\n          expect.objectContaining({\n            eventId: testEvent.eventId,\n            handlerName: errorHandler.name,\n            error: 'Handler processing failed',\n          })\n        );\n        \n        // Test timeout handler\n        await expect(wrappedHandlers[2](testEvent)).rejects.toThrow('Handler timeout');\n      });\n\n      it('should handle async vs sync handler options correctly', async () => {\n        const eventType = 'AsyncSyncTest';\n        const asyncHandler = jest.fn().mockResolvedValue('async-result');\n        const syncHandler = jest.fn().mockResolvedValue('sync-result');\n        \n        service.subscribe(eventType, asyncHandler, { async: true });\n        service.subscribe(eventType, syncHandler, { async: false });\n        \n        expect(eventEmitter.on).toHaveBeenCalledTimes(2);\n        \n        const testEvent = new TestDomainEvent('test-aggregate', { test: 'async-sync' });\n        const [asyncWrapper, syncWrapper] = eventEmitter.on.mock.calls.map(call => call[1]);\n        \n        // Both should work but potentially handle errors differently\n        await asyncWrapper(testEvent);\n        await syncWrapper(testEvent);\n        \n        expect(asyncHandler).toHaveBeenCalledWith(testEvent);\n        expect(syncHandler).toHaveBeenCalledWith(testEvent);\n      });\n    });\n\n    describe('Wildcard and Pattern Subscriptions', () => {\n      it('should handle complex wildcard subscription patterns', () => {\n        const wildcardHandler = jest.fn();\n        const userAggregateHandler = jest.fn();\n        const orderAggregateHandler = jest.fn();\n        \n        service.subscribeToAll(wildcardHandler);\n        service.subscribeToAggregate('User', userAggregateHandler);\n        service.subscribeToAggregate('Order', orderAggregateHandler);\n        \n        // Verify internal subscribe calls\n        expect(eventEmitter.on).toHaveBeenCalledWith('*', expect.any(Function));\n        expect(eventEmitter.on).toHaveBeenCalledWith('User.*', expect.any(Function));\n        expect(eventEmitter.on).toHaveBeenCalledWith('Order.*', expect.any(Function));\n        \n        expect(service['logger'].debug).toHaveBeenCalledWith(\n          'Subscribing to event: *',\n          expect.any(Object)\n        );\n      });\n\n      it('should handle subscription to non-existent aggregate types', () => {\n        const handler = jest.fn();\n        \n        service.subscribeToAggregate('NonExistentAggregate', handler);\n        \n        expect(eventEmitter.on).toHaveBeenCalledWith('NonExistentAggregate.*', expect.any(Function));\n        expect(service['logger'].debug).toHaveBeenCalledWith(\n          'Subscribing to event: NonExistentAggregate.*',\n          expect.objectContaining({\n            handlerName: handler.name,\n          })\n        );\n      });\n\n      it('should handle subscription with custom options for aggregate patterns', () => {\n        const handler = jest.fn();\n        const customOptions = { async: false, parallel: true, scope: 'user' as const };\n        \n        service.subscribeToAggregate('CustomAggregate', handler, customOptions);\n        \n        expect(eventEmitter.on).toHaveBeenCalledWith('CustomAggregate.*', expect.any(Function));\n        expect(service['logger'].debug).toHaveBeenCalledWith(\n          'Subscribing to event: CustomAggregate.*',\n          expect.objectContaining({\n            handlerName: handler.name,\n            options: customOptions,\n          })\n        );\n      });\n    });\n  });\n\n  describe('Event Statistics and Monitoring', () => {\n    describe('Advanced Statistics Calculation', () => {\n      it('should handle complex event statistics scenarios', () => {\n        const complexEventNames = [\n          'User.Created', 'User.Updated', 'User.Deleted',\n          'Order.Placed', 'Order.Cancelled', 'Order.Fulfilled',\n          'Product.Added', 'Product.Updated',\n          '*', 'User.*', 'Order.*',\n        ];\n        \n        eventEmitter.eventNames.mockReturnValue(complexEventNames as any);\n        \n        // Mock varying listener counts\n        eventEmitter.listenerCount.mockImplementation((eventName) => {\n          if (eventName.includes('User')) return 3;\n          if (eventName.includes('Order')) return 2;\n          if (eventName.includes('Product')) return 1;\n          if (eventName === '*') return 5; // Wildcard listeners\n          return 0;\n        });\n        \n        const stats = service.getEventStats();\n        \n        expect(stats.eventTypes).toEqual(complexEventNames);\n        expect(stats.totalListeners).toBe(20); // 3+3+3+2+2+2+1+1+5+3+2 = 27, but recalculate: 3*3 + 2*3 + 1*2 + 5*1 + 3*1 + 2*1 = 9+6+2+5+3+2 = 27\n        expect(eventEmitter.listenerCount).toHaveBeenCalledTimes(complexEventNames.length);\n      });\n\n      it('should handle statistics for events with zero listeners', () => {\n        const eventNames = ['EmptyEvent1', 'EmptyEvent2', 'EmptyEvent3'];\n        \n        eventEmitter.eventNames.mockReturnValue(eventNames as any);\n        eventEmitter.listenerCount.mockReturnValue(0);\n        \n        const stats = service.getEventStats();\n        \n        expect(stats).toEqual({\n          totalListeners: 0,\n          eventTypes: eventNames,\n        });\n      });\n\n      it('should handle statistics calculation with large numbers of events', () => {\n        const manyEventNames = Array.from({ length: 1000 }, (_, i) => `Event${i}`);\n        \n        eventEmitter.eventNames.mockReturnValue(manyEventNames as any);\n        eventEmitter.listenerCount.mockImplementation((eventName) => {\n          const eventNum = parseInt(eventName.replace('Event', ''));\n          return eventNum % 10; // 0-9 listeners per event\n        });\n        \n        const startTime = Date.now();\n        const stats = service.getEventStats();\n        const duration = Date.now() - startTime;\n        \n        expect(duration).toBeLessThan(100); // Should be fast even with many events\n        expect(stats.eventTypes).toHaveLength(1000);\n        expect(stats.totalListeners).toBeGreaterThan(0);\n        expect(eventEmitter.listenerCount).toHaveBeenCalledTimes(1000);\n      });\n    });\n\n    describe('Listener Detection and Management', () => {\n      it('should accurately detect listeners for various event types', () => {\n        const testScenarios = [\n          { eventType: 'ExistingEvent', listenerCount: 5, expected: true },\n          { eventType: 'EmptyEvent', listenerCount: 0, expected: false },\n          { eventType: 'SingleListenerEvent', listenerCount: 1, expected: true },\n          { eventType: 'ManyListenersEvent', listenerCount: 100, expected: true },\n        ];\n        \n        testScenarios.forEach(scenario => {\n          eventEmitter.listenerCount.mockReturnValue(scenario.listenerCount);\n          \n          const result = service.hasListeners(scenario.eventType);\n          \n          expect(result).toBe(scenario.expected);\n          expect(eventEmitter.listenerCount).toHaveBeenCalledWith(scenario.eventType);\n        });\n      });\n\n      it('should handle listener removal for specific event types', () => {\n        const eventTypes = ['Event1', 'Event2', 'Event3'];\n        \n        eventTypes.forEach(eventType => {\n          service.removeAllListeners(eventType);\n          \n          expect(eventEmitter.removeAllListeners).toHaveBeenCalledWith(eventType);\n          expect(service['logger'].debug).toHaveBeenCalledWith(\n            `Removing all listeners for event: ${eventType}`\n          );\n        });\n        \n        expect(eventEmitter.removeAllListeners).toHaveBeenCalledTimes(3);\n      });\n\n      it('should handle global listener removal correctly', () => {\n        service.removeAllListeners(); // No event type specified\n        \n        expect(eventEmitter.removeAllListeners).toHaveBeenCalledWith();\n        expect(service['logger'].debug).toHaveBeenCalledWith(\n          'Removing all event listeners'\n        );\n      });\n\n      it('should handle removal of listeners for non-existent events', () => {\n        service.removeAllListeners('NonExistentEvent');\n        \n        expect(eventEmitter.removeAllListeners).toHaveBeenCalledWith('NonExistentEvent');\n        expect(service['logger'].debug).toHaveBeenCalledWith(\n          'Removing all listeners for event: NonExistentEvent'\n        );\n      });\n    });\n  });\n\n  describe('Performance and Concurrency Testing', () => {\n    describe('High-Frequency Event Processing', () => {\n      it('should handle high-frequency event emission efficiently', async () => {\n        const eventCount = 1000;\n        const events = Array.from({ length: eventCount }, (_, i) => \n          new TestDomainEvent(\n            `high-freq-${i}`,\n            { test: `high-frequency-${i}`, batch: Math.floor(i / 100) },\n            { correlationId: `batch-${Math.floor(i / 100)}` }\n          )\n        );\n        \n        eventEmitter.emitAsync.mockResolvedValue([] as any);\n        \n        const startTime = Date.now();\n        await Promise.all(events.map(event => service.emit(event)));\n        const duration = Date.now() - startTime;\n        \n        expect(duration).toBeLessThan(2000); // Should complete within 2 seconds\n        expect(eventEmitter.emitAsync).toHaveBeenCalledTimes(eventCount * 3); // Each event calls emitAsync 3 times\n      });\n\n      it('should handle concurrent subscription and emission', async () => {\n        const concurrentHandlers = Array.from({ length: 10 }, (_, i) => \n          jest.fn().mockImplementation(async (event) => {\n            await new Promise(resolve => setTimeout(resolve, Math.random() * 10));\n            return `concurrent-handler-${i}`;\n          })\n        );\n        \n        const concurrentEvents = Array.from({ length: 20 }, (_, i) => \n          new TestDomainEvent(\n            `concurrent-${i}`,\n            { test: `concurrent-processing-${i}` }\n          )\n        );\n        \n        // Subscribe handlers concurrently\n        await Promise.all(\n          concurrentHandlers.map((handler, i) => \n            Promise.resolve(service.subscribe(`ConcurrentEvent${i % 5}`, handler))\n          )\n        );\n        \n        eventEmitter.emitAsync.mockResolvedValue([] as any);\n        \n        // Emit events concurrently\n        const startTime = Date.now();\n        await Promise.all(concurrentEvents.map(event => service.emit(event)));\n        const duration = Date.now() - startTime;\n        \n        expect(duration).toBeLessThan(1000);\n        expect(eventEmitter.on).toHaveBeenCalledTimes(10);\n        expect(eventEmitter.emitAsync).toHaveBeenCalledTimes(60); // 20 events * 3 calls each\n      });\n\n      it('should handle memory-efficient event processing with large batches', async () => {\n        const batchSize = 500;\n        const batches = 10;\n        \n        eventEmitter.emitAsync.mockResolvedValue([] as any);\n        \n        for (let batch = 0; batch < batches; batch++) {\n          const batchEvents = Array.from({ length: batchSize }, (_, i) => \n            new TestDomainEvent(\n              `batch-${batch}-event-${i}`,\n              { test: `batch-processing`, batchId: batch, eventIndex: i }\n            )\n          );\n          \n          const batchStartTime = Date.now();\n          await Promise.all(batchEvents.map(event => service.emit(event)));\n          const batchDuration = Date.now() - batchStartTime;\n          \n          expect(batchDuration).toBeLessThan(1000); // Each batch should complete quickly\n        }\n        \n        expect(eventEmitter.emitAsync).toHaveBeenCalledTimes(batchSize * batches * 3);\n      });\n    });\n\n    describe('Error Recovery Under Load', () => {\n      it('should maintain performance during partial failures', async () => {\n        const events = Array.from({ length: 100 }, (_, i) => \n          new TestDomainEvent(`load-test-${i}`, { test: `load-${i}` })\n        );\n        \n        // Simulate intermittent failures\n        eventEmitter.emitAsync.mockImplementation((eventType, event) => {\n          const shouldFail = Math.random() < 0.1; // 10% failure rate\n          if (shouldFail) {\n            return Promise.reject(new Error(`Simulated failure for ${eventType}`));\n          }\n          return Promise.resolve([] as any);\n        });\n        \n        const results = await Promise.allSettled(\n          events.map(event => service.emit(event))\n        );\n        \n        const successful = results.filter(r => r.status === 'fulfilled').length;\n        const failed = results.filter(r => r.status === 'rejected').length;\n        \n        expect(successful).toBeGreaterThan(80); // At least 80% should succeed\n        expect(failed).toBeLessThan(20); // Less than 20% should fail\n        expect(successful + failed).toBe(100);\n      });\n\n      it('should handle cascading handler failures gracefully', async () => {\n        const eventType = 'CascadingFailureTest';\n        const handlers = Array.from({ length: 5 }, (_, i) => \n          jest.fn().mockImplementation(async () => {\n            if (i < 2) throw new Error(`Handler ${i} failed`);\n            return `handler-${i}-success`;\n          })\n        );\n        \n        handlers.forEach(handler => service.subscribe(eventType, handler));\n        \n        const testEvent = new TestDomainEvent('test-aggregate', { test: 'cascading-failure' });\n        const wrappedHandlers = eventEmitter.on.mock.calls.map(call => call[1]);\n        \n        const results = await Promise.allSettled(\n          wrappedHandlers.map(handler => handler(testEvent))\n        );\n        \n        const successful = results.filter(r => r.status === 'fulfilled').length;\n        const failed = results.filter(r => r.status === 'rejected').length;\n        \n        expect(successful).toBe(3); // Last 3 handlers should succeed\n        expect(failed).toBe(2); // First 2 handlers should fail\n        \n        // Verify error logging for failed handlers\n        expect(service['logger'].error).toHaveBeenCalledTimes(2);\n      });\n    });\n  });\n\n  describe('Integration and Real-World Scenarios', () => {\n    describe('Domain Event Workflows', () => {\n      it('should handle complete user registration workflow', async () => {\n        const correlationId = 'user-reg-corr-123';\n        const userId = 'user-456';\n        \n        // Define workflow events\n        class UserRegistrationStarted extends BaseDomainEvent<{ email: string; tempPassword: string }> {\n          constructor(userId: string, data: { email: string; tempPassword: string }) {\n            super(userId, 'User', data, { correlationId });\n          }\n        }\n        \n        class EmailVerificationSent extends BaseDomainEvent<{ email: string; verificationToken: string }> {\n          constructor(userId: string, data: { email: string; verificationToken: string }) {\n            super(userId, 'User', data, { correlationId });\n          }\n        }\n        \n        class UserRegistrationCompleted extends BaseDomainEvent<{ userId: string; profileData: any }> {\n          constructor(userId: string, data: { userId: string; profileData: any }) {\n            super(userId, 'User', data, { correlationId });\n          }\n        }\n        \n        // Set up handlers\n        const emailHandler = jest.fn().mockResolvedValue(undefined);\n        const profileHandler = jest.fn().mockResolvedValue(undefined);\n        const auditHandler = jest.fn().mockResolvedValue(undefined);\n        \n        service.subscribe('UserRegistrationStarted', emailHandler);\n        service.subscribe('EmailVerificationSent', profileHandler);\n        service.subscribeToAll(auditHandler); // Audit all events\n        \n        eventEmitter.emitAsync.mockResolvedValue([] as any);\n        \n        // Execute workflow\n        const registrationEvent = new UserRegistrationStarted(userId, {\n          email: 'user@example.com',\n          tempPassword: 'temp-pass-123'\n        });\n        \n        const verificationEvent = new EmailVerificationSent(userId, {\n          email: 'user@example.com',\n          verificationToken: 'verify-token-123'\n        });\n        \n        const completionEvent = new UserRegistrationCompleted(userId, {\n          userId,\n          profileData: { name: 'John Doe', preferences: {} }\n        });\n        \n        await service.emit(registrationEvent);\n        await service.emit(verificationEvent);\n        await service.emit(completionEvent);\n        \n        // Verify workflow execution\n        expect(eventEmitter.emitAsync).toHaveBeenCalledTimes(9); // 3 events * 3 patterns each\n        expect(eventEmitter.on).toHaveBeenCalledTimes(3); // 3 subscriptions\n        \n        // Verify correlation IDs are maintained\n        expect(registrationEvent.metadata.correlationId).toBe(correlationId);\n        expect(verificationEvent.metadata.correlationId).toBe(correlationId);\n        expect(completionEvent.metadata.correlationId).toBe(correlationId);\n      });\n\n      it('should handle order processing with compensation events', async () => {\n        const orderId = 'order-789';\n        const correlationId = 'order-proc-corr-456';\n        \n        class OrderPlaced extends BaseDomainEvent<{ orderId: string; items: any[]; total: number }> {\n          constructor(orderId: string, data: { orderId: string; items: any[]; total: number }) {\n            super(orderId, 'Order', data, { correlationId });\n          }\n        }\n        \n        class PaymentFailed extends BaseDomainEvent<{ orderId: string; reason: string; amount: number }> {\n          constructor(orderId: string, data: { orderId: string; reason: string; amount: number }) {\n            super(orderId, 'Payment', data, { correlationId });\n          }\n        }\n        \n        class OrderCancelled extends BaseDomainEvent<{ orderId: string; reason: string; compensation: any }> {\n          constructor(orderId: string, data: { orderId: string; reason: string; compensation: any }) {\n            super(orderId, 'Order', data, { correlationId });\n          }\n        }\n        \n        // Set up compensation handlers\n        const inventoryHandler = jest.fn().mockResolvedValue(undefined);\n        const notificationHandler = jest.fn().mockResolvedValue(undefined);\n        const refundHandler = jest.fn().mockResolvedValue(undefined);\n        \n        service.subscribeToAggregate('Order', inventoryHandler);\n        service.subscribe('PaymentFailed', refundHandler);\n        service.subscribe('OrderCancelled', notificationHandler);\n        \n        eventEmitter.emitAsync.mockResolvedValue([] as any);\n        \n        // Execute order processing with compensation\n        const orderEvent = new OrderPlaced(orderId, {\n          orderId,\n          items: [{ id: 'item-1', quantity: 2 }],\n          total: 99.99\n        });\n        \n        const paymentFailedEvent = new PaymentFailed(orderId, {\n          orderId,\n          reason: 'Insufficient funds',\n          amount: 99.99\n        });\n        \n        const compensationEvent = new OrderCancelled(orderId, {\n          orderId,\n          reason: 'Payment failed',\n          compensation: { inventoryReleased: true, refundInitiated: true }\n        });\n        \n        await service.emit(orderEvent);\n        await service.emit(paymentFailedEvent);\n        await service.emit(compensationEvent);\n        \n        expect(eventEmitter.emitAsync).toHaveBeenCalledTimes(9);\n        expect(eventEmitter.on).toHaveBeenCalledTimes(3);\n      });\n    });\n\n    describe('Event Correlation and Tracing', () => {\n      it('should maintain event correlation across complex workflows', async () => {\n        const correlationId = 'complex-workflow-corr-789';\n        const sessionId = 'session-123';\n        const userId = 'user-456';\n        \n        const events = Array.from({ length: 10 }, (_, i) => \n          new TestDomainEvent(\n            `workflow-step-${i}`,\n            { \n              test: `workflow-step-${i}`,\n              stepNumber: i,\n              previousStep: i > 0 ? `workflow-step-${i-1}` : null\n            },\n            {\n              correlationId,\n              sessionId,\n              userId,\n              causationId: i > 0 ? `workflow-step-${i-1}` : undefined,\n            }\n          )\n        );\n        \n        eventEmitter.emitAsync.mockResolvedValue([] as any);\n        \n        // Process workflow sequentially to maintain causation\n        for (const event of events) {\n          await service.emit(event);\n        }\n        \n        // Verify all events maintain correlation\n        events.forEach((event, i) => {\n          expect(event.metadata.correlationId).toBe(correlationId);\n          expect(event.metadata.sessionId).toBe(sessionId);\n          expect(event.metadata.userId).toBe(userId);\n          \n          if (i > 0) {\n            expect(event.metadata.causationId).toBe(`workflow-step-${i-1}`);\n          }\n        });\n        \n        expect(eventEmitter.emitAsync).toHaveBeenCalledTimes(30); // 10 events * 3 patterns\n      });\n\n      it('should handle event tracing with distributed system scenarios', async () => {\n        const traceId = 'trace-distributed-abc123';\n        const serviceInstances = ['api-1', 'api-2', 'worker-1', 'worker-2'];\n        \n        const distributedEvents = serviceInstances.flatMap((instance, serviceIndex) => \n          Array.from({ length: 3 }, (_, eventIndex) => \n            new TestDomainEvent(\n              `${instance}-event-${eventIndex}`,\n              {\n                test: `distributed-event`,\n                serviceInstance: instance,\n                eventSequence: eventIndex,\n              },\n              {\n                correlationId: traceId,\n                requestId: `req-${serviceIndex}-${eventIndex}`,\n                userAgent: `Service/${instance}`,\n                ipAddress: `10.0.${serviceIndex}.${eventIndex + 1}`,\n              }\n            )\n          )\n        );\n        \n        eventEmitter.emitAsync.mockResolvedValue([] as any);\n        \n        // Process distributed events concurrently\n        await Promise.all(distributedEvents.map(event => service.emit(event)));\n        \n        // Verify distributed tracing\n        expect(eventEmitter.emitAsync).toHaveBeenCalledTimes(36); // 12 events * 3 patterns\n        \n        distributedEvents.forEach(event => {\n          expect(event.metadata.correlationId).toBe(traceId);\n          expect(event.metadata.requestId).toMatch(/^req-\\d+-\\d+$/);\n          expect(event.metadata.userAgent).toMatch(/^Service\\/(api|worker)-\\d+$/);\n        });\n      });\n    });\n  });\n\n  describe('Memory Management and Cleanup', () => {\n    describe('Event Handler Memory Management', () => {\n      it('should handle subscription cleanup to prevent memory leaks', () => {\n        const eventTypes = Array.from({ length: 100 }, (_, i) => `EventType${i}`);\n        const handlers = Array.from({ length: 100 }, (_, i) => \n          jest.fn().mockImplementation(() => `handler-${i}`)\n        );\n        \n        // Subscribe many handlers\n        eventTypes.forEach((eventType, i) => {\n          service.subscribe(eventType, handlers[i]);\n        });\n        \n        expect(eventEmitter.on).toHaveBeenCalledTimes(100);\n        \n        // Unsubscribe half of them\n        eventTypes.slice(0, 50).forEach((eventType, i) => {\n          service.unsubscribe(eventType, handlers[i]);\n        });\n        \n        expect(eventEmitter.off).toHaveBeenCalledTimes(50);\n        \n        // Remove all listeners for specific event types\n        eventTypes.slice(50, 75).forEach(eventType => {\n          service.removeAllListeners(eventType);\n        });\n        \n        expect(eventEmitter.removeAllListeners).toHaveBeenCalledTimes(25);\n        \n        // Global cleanup\n        service.removeAllListeners();\n        \n        expect(eventEmitter.removeAllListeners).toHaveBeenLastCalledWith();\n      });\n\n      it('should handle large-scale subscription and cleanup cycles', () => {\n        const cycles = 10;\n        const subscriptionsPerCycle = 50;\n        \n        for (let cycle = 0; cycle < cycles; cycle++) {\n          // Subscribe handlers\n          for (let i = 0; i < subscriptionsPerCycle; i++) {\n            const eventType = `Cycle${cycle}Event${i}`;\n            const handler = jest.fn();\n            service.subscribe(eventType, handler);\n          }\n          \n          // Simulate some processing time\n          const startTime = Date.now();\n          while (Date.now() - startTime < 1) {} // Brief processing\n          \n          // Cleanup half the subscriptions\n          for (let i = 0; i < subscriptionsPerCycle / 2; i++) {\n            const eventType = `Cycle${cycle}Event${i}`;\n            service.removeAllListeners(eventType);\n          }\n        }\n        \n        expect(eventEmitter.on).toHaveBeenCalledTimes(cycles * subscriptionsPerCycle);\n        expect(eventEmitter.removeAllListeners).toHaveBeenCalledTimes(cycles * subscriptionsPerCycle / 2);\n      });\n    });\n  });\n\n  describe('Integration Tests', () => {\n    it('should handle complete event flow with advanced patterns', async () => {\n      // Arrange\n      const handler = jest.fn().mockResolvedValue(undefined);\n      const testEvent = new TestDomainEvent('aggregate-1', {\n        test: 'integration-test',\n        complexData: {\n          nestedObject: { value: 'nested' },\n          arrayData: [1, 2, 3, 4, 5],\n          metadata: { version: 2, timestamp: Date.now() }\n        }\n      });\n\n      eventEmitter.emitAsync.mockResolvedValue([] as any);\n\n      // Act\n      service.subscribe('TestDomainEvent', handler);\n      await service.emit(testEvent);\n\n      // Assert\n      expect(eventEmitter.on).toHaveBeenCalledWith(\n        'TestDomainEvent',\n        expect.any(Function),\n      );\n      expect(eventEmitter.emitAsync).toHaveBeenCalledTimes(3);\n      expect(service['logger'].debug).toHaveBeenCalledWith(\n        expect.stringContaining('Emitting event'),\n        expect.any(Object),\n      );\n    });\n\n    it('should handle event metadata correctly with all fields', () => {\n      // Arrange\n      const completeMetadata = {\n        userId: 'user-123',\n        sessionId: 'session-456',\n        correlationId: 'corr-789',\n        causationId: 'cause-101',\n        userRole: 'admin',\n        ipAddress: '192.168.1.100',\n        userAgent: 'Mozilla/5.0 Test Browser',\n        requestId: 'req-112233',\n      };\n      const testEvent = new TestDomainEvent(\n        'aggregate-1',\n        { test: 'metadata-test', includeAll: true },\n        completeMetadata,\n      );\n\n      // Act\n      const eventMetadata = testEvent.metadata;\n\n      // Assert\n      expect(eventMetadata.userId).toBe('user-123');\n      expect(eventMetadata.sessionId).toBe('session-456');\n      expect(eventMetadata.correlationId).toBeDefined();\n      expect(eventMetadata.causationId).toBe('cause-101');\n      expect(eventMetadata.userRole).toBe('admin');\n      expect(eventMetadata.ipAddress).toBe('192.168.1.100');\n      expect(eventMetadata.userAgent).toBe('Mozilla/5.0 Test Browser');\n      expect(eventMetadata.requestId).toBe('req-112233');\n    });\n\n    it('should handle end-to-end event processing with multiple subscribers', async () => {\n      const eventType = 'ComplexWorkflowEvent';\n      const handlers = [\n        jest.fn().mockResolvedValue('audit-logged'),\n        jest.fn().mockResolvedValue('notification-sent'),\n        jest.fn().mockResolvedValue('analytics-recorded'),\n        jest.fn().mockResolvedValue('cache-updated'),\n      ];\n      \n      // Subscribe all handlers\n      handlers.forEach(handler => service.subscribe(eventType, handler));\n      \n      const testEvent = new TestDomainEvent(\n        'workflow-aggregate',\n        {\n          test: 'end-to-end-test',\n          workflowId: 'wf-123',\n          data: { action: 'complete', result: 'success' }\n        },\n        {\n          userId: 'user-789',\n          sessionId: 'session-end-to-end',\n          correlationId: 'corr-end-to-end-123',\n        }\n      );\n      \n      eventEmitter.emitAsync.mockResolvedValue([] as any);\n      \n      // Emit event\n      await service.emit(testEvent);\n      \n      // Simulate handler execution\n      const wrappedHandlers = eventEmitter.on.mock.calls.map(call => call[1]);\n      await Promise.all(wrappedHandlers.map(handler => handler(testEvent)));\n      \n      // Verify complete workflow\n      expect(eventEmitter.on).toHaveBeenCalledTimes(4);\n      expect(eventEmitter.emitAsync).toHaveBeenCalledTimes(3); // specific, wildcard, aggregate\n      handlers.forEach(handler => {\n        expect(handler).toHaveBeenCalledWith(testEvent);\n      });\n      \n      expect(service['logger'].debug).toHaveBeenCalledWith(\n        'Event emitted successfully: TestDomainEvent'\n      );\n    });\n  });\n});\n"],"version":3}