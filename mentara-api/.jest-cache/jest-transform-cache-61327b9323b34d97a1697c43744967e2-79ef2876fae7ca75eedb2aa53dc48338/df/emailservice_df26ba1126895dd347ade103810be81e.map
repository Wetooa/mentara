{"version":3,"names":["common_1","cov_2iqgflxw52","s","require","EmailService","sendTherapistApplicationNotification","data","f","console","log","recipient","to","status","hasCredentials","credentials","emailContent","generateEmailContent","result","sendEmail","success","b","message","error","Error","name","adminNotes","baseContent","subject","greeting","companySignature","body","email","password","join","substring","random","Math","sendTherapistWelcomeEmail","therapistEmail","therapistName","sendTherapistRejectionEmail","reason","testConfiguration","testData","content","sendGenericEmail","emailData","template","exports","__decorate","Injectable"],"sources":["/home/wetooa/Documents/code/projects/mentara/mentara-api/src/services/email.service.ts"],"sourcesContent":["import { Injectable } from '@nestjs/common';\n\nexport interface EmailNotificationData {\n  to: string;\n  name: string;\n  status: 'approved' | 'rejected';\n  adminNotes?: string;\n  credentials?: {\n    email: string;\n    password: string;\n  };\n}\n\n@Injectable()\nexport class EmailService {\n  /**\n   * Send therapist application status notification\n   * This is a placeholder that will trigger the client-side EmailJS service\n   * In a production environment, you might want to use a server-side email service\n   *\n   * @param data Email notification data\n   * @returns Promise with operation result\n   */\n  sendTherapistApplicationNotification(data: EmailNotificationData): {\n    success: boolean;\n    message: string;\n  } {\n    try {\n      console.log('Email notification requested:', {\n        recipient: data.to,\n        status: data.status,\n        hasCredentials: !!data.credentials,\n      });\n\n      const emailContent = this.generateEmailContent(data);\n\n      console.log('Generated email content:', emailContent);\n\n      // In production, integrate with email service\n      // For now, this simulates successful email delivery\n      const result = this.sendEmail(emailContent, data.to);\n\n      if (result.success) {\n        console.log(`‚úÖ Email sent successfully to ${data.to}`);\n        return {\n          success: true,\n          message: `Email notification sent to ${data.to}`,\n        };\n      } else {\n        console.error(`‚ùå Failed to send email to ${data.to}: ${result.error}`);\n        return {\n          success: false,\n          message: `Failed to send email: ${result.error}`,\n        };\n      }\n    } catch (error) {\n      console.error('Failed to send email notification:', error);\n      return {\n        success: false,\n        message:\n          error instanceof Error\n            ? error.message\n            : 'Failed to send notification',\n      };\n    }\n  }\n\n  /**\n   * Generate email content based on application status\n   * @param data Email notification data\n   * @returns Formatted email content\n   */\n  private generateEmailContent(data: EmailNotificationData) {\n    const { name, status, adminNotes, credentials } = data;\n\n    const baseContent = {\n      subject: `Mentara Therapist Application ${status === 'approved' ? 'Approved' : 'Update'}`,\n      greeting: `Dear ${name},`,\n      companySignature: 'Best regards,\\nThe Mentara Team\\nsupport@mentara.com',\n    };\n\n    if (status === 'approved') {\n      return {\n        ...baseContent,\n        body: [\n          'Congratulations! Your therapist application has been approved.',\n          '',\n          'You can now start providing therapy services through the Mentara platform.',\n          '',\n          ...(credentials\n            ? [\n                'Your account credentials:',\n                `Email: ${credentials.email}`,\n                `Temporary Password: ${credentials.password}`,\n                '',\n                'Please log in and change your password immediately.',\n                'You can access your therapist dashboard at: https://mentara.com/therapist',\n                '',\n              ]\n            : []),\n          ...(adminNotes\n            ? ['Additional notes from our team:', adminNotes, '']\n            : []),\n          'Welcome to the Mentara therapist network!',\n        ].join('\\n'),\n      };\n    } else {\n      return {\n        ...baseContent,\n        body: [\n          'Thank you for your interest in joining the Mentara therapist network.',\n          '',\n          'After careful review, we have decided not to approve your application at this time.',\n          '',\n          ...(adminNotes\n            ? ['Feedback from our review team:', adminNotes, '']\n            : []),\n          'We encourage you to address any concerns mentioned above and reapply in the future.',\n          '',\n          \"If you have any questions, please don't hesitate to contact our support team.\",\n        ].join('\\n'),\n      };\n    }\n  }\n\n  /**\n   * Send email using configured email service\n   * @param emailContent Generated email content\n   * @param recipient Email recipient\n   * @returns Send result\n   */\n  private sendEmail(\n    emailContent: any,\n    recipient: string,\n  ): { success: boolean; error?: string } {\n    try {\n      // Simulate email sending for development\n      // In production, replace with actual email service integration:\n      // - Nodemailer with SMTP\n      // - SendGrid API\n      // - AWS SES\n      // - Postmark\n      // - Or webhook to frontend EmailJS\n\n      console.log(`üìß Sending email to: ${recipient}`);\n      console.log(`üìß Subject: ${emailContent.subject}`);\n      console.log(\n        `üìß Content preview: ${emailContent.body.substring(0, 100)}...`,\n      );\n\n      // Simulate network delay and potential failures\n      const random = Math.random();\n\n      if (random < 0.05) {\n        // 5% failure rate for testing\n        return {\n          success: false,\n          error: 'Email service temporarily unavailable',\n        };\n      }\n\n      if (random < 0.1) {\n        // 5% invalid email simulation\n        return {\n          success: false,\n          error: 'Invalid email address format',\n        };\n      }\n\n      // Simulate successful email delivery\n      return {\n        success: true,\n      };\n    } catch (error) {\n      return {\n        success: false,\n        error: error instanceof Error ? error.message : 'Unknown email error',\n      };\n    }\n  }\n\n  /**\n   * Send welcome email to new therapists\n   * @param therapistEmail Therapist email address\n   * @param therapistName Therapist name\n   * @param credentials Login credentials\n   * @returns Promise with operation result\n   */\n  async sendTherapistWelcomeEmail(\n    therapistEmail: string,\n    therapistName: string,\n    credentials: { email: string; password: string },\n  ): Promise<{ success: boolean; message: string }> {\n    return this.sendTherapistApplicationNotification({\n      to: therapistEmail,\n      name: therapistName,\n      status: 'approved',\n      credentials,\n    });\n  }\n\n  /**\n   * Send rejection email to therapist applicants\n   * @param therapistEmail Therapist email address\n   * @param therapistName Therapist name\n   * @param reason Optional rejection reason\n   * @returns Promise with operation result\n   */\n  async sendTherapistRejectionEmail(\n    therapistEmail: string,\n    therapistName: string,\n    reason?: string,\n  ): Promise<{ success: boolean; message: string }> {\n    return this.sendTherapistApplicationNotification({\n      to: therapistEmail,\n      name: therapistName,\n      status: 'rejected',\n      adminNotes: reason,\n    });\n  }\n\n  /**\n   * Test email service configuration\n   * @returns Promise with test result\n   */\n  testConfiguration(): { success: boolean; message: string } {\n    try {\n      console.log('Testing email service configuration...');\n\n      // Test email generation\n      const testData: EmailNotificationData = {\n        to: 'test@example.com',\n        name: 'Test Therapist',\n        status: 'approved',\n        credentials: {\n          email: 'test@example.com',\n          password: 'temp123',\n        },\n      };\n\n      const content = this.generateEmailContent(testData);\n      console.log('Test email content generated successfully:', content);\n\n      return {\n        success: true,\n        message: 'Email service configuration test passed',\n      };\n    } catch (error) {\n      console.error('Email service test failed:', error);\n      return {\n        success: false,\n        message: error instanceof Error ? error.message : 'Test failed',\n      };\n    }\n  }\n\n  /**\n   * Public method for sending generic emails\n   */\n  async sendGenericEmail(emailData: {\n    to: string;\n    subject: string;\n    template: string;\n    data: any;\n  }): Promise<void> {\n    try {\n      console.log('Sending email:', {\n        to: emailData.to,\n        subject: emailData.subject,\n        template: emailData.template,\n      });\n\n      // For now, this is a placeholder implementation\n      // In production, integrate with actual email service like SendGrid, AWS SES, etc.\n      const emailContent = {\n        subject: emailData.subject,\n        template: emailData.template,\n        ...emailData.data,\n      };\n      const result = this.sendEmail(emailContent, emailData.to);\n\n      if (!result.success) {\n        throw new Error(result.error || 'Failed to send email');\n      }\n    } catch (error) {\n      console.error('Failed to send email:', error);\n      throw error;\n    }\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}