{"version":3,"names":["cov_ayn6glbpr","actualCoverage","common_1","s","require","swagger_1","jwt_auth_guard_1","role_based_access_guard_1","roles_decorator_1","get_user_decorator_1","ModerationController","constructor","f","createJoinRequest","dto","BadRequestException","getJoinRequests","query","requests","pagination","page","limit","total","totalPages","filters","getUserJoinRequests","userId","getPendingRequests","user","processJoinRequest","requestId","cancelJoinRequest","getJoinRequestStats","totalRequests","pendingRequests","approvedRequests","rejectedRequests","avgProcessingTime","requestsByStatus","recentActivity","bulkProcessJoinRequests","exports","__decorate","Post","ApiOperation","summary","ApiResponse","status","description","__param","Body","Get","Query","Param","GetUser","Put","ParseUUIDPipe","Delete","Controller","UseGuards","JwtAuthGuard","RoleBasedAccessGuard","Roles","ApiTags","ApiBearerAuth"],"sources":["/home/wetooa/Documents/code/projects/mentara/mentara-api/src/communities/controllers/moderation.controller.ts"],"sourcesContent":["import {\n  Controller,\n  Get,\n  Post,\n  Put,\n  Delete,\n  Param,\n  Body,\n  Query,\n  UseGuards,\n  HttpCode,\n  HttpStatus,\n  ParseUUIDPipe,\n  BadRequestException,\n} from '@nestjs/common';\nimport {\n  ApiTags,\n  ApiOperation,\n  ApiResponse,\n  ApiParam,\n  ApiQuery,\n  ApiBearerAuth,\n} from '@nestjs/swagger';\nimport { JwtAuthGuard } from '../../auth/guards/jwt-auth.guard';\nimport { RoleBasedAccessGuard } from '../../auth/guards/role-based-access.guard';\nimport { Roles } from '../../auth/decorators/roles.decorator';\nimport { GetUser } from '../../decorators/get-user.decorator';\n\n// JoinRequestService removed - join requests feature disabled\n// This controller now provides stub responses for API compatibility\n\n@Controller('communities/moderation')\n@UseGuards(JwtAuthGuard, RoleBasedAccessGuard)\n@Roles('moderator', 'admin')\n@ApiTags('Community Moderation')\n@ApiBearerAuth()\nexport class ModerationController {\n  constructor() {\n    // JoinRequestService removed - join requests feature disabled\n  }\n\n  @Post('join-requests')\n  @ApiOperation({ summary: 'Create join request (disabled)' })\n  @ApiResponse({ status: 400, description: 'Feature disabled' })\n  async createJoinRequest(@Body() dto: any) {\n    throw new BadRequestException('Join requests feature has been disabled');\n  }\n\n  @Get('join-requests')\n  @ApiOperation({ summary: 'Get join requests (disabled)' })\n  @ApiResponse({ status: 200, description: 'Empty list - feature disabled' })\n  async getJoinRequests(@Query() query: any) {\n    return {\n      requests: [],\n      pagination: { page: 1, limit: 20, total: 0, totalPages: 0 },\n      filters: {},\n    };\n  }\n\n  @Get('join-requests/user/:userId')\n  @ApiOperation({ summary: 'Get user join requests (disabled)' })\n  @ApiResponse({ status: 200, description: 'Empty list - feature disabled' })\n  async getUserJoinRequests(@Param('userId') userId: string) {\n    return [];\n  }\n\n  @Get('join-requests/pending')\n  @ApiOperation({ summary: 'Get pending requests (disabled)' })\n  @ApiResponse({ status: 200, description: 'Empty list - feature disabled' })\n  async getPendingRequests(@GetUser() user: any) {\n    return [];\n  }\n\n  @Put('join-requests/:requestId/process')\n  @ApiOperation({ summary: 'Process join request (disabled)' })\n  @ApiResponse({ status: 400, description: 'Feature disabled' })\n  async processJoinRequest(\n    @Param('requestId', ParseUUIDPipe) requestId: string,\n    @Body() dto: any,\n    @GetUser() user: any,\n  ) {\n    throw new BadRequestException('Join requests feature has been disabled');\n  }\n\n  @Delete('join-requests/:requestId')\n  @ApiOperation({ summary: 'Cancel join request (disabled)' })\n  @ApiResponse({ status: 400, description: 'Feature disabled' })\n  async cancelJoinRequest(\n    @Param('requestId', ParseUUIDPipe) requestId: string,\n    @GetUser() user: any,\n  ) {\n    throw new BadRequestException('Join requests feature has been disabled');\n  }\n\n  @Get('stats/join-requests')\n  @ApiOperation({ summary: 'Get join request stats (disabled)' })\n  @ApiResponse({ status: 200, description: 'Empty stats - feature disabled' })\n  async getJoinRequestStats(@Query() query: any) {\n    return {\n      totalRequests: 0,\n      pendingRequests: 0,\n      approvedRequests: 0,\n      rejectedRequests: 0,\n      avgProcessingTime: 0,\n      requestsByStatus: {},\n      recentActivity: [],\n    };\n  }\n\n  @Post('join-requests/bulk-process')\n  @ApiOperation({ summary: 'Bulk process join requests (disabled)' })\n  @ApiResponse({ status: 400, description: 'Feature disabled' })\n  async bulkProcessJoinRequests(@Body() dto: any, @GetUser() user: any) {\n    throw new BadRequestException('Join requests feature has been disabled');\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAAA;IAAAA,aAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,aAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAAE,QAAA;AAAA;AAAA,CAAAF,aAAA,GAAAG,CAAA,QAAAC,OAAA;AAeA,MAAAC,SAAA;AAAA;AAAA,CAAAL,aAAA,GAAAG,CAAA,QAAAC,OAAA;AAQA,MAAAE,gBAAA;AAAA;AAAA,CAAAN,aAAA,GAAAG,CAAA,QAAAC,OAAA;AACA,MAAAG,yBAAA;AAAA;AAAA,CAAAP,aAAA,GAAAG,CAAA,QAAAC,OAAA;AACA,MAAAI,iBAAA;AAAA;AAAA,CAAAR,aAAA,GAAAG,CAAA,QAAAC,OAAA;AACA,MAAAK,oBAAA;AAAA;AAAA,CAAAT,aAAA,GAAAG,CAAA,QAAAC,OAAA;AAEA;AACA;AAAA;AAAAJ,aAAA,GAAAG,CAAA;AAOO,IAAMO,oBAAoB,GAA1B,MAAMA,oBAAoB;EAC/BC,YAAA;IAAA;IAAAX,aAAA,GAAAY,CAAA;EAEA,CAAC,CADC;EAMI,MAAAC,iBAAiBA,CAASC,GAAQ;IAAA;IAAAd,aAAA,GAAAY,CAAA;IAAAZ,aAAA,GAAAG,CAAA;IACtC,MAAM,IAAID,QAAA,CAAAa,mBAAmB,CAAC,yCAAyC,CAAC;EAC1E;EAKM,MAAAC,eAAeA,CAAUC,KAAU;IAAA;IAAAjB,aAAA,GAAAY,CAAA;IAAAZ,aAAA,GAAAG,CAAA;IACvC,OAAO;MACLe,QAAQ,EAAE,EAAE;MACZC,UAAU,EAAE;QAAEC,IAAI,EAAE,CAAC;QAAEC,KAAK,EAAE,EAAE;QAAEC,KAAK,EAAE,CAAC;QAAEC,UAAU,EAAE;MAAC,CAAE;MAC3DC,OAAO,EAAE;KACV;EACH;EAKM,MAAAC,mBAAmBA,CAAkBC,MAAc;IAAA;IAAA1B,aAAA,GAAAY,CAAA;IAAAZ,aAAA,GAAAG,CAAA;IACvD,OAAO,EAAE;EACX;EAKM,MAAAwB,kBAAkBA,CAAYC,IAAS;IAAA;IAAA5B,aAAA,GAAAY,CAAA;IAAAZ,aAAA,GAAAG,CAAA;IAC3C,OAAO,EAAE;EACX;EAKM,MAAA0B,kBAAkBA,CACaC,SAAiB,EAC5ChB,GAAQ,EACLc,IAAS;IAAA;IAAA5B,aAAA,GAAAY,CAAA;IAAAZ,aAAA,GAAAG,CAAA;IAEpB,MAAM,IAAID,QAAA,CAAAa,mBAAmB,CAAC,yCAAyC,CAAC;EAC1E;EAKM,MAAAgB,iBAAiBA,CACcD,SAAiB,EACzCF,IAAS;IAAA;IAAA5B,aAAA,GAAAY,CAAA;IAAAZ,aAAA,GAAAG,CAAA;IAEpB,MAAM,IAAID,QAAA,CAAAa,mBAAmB,CAAC,yCAAyC,CAAC;EAC1E;EAKM,MAAAiB,mBAAmBA,CAAUf,KAAU;IAAA;IAAAjB,aAAA,GAAAY,CAAA;IAAAZ,aAAA,GAAAG,CAAA;IAC3C,OAAO;MACL8B,aAAa,EAAE,CAAC;MAChBC,eAAe,EAAE,CAAC;MAClBC,gBAAgB,EAAE,CAAC;MACnBC,gBAAgB,EAAE,CAAC;MACnBC,iBAAiB,EAAE,CAAC;MACpBC,gBAAgB,EAAE,EAAE;MACpBC,cAAc,EAAE;KACjB;EACH;EAKM,MAAAC,uBAAuBA,CAAS1B,GAAQ,EAAac,IAAS;IAAA;IAAA5B,aAAA,GAAAY,CAAA;IAAAZ,aAAA,GAAAG,CAAA;IAClE,MAAM,IAAID,QAAA,CAAAa,mBAAmB,CAAC,yCAAyC,CAAC;EAC1E;CACD;AAAA;AAAAf,aAAA,GAAAG,CAAA;AA/EYsC,OAAA,CAAA/B,oBAAA,GAAAA,oBAAA;AAAoB;AAAAV,aAAA,GAAAG,CAAA;AAQzBuC,UAAA,EAHL,IAAAxC,QAAA,CAAAyC,IAAI,EAAC,eAAe,CAAC,EACrB,IAAAtC,SAAA,CAAAuC,YAAY,EAAC;EAAEC,OAAO,EAAE;AAAgC,CAAE,CAAC,EAC3D,IAAAxC,SAAA,CAAAyC,WAAW,EAAC;EAAEC,MAAM,EAAE,GAAG;EAAEC,WAAW,EAAE;AAAkB,CAAE,CAAC,EACrCC,OAAA,QAAA/C,QAAA,CAAAgD,IAAI,GAAE,G,qLAE9B;AAAA;AAAAlD,aAAA,GAAAG,CAAA;AAKKuC,UAAA,EAHL,IAAAxC,QAAA,CAAAiD,GAAG,EAAC,eAAe,CAAC,EACpB,IAAA9C,SAAA,CAAAuC,YAAY,EAAC;EAAEC,OAAO,EAAE;AAA8B,CAAE,CAAC,EACzD,IAAAxC,SAAA,CAAAyC,WAAW,EAAC;EAAEC,MAAM,EAAE,GAAG;EAAEC,WAAW,EAAE;AAA+B,CAAE,CAAC,EACpDC,OAAA,QAAA/C,QAAA,CAAAkD,KAAK,GAAE,G,mLAM7B;AAAA;AAAApD,aAAA,GAAAG,CAAA;AAKKuC,UAAA,EAHL,IAAAxC,QAAA,CAAAiD,GAAG,EAAC,4BAA4B,CAAC,EACjC,IAAA9C,SAAA,CAAAuC,YAAY,EAAC;EAAEC,OAAO,EAAE;AAAmC,CAAE,CAAC,EAC9D,IAAAxC,SAAA,CAAAyC,WAAW,EAAC;EAAEC,MAAM,EAAE,GAAG;EAAEC,WAAW,EAAE;AAA+B,CAAE,CAAC,EAChDC,OAAA,QAAA/C,QAAA,CAAAmD,KAAK,EAAC,QAAQ,CAAC,G,uLAEzC;AAAA;AAAArD,aAAA,GAAAG,CAAA;AAKKuC,UAAA,EAHL,IAAAxC,QAAA,CAAAiD,GAAG,EAAC,uBAAuB,CAAC,EAC5B,IAAA9C,SAAA,CAAAuC,YAAY,EAAC;EAAEC,OAAO,EAAE;AAAiC,CAAE,CAAC,EAC5D,IAAAxC,SAAA,CAAAyC,WAAW,EAAC;EAAEC,MAAM,EAAE,GAAG;EAAEC,WAAW,EAAE;AAA+B,CAAE,CAAC,EACjDC,OAAA,QAAAxC,oBAAA,CAAA6C,OAAO,GAAE,G,sLAElC;AAAA;AAAAtD,aAAA,GAAAG,CAAA;AAKKuC,UAAA,EAHL,IAAAxC,QAAA,CAAAqD,GAAG,EAAC,kCAAkC,CAAC,EACvC,IAAAlD,SAAA,CAAAuC,YAAY,EAAC;EAAEC,OAAO,EAAE;AAAiC,CAAE,CAAC,EAC5D,IAAAxC,SAAA,CAAAyC,WAAW,EAAC;EAAEC,MAAM,EAAE,GAAG;EAAEC,WAAW,EAAE;AAAkB,CAAE,CAAC,EAE3DC,OAAA,QAAA/C,QAAA,CAAAmD,KAAK,EAAC,WAAW,EAAEnD,QAAA,CAAAsD,aAAa,CAAC,GACjCP,OAAA,QAAA/C,QAAA,CAAAgD,IAAI,GAAE,GACND,OAAA,QAAAxC,oBAAA,CAAA6C,OAAO,GAAE,G,sMAGX;AAAA;AAAAtD,aAAA,GAAAG,CAAA;AAKKuC,UAAA,EAHL,IAAAxC,QAAA,CAAAuD,MAAM,EAAC,0BAA0B,CAAC,EAClC,IAAApD,SAAA,CAAAuC,YAAY,EAAC;EAAEC,OAAO,EAAE;AAAgC,CAAE,CAAC,EAC3D,IAAAxC,SAAA,CAAAyC,WAAW,EAAC;EAAEC,MAAM,EAAE,GAAG;EAAEC,WAAW,EAAE;AAAkB,CAAE,CAAC,EAE3DC,OAAA,QAAA/C,QAAA,CAAAmD,KAAK,EAAC,WAAW,EAAEnD,QAAA,CAAAsD,aAAa,CAAC,GACjCP,OAAA,QAAAxC,oBAAA,CAAA6C,OAAO,GAAE,G,6LAGX;AAAA;AAAAtD,aAAA,GAAAG,CAAA;AAKKuC,UAAA,EAHL,IAAAxC,QAAA,CAAAiD,GAAG,EAAC,qBAAqB,CAAC,EAC1B,IAAA9C,SAAA,CAAAuC,YAAY,EAAC;EAAEC,OAAO,EAAE;AAAmC,CAAE,CAAC,EAC9D,IAAAxC,SAAA,CAAAyC,WAAW,EAAC;EAAEC,MAAM,EAAE,GAAG;EAAEC,WAAW,EAAE;AAAgC,CAAE,CAAC,EACjDC,OAAA,QAAA/C,QAAA,CAAAkD,KAAK,GAAE,G,uLAUjC;AAAA;AAAApD,aAAA,GAAAG,CAAA;AAKKuC,UAAA,EAHL,IAAAxC,QAAA,CAAAyC,IAAI,EAAC,4BAA4B,CAAC,EAClC,IAAAtC,SAAA,CAAAuC,YAAY,EAAC;EAAEC,OAAO,EAAE;AAAuC,CAAE,CAAC,EAClE,IAAAxC,SAAA,CAAAyC,WAAW,EAAC;EAAEC,MAAM,EAAE,GAAG;EAAEC,WAAW,EAAE;AAAkB,CAAE,CAAC,EAC/BC,OAAA,QAAA/C,QAAA,CAAAgD,IAAI,GAAE,GAAYD,OAAA,QAAAxC,oBAAA,CAAA6C,OAAO,GAAE,G,mMAEzD;AAAA;AAAAtD,aAAA,GAAAG,CAAA;+BA9EUO,oBAAoB,GAAAgC,UAAA,EALhC,IAAAxC,QAAA,CAAAwD,UAAU,EAAC,wBAAwB,CAAC,EACpC,IAAAxD,QAAA,CAAAyD,SAAS,EAACrD,gBAAA,CAAAsD,YAAY,EAAErD,yBAAA,CAAAsD,oBAAoB,CAAC,EAC7C,IAAArD,iBAAA,CAAAsD,KAAK,EAAC,WAAW,EAAE,OAAO,CAAC,EAC3B,IAAAzD,SAAA,CAAA0D,OAAO,EAAC,sBAAsB,CAAC,EAC/B,IAAA1D,SAAA,CAAA2D,aAAa,GAAE,E,sCACHtD,oBAAoB,CA+EhC","ignoreList":[]}