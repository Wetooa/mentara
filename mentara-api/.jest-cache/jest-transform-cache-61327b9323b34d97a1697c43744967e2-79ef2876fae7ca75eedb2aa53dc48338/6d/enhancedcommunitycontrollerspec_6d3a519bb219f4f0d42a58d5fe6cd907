bf500ac4b8968d91b6f09497574f9d23
"use strict";
/**
 * Comprehensive Test Suite for EnhancedCommunityController
 * Tests advanced community search, discovery, and management features
 */
Object.defineProperty(exports, "__esModule", { value: true });
const testing_1 = require("@nestjs/testing");
const enhanced_community_controller_1 = require("./enhanced-community.controller");
const enhanced_community_service_1 = require("../services/enhanced-community.service");
const jwt_auth_guard_1 = require("../../auth/guards/jwt-auth.guard");
const role_based_access_guard_1 = require("../../auth/guards/role-based-access.guard");
const enhanced_test_helpers_1 = require("../../test-utils/enhanced-test-helpers");
const index_1 = require("../../test-utils/index");
describe('EnhancedCommunityController', () => {
    let controller;
    let enhancedCommunityService;
    let module;
    // Mock EnhancedCommunityService
    const mockEnhancedCommunityService = {
        searchCommunities: jest.fn(),
        getCommunityDetails: jest.fn(),
        getTrendingCommunities: jest.fn(),
        getSimilarCommunities: jest.fn(),
        // Prisma mock for direct database access
        prisma: {
            membership: {
                findMany: jest.fn(),
            },
            community: {
                count: jest.fn(),
            },
        },
    };
    // Mock Guards
    const mockJwtAuthGuard = {
        canActivate: jest.fn().mockReturnValue(true),
    };
    const mockRoleBasedAccessGuard = {
        canActivate: jest.fn().mockReturnValue(true),
    };
    // Test data
    const mockUser = {
        id: index_1.TEST_USER_IDS.CLIENT,
        email: index_1.TEST_EMAILS.CLIENT,
        role: 'client',
    };
    const mockCommunity = {
        id: 'community_123456789',
        name: 'Anxiety Support Group',
        slug: 'anxiety-support-group',
        description: 'A supportive community for people dealing with anxiety',
        memberCount: 1234,
        isPrivate: false,
        createdAt: new Date('2024-01-15T10:00:00Z'),
        recentActivity: {
            lastPostAt: '2024-02-14T09:30:00Z',
            postsThisWeek: 23,
            activeMembers: 456,
        },
        membershipStatus: 'none',
        compatibility: {
            score: 0.85,
            reasons: ['Interest in anxiety management', 'Similar community preferences'],
        },
    };
    const mockSearchResults = {
        communities: [mockCommunity],
        total: 1,
        page: 1,
        limit: 20,
        totalPages: 1,
        facets: {
            tags: [
                { tag: 'anxiety', count: 15 },
                { tag: 'support', count: 23 },
                { tag: 'therapy', count: 8 },
            ],
            memberCountRanges: [
                { range: '0-100', count: 5 },
                { range: '100-500', count: 12 },
                { range: '500+', count: 8 },
            ],
        },
    };
    const mockCommunityDetails = {
        ...mockCommunity,
        stats: {
            totalPosts: 456,
            totalComments: 1234,
            activeMembers: 234,
            recentActivity: {
                postsToday: 5,
                postsThisWeek: 23,
                postsThisMonth: 89,
            },
        },
        recentPosts: [
            {
                id: 'post_123',
                title: 'Managing Work Anxiety',
                author: 'Anonymous',
                createdAt: '2024-02-14T08:30:00Z',
                likesCount: 15,
                commentsCount: 8,
            },
        ],
        topContributors: [
            {
                id: 'user_456',
                name: 'Sarah M.',
                postsCount: 45,
                helpfulVotes: 123,
            },
        ],
        moderators: [
            {
                id: 'mod_789',
                name: 'Dr. Johnson',
                role: 'moderator',
            },
        ],
        membershipStatus: 'none',
        userPermissions: {
            canPost: false,
            canComment: false,
            canModerate: false,
        },
    };
    const mockTrendingCommunities = [
        {
            ...mockCommunity,
            trendingData: {
                growthRate: 15.2,
                activityScore: 89.5,
                engagementRate: 72.3,
                retentionRate: 85.7,
            },
        },
    ];
    const mockSimilarCommunities = [
        {
            id: 'community_similar_1',
            name: 'Depression Support',
            description: 'Support for those dealing with depression',
            memberCount: 987,
            similarityScore: 0.78,
            commonTags: ['support', 'mental-health'],
        },
    ];
    beforeEach(async () => {
        module = await testing_1.Test.createTestingModule({
            controllers: [enhanced_community_controller_1.EnhancedCommunityController],
            providers: [
                {
                    provide: enhanced_community_service_1.EnhancedCommunityService,
                    useValue: mockEnhancedCommunityService,
                },
            ],
        })
            .overrideGuard(jwt_auth_guard_1.JwtAuthGuard)
            .useValue(mockJwtAuthGuard)
            .overrideGuard(role_based_access_guard_1.RoleBasedAccessGuard)
            .useValue(mockRoleBasedAccessGuard)
            .compile();
        controller = module.get(enhanced_community_controller_1.EnhancedCommunityController);
        enhancedCommunityService = module.get(enhanced_community_service_1.EnhancedCommunityService);
    });
    afterEach(() => {
        jest.clearAllMocks();
    });
    describe('Controller Initialization', () => {
        it('should be defined', () => {
            expect(controller).toBeDefined();
        });
        it('should have enhancedCommunityService injected', () => {
            expect(enhancedCommunityService).toBeDefined();
        });
    });
    describe('Security Guards', () => {
        it('should be protected by JwtAuthGuard and RoleBasedAccessGuard', () => {
            const guards = Reflect.getMetadata('__guards__', enhanced_community_controller_1.EnhancedCommunityController);
            expect(guards).toContain(jwt_auth_guard_1.JwtAuthGuard);
            expect(guards).toContain(role_based_access_guard_1.RoleBasedAccessGuard);
        });
        it('should have proper route decorators', () => {
            const controllerMetadata = Reflect.getMetadata('path', enhanced_community_controller_1.EnhancedCommunityController);
            expect(controllerMetadata).toBe('communities/enhanced');
        });
        it('should allow multiple roles for all endpoints', () => {
            const allowedRoles = ['client', 'therapist', 'moderator', 'admin'];
            const methods = ['searchCommunities', 'getCommunityDetails', 'getTrendingCommunities', 'getSimilarCommunities'];
            methods.forEach(method => {
                const metadata = Reflect.getMetadata('roles', controller[method]);
                expect(metadata).toEqual(allowedRoles);
            });
        });
    });
    describe('GET /communities/enhanced/search', () => {
        const validSearchQuery = {
            query: 'anxiety',
            tags: ['support', 'therapy'],
            minMembers: 100,
            maxMembers: 2000,
            sortBy: 'relevance',
            sortOrder: 'desc',
            hasDescription: true,
            hasImage: false,
            membershipRequired: false,
            page: 1,
            limit: 20,
        };
        it('should search communities successfully', async () => {
            mockEnhancedCommunityService.searchCommunities.mockResolvedValue(mockSearchResults);
            const result = await controller.searchCommunities(validSearchQuery, mockUser);
            expect(result.success).toBe(true);
            expect(result.data).toEqual(mockSearchResults);
            expect(result.message).toContain('successfully');
            expect(enhancedCommunityService.searchCommunities).toHaveBeenCalledWith({
                query: validSearchQuery.query,
                tags: validSearchQuery.tags,
                minMembers: validSearchQuery.minMembers,
                maxMembers: validSearchQuery.maxMembers,
                sortBy: validSearchQuery.sortBy,
                sortOrder: validSearchQuery.sortOrder,
                hasDescription: validSearchQuery.hasDescription,
                hasImage: validSearchQuery.hasImage,
                membershipRequired: validSearchQuery.membershipRequired,
            }, mockUser.id, validSearchQuery.page, validSearchQuery.limit);
        });
        it('should handle empty search query', async () => {
            const emptyQuery = { page: 1, limit: 20 };
            mockEnhancedCommunityService.searchCommunities.mockResolvedValue({
                ...mockSearchResults,
                communities: [],
                total: 0,
            });
            const result = await controller.searchCommunities(emptyQuery, mockUser);
            expect(result.success).toBe(true);
            expect(result.data.communities).toEqual([]);
            expect(result.data.total).toBe(0);
        });
        it('should handle service errors', async () => {
            const serviceError = new Error('Search service unavailable');
            mockEnhancedCommunityService.searchCommunities.mockRejectedValue(serviceError);
            await expect(controller.searchCommunities(validSearchQuery, mockUser)).rejects.toThrow(serviceError);
        });
        it('should validate search facets', async () => {
            mockEnhancedCommunityService.searchCommunities.mockResolvedValue(mockSearchResults);
            const result = await controller.searchCommunities(validSearchQuery, mockUser);
            expect(result.data.facets).toBeDefined();
            expect(result.data.facets.tags).toBeDefined();
            expect(Array.isArray(result.data.facets.tags)).toBe(true);
            expect(result.data.facets.memberCountRanges).toBeDefined();
            expect(Array.isArray(result.data.facets.memberCountRanges)).toBe(true);
        });
        it('should handle different sorting options', async () => {
            const sortByMembers = { ...validSearchQuery, sortBy: 'members' };
            mockEnhancedCommunityService.searchCommunities.mockResolvedValue(mockSearchResults);
            const result = await controller.searchCommunities(sortByMembers, mockUser);
            expect(result.success).toBe(true);
            expect(enhancedCommunityService.searchCommunities).toHaveBeenCalledWith(expect.objectContaining({ sortBy: 'members' }), mockUser.id, 1, 20);
        });
    });
    describe('GET /communities/enhanced/:communityId/details', () => {
        it('should get community details successfully', async () => {
            mockEnhancedCommunityService.getCommunityDetails.mockResolvedValue(mockCommunityDetails);
            const result = await controller.getCommunityDetails('community_123456789', mockUser);
            expect(result.success).toBe(true);
            expect(result.data).toEqual(mockCommunityDetails);
            expect(result.message).toContain('successfully');
            expect(enhancedCommunityService.getCommunityDetails).toHaveBeenCalledWith('community_123456789', mockUser.id);
        });
        it('should handle non-existent community', async () => {
            const notFoundError = new Error('Community not found');
            mockEnhancedCommunityService.getCommunityDetails.mockRejectedValue(notFoundError);
            await expect(controller.getCommunityDetails('nonexistent_community', mockUser)).rejects.toThrow(notFoundError);
        });
        it('should validate community details structure', async () => {
            mockEnhancedCommunityService.getCommunityDetails.mockResolvedValue(mockCommunityDetails);
            const result = await controller.getCommunityDetails('community_123456789', mockUser);
            expect(result.data).toHaveProperty('id');
            expect(result.data).toHaveProperty('name');
            expect(result.data).toHaveProperty('stats');
            expect(result.data).toHaveProperty('recentPosts');
            expect(result.data).toHaveProperty('topContributors');
            expect(result.data).toHaveProperty('moderators');
            expect(result.data).toHaveProperty('membershipStatus');
            expect(result.data).toHaveProperty('userPermissions');
            expect(Array.isArray(result.data.recentPosts)).toBe(true);
            expect(Array.isArray(result.data.topContributors)).toBe(true);
            expect(Array.isArray(result.data.moderators)).toBe(true);
        });
    });
    describe('GET /communities/enhanced/trending', () => {
        it('should get trending communities successfully', async () => {
            mockEnhancedCommunityService.getTrendingCommunities.mockResolvedValue(mockTrendingCommunities);
            const query = { limit: 10, timeframe: 'week' };
            const result = await controller.getTrendingCommunities(query);
            expect(result.success).toBe(true);
            expect(result.data).toEqual(mockTrendingCommunities);
            expect(result.message).toContain('successfully');
            expect(enhancedCommunityService.getTrendingCommunities).toHaveBeenCalledWith(10, 'week');
        });
        it('should handle default parameters', async () => {
            mockEnhancedCommunityService.getTrendingCommunities.mockResolvedValue(mockTrendingCommunities);
            const result = await controller.getTrendingCommunities({});
            expect(result.success).toBe(true);
            expect(enhancedCommunityService.getTrendingCommunities).toHaveBeenCalledWith(10, 'week');
        });
        it('should handle different timeframes', async () => {
            mockEnhancedCommunityService.getTrendingCommunities.mockResolvedValue(mockTrendingCommunities);
            const monthQuery = { limit: 15, timeframe: 'month' };
            const result = await controller.getTrendingCommunities(monthQuery);
            expect(result.success).toBe(true);
            expect(enhancedCommunityService.getTrendingCommunities).toHaveBeenCalledWith(15, 'month');
        });
        it('should validate trending data structure', async () => {
            mockEnhancedCommunityService.getTrendingCommunities.mockResolvedValue(mockTrendingCommunities);
            const result = await controller.getTrendingCommunities({ limit: 5 });
            expect(Array.isArray(result.data)).toBe(true);
            result.data.forEach(community => {
                expect(community).toHaveProperty('id');
                expect(community).toHaveProperty('name');
                expect(community).toHaveProperty('memberCount');
                expect(community).toHaveProperty('trendingData');
                expect(community.trendingData).toHaveProperty('growthRate');
                expect(community.trendingData).toHaveProperty('activityScore');
                expect(community.trendingData).toHaveProperty('engagementRate');
                expect(typeof community.trendingData.growthRate).toBe('number');
            });
        });
    });
    describe('GET /communities/enhanced/:communityId/similar', () => {
        it('should get similar communities successfully', async () => {
            mockEnhancedCommunityService.getSimilarCommunities.mockResolvedValue(mockSimilarCommunities);
            const query = { excludeJoined: true, maxResults: 5 };
            const result = await controller.getSimilarCommunities('community_123456789', query, mockUser);
            expect(result.success).toBe(true);
            expect(result.data).toEqual(mockSimilarCommunities);
            expect(result.message).toContain('successfully');
            expect(enhancedCommunityService.getSimilarCommunities).toHaveBeenCalledWith('community_123456789', {
                userId: mockUser.id,
                excludeJoined: true,
                maxResults: 5,
            });
        });
        it('should handle default parameters', async () => {
            mockEnhancedCommunityService.getSimilarCommunities.mockResolvedValue(mockSimilarCommunities);
            const result = await controller.getSimilarCommunities('community_123456789', {}, mockUser);
            expect(result.success).toBe(true);
            expect(enhancedCommunityService.getSimilarCommunities).toHaveBeenCalledWith('community_123456789', {
                userId: mockUser.id,
                excludeJoined: true,
                maxResults: 5,
            });
        });
        it('should validate similar communities structure', async () => {
            mockEnhancedCommunityService.getSimilarCommunities.mockResolvedValue(mockSimilarCommunities);
            const result = await controller.getSimilarCommunities('community_123456789', {}, mockUser);
            expect(Array.isArray(result.data)).toBe(true);
            result.data.forEach(community => {
                expect(community).toHaveProperty('id');
                expect(community).toHaveProperty('name');
                expect(community).toHaveProperty('memberCount');
                expect(community).toHaveProperty('similarityScore');
                expect(typeof community.similarityScore).toBe('number');
                expect(community.similarityScore).toBeGreaterThanOrEqual(0);
                expect(community.similarityScore).toBeLessThanOrEqual(1);
            });
        });
    });
    describe('GET /communities/enhanced/discover', () => {
        it('should discover communities successfully', async () => {
            mockEnhancedCommunityService.getTrendingCommunities.mockResolvedValue(mockTrendingCommunities);
            mockEnhancedCommunityService.prisma.membership.findMany.mockResolvedValue([]);
            const result = await controller.discoverCommunities(mockUser, 10);
            expect(result.success).toBe(true);
            expect(result.data).toEqual(mockTrendingCommunities);
            expect(result.message).toContain('successfully');
        });
        it('should filter out user joined communities', async () => {
            const userMemberships = [{ communityId: mockCommunity.id }];
            mockEnhancedCommunityService.getTrendingCommunities.mockResolvedValue(mockTrendingCommunities);
            mockEnhancedCommunityService.prisma.membership.findMany.mockResolvedValue(userMemberships);
            const result = await controller.discoverCommunities(mockUser, 10);
            expect(result.success).toBe(true);
            expect(result.data).toEqual([]); // Should be filtered out
        });
        it('should handle default limit', async () => {
            mockEnhancedCommunityService.getTrendingCommunities.mockResolvedValue(mockTrendingCommunities);
            mockEnhancedCommunityService.prisma.membership.findMany.mockResolvedValue([]);
            const result = await controller.discoverCommunities(mockUser);
            expect(result.success).toBe(true);
            expect(enhancedCommunityService.getTrendingCommunities).toHaveBeenCalledWith(10, 'week');
        });
    });
    describe('GET /communities/enhanced/categories', () => {
        it('should get community categories successfully', async () => {
            mockEnhancedCommunityService.prisma.community.count.mockResolvedValue(5);
            const result = await controller.getCommunityCategories();
            expect(result.success).toBe(true);
            expect(result.message).toContain('successfully');
            expect(Array.isArray(result.data)).toBe(true);
            expect(result.data.length).toBeGreaterThan(0);
        });
        it('should validate categories structure', async () => {
            mockEnhancedCommunityService.prisma.community.count.mockResolvedValue(3);
            const result = await controller.getCommunityCategories();
            result.data.forEach(category => {
                expect(category).toHaveProperty('id');
                expect(category).toHaveProperty('name');
                expect(category).toHaveProperty('description');
                expect(category).toHaveProperty('icon');
                expect(category).toHaveProperty('communityCount');
                expect(typeof category.communityCount).toBe('number');
            });
        });
        it('should include predefined categories', async () => {
            mockEnhancedCommunityService.prisma.community.count.mockResolvedValue(2);
            const result = await controller.getCommunityCategories();
            const categoryIds = result.data.map(cat => cat.id);
            expect(categoryIds).toContain('depression');
            expect(categoryIds).toContain('anxiety');
            expect(categoryIds).toContain('trauma');
            expect(categoryIds).toContain('general');
            expect(categoryIds).toContain('wellness');
        });
    });
    describe('GET /communities/enhanced/popular', () => {
        it('should get popular communities successfully', async () => {
            mockEnhancedCommunityService.searchCommunities.mockResolvedValue(mockSearchResults);
            const result = await controller.getPopularCommunities(mockUser, 10);
            expect(result.success).toBe(true);
            expect(result.data).toEqual(mockSearchResults.communities);
            expect(result.message).toContain('successfully');
            expect(enhancedCommunityService.searchCommunities).toHaveBeenCalledWith({
                sortBy: 'members',
                sortOrder: 'desc',
            }, mockUser.id, 1, 10);
        });
        it('should handle default limit', async () => {
            mockEnhancedCommunityService.searchCommunities.mockResolvedValue(mockSearchResults);
            const result = await controller.getPopularCommunities(mockUser);
            expect(result.success).toBe(true);
            expect(enhancedCommunityService.searchCommunities).toHaveBeenCalledWith(expect.any(Object), mockUser.id, 1, 10);
        });
    });
    describe('Response Format Validation', () => {
        it('should return properly formatted search response', async () => {
            mockEnhancedCommunityService.searchCommunities.mockResolvedValue(mockSearchResults);
            const result = await controller.searchCommunities({ query: 'test' }, mockUser);
            enhanced_test_helpers_1.TestAssertions.expectValidEntity(result, ['success', 'data', 'message']);
            expect(result.success).toBe(true);
            expect(result.data).toHaveProperty('communities');
            expect(result.data).toHaveProperty('total');
            expect(result.data).toHaveProperty('facets');
            expect(Array.isArray(result.data.communities)).toBe(true);
        });
        it('should return properly formatted community details', async () => {
            mockEnhancedCommunityService.getCommunityDetails.mockResolvedValue(mockCommunityDetails);
            const result = await controller.getCommunityDetails('community_123', mockUser);
            enhanced_test_helpers_1.TestAssertions.expectValidEntity(result, ['success', 'data', 'message']);
            expect(result.data).toHaveProperty('stats');
            expect(result.data).toHaveProperty('recentPosts');
            expect(result.data).toHaveProperty('userPermissions');
        });
        it('should return properly formatted trending communities', async () => {
            mockEnhancedCommunityService.getTrendingCommunities.mockResolvedValue(mockTrendingCommunities);
            const result = await controller.getTrendingCommunities({});
            enhanced_test_helpers_1.TestAssertions.expectValidEntity(result, ['success', 'data', 'message']);
            expect(Array.isArray(result.data)).toBe(true);
            result.data.forEach(community => {
                expect(community).toHaveProperty('trendingData');
                expect(typeof community.trendingData.growthRate).toBe('number');
            });
        });
    });
    describe('Error Handling', () => {
        it('should handle service unavailable scenarios', async () => {
            const serviceError = new Error('Enhanced community service unavailable');
            mockEnhancedCommunityService.searchCommunities.mockRejectedValue(serviceError);
            await expect(controller.searchCommunities({ query: 'test' }, mockUser)).rejects.toThrow(serviceError);
        });
        it('should handle database connection errors', async () => {
            const dbError = new Error('Database connection failed');
            mockEnhancedCommunityService.getCommunityDetails.mockRejectedValue(dbError);
            await expect(controller.getCommunityDetails('community_123', mockUser)).rejects.toThrow(dbError);
        });
        it('should handle invalid community IDs', async () => {
            const invalidIdError = new Error('Invalid community ID format');
            mockEnhancedCommunityService.getCommunityDetails.mockRejectedValue(invalidIdError);
            await expect(controller.getCommunityDetails('invalid-id', mockUser)).rejects.toThrow(invalidIdError);
        });
    });
    describe('Integration Tests', () => {
        it('should handle complete community discovery workflow', async () => {
            // Search communities
            mockEnhancedCommunityService.searchCommunities.mockResolvedValue(mockSearchResults);
            const searchResult = await controller.searchCommunities({ query: 'anxiety' }, mockUser);
            expect(searchResult.data.communities).toHaveLength(1);
            // Get community details
            mockEnhancedCommunityService.getCommunityDetails.mockResolvedValue(mockCommunityDetails);
            const detailsResult = await controller.getCommunityDetails(searchResult.data.communities[0].id, mockUser);
            expect(detailsResult.data.id).toBe(searchResult.data.communities[0].id);
            // Get similar communities
            mockEnhancedCommunityService.getSimilarCommunities.mockResolvedValue(mockSimilarCommunities);
            const similarResult = await controller.getSimilarCommunities(searchResult.data.communities[0].id, {}, mockUser);
            expect(Array.isArray(similarResult.data)).toBe(true);
            // Get trending communities
            mockEnhancedCommunityService.getTrendingCommunities.mockResolvedValue(mockTrendingCommunities);
            const trendingResult = await controller.getTrendingCommunities({});
            expect(Array.isArray(trendingResult.data)).toBe(true);
        });
        it('should validate role-based access across all endpoints', async () => {
            // Mock successful responses
            mockEnhancedCommunityService.searchCommunities.mockResolvedValue(mockSearchResults);
            mockEnhancedCommunityService.getCommunityDetails.mockResolvedValue(mockCommunityDetails);
            mockEnhancedCommunityService.getTrendingCommunities.mockResolvedValue(mockTrendingCommunities);
            mockEnhancedCommunityService.getSimilarCommunities.mockResolvedValue(mockSimilarCommunities);
            mockEnhancedCommunityService.prisma.membership.findMany.mockResolvedValue([]);
            mockEnhancedCommunityService.prisma.community.count.mockResolvedValue(5);
            // All endpoints should be accessible for all allowed roles
            const endpoints = [
                () => controller.searchCommunities({}, mockUser),
                () => controller.getCommunityDetails('community_123', mockUser),
                () => controller.getTrendingCommunities({}),
                () => controller.getSimilarCommunities('community_123', {}, mockUser),
                () => controller.discoverCommunities(mockUser),
                () => controller.getCommunityCategories(),
                () => controller.getPopularCommunities(mockUser),
            ];
            for (const endpoint of endpoints) {
                await expect(endpoint()).resolves.toBeDefined();
            }
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvd2V0b29hL0RvY3VtZW50cy9jb2RlL3Byb2plY3RzL21lbnRhcmEvbWVudGFyYS1hcGkvc3JjL2NvbW11bml0aWVzL2NvbnRyb2xsZXJzL2VuaGFuY2VkLWNvbW11bml0eS5jb250cm9sbGVyLnNwZWMudHMiLCJtYXBwaW5ncyI6IjtBQUFBOzs7R0FHRzs7QUFFSCw2Q0FBc0Q7QUFFdEQsbUZBQThFO0FBQzlFLHVGQUFrRjtBQUNsRixxRUFBZ0U7QUFDaEUsdUZBQWlGO0FBRWpGLGtGQUF3RztBQUN4RyxrREFBb0U7QUFFcEUsUUFBUSxDQUFDLDZCQUE2QixFQUFFLEdBQUcsRUFBRTtJQUMzQyxJQUFJLFVBQXVDLENBQUM7SUFDNUMsSUFBSSx3QkFBa0QsQ0FBQztJQUN2RCxJQUFJLE1BQXFCLENBQUM7SUFFMUIsZ0NBQWdDO0lBQ2hDLE1BQU0sNEJBQTRCLEdBQUc7UUFDbkMsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtRQUM1QixtQkFBbUIsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO1FBQzlCLHNCQUFzQixFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7UUFDakMscUJBQXFCLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtRQUNoQyx5Q0FBeUM7UUFDekMsTUFBTSxFQUFFO1lBQ04sVUFBVSxFQUFFO2dCQUNWLFFBQVEsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO2FBQ3BCO1lBQ0QsU0FBUyxFQUFFO2dCQUNULEtBQUssRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO2FBQ2pCO1NBQ0Y7S0FDRixDQUFDO0lBRUYsY0FBYztJQUNkLE1BQU0sZ0JBQWdCLEdBQUc7UUFDdkIsV0FBVyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDO0tBQzdDLENBQUM7SUFFRixNQUFNLHdCQUF3QixHQUFHO1FBQy9CLFdBQVcsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQztLQUM3QyxDQUFDO0lB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LEdBQUcsRUFBRSxDQUFDLFVBQVUsQ0FBQyxzQkFBc0IsQ0FBQyxFQUFFLENBQUM7Z0JBQzNDLEdBQUcsRUFBRSxDQUFDLFVBQVUsQ0FBQyxxQkFBcUIsQ0FBQyxlQUFlLEVBQUUsRUFBRSxFQUFFLFFBQVEsQ0FBQztnQkFDckUsR0FBRyxFQUFFLENBQUMsVUFBVSxDQUFDLG1CQUFtQixDQUFDLFFBQVEsQ0FBQztnQkFDOUMsR0FBRyxFQUFFLENBQUMsVUFBVSxDQUFDLHNCQUFzQixFQUFFO2dCQUN6QyxHQUFHLEVBQUUsQ0FBQyxVQUFVLENBQUMscUJBQXFCLENBQUMsUUFBUSxDQUFDO2FBQ2pELENBQUM7WUFFRixLQUFLLE1BQU0sUUFBUSxJQUFJLFNBQVMsRUFBRSxDQUFDO2dCQUNqQyxNQUFNLE1BQU0sQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUNsRCxDQUFDO1FBQ0gsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9ob21lL3dldG9vYS9Eb2N1bWVudHMvY29kZS9wcm9qZWN0cy9tZW50YXJhL21lbnRhcmEtYXBpL3NyYy9jb21tdW5pdGllcy9jb250cm9sbGVycy9lbmhhbmNlZC1jb21tdW5pdHkuY29udHJvbGxlci5zcGVjLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29tcHJlaGVuc2l2ZSBUZXN0IFN1aXRlIGZvciBFbmhhbmNlZENvbW11bml0eUNvbnRyb2xsZXJcbiAqIFRlc3RzIGFkdmFuY2VkIGNvbW11bml0eSBzZWFyY2gsIGRpc2NvdmVyeSwgYW5kIG1hbmFnZW1lbnQgZmVhdHVyZXNcbiAqL1xuXG5pbXBvcnQgeyBUZXN0LCBUZXN0aW5nTW9kdWxlIH0gZnJvbSAnQG5lc3Rqcy90ZXN0aW5nJztcbmltcG9ydCB7IEh0dHBFeGNlcHRpb24sIEh0dHBTdGF0dXMsIFZhbGlkYXRpb25QaXBlIH0gZnJvbSAnQG5lc3Rqcy9jb21tb24nO1xuaW1wb3J0IHsgRW5oYW5jZWRDb21tdW5pdHlDb250cm9sbGVyIH0gZnJvbSAnLi9lbmhhbmNlZC1jb21tdW5pdHkuY29udHJvbGxlcic7XG5pbXBvcnQgeyBFbmhhbmNlZENvbW11bml0eVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9lbmhhbmNlZC1jb21tdW5pdHkuc2VydmljZSc7XG5pbXBvcnQgeyBKd3RBdXRoR3VhcmQgfSBmcm9tICcuLi8uLi9hdXRoL2d1YXJkcy9qd3QtYXV0aC5ndWFyZCc7XG5pbXBvcnQgeyBSb2xlQmFzZWRBY2Nlc3NHdWFyZCB9IGZyb20gJy4uLy4uL2F1dGgvZ3VhcmRzL3JvbGUtYmFzZWQtYWNjZXNzLmd1YXJkJztcbmltcG9ydCB7IFNlY3VyaXR5R3VhcmRUZXN0VXRpbHMsIFJvbGVCYXNlZFRlc3RVdGlscyB9IGZyb20gJy4uLy4uL3Rlc3QtdXRpbHMvYXV0aC10ZXN0aW5nLWhlbHBlcnMnO1xuaW1wb3J0IHsgTW9ja0J1aWxkZXIsIFRlc3REYXRhR2VuZXJhdG9yLCBUZXN0QXNzZXJ0aW9ucyB9IGZyb20gJy4uLy4uL3Rlc3QtdXRpbHMvZW5oYW5jZWQtdGVzdC1oZWxwZXJzJztcbmltcG9ydCB7IFRFU1RfVVNFUl9JRFMsIFRFU1RfRU1BSUxTIH0gZnJvbSAnLi4vLi4vdGVzdC11dGlscy9pbmRleCc7XG5cbmRlc2NyaWJlKCdFbmhhbmNlZENvbW11bml0eUNvbnRyb2xsZXInLCAoKSA9PiB7XG4gIGxldCBjb250cm9sbGVyOiBFbmhhbmNlZENvbW11bml0eUNvbnRyb2xsZXI7XG4gIGxldCBlbmhhbmNlZENvbW11bml0eVNlcnZpY2U6IEVuaGFuY2VkQ29tbXVuaXR5U2VydmljZTtcbiAgbGV0IG1vZHVsZTogVGVzdGluZ01vZHVsZTtcblxuICAvLyBNb2NrIEVuaGFuY2VkQ29tbXVuaXR5U2VydmljZVxuICBjb25zdCBtb2NrRW5oYW5jZWRDb21tdW5pdHlTZXJ2aWNlID0ge1xuICAgIHNlYXJjaENvbW11bml0aWVzOiBqZXN0LmZuKCksXG4gICAgZ2V0Q29tbXVuaXR5RGV0YWlsczogamVzdC5mbigpLFxuICAgIGdldFRyZW5kaW5nQ29tbXVuaXRpZXM6IGplc3QuZm4oKSxcbiAgICBnZXRTaW1pbGFyQ29tbXVuaXRpZXM6IGplc3QuZm4oKSxcbiAgICAvLyBQcmlzbWEgbW9jayBmb3IgZGlyZWN0IGRhdGFiYXNlIGFjY2Vzc1xuICAgIHByaXNtYToge1xuICAgICAgbWVtYmVyc2hpcDoge1xuICAgICAgICBmaW5kTWFueTogamVzdC5mbigpLFxuICAgICAgfSxcbiAgICAgIGNvbW11bml0eToge1xuICAgICAgICBjb3VudDogamVzdC5mbigpLFxuICAgICAgfSxcbiAgICB9LFxuICB9O1xuXG4gIC8vIE1vY2sgR3VhcmRzXG4gIGNvbnN0IG1vY2tKd3RBdXRoR3VhcmQgPSB7XG4gICAgY2FuQWN0aXZhdGU6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUodHJ1ZSksXG4gIH07XG5cbiAgY29uc3QgbW9ja1JvbGVCYXNlZEFjY2Vzc0d1YXJkID0ge1xuICAgIGNhbkFjdGl2YXRlOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHRydWUpLFxuICB9O1xuXG4gIC8vIFRlc3QgZGF0YVxuICBjb25zdCBtb2NrVXNlciA9IHtcbiAgICBpZDogVEVTVF9VU0VSX0lEUy5DTElFTlQsXG4gICAgZW1haWw6IFRFU1RfRU1BSUxTLkNMSUVOVCxcbiAgICByb2xlOiAnY2xpZW50JyxcbiAgfTtcblxuICBjb25zdCBtb2NrQ29tbXVuaXR5ID0ge1xuICAgIGlkOiAnY29tbXVuaXR5XzEyMzQ1Njc4OScsXG4gICAgbmFtZTogJ0FueGlldHkgU3VwcG9ydCBHcm91cCcsXG4gICAgc2x1ZzogJ2FueGlldHktc3VwcG9ydC1ncm91cCcsXG4gICAgZGVzY3JpcHRpb246ICdBIHN1cHBvcnRpdmUgY29tbXVuaXR5IGZvciBwZW9wbGUgZGVhbGluZyB3aXRoIGFueGlldHknLFxuICAgIG1lbWJlckNvdW50OiAxMjM0LFxuICAgIGlzUHJpdmF0ZTogZmFsc2UsXG4gICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgnMjAyNC0wMS0xNVQxMDowMDowMFonKSxcbiAgICByZWNlbnRBY3Rpdml0eToge1xuICAgICAgbGFzdFBvc3RBdDogJzIwMjQtMDItMTRUMDk6MzA6MDBaJyxcbiAgICAgIHBvc3RzVGhpc1dlZWs6IDIzLFxuICAgICAgYWN0aXZlTWVtYmVyczogNDU2LFxuICAgIH0sXG4gICAgbWVtYmVyc2hpcFN0YXR1czogJ25vbmUnLFxuICAgIGNvbXBhdGliaWxpdHk6IHtcbiAgICAgIHNjb3JlOiAwLjg1LFxuICAgICAgcmVhc29uczogWydJbnRlcmVzdCBpbiBhbnhpZXR5IG1hbmFnZW1lbnQnLCAnU2ltaWxhciBjb21tdW5pdHkgcHJlZmVyZW5jZXMnXSxcbiAgICB9LFxuICB9O1xuXG4gIGNvbnN0IG1vY2tTZWFyY2hSZXN1bHRzID0ge1xuICAgIGNvbW11bml0aWVzOiBbbW9ja0NvbW11bml0eV0sXG4gICAgdG90YWw6IDEsXG4gICAgcGFnZTogMSxcbiAgICBsaW1pdDogMjAsXG4gICAgdG90YWxQYWdlczogMSxcbiAgICBmYWNldHM6IHtcbiAgICAgIHRhZ3M6IFtcbiAgICAgICAgeyB0YWc6ICdhbnhpZXR5JywgY291bnQ6IDE1IH0sXG4gICAgICAgIHsgdGFnOiAnc3VwcG9ydCcsIGNvdW50OiAyMyB9LFxuICAgICAgICB7IHRhZzogJ3RoZXJhcHknLCBjb3VudDogOCB9LFxuICAgICAgXSxcbiAgICAgIG1lbWJlckNvdW50UmFuZ2VzOiBbXG4gICAgICAgIHsgcmFuZ2U6ICcwLTEwMCcsIGNvdW50OiA1IH0sXG4gICAgICAgIHsgcmFuZ2U6ICcxMDAtNTAwJywgY291bnQ6IDEyIH0sXG4gICAgICAgIHsgcmFuZ2U6ICc1MDArJywgY291bnQ6IDggfSxcbiAgICAgIF0sXG4gICAgfSxcbiAgfTtcblxuICBjb25zdCBtb2NrQ29tbXVuaXR5RGV0YWlscyA9IHtcbiAgICAuLi5tb2NrQ29tbXVuaXR5LFxuICAgIHN0YXRzOiB7XG4gICAgICB0b3RhbFBvc3RzOiA0NTYsXG4gICAgICB0b3RhbENvbW1lbnRzOiAxMjM0LFxuICAgICAgYWN0aXZlTWVtYmVyczogMjM0LFxuICAgICAgcmVjZW50QWN0aXZpdHk6IHtcbiAgICAgICAgcG9zdHNUb2RheTogNSxcbiAgICAgICAgcG9zdHNUaGlzV2VlazogMjMsXG4gICAgICAgIHBvc3RzVGhpc01vbnRoOiA4OSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICByZWNlbnRQb3N0czogW1xuICAgICAge1xuICAgICAgICBpZDogJ3Bvc3RfMTIzJyxcbiAgICAgICAgdGl0bGU6ICdNYW5hZ2luZyBXb3JrIEFueGlldHknLFxuICAgICAgICBhdXRob3I6ICdBbm9ueW1vdXMnLFxuICAgICAgICBjcmVhdGVkQXQ6ICcyMDI0LTAyLTE0VDA4OjMwOjAwWicsXG4gICAgICAgIGxpa2VzQ291bnQ6IDE1LFxuICAgICAgICBjb21tZW50c0NvdW50OiA4LFxuICAgICAgfSxcbiAgICBdLFxuICAgIHRvcENvbnRyaWJ1dG9yczogW1xuICAgICAge1xuICAgICAgICBpZDogJ3VzZXJfNDU2JyxcbiAgICAgICAgbmFtZTogJ1NhcmFoIE0uJyxcbiAgICAgICAgcG9zdHNDb3VudDogNDUsXG4gICAgICAgIGhlbHBmdWxWb3RlczogMTIzLFxuICAgICAgfSxcbiAgICBdLFxuICAgIG1vZGVyYXRvcnM6IFtcbiAgICAgIHtcbiAgICAgICAgaWQ6ICdtb2RfNzg5JyxcbiAgICAgICAgbmFtZTogJ0RyLiBKb2huc29uJyxcbiAgICAgICAgcm9sZTogJ21vZGVyYXRvcicsXG4gICAgICB9LFxuICAgIF0sXG4gICAgbWVtYmVyc2hpcFN0YXR1czogJ25vbmUnLFxuICAgIHVzZXJQZXJtaXNzaW9uczoge1xuICAgICAgY2FuUG9zdDogZmFsc2UsXG4gICAgICBjYW5Db21tZW50OiBmYWxzZSxcbiAgICAgIGNhbk1vZGVyYXRlOiBmYWxzZSxcbiAgICB9LFxuICB9O1xuXG4gIGNvbnN0IG1vY2tUcmVuZGluZ0NvbW11bml0aWVzID0gW1xuICAgIHtcbiAgICAgIC4uLm1vY2tDb21tdW5pdHksXG4gICAgICB0cmVuZGluZ0RhdGE6IHtcbiAgICAgICAgZ3Jvd3RoUmF0ZTogMTUuMixcbiAgICAgICAgYWN0aXZpdHlTY29yZTogODkuNSxcbiAgICAgICAgZW5nYWdlbWVudFJhdGU6IDcyLjMsXG4gICAgICAgIHJldGVudGlvblJhdGU6IDg1LjcsXG4gICAgICB9LFxuICAgIH0sXG4gIF07XG5cbiAgY29uc3QgbW9ja1NpbWlsYXJDb21tdW5pdGllcyA9IFtcbiAgICB7XG4gICAgICBpZDogJ2NvbW11bml0eV9zaW1pbGFyXzEnLFxuICAgICAgbmFtZTogJ0RlcHJlc3Npb24gU3VwcG9ydCcsXG4gICAgICBkZXNjcmlwdGlvbjogJ1N1cHBvcnQgZm9yIHRob3NlIGRlYWxpbmcgd2l0aCBkZXByZXNzaW9uJyxcbiAgICAgIG1lbWJlckNvdW50OiA5ODcsXG4gICAgICBzaW1pbGFyaXR5U2NvcmU6IDAuNzgsXG4gICAgICBjb21tb25UYWdzOiBbJ3N1cHBvcnQnLCAnbWVudGFsLWhlYWx0aCddLFxuICAgIH0sXG4gIF07XG5cbiAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XG4gICAgbW9kdWxlID0gYXdhaXQgVGVzdC5jcmVhdGVUZXN0aW5nTW9kdWxlKHtcbiAgICAgIGNvbnRyb2xsZXJzOiBbRW5oYW5jZWRDb21tdW5pdHlDb250cm9sbGVyXSxcbiAgICAgIHByb3ZpZGVyczogW1xuICAgICAgICB7XG4gICAgICAgICAgcHJvdmlkZTogRW5oYW5jZWRDb21tdW5pdHlTZXJ2aWNlLFxuICAgICAgICAgIHVzZVZhbHVlOiBtb2NrRW5oYW5jZWRDb21tdW5pdHlTZXJ2aWNlLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICB9KVxuICAgICAgLm92ZXJyaWRlR3VhcmQoSnd0QXV0aEd1YXJkKVxuICAgICAgLnVzZVZhbHVlKG1vY2tKd3RBdXRoR3VhcmQpXG4gICAgICAub3ZlcnJpZGVHdWFyZChSb2xlQmFzZWRBY2Nlc3NHdWFyZClcbiAgICAgIC51c2VWYWx1ZShtb2NrUm9sZUJhc2VkQWNjZXNzR3VhcmQpXG4gICAgICAuY29tcGlsZSgpO1xuXG4gICAgY29udHJvbGxlciA9IG1vZHVsZS5nZXQ8RW5oYW5jZWRDb21tdW5pdHlDb250cm9sbGVyPihFbmhhbmNlZENvbW11bml0eUNvbnRyb2xsZXIpO1xuICAgIGVuaGFuY2VkQ29tbXVuaXR5U2VydmljZSA9IG1vZHVsZS5nZXQ8RW5oYW5jZWRDb21tdW5pdHlTZXJ2aWNlPihFbmhhbmNlZENvbW11bml0eVNlcnZpY2UpO1xuICB9KTtcblxuICBhZnRlckVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICB9KTtcblxuICBkZXNjcmliZSgnQ29udHJvbGxlciBJbml0aWFsaXphdGlvbicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGJlIGRlZmluZWQnLCAoKSA9PiB7XG4gICAgICBleHBlY3QoY29udHJvbGxlcikudG9CZURlZmluZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGF2ZSBlbmhhbmNlZENvbW11bml0eVNlcnZpY2UgaW5qZWN0ZWQnLCAoKSA9PiB7XG4gICAgICBleHBlY3QoZW5oYW5jZWRDb21tdW5pdHlTZXJ2aWNlKS50b0JlRGVmaW5lZCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnU2VjdXJpdHkgR3VhcmRzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgYmUgcHJvdGVjdGVkIGJ5IEp3dEF1dGhHdWFyZCBhbmQgUm9sZUJhc2VkQWNjZXNzR3VhcmQnLCAoKSA9PiB7XG4gICAgICBjb25zdCBndWFyZHMgPSBSZWZsZWN0LmdldE1ldGFkYXRhKCdfX2d1YXJkc19fJywgRW5oYW5jZWRDb21tdW5pdHlDb250cm9sbGVyKTtcbiAgICAgIGV4cGVjdChndWFyZHMpLnRvQ29udGFpbihKd3RBdXRoR3VhcmQpO1xuICAgICAgZXhwZWN0KGd1YXJkcykudG9Db250YWluKFJvbGVCYXNlZEFjY2Vzc0d1YXJkKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGF2ZSBwcm9wZXIgcm91dGUgZGVjb3JhdG9ycycsICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRyb2xsZXJNZXRhZGF0YSA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoJ3BhdGgnLCBFbmhhbmNlZENvbW11bml0eUNvbnRyb2xsZXIpO1xuICAgICAgZXhwZWN0KGNvbnRyb2xsZXJNZXRhZGF0YSkudG9CZSgnY29tbXVuaXRpZXMvZW5oYW5jZWQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYWxsb3cgbXVsdGlwbGUgcm9sZXMgZm9yIGFsbCBlbmRwb2ludHMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBhbGxvd2VkUm9sZXMgPSBbJ2NsaWVudCcsICd0aGVyYXBpc3QnLCAnbW9kZXJhdG9yJywgJ2FkbWluJ107XG4gICAgICBjb25zdCBtZXRob2RzID0gWydzZWFyY2hDb21tdW5pdGllcycsICdnZXRDb21tdW5pdHlEZXRhaWxzJywgJ2dldFRyZW5kaW5nQ29tbXVuaXRpZXMnLCAnZ2V0U2ltaWxhckNvbW11bml0aWVzJ107XG4gICAgICBcbiAgICAgIG1ldGhvZHMuZm9yRWFjaChtZXRob2QgPT4ge1xuICAgICAgICBjb25zdCBtZXRhZGF0YSA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoJ3JvbGVzJywgY29udHJvbGxlclttZXRob2RdKTtcbiAgICAgICAgZXhwZWN0KG1ldGFkYXRhKS50b0VxdWFsKGFsbG93ZWRSb2xlcyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0dFVCAvY29tbXVuaXRpZXMvZW5oYW5jZWQvc2VhcmNoJywgKCkgPT4ge1xuICAgIGNvbnN0IHZhbGlkU2VhcmNoUXVlcnkgPSB7XG4gICAgICBxdWVyeTogJ2FueGlldHknLFxuICAgICAgdGFnczogWydzdXBwb3J0JywgJ3RoZXJhcHknXSxcbiAgICAgIG1pbk1lbWJlcnM6IDEwMCxcbiAgICAgIG1heE1lbWJlcnM6IDIwMDAsXG4gICAgICBzb3J0Qnk6ICdyZWxldmFuY2UnIGFzIGNvbnN0LFxuICAgICAgc29ydE9yZGVyOiAnZGVzYycgYXMgY29uc3QsXG4gICAgICBoYXNEZXNjcmlwdGlvbjogdHJ1ZSxcbiAgICAgIGhhc0ltYWdlOiBmYWxzZSxcbiAgICAgIG1lbWJlcnNoaXBSZXF1aXJlZDogZmFsc2UsXG4gICAgICBwYWdlOiAxLFxuICAgICAgbGltaXQ6IDIwLFxuICAgIH07XG5cbiAgICBpdCgnc2hvdWxkIHNlYXJjaCBjb21tdW5pdGllcyBzdWNjZXNzZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRW5oYW5jZWRDb21tdW5pdHlTZXJ2aWNlLnNlYXJjaENvbW11bml0aWVzLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tTZWFyY2hSZXN1bHRzKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29udHJvbGxlci5zZWFyY2hDb21tdW5pdGllcyh2YWxpZFNlYXJjaFF1ZXJ5LCBtb2NrVXNlcik7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZGF0YSkudG9FcXVhbChtb2NrU2VhcmNoUmVzdWx0cyk7XG4gICAgICBleHBlY3QocmVzdWx0Lm1lc3NhZ2UpLnRvQ29udGFpbignc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICBleHBlY3QoZW5oYW5jZWRDb21tdW5pdHlTZXJ2aWNlLnNlYXJjaENvbW11bml0aWVzKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAge1xuICAgICAgICAgIHF1ZXJ5OiB2YWxpZFNlYXJjaFF1ZXJ5LnF1ZXJ5LFxuICAgICAgICAgIHRhZ3M6IHZhbGlkU2VhcmNoUXVlcnkudGFncyxcbiAgICAgICAgICBtaW5NZW1iZXJzOiB2YWxpZFNlYXJjaFF1ZXJ5Lm1pbk1lbWJlcnMsXG4gICAgICAgICAgbWF4TWVtYmVyczogdmFsaWRTZWFyY2hRdWVyeS5tYXhNZW1iZXJzLFxuICAgICAgICAgIHNvcnRCeTogdmFsaWRTZWFyY2hRdWVyeS5zb3J0QnksXG4gICAgICAgICAgc29ydE9yZGVyOiB2YWxpZFNlYXJjaFF1ZXJ5LnNvcnRPcmRlcixcbiAgICAgICAgICBoYXNEZXNjcmlwdGlvbjogdmFsaWRTZWFyY2hRdWVyeS5oYXNEZXNjcmlwdGlvbixcbiAgICAgICAgICBoYXNJbWFnZTogdmFsaWRTZWFyY2hRdWVyeS5oYXNJbWFnZSxcbiAgICAgICAgICBtZW1iZXJzaGlwUmVxdWlyZWQ6IHZhbGlkU2VhcmNoUXVlcnkubWVtYmVyc2hpcFJlcXVpcmVkLFxuICAgICAgICB9LFxuICAgICAgICBtb2NrVXNlci5pZCxcbiAgICAgICAgdmFsaWRTZWFyY2hRdWVyeS5wYWdlLFxuICAgICAgICB2YWxpZFNlYXJjaFF1ZXJ5LmxpbWl0XG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZW1wdHkgc2VhcmNoIHF1ZXJ5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZW1wdHlRdWVyeSA9IHsgcGFnZTogMSwgbGltaXQ6IDIwIH07XG4gICAgICBtb2NrRW5oYW5jZWRDb21tdW5pdHlTZXJ2aWNlLnNlYXJjaENvbW11bml0aWVzLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgLi4ubW9ja1NlYXJjaFJlc3VsdHMsXG4gICAgICAgIGNvbW11bml0aWVzOiBbXSxcbiAgICAgICAgdG90YWw6IDAsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29udHJvbGxlci5zZWFyY2hDb21tdW5pdGllcyhlbXB0eVF1ZXJ5LCBtb2NrVXNlcik7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZGF0YS5jb21tdW5pdGllcykudG9FcXVhbChbXSk7XG4gICAgICBleHBlY3QocmVzdWx0LmRhdGEudG90YWwpLnRvQmUoMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBzZXJ2aWNlIGVycm9ycycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHNlcnZpY2VFcnJvciA9IG5ldyBFcnJvcignU2VhcmNoIHNlcnZpY2UgdW5hdmFpbGFibGUnKTtcbiAgICAgIG1vY2tFbmhhbmNlZENvbW11bml0eVNlcnZpY2Uuc2VhcmNoQ29tbXVuaXRpZXMubW9ja1JlamVjdGVkVmFsdWUoc2VydmljZUVycm9yKTtcblxuICAgICAgYXdhaXQgZXhwZWN0KFxuICAgICAgICBjb250cm9sbGVyLnNlYXJjaENvbW11bml0aWVzKHZhbGlkU2VhcmNoUXVlcnksIG1vY2tVc2VyKVxuICAgICAgKS5yZWplY3RzLnRvVGhyb3coc2VydmljZUVycm9yKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgc2VhcmNoIGZhY2V0cycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tFbmhhbmNlZENvbW11bml0eVNlcnZpY2Uuc2VhcmNoQ29tbXVuaXRpZXMubW9ja1Jlc29sdmVkVmFsdWUobW9ja1NlYXJjaFJlc3VsdHMpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb250cm9sbGVyLnNlYXJjaENvbW11bml0aWVzKHZhbGlkU2VhcmNoUXVlcnksIG1vY2tVc2VyKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhLmZhY2V0cykudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZGF0YS5mYWNldHMudGFncykudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlc3VsdC5kYXRhLmZhY2V0cy50YWdzKSkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZGF0YS5mYWNldHMubWVtYmVyQ291bnRSYW5nZXMpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QoQXJyYXkuaXNBcnJheShyZXN1bHQuZGF0YS5mYWNldHMubWVtYmVyQ291bnRSYW5nZXMpKS50b0JlKHRydWUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZGlmZmVyZW50IHNvcnRpbmcgb3B0aW9ucycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHNvcnRCeU1lbWJlcnMgPSB7IC4uLnZhbGlkU2VhcmNoUXVlcnksIHNvcnRCeTogJ21lbWJlcnMnIGFzIGNvbnN0IH07XG4gICAgICBtb2NrRW5oYW5jZWRDb21tdW5pdHlTZXJ2aWNlLnNlYXJjaENvbW11bml0aWVzLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tTZWFyY2hSZXN1bHRzKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29udHJvbGxlci5zZWFyY2hDb21tdW5pdGllcyhzb3J0QnlNZW1iZXJzLCBtb2NrVXNlcik7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChlbmhhbmNlZENvbW11bml0eVNlcnZpY2Uuc2VhcmNoQ29tbXVuaXRpZXMpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7IHNvcnRCeTogJ21lbWJlcnMnIH0pLFxuICAgICAgICBtb2NrVXNlci5pZCxcbiAgICAgICAgMSxcbiAgICAgICAgMjBcbiAgICAgICk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdHRVQgL2NvbW11bml0aWVzL2VuaGFuY2VkLzpjb21tdW5pdHlJZC9kZXRhaWxzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZ2V0IGNvbW11bml0eSBkZXRhaWxzIHN1Y2Nlc3NmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tFbmhhbmNlZENvbW11bml0eVNlcnZpY2UuZ2V0Q29tbXVuaXR5RGV0YWlscy5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrQ29tbXVuaXR5RGV0YWlscyk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbnRyb2xsZXIuZ2V0Q29tbXVuaXR5RGV0YWlscygnY29tbXVuaXR5XzEyMzQ1Njc4OScsIG1vY2tVc2VyKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhKS50b0VxdWFsKG1vY2tDb21tdW5pdHlEZXRhaWxzKTtcbiAgICAgIGV4cGVjdChyZXN1bHQubWVzc2FnZSkudG9Db250YWluKCdzdWNjZXNzZnVsbHknKTtcbiAgICAgIGV4cGVjdChlbmhhbmNlZENvbW11bml0eVNlcnZpY2UuZ2V0Q29tbXVuaXR5RGV0YWlscykudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgICdjb21tdW5pdHlfMTIzNDU2Nzg5JyxcbiAgICAgICAgbW9ja1VzZXIuaWRcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBub24tZXhpc3RlbnQgY29tbXVuaXR5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgbm90Rm91bmRFcnJvciA9IG5ldyBFcnJvcignQ29tbXVuaXR5IG5vdCBmb3VuZCcpO1xuICAgICAgbW9ja0VuaGFuY2VkQ29tbXVuaXR5U2VydmljZS5nZXRDb21tdW5pdHlEZXRhaWxzLm1vY2tSZWplY3RlZFZhbHVlKG5vdEZvdW5kRXJyb3IpO1xuXG4gICAgICBhd2FpdCBleHBlY3QoXG4gICAgICAgIGNvbnRyb2xsZXIuZ2V0Q29tbXVuaXR5RGV0YWlscygnbm9uZXhpc3RlbnRfY29tbXVuaXR5JywgbW9ja1VzZXIpXG4gICAgICApLnJlamVjdHMudG9UaHJvdyhub3RGb3VuZEVycm9yKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgY29tbXVuaXR5IGRldGFpbHMgc3RydWN0dXJlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0VuaGFuY2VkQ29tbXVuaXR5U2VydmljZS5nZXRDb21tdW5pdHlEZXRhaWxzLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tDb21tdW5pdHlEZXRhaWxzKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29udHJvbGxlci5nZXRDb21tdW5pdHlEZXRhaWxzKCdjb21tdW5pdHlfMTIzNDU2Nzg5JywgbW9ja1VzZXIpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmRhdGEpLnRvSGF2ZVByb3BlcnR5KCdpZCcpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhKS50b0hhdmVQcm9wZXJ0eSgnbmFtZScpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhKS50b0hhdmVQcm9wZXJ0eSgnc3RhdHMnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZGF0YSkudG9IYXZlUHJvcGVydHkoJ3JlY2VudFBvc3RzJyk7XG4gICAgICBleHBlY3QocmVzdWx0LmRhdGEpLnRvSGF2ZVByb3BlcnR5KCd0b3BDb250cmlidXRvcnMnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZGF0YSkudG9IYXZlUHJvcGVydHkoJ21vZGVyYXRvcnMnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZGF0YSkudG9IYXZlUHJvcGVydHkoJ21lbWJlcnNoaXBTdGF0dXMnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZGF0YSkudG9IYXZlUHJvcGVydHkoJ3VzZXJQZXJtaXNzaW9ucycpO1xuXG4gICAgICBleHBlY3QoQXJyYXkuaXNBcnJheShyZXN1bHQuZGF0YS5yZWNlbnRQb3N0cykpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QoQXJyYXkuaXNBcnJheShyZXN1bHQuZGF0YS50b3BDb250cmlidXRvcnMpKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KEFycmF5LmlzQXJyYXkocmVzdWx0LmRhdGEubW9kZXJhdG9ycykpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdHRVQgL2NvbW11bml0aWVzL2VuaGFuY2VkL3RyZW5kaW5nJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZ2V0IHRyZW5kaW5nIGNvbW11bml0aWVzIHN1Y2Nlc3NmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tFbmhhbmNlZENvbW11bml0eVNlcnZpY2UuZ2V0VHJlbmRpbmdDb21tdW5pdGllcy5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrVHJlbmRpbmdDb21tdW5pdGllcyk7XG5cbiAgICAgIGNvbnN0IHF1ZXJ5ID0geyBsaW1pdDogMTAsIHRpbWVmcmFtZTogJ3dlZWsnIGFzIGNvbnN0IH07XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb250cm9sbGVyLmdldFRyZW5kaW5nQ29tbXVuaXRpZXMocXVlcnkpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocmVzdWx0LmRhdGEpLnRvRXF1YWwobW9ja1RyZW5kaW5nQ29tbXVuaXRpZXMpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5tZXNzYWdlKS50b0NvbnRhaW4oJ3N1Y2Nlc3NmdWxseScpO1xuICAgICAgZXhwZWN0KGVuaGFuY2VkQ29tbXVuaXR5U2VydmljZS5nZXRUcmVuZGluZ0NvbW11bml0aWVzKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgxMCwgJ3dlZWsnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGRlZmF1bHQgcGFyYW1ldGVycycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tFbmhhbmNlZENvbW11bml0eVNlcnZpY2UuZ2V0VHJlbmRpbmdDb21tdW5pdGllcy5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrVHJlbmRpbmdDb21tdW5pdGllcyk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbnRyb2xsZXIuZ2V0VHJlbmRpbmdDb21tdW5pdGllcyh7fSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChlbmhhbmNlZENvbW11bml0eVNlcnZpY2UuZ2V0VHJlbmRpbmdDb21tdW5pdGllcykudG9IYXZlQmVlbkNhbGxlZFdpdGgoMTAsICd3ZWVrJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBkaWZmZXJlbnQgdGltZWZyYW1lcycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tFbmhhbmNlZENvbW11bml0eVNlcnZpY2UuZ2V0VHJlbmRpbmdDb21tdW5pdGllcy5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrVHJlbmRpbmdDb21tdW5pdGllcyk7XG5cbiAgICAgIGNvbnN0IG1vbnRoUXVlcnkgPSB7IGxpbWl0OiAxNSwgdGltZWZyYW1lOiAnbW9udGgnIGFzIGNvbnN0IH07XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb250cm9sbGVyLmdldFRyZW5kaW5nQ29tbXVuaXRpZXMobW9udGhRdWVyeSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChlbmhhbmNlZENvbW11bml0eVNlcnZpY2UuZ2V0VHJlbmRpbmdDb21tdW5pdGllcykudG9IYXZlQmVlbkNhbGxlZFdpdGgoMTUsICdtb250aCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSB0cmVuZGluZyBkYXRhIHN0cnVjdHVyZScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tFbmhhbmNlZENvbW11bml0eVNlcnZpY2UuZ2V0VHJlbmRpbmdDb21tdW5pdGllcy5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrVHJlbmRpbmdDb21tdW5pdGllcyk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbnRyb2xsZXIuZ2V0VHJlbmRpbmdDb21tdW5pdGllcyh7IGxpbWl0OiA1IH0pO1xuXG4gICAgICBleHBlY3QoQXJyYXkuaXNBcnJheShyZXN1bHQuZGF0YSkpLnRvQmUodHJ1ZSk7XG4gICAgICByZXN1bHQuZGF0YS5mb3JFYWNoKGNvbW11bml0eSA9PiB7XG4gICAgICAgIGV4cGVjdChjb21tdW5pdHkpLnRvSGF2ZVByb3BlcnR5KCdpZCcpO1xuICAgICAgICBleHBlY3QoY29tbXVuaXR5KS50b0hhdmVQcm9wZXJ0eSgnbmFtZScpO1xuICAgICAgICBleHBlY3QoY29tbXVuaXR5KS50b0hhdmVQcm9wZXJ0eSgnbWVtYmVyQ291bnQnKTtcbiAgICAgICAgZXhwZWN0KGNvbW11bml0eSkudG9IYXZlUHJvcGVydHkoJ3RyZW5kaW5nRGF0YScpO1xuICAgICAgICBleHBlY3QoY29tbXVuaXR5LnRyZW5kaW5nRGF0YSkudG9IYXZlUHJvcGVydHkoJ2dyb3d0aFJhdGUnKTtcbiAgICAgICAgZXhwZWN0KGNvbW11bml0eS50cmVuZGluZ0RhdGEpLnRvSGF2ZVByb3BlcnR5KCdhY3Rpdml0eVNjb3JlJyk7XG4gICAgICAgIGV4cGVjdChjb21tdW5pdHkudHJlbmRpbmdEYXRhKS50b0hhdmVQcm9wZXJ0eSgnZW5nYWdlbWVudFJhdGUnKTtcbiAgICAgICAgZXhwZWN0KHR5cGVvZiBjb21tdW5pdHkudHJlbmRpbmdEYXRhLmdyb3d0aFJhdGUpLnRvQmUoJ251bWJlcicpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdHRVQgL2NvbW11bml0aWVzL2VuaGFuY2VkLzpjb21tdW5pdHlJZC9zaW1pbGFyJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZ2V0IHNpbWlsYXIgY29tbXVuaXRpZXMgc3VjY2Vzc2Z1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0VuaGFuY2VkQ29tbXVuaXR5U2VydmljZS5nZXRTaW1pbGFyQ29tbXVuaXRpZXMubW9ja1Jlc29sdmVkVmFsdWUobW9ja1NpbWlsYXJDb21tdW5pdGllcyk7XG5cbiAgICAgIGNvbnN0IHF1ZXJ5ID0geyBleGNsdWRlSm9pbmVkOiB0cnVlLCBtYXhSZXN1bHRzOiA1IH07XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb250cm9sbGVyLmdldFNpbWlsYXJDb21tdW5pdGllcygnY29tbXVuaXR5XzEyMzQ1Njc4OScsIHF1ZXJ5LCBtb2NrVXNlcik7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZGF0YSkudG9FcXVhbChtb2NrU2ltaWxhckNvbW11bml0aWVzKTtcbiAgICAgIGV4cGVjdChyZXN1bHQubWVzc2FnZSkudG9Db250YWluKCdzdWNjZXNzZnVsbHknKTtcbiAgICAgIGV4cGVjdChlbmhhbmNlZENvbW11bml0eVNlcnZpY2UuZ2V0U2ltaWxhckNvbW11bml0aWVzKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgJ2NvbW11bml0eV8xMjM0NTY3ODknLFxuICAgICAgICB7XG4gICAgICAgICAgdXNlcklkOiBtb2NrVXNlci5pZCxcbiAgICAgICAgICBleGNsdWRlSm9pbmVkOiB0cnVlLFxuICAgICAgICAgIG1heFJlc3VsdHM6IDUsXG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBkZWZhdWx0IHBhcmFtZXRlcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRW5oYW5jZWRDb21tdW5pdHlTZXJ2aWNlLmdldFNpbWlsYXJDb21tdW5pdGllcy5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrU2ltaWxhckNvbW11bml0aWVzKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29udHJvbGxlci5nZXRTaW1pbGFyQ29tbXVuaXRpZXMoJ2NvbW11bml0eV8xMjM0NTY3ODknLCB7fSwgbW9ja1VzZXIpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QoZW5oYW5jZWRDb21tdW5pdHlTZXJ2aWNlLmdldFNpbWlsYXJDb21tdW5pdGllcykudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgICdjb21tdW5pdHlfMTIzNDU2Nzg5JyxcbiAgICAgICAge1xuICAgICAgICAgIHVzZXJJZDogbW9ja1VzZXIuaWQsXG4gICAgICAgICAgZXhjbHVkZUpvaW5lZDogdHJ1ZSxcbiAgICAgICAgICBtYXhSZXN1bHRzOiA1LFxuICAgICAgICB9XG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSBzaW1pbGFyIGNvbW11bml0aWVzIHN0cnVjdHVyZScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tFbmhhbmNlZENvbW11bml0eVNlcnZpY2UuZ2V0U2ltaWxhckNvbW11bml0aWVzLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tTaW1pbGFyQ29tbXVuaXRpZXMpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb250cm9sbGVyLmdldFNpbWlsYXJDb21tdW5pdGllcygnY29tbXVuaXR5XzEyMzQ1Njc4OScsIHt9LCBtb2NrVXNlcik7XG5cbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlc3VsdC5kYXRhKSkudG9CZSh0cnVlKTtcbiAgICAgIHJlc3VsdC5kYXRhLmZvckVhY2goY29tbXVuaXR5ID0+IHtcbiAgICAgICAgZXhwZWN0KGNvbW11bml0eSkudG9IYXZlUHJvcGVydHkoJ2lkJyk7XG4gICAgICAgIGV4cGVjdChjb21tdW5pdHkpLnRvSGF2ZVByb3BlcnR5KCduYW1lJyk7XG4gICAgICAgIGV4cGVjdChjb21tdW5pdHkpLnRvSGF2ZVByb3BlcnR5KCdtZW1iZXJDb3VudCcpO1xuICAgICAgICBleHBlY3QoY29tbXVuaXR5KS50b0hhdmVQcm9wZXJ0eSgnc2ltaWxhcml0eVNjb3JlJyk7XG4gICAgICAgIGV4cGVjdCh0eXBlb2YgY29tbXVuaXR5LnNpbWlsYXJpdHlTY29yZSkudG9CZSgnbnVtYmVyJyk7XG4gICAgICAgIGV4cGVjdChjb21tdW5pdHkuc2ltaWxhcml0eVNjb3JlKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApO1xuICAgICAgICBleHBlY3QoY29tbXVuaXR5LnNpbWlsYXJpdHlTY29yZSkudG9CZUxlc3NUaGFuT3JFcXVhbCgxKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnR0VUIC9jb21tdW5pdGllcy9lbmhhbmNlZC9kaXNjb3ZlcicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGRpc2NvdmVyIGNvbW11bml0aWVzIHN1Y2Nlc3NmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tFbmhhbmNlZENvbW11bml0eVNlcnZpY2UuZ2V0VHJlbmRpbmdDb21tdW5pdGllcy5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrVHJlbmRpbmdDb21tdW5pdGllcyk7XG4gICAgICBtb2NrRW5oYW5jZWRDb21tdW5pdHlTZXJ2aWNlLnByaXNtYS5tZW1iZXJzaGlwLmZpbmRNYW55Lm1vY2tSZXNvbHZlZFZhbHVlKFtdKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29udHJvbGxlci5kaXNjb3ZlckNvbW11bml0aWVzKG1vY2tVc2VyLCAxMCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZGF0YSkudG9FcXVhbChtb2NrVHJlbmRpbmdDb21tdW5pdGllcyk7XG4gICAgICBleHBlY3QocmVzdWx0Lm1lc3NhZ2UpLnRvQ29udGFpbignc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGZpbHRlciBvdXQgdXNlciBqb2luZWQgY29tbXVuaXRpZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VyTWVtYmVyc2hpcHMgPSBbeyBjb21tdW5pdHlJZDogbW9ja0NvbW11bml0eS5pZCB9XTtcbiAgICAgIG1vY2tFbmhhbmNlZENvbW11bml0eVNlcnZpY2UuZ2V0VHJlbmRpbmdDb21tdW5pdGllcy5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrVHJlbmRpbmdDb21tdW5pdGllcyk7XG4gICAgICBtb2NrRW5oYW5jZWRDb21tdW5pdHlTZXJ2aWNlLnByaXNtYS5tZW1iZXJzaGlwLmZpbmRNYW55Lm1vY2tSZXNvbHZlZFZhbHVlKHVzZXJNZW1iZXJzaGlwcyk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbnRyb2xsZXIuZGlzY292ZXJDb21tdW5pdGllcyhtb2NrVXNlciwgMTApO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocmVzdWx0LmRhdGEpLnRvRXF1YWwoW10pOyAvLyBTaG91bGQgYmUgZmlsdGVyZWQgb3V0XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBkZWZhdWx0IGxpbWl0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0VuaGFuY2VkQ29tbXVuaXR5U2VydmljZS5nZXRUcmVuZGluZ0NvbW11bml0aWVzLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tUcmVuZGluZ0NvbW11bml0aWVzKTtcbiAgICAgIG1vY2tFbmhhbmNlZENvbW11bml0eVNlcnZpY2UucHJpc21hLm1lbWJlcnNoaXAuZmluZE1hbnkubW9ja1Jlc29sdmVkVmFsdWUoW10pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb250cm9sbGVyLmRpc2NvdmVyQ29tbXVuaXRpZXMobW9ja1VzZXIpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QoZW5oYW5jZWRDb21tdW5pdHlTZXJ2aWNlLmdldFRyZW5kaW5nQ29tbXVuaXRpZXMpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKDEwLCAnd2VlaycpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnR0VUIC9jb21tdW5pdGllcy9lbmhhbmNlZC9jYXRlZ29yaWVzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZ2V0IGNvbW11bml0eSBjYXRlZ29yaWVzIHN1Y2Nlc3NmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tFbmhhbmNlZENvbW11bml0eVNlcnZpY2UucHJpc21hLmNvbW11bml0eS5jb3VudC5tb2NrUmVzb2x2ZWRWYWx1ZSg1KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29udHJvbGxlci5nZXRDb21tdW5pdHlDYXRlZ29yaWVzKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQubWVzc2FnZSkudG9Db250YWluKCdzdWNjZXNzZnVsbHknKTtcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlc3VsdC5kYXRhKSkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZGF0YS5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgY2F0ZWdvcmllcyBzdHJ1Y3R1cmUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRW5oYW5jZWRDb21tdW5pdHlTZXJ2aWNlLnByaXNtYS5jb21tdW5pdHkuY291bnQubW9ja1Jlc29sdmVkVmFsdWUoMyk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbnRyb2xsZXIuZ2V0Q29tbXVuaXR5Q2F0ZWdvcmllcygpO1xuXG4gICAgICByZXN1bHQuZGF0YS5mb3JFYWNoKGNhdGVnb3J5ID0+IHtcbiAgICAgICAgZXhwZWN0KGNhdGVnb3J5KS50b0hhdmVQcm9wZXJ0eSgnaWQnKTtcbiAgICAgICAgZXhwZWN0KGNhdGVnb3J5KS50b0hhdmVQcm9wZXJ0eSgnbmFtZScpO1xuICAgICAgICBleHBlY3QoY2F0ZWdvcnkpLnRvSGF2ZVByb3BlcnR5KCdkZXNjcmlwdGlvbicpO1xuICAgICAgICBleHBlY3QoY2F0ZWdvcnkpLnRvSGF2ZVByb3BlcnR5KCdpY29uJyk7XG4gICAgICAgIGV4cGVjdChjYXRlZ29yeSkudG9IYXZlUHJvcGVydHkoJ2NvbW11bml0eUNvdW50Jyk7XG4gICAgICAgIGV4cGVjdCh0eXBlb2YgY2F0ZWdvcnkuY29tbXVuaXR5Q291bnQpLnRvQmUoJ251bWJlcicpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGluY2x1ZGUgcHJlZGVmaW5lZCBjYXRlZ29yaWVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0VuaGFuY2VkQ29tbXVuaXR5U2VydmljZS5wcmlzbWEuY29tbXVuaXR5LmNvdW50Lm1vY2tSZXNvbHZlZFZhbHVlKDIpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb250cm9sbGVyLmdldENvbW11bml0eUNhdGVnb3JpZXMoKTtcblxuICAgICAgY29uc3QgY2F0ZWdvcnlJZHMgPSByZXN1bHQuZGF0YS5tYXAoY2F0ID0+IGNhdC5pZCk7XG4gICAgICBleHBlY3QoY2F0ZWdvcnlJZHMpLnRvQ29udGFpbignZGVwcmVzc2lvbicpO1xuICAgICAgZXhwZWN0KGNhdGVnb3J5SWRzKS50b0NvbnRhaW4oJ2FueGlldHknKTtcbiAgICAgIGV4cGVjdChjYXRlZ29yeUlkcykudG9Db250YWluKCd0cmF1bWEnKTtcbiAgICAgIGV4cGVjdChjYXRlZ29yeUlkcykudG9Db250YWluKCdnZW5lcmFsJyk7XG4gICAgICBleHBlY3QoY2F0ZWdvcnlJZHMpLnRvQ29udGFpbignd2VsbG5lc3MnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0dFVCAvY29tbXVuaXRpZXMvZW5oYW5jZWQvcG9wdWxhcicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGdldCBwb3B1bGFyIGNvbW11bml0aWVzIHN1Y2Nlc3NmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tFbmhhbmNlZENvbW11bml0eVNlcnZpY2Uuc2VhcmNoQ29tbXVuaXRpZXMubW9ja1Jlc29sdmVkVmFsdWUobW9ja1NlYXJjaFJlc3VsdHMpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb250cm9sbGVyLmdldFBvcHVsYXJDb21tdW5pdGllcyhtb2NrVXNlciwgMTApO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocmVzdWx0LmRhdGEpLnRvRXF1YWwobW9ja1NlYXJjaFJlc3VsdHMuY29tbXVuaXRpZXMpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5tZXNzYWdlKS50b0NvbnRhaW4oJ3N1Y2Nlc3NmdWxseScpO1xuICAgICAgZXhwZWN0KGVuaGFuY2VkQ29tbXVuaXR5U2VydmljZS5zZWFyY2hDb21tdW5pdGllcykudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIHtcbiAgICAgICAgICBzb3J0Qnk6ICdtZW1iZXJzJyxcbiAgICAgICAgICBzb3J0T3JkZXI6ICdkZXNjJyxcbiAgICAgICAgfSxcbiAgICAgICAgbW9ja1VzZXIuaWQsXG4gICAgICAgIDEsXG4gICAgICAgIDEwXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZGVmYXVsdCBsaW1pdCcsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tFbmhhbmNlZENvbW11bml0eVNlcnZpY2Uuc2VhcmNoQ29tbXVuaXRpZXMubW9ja1Jlc29sdmVkVmFsdWUobW9ja1NlYXJjaFJlc3VsdHMpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb250cm9sbGVyLmdldFBvcHVsYXJDb21tdW5pdGllcyhtb2NrVXNlcik7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChlbmhhbmNlZENvbW11bml0eVNlcnZpY2Uuc2VhcmNoQ29tbXVuaXRpZXMpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICBleHBlY3QuYW55KE9iamVjdCksXG4gICAgICAgIG1vY2tVc2VyLmlkLFxuICAgICAgICAxLFxuICAgICAgICAxMFxuICAgICAgKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1Jlc3BvbnNlIEZvcm1hdCBWYWxpZGF0aW9uJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIHByb3Blcmx5IGZvcm1hdHRlZCBzZWFyY2ggcmVzcG9uc2UnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRW5oYW5jZWRDb21tdW5pdHlTZXJ2aWNlLnNlYXJjaENvbW11bml0aWVzLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tTZWFyY2hSZXN1bHRzKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29udHJvbGxlci5zZWFyY2hDb21tdW5pdGllcyh7IHF1ZXJ5OiAndGVzdCcgfSwgbW9ja1VzZXIpO1xuXG4gICAgICBUZXN0QXNzZXJ0aW9ucy5leHBlY3RWYWxpZEVudGl0eShyZXN1bHQsIFsnc3VjY2VzcycsICdkYXRhJywgJ21lc3NhZ2UnXSk7XG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocmVzdWx0LmRhdGEpLnRvSGF2ZVByb3BlcnR5KCdjb21tdW5pdGllcycpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhKS50b0hhdmVQcm9wZXJ0eSgndG90YWwnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZGF0YSkudG9IYXZlUHJvcGVydHkoJ2ZhY2V0cycpO1xuICAgICAgZXhwZWN0KEFycmF5LmlzQXJyYXkocmVzdWx0LmRhdGEuY29tbXVuaXRpZXMpKS50b0JlKHRydWUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gcHJvcGVybHkgZm9ybWF0dGVkIGNvbW11bml0eSBkZXRhaWxzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0VuaGFuY2VkQ29tbXVuaXR5U2VydmljZS5nZXRDb21tdW5pdHlEZXRhaWxzLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tDb21tdW5pdHlEZXRhaWxzKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29udHJvbGxlci5nZXRDb21tdW5pdHlEZXRhaWxzKCdjb21tdW5pdHlfMTIzJywgbW9ja1VzZXIpO1xuXG4gICAgICBUZXN0QXNzZXJ0aW9ucy5leHBlY3RWYWxpZEVudGl0eShyZXN1bHQsIFsnc3VjY2VzcycsICdkYXRhJywgJ21lc3NhZ2UnXSk7XG4gICAgICBleHBlY3QocmVzdWx0LmRhdGEpLnRvSGF2ZVByb3BlcnR5KCdzdGF0cycpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5kYXRhKS50b0hhdmVQcm9wZXJ0eSgncmVjZW50UG9zdHMnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZGF0YSkudG9IYXZlUHJvcGVydHkoJ3VzZXJQZXJtaXNzaW9ucycpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gcHJvcGVybHkgZm9ybWF0dGVkIHRyZW5kaW5nIGNvbW11bml0aWVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0VuaGFuY2VkQ29tbXVuaXR5U2VydmljZS5nZXRUcmVuZGluZ0NvbW11bml0aWVzLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tUcmVuZGluZ0NvbW11bml0aWVzKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29udHJvbGxlci5nZXRUcmVuZGluZ0NvbW11bml0aWVzKHt9KTtcblxuICAgICAgVGVzdEFzc2VydGlvbnMuZXhwZWN0VmFsaWRFbnRpdHkocmVzdWx0LCBbJ3N1Y2Nlc3MnLCAnZGF0YScsICdtZXNzYWdlJ10pO1xuICAgICAgZXhwZWN0KEFycmF5LmlzQXJyYXkocmVzdWx0LmRhdGEpKS50b0JlKHRydWUpO1xuICAgICAgcmVzdWx0LmRhdGEuZm9yRWFjaChjb21tdW5pdHkgPT4ge1xuICAgICAgICBleHBlY3QoY29tbXVuaXR5KS50b0hhdmVQcm9wZXJ0eSgndHJlbmRpbmdEYXRhJyk7XG4gICAgICAgIGV4cGVjdCh0eXBlb2YgY29tbXVuaXR5LnRyZW5kaW5nRGF0YS5ncm93dGhSYXRlKS50b0JlKCdudW1iZXInKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnRXJyb3IgSGFuZGxpbmcnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgc2VydmljZSB1bmF2YWlsYWJsZSBzY2VuYXJpb3MnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBzZXJ2aWNlRXJyb3IgPSBuZXcgRXJyb3IoJ0VuaGFuY2VkIGNvbW11bml0eSBzZXJ2aWNlIHVuYXZhaWxhYmxlJyk7XG4gICAgICBtb2NrRW5oYW5jZWRDb21tdW5pdHlTZXJ2aWNlLnNlYXJjaENvbW11bml0aWVzLm1vY2tSZWplY3RlZFZhbHVlKHNlcnZpY2VFcnJvcik7XG5cbiAgICAgIGF3YWl0IGV4cGVjdChcbiAgICAgICAgY29udHJvbGxlci5zZWFyY2hDb21tdW5pdGllcyh7IHF1ZXJ5OiAndGVzdCcgfSwgbW9ja1VzZXIpXG4gICAgICApLnJlamVjdHMudG9UaHJvdyhzZXJ2aWNlRXJyb3IpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZGF0YWJhc2UgY29ubmVjdGlvbiBlcnJvcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBkYkVycm9yID0gbmV3IEVycm9yKCdEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZCcpO1xuICAgICAgbW9ja0VuaGFuY2VkQ29tbXVuaXR5U2VydmljZS5nZXRDb21tdW5pdHlEZXRhaWxzLm1vY2tSZWplY3RlZFZhbHVlKGRiRXJyb3IpO1xuXG4gICAgICBhd2FpdCBleHBlY3QoXG4gICAgICAgIGNvbnRyb2xsZXIuZ2V0Q29tbXVuaXR5RGV0YWlscygnY29tbXVuaXR5XzEyMycsIG1vY2tVc2VyKVxuICAgICAgKS5yZWplY3RzLnRvVGhyb3coZGJFcnJvcik7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBpbnZhbGlkIGNvbW11bml0eSBJRHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBpbnZhbGlkSWRFcnJvciA9IG5ldyBFcnJvcignSW52YWxpZCBjb21tdW5pdHkgSUQgZm9ybWF0Jyk7XG4gICAgICBtb2NrRW5oYW5jZWRDb21tdW5pdHlTZXJ2aWNlLmdldENvbW11bml0eURldGFpbHMubW9ja1JlamVjdGVkVmFsdWUoaW52YWxpZElkRXJyb3IpO1xuXG4gICAgICBhd2FpdCBleHBlY3QoXG4gICAgICAgIGNvbnRyb2xsZXIuZ2V0Q29tbXVuaXR5RGV0YWlscygnaW52YWxpZC1pZCcsIG1vY2tVc2VyKVxuICAgICAgKS5yZWplY3RzLnRvVGhyb3coaW52YWxpZElkRXJyb3IpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnSW50ZWdyYXRpb24gVGVzdHMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgY29tcGxldGUgY29tbXVuaXR5IGRpc2NvdmVyeSB3b3JrZmxvdycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIFNlYXJjaCBjb21tdW5pdGllc1xuICAgICAgbW9ja0VuaGFuY2VkQ29tbXVuaXR5U2VydmljZS5zZWFyY2hDb21tdW5pdGllcy5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrU2VhcmNoUmVzdWx0cyk7XG4gICAgICBjb25zdCBzZWFyY2hSZXN1bHQgPSBhd2FpdCBjb250cm9sbGVyLnNlYXJjaENvbW11bml0aWVzKHsgcXVlcnk6ICdhbnhpZXR5JyB9LCBtb2NrVXNlcik7XG4gICAgICBleHBlY3Qoc2VhcmNoUmVzdWx0LmRhdGEuY29tbXVuaXRpZXMpLnRvSGF2ZUxlbmd0aCgxKTtcblxuICAgICAgLy8gR2V0IGNvbW11bml0eSBkZXRhaWxzXG4gICAgICBtb2NrRW5oYW5jZWRDb21tdW5pdHlTZXJ2aWNlLmdldENvbW11bml0eURldGFpbHMubW9ja1Jlc29sdmVkVmFsdWUobW9ja0NvbW11bml0eURldGFpbHMpO1xuICAgICAgY29uc3QgZGV0YWlsc1Jlc3VsdCA9IGF3YWl0IGNvbnRyb2xsZXIuZ2V0Q29tbXVuaXR5RGV0YWlscyhzZWFyY2hSZXN1bHQuZGF0YS5jb21tdW5pdGllc1swXS5pZCwgbW9ja1VzZXIpO1xuICAgICAgZXhwZWN0KGRldGFpbHNSZXN1bHQuZGF0YS5pZCkudG9CZShzZWFyY2hSZXN1bHQuZGF0YS5jb21tdW5pdGllc1swXS5pZCk7XG5cbiAgICAgIC8vIEdldCBzaW1pbGFyIGNvbW11bml0aWVzXG4gICAgICBtb2NrRW5oYW5jZWRDb21tdW5pdHlTZXJ2aWNlLmdldFNpbWlsYXJDb21tdW5pdGllcy5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrU2ltaWxhckNvbW11bml0aWVzKTtcbiAgICAgIGNvbnN0IHNpbWlsYXJSZXN1bHQgPSBhd2FpdCBjb250cm9sbGVyLmdldFNpbWlsYXJDb21tdW5pdGllcyhzZWFyY2hSZXN1bHQuZGF0YS5jb21tdW5pdGllc1swXS5pZCwge30sIG1vY2tVc2VyKTtcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHNpbWlsYXJSZXN1bHQuZGF0YSkpLnRvQmUodHJ1ZSk7XG5cbiAgICAgIC8vIEdldCB0cmVuZGluZyBjb21tdW5pdGllc1xuICAgICAgbW9ja0VuaGFuY2VkQ29tbXVuaXR5U2VydmljZS5nZXRUcmVuZGluZ0NvbW11bml0aWVzLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tUcmVuZGluZ0NvbW11bml0aWVzKTtcbiAgICAgIGNvbnN0IHRyZW5kaW5nUmVzdWx0ID0gYXdhaXQgY29udHJvbGxlci5nZXRUcmVuZGluZ0NvbW11bml0aWVzKHt9KTtcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHRyZW5kaW5nUmVzdWx0LmRhdGEpKS50b0JlKHRydWUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSByb2xlLWJhc2VkIGFjY2VzcyBhY3Jvc3MgYWxsIGVuZHBvaW50cycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIE1vY2sgc3VjY2Vzc2Z1bCByZXNwb25zZXNcbiAgICAgIG1vY2tFbmhhbmNlZENvbW11bml0eVNlcnZpY2Uuc2VhcmNoQ29tbXVuaXRpZXMubW9ja1Jlc29sdmVkVmFsdWUobW9ja1NlYXJjaFJlc3VsdHMpO1xuICAgICAgbW9ja0VuaGFuY2VkQ29tbXVuaXR5U2VydmljZS5nZXRDb21tdW5pdHlEZXRhaWxzLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tDb21tdW5pdHlEZXRhaWxzKTtcbiAgICAgIG1vY2tFbmhhbmNlZENvbW11bml0eVNlcnZpY2UuZ2V0VHJlbmRpbmdDb21tdW5pdGllcy5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrVHJlbmRpbmdDb21tdW5pdGllcyk7XG4gICAgICBtb2NrRW5oYW5jZWRDb21tdW5pdHlTZXJ2aWNlLmdldFNpbWlsYXJDb21tdW5pdGllcy5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrU2ltaWxhckNvbW11bml0aWVzKTtcbiAgICAgIG1vY2tFbmhhbmNlZENvbW11bml0eVNlcnZpY2UucHJpc21hLm1lbWJlcnNoaXAuZmluZE1hbnkubW9ja1Jlc29sdmVkVmFsdWUoW10pO1xuICAgICAgbW9ja0VuaGFuY2VkQ29tbXVuaXR5U2VydmljZS5wcmlzbWEuY29tbXVuaXR5LmNvdW50Lm1vY2tSZXNvbHZlZFZhbHVlKDUpO1xuXG4gICAgICAvLyBBbGwgZW5kcG9pbnRzIHNob3VsZCBiZSBhY2Nlc3NpYmxlIGZvciBhbGwgYWxsb3dlZCByb2xlc1xuICAgICAgY29uc3QgZW5kcG9pbnRzID0gW1xuICAgICAgICAoKSA9PiBjb250cm9sbGVyLnNlYXJjaENvbW11bml0aWVzKHt9LCBtb2NrVXNlciksXG4gICAgICAgICgpID0+IGNvbnRyb2xsZXIuZ2V0Q29tbXVuaXR5RGV0YWlscygnY29tbXVuaXR5XzEyMycsIG1vY2tVc2VyKSxcbiAgICAgICAgKCkgPT4gY29udHJvbGxlci5nZXRUcmVuZGluZ0NvbW11bml0aWVzKHt9KSxcbiAgICAgICAgKCkgPT4gY29udHJvbGxlci5nZXRTaW1pbGFyQ29tbXVuaXRpZXMoJ2NvbW11bml0eV8xMjMnLCB7fSwgbW9ja1VzZXIpLFxuICAgICAgICAoKSA9PiBjb250cm9sbGVyLmRpc2NvdmVyQ29tbXVuaXRpZXMobW9ja1VzZXIpLFxuICAgICAgICAoKSA9PiBjb250cm9sbGVyLmdldENvbW11bml0eUNhdGVnb3JpZXMoKSxcbiAgICAgICAgKCkgPT4gY29udHJvbGxlci5nZXRQb3B1bGFyQ29tbXVuaXRpZXMobW9ja1VzZXIpLFxuICAgICAgXTtcblxuICAgICAgZm9yIChjb25zdCBlbmRwb2ludCBvZiBlbmRwb2ludHMpIHtcbiAgICAgICAgYXdhaXQgZXhwZWN0KGVuZHBvaW50KCkpLnJlc29sdmVzLnRvQmVEZWZpbmVkKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufSk7Il0sInZlcnNpb24iOjN9