{"file":"/home/wetooa/Documents/code/projects/mentara/mentara-api/src/common/events/messaging-events.ts","mappings":";;;AAAA,gFAG6C;AAgB7C,MAAa,gBAAiB,SAAQ,wCAAgC;IACpE,YAAY,IAAqB,EAAE,QAAwB;QACzD,KAAK,CAAC,IAAI,CAAC,SAAS,EAAE,SAAS,EAAE,IAAI,EAAE,QAAQ,CAAC,CAAC;IACnD,CAAC;CACF;AAJD,4CAIC;AAYD,MAAa,wBAAyB,SAAQ,wCAAwC;IACpF,YAAY,IAA6B,EAAE,QAAwB;QACjE,KAAK,CAAC,IAAI,CAAC,cAAc,EAAE,cAAc,EAAE,IAAI,EAAE,QAAQ,CAAC,CAAC;IAC7D,CAAC;CACF;AAJD,4DAIC;AAYD,MAAa,yBAA0B,SAAQ,wCAAyC;IACtF,YAAY,IAA8B,EAAE,QAAwB;QAClE,KAAK,CAAC,IAAI,CAAC,cAAc,EAAE,cAAc,EAAE,IAAI,EAAE,QAAQ,CAAC,CAAC;IAC7D,CAAC;CACF;AAJD,8DAIC;AASD,MAAa,oBAAqB,SAAQ,wCAAoC;IAC5E,YAAY,IAAyB,EAAE,QAAwB;QAC7D,KAAK,CAAC,IAAI,CAAC,cAAc,EAAE,cAAc,EAAE,IAAI,EAAE,QAAQ,CAAC,CAAC;IAC7D,CAAC;CACF;AAJD,oDAIC;AAUD,MAAa,gBAAiB,SAAQ,wCAAgC;IACpE,YAAY,IAAqB,EAAE,QAAwB;QACzD,KAAK,CAAC,IAAI,CAAC,SAAS,EAAE,SAAS,EAAE,IAAI,EAAE,QAAQ,CAAC,CAAC;IACnD,CAAC;CACF;AAJD,4CAIC;AAWD,MAAa,qBAAsB,SAAQ,wCAAqC;IAC9E,YAAY,IAA0B,EAAE,QAAwB;QAC9D,KAAK,CAAC,IAAI,CAAC,SAAS,EAAE,SAAS,EAAE,IAAI,EAAE,QAAQ,CAAC,CAAC;IACnD,CAAC;CACF;AAJD,sDAIC;AAUD,MAAa,sBAAuB,SAAQ,wCAAsC;IAChF,YAAY,IAA2B,EAAE,QAAwB;QAC/D,KAAK,CAAC,IAAI,CAAC,cAAc,EAAE,cAAc,EAAE,IAAI,EAAE,QAAQ,CAAC,CAAC;IAC7D,CAAC;CACF;AAJD,wDAIC;AAUD,MAAa,oBAAqB,SAAQ,wCAAoC;IAC5E,YAAY,IAAyB,EAAE,QAAwB;QAC7D,KAAK,CAAC,IAAI,CAAC,cAAc,EAAE,cAAc,EAAE,IAAI,EAAE,QAAQ,CAAC,CAAC;IAC7D,CAAC;CACF;AAJD,oDAIC","names":[],"sources":["/home/wetooa/Documents/code/projects/mentara/mentara-api/src/common/events/messaging-events.ts"],"sourcesContent":["import {\n  BaseDomainEvent,\n  EventMetadata,\n} from './interfaces/domain-event.interface';\n\n// Messaging & Communication Events\n\nexport interface MessageSentData {\n  messageId: string;\n  conversationId: string;\n  senderId: string;\n  content: string;\n  messageType: 'text' | 'image' | 'file' | 'audio' | 'video' | 'system';\n  fileAttachments?: string[]; // file IDs\n  replyToMessageId?: string;\n  recipientIds: string[];\n  sentAt: Date;\n}\n\nexport class MessageSentEvent extends BaseDomainEvent<MessageSentData> {\n  constructor(data: MessageSentData, metadata?: EventMetadata) {\n    super(data.messageId, 'Message', data, metadata);\n  }\n}\n\nexport interface ConversationCreatedData {\n  conversationId: string;\n  createdBy: string;\n  participantIds: string[];\n  conversationType: 'direct' | 'group' | 'support' | 'therapy';\n  title?: string;\n  description?: string;\n  isPrivate: boolean;\n}\n\nexport class ConversationCreatedEvent extends BaseDomainEvent<ConversationCreatedData> {\n  constructor(data: ConversationCreatedData, metadata?: EventMetadata) {\n    super(data.conversationId, 'Conversation', data, metadata);\n  }\n}\n\nexport interface ConversationArchivedData {\n  conversationId: string;\n  archivedBy: string;\n  participantIds: string[];\n  archivedAt: Date;\n  archiveReason: 'completed' | 'inactive' | 'manual' | 'policy_violation';\n  messageCount: number;\n  conversationDuration: number; // in days\n}\n\nexport class ConversationArchivedEvent extends BaseDomainEvent<ConversationArchivedData> {\n  constructor(data: ConversationArchivedData, metadata?: EventMetadata) {\n    super(data.conversationId, 'Conversation', data, metadata);\n  }\n}\n\nexport interface TypingIndicatorData {\n  conversationId: string;\n  userId: string;\n  isTyping: boolean;\n  timestamp: Date;\n}\n\nexport class TypingIndicatorEvent extends BaseDomainEvent<TypingIndicatorData> {\n  constructor(data: TypingIndicatorData, metadata?: EventMetadata) {\n    super(data.conversationId, 'Conversation', data, metadata);\n  }\n}\n\nexport interface MessageReadData {\n  messageId: string;\n  conversationId: string;\n  readBy: string;\n  readAt: Date;\n  messagesSinceLastRead: number;\n}\n\nexport class MessageReadEvent extends BaseDomainEvent<MessageReadData> {\n  constructor(data: MessageReadData, metadata?: EventMetadata) {\n    super(data.messageId, 'Message', data, metadata);\n  }\n}\n\nexport interface MessageDeliveredData {\n  messageId: string;\n  conversationId: string;\n  deliveredTo: string;\n  deliveredAt: Date;\n  deliveryMethod: 'websocket' | 'push' | 'email' | 'sms';\n  deliveryStatus: 'delivered' | 'failed' | 'pending';\n}\n\nexport class MessageDeliveredEvent extends BaseDomainEvent<MessageDeliveredData> {\n  constructor(data: MessageDeliveredData, metadata?: EventMetadata) {\n    super(data.messageId, 'Message', data, metadata);\n  }\n}\n\nexport interface ParticipantJoinedData {\n  conversationId: string;\n  participantId: string;\n  addedBy: string;\n  joinedAt: Date;\n  role: 'member' | 'admin' | 'moderator';\n}\n\nexport class ParticipantJoinedEvent extends BaseDomainEvent<ParticipantJoinedData> {\n  constructor(data: ParticipantJoinedData, metadata?: EventMetadata) {\n    super(data.conversationId, 'Conversation', data, metadata);\n  }\n}\n\nexport interface ParticipantLeftData {\n  conversationId: string;\n  participantId: string;\n  leftAt: Date;\n  leftReason: 'manual' | 'removed' | 'archived' | 'blocked';\n  removedBy?: string;\n}\n\nexport class ParticipantLeftEvent extends BaseDomainEvent<ParticipantLeftData> {\n  constructor(data: ParticipantLeftData, metadata?: EventMetadata) {\n    super(data.conversationId, 'Conversation', data, metadata);\n  }\n}\n"],"version":3}