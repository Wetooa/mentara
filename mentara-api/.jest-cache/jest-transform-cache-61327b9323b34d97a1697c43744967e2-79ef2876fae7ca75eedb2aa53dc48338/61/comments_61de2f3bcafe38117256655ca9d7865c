3212e2cfe238fd04dfbd56f0dfb05324
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.CommentUpdateInputDtoSchema = exports.CommentCreateInputDtoSchema = exports.CommentPostParamsDtoSchema = exports.CommentParamsDtoSchema = exports.CommentIdParamSchema = exports.CommentQuerySchema = exports.ReportCommentDtoSchema = exports.HeartToggleResponseSchema = exports.CommentHeartSchema = exports.UpdateCommentDtoSchema = exports.CreateCommentDtoSchema = exports.CommentSchema = void 0;
const zod_1 = require("zod");
// Comment Schema - Updated for unified Comment/Reply system
exports.CommentSchema = zod_1.z.object({
    id: zod_1.z.string().uuid(),
    content: zod_1.z.string(),
    userId: zod_1.z.string().uuid(), // Changed from authorId to match Prisma schema
    postId: zod_1.z.string().uuid(),
    parentId: zod_1.z.string().uuid().optional(), // Changed from parentCommentId to match Prisma schema
    createdAt: zod_1.z.string().datetime(),
    updatedAt: zod_1.z.string().datetime(),
    // File attachments (inline arrays like in Prisma schema)
    attachmentUrls: zod_1.z.array(zod_1.z.string()).optional(),
    attachmentNames: zod_1.z.array(zod_1.z.string()).optional(),
    attachmentSizes: zod_1.z.array(zod_1.z.number()).optional()
});
// Create Comment Schema - Updated for unified Comment/Reply system
exports.CreateCommentDtoSchema = zod_1.z.object({
    content: zod_1.z.string().min(1, 'Comment content is required').max(1000, 'Comment too long'),
    postId: zod_1.z.string().uuid('Invalid post ID format'),
    parentId: zod_1.z.string().uuid('Invalid parent ID format').optional() // Changed from parentCommentId
});
// Update Comment Schema
exports.UpdateCommentDtoSchema = zod_1.z.object({
    content: zod_1.z.string().min(1, 'Comment content is required').max(1000, 'Comment too long')
});
// Comment Heart Schema - Simplified to only hearts (matches CommentHeart model)
exports.CommentHeartSchema = zod_1.z.object({
    id: zod_1.z.string().uuid(),
    commentId: zod_1.z.string().uuid(),
    userId: zod_1.z.string().uuid(),
    createdAt: zod_1.z.string().datetime()
});
// Heart Toggle Response Schema
exports.HeartToggleResponseSchema = zod_1.z.object({
    hearted: zod_1.z.boolean()
});
// Comment Report Schema
exports.ReportCommentDtoSchema = zod_1.z.object({
    reason: zod_1.z.enum(['spam', 'harassment', 'inappropriate', 'misinformation', 'other']),
    description: zod_1.z.string().optional()
});
// Comment Query Parameters
exports.CommentQuerySchema = zod_1.z.object({
    page: zod_1.z.number().min(1).optional(),
    limit: zod_1.z.number().min(1).max(100).optional(),
    postId: zod_1.z.string().uuid().optional(),
    userId: zod_1.z.string().uuid().optional(), // Changed from authorId to match Prisma schema
    parentId: zod_1.z.string().uuid().optional(), // Changed from parentCommentId to match Prisma schema
    includeDeleted: zod_1.z.boolean().optional(),
    sortBy: zod_1.z.enum(['createdAt', 'updatedAt', 'hearts']).optional(), // Changed 'likes' to 'hearts' to match our system
    sortOrder: zod_1.z.enum(['asc', 'desc']).optional()
});
// Parameter Schemas
exports.CommentIdParamSchema = zod_1.z.object({
    id: zod_1.z.string().uuid('Invalid comment ID format')
});
// Additional DTOs for CommentsController endpoints
exports.CommentParamsDtoSchema = zod_1.z.object({
    id: zod_1.z.string().uuid('Invalid comment ID format')
});
exports.CommentPostParamsDtoSchema = zod_1.z.object({
    postId: zod_1.z.string().uuid('Invalid post ID format')
});
exports.CommentCreateInputDtoSchema = zod_1.z.object({
    content: zod_1.z.string().min(1, 'Comment content is required').max(1000, 'Comment too long'),
    postId: zod_1.z.string().uuid('Invalid post ID format'),
    parentId: zod_1.z.string().uuid('Invalid parent ID format').optional() // Changed from parentCommentId to match Prisma schema
});
exports.CommentUpdateInputDtoSchema = zod_1.z.object({
    content: zod_1.z.string().min(1, 'Comment content is required').max(1000, 'Comment too long')
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvd2V0b29hL0RvY3VtZW50cy9jb2RlL3Byb2plY3RzL21lbnRhcmEvbWVudGFyYS1jb21tb25zL2Rpc3Qvc2NoZW1hcy9jb21tZW50cy5qcyIsIm1hcHBpbmdzIjoiQUFBQSxZQUFZLENBQUM7QUFDYixNQUFNLENBQUMsY0FBYyxDQUFDLE9BQU8sRUFBRSxZQUFZLEVBQUUsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQztBQUM5RCxPQUFPLENBQUMsMkJBQTJCLEdBQUcsT0FBTyxDQUFDLDJCQUEyQixHQUFHLE9BQU8sQ0FBQywwQkFBMEIsR0FBRyxPQUFPLENBQUMsc0JBQXNCLEdBQUcsT0FBTyxDQUFDLG9CQUFvQixHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsR0FBRyxPQUFPLENBQUMsc0JBQXNCLEdBQUcsT0FBTyxDQUFDLHlCQUF5QixHQUFHLE9BQU8sQ0FBQyxrQkFBa0IsR0FBRyxPQUFPLENBQUMsc0JBQXNCLEdBQUcsT0FBTyxDQUFDLHNCQUFzQixHQUFHLE9BQU8sQ0FBQyxhQUFhLEdBQUcsS0FBSyxDQUFDLENBQUM7QUFDalosTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQzdCLDREQUE0RDtBQUM1RCxPQUFPLENBQUMsYUFBYSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDO0lBQ25DLEVBQUUsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLElBQUksRUFBRTtJQUMzQixPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUU7SUFDekIsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsSUFBSSxFQUFFLEVBQUUsK0NBQStDO0lBQ2hGLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLElBQUksRUFBRTtJQUMvQixRQUFRLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxRQUFRLEVBQUUsRUFBRSxzREFBc0Q7SUFDcEcsU0FBUyxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxFQUFFO0lBQ3RDLFNBQVMsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLFFBQVEsRUFBRTtJQUN0Qyx5REFBeUQ7SUFDekQsY0FBYyxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxRQUFRLEVBQUU7SUFDMUQsZUFBZSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxRQUFRLEVBQUU7SUFDM0QsZUFBZSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxRQUFRLEVBQUU7Q0FDOUQsQ0FBQyxDQUFDO0FBQ0gsbUVBQW1FO0FBQ25FLE9BQU8sQ0FBQyxzQkFBc0IsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztJQUM1QyxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLDZCQUE2QixDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxrQkFBa0IsQ0FBQztJQUM3RixNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxJQUFJLENBQUMsd0JBQXdCLENBQUM7SUFDdkQsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsSUFBSSxDQUFDLDBCQUEwQixDQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsK0JBQStCO0NBQ3pHLENBQUMsQ0FBQztBQUNILHdCQUF3QjtBQUN4QixPQUFPLENBQUMsc0JBQXNCLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUM7SUFDNUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSw2QkFBNkIsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsa0JBQWtCLENBQUM7Q0FDaEcsQ0FBQyxDQUFDO0FBQ0gsZ0ZBQWdGO0FBQ2hGLE9BQU8sQ0FBQyxrQkFBa0IsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztJQUN4QyxFQUFFLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxJQUFJLEVBQUU7SUFDM0IsU0FBUyxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsSUFBSSxFQUFFO0lBQ2xDLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLElBQUksRUFBRTtJQUMvQixTQUFTLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxRQUFRLEVBQUU7Q0FDekMsQ0FBQyxDQUFDO0FBQ0gsK0JBQStCO0FBQy9CLE9BQU8sQ0FBQyx5QkFBeUIsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztJQUMvQyxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxPQUFPLEVBQUU7Q0FDN0IsQ0FBQyxDQUFDO0FBQ0gsd0JBQXdCO0FBQ3hCLE9BQU8sQ0FBQyxzQkFBc0IsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztJQUM1QyxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEVBQUUsWUFBWSxFQUFFLGVBQWUsRUFBRSxnQkFBZ0IsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUN4RixXQUFXLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxRQUFRLEVBQUU7Q0FDM0MsQ0FBQyxDQUFDO0FBQ0gsMkJBQTJCO0FBQzNCLE9BQU8sQ0FBQyxrQkFBa0IsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztJQUN4QyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUFFO0lBQ3hDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsUUFBUSxFQUFFO0lBQ2xELE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDLFFBQVEsRUFBRTtJQUMxQyxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxRQUFRLEVBQUUsRUFBRSwrQ0FBK0M7SUFDM0YsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsUUFBUSxFQUFFLEVBQUUsc0RBQXNEO0lBQ3BHLGNBQWMsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLE9BQU8sRUFBRSxDQUFDLFFBQVEsRUFBRTtJQUM1QyxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxXQUFXLEVBQUUsV0FBVyxFQUFFLFFBQVEsQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUFFLEVBQUUsa0RBQWtEO0lBQ3pILFNBQVMsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLFFBQVEsRUFBRTtDQUN0RCxDQUFDLENBQUM7QUFDSCxvQkFBb0I7QUFDcEIsT0FBTyxDQUFDLG9CQUFvQixHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDO0lBQzFDLEVBQUUsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLElBQUksQ0FBQywyQkFBMkIsQ0FBQztDQUN6RCxDQUFDLENBQUM7QUFDSCxtREFBbUQ7QUFDbkQsT0FBTyxDQUFDLHNCQUFzQixHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDO0lBQzVDLEVBQUUsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLElBQUksQ0FBQywyQkFBMkIsQ0FBQztDQUN6RCxDQUFDLENBQUM7QUFDSCxPQUFPLENBQUMsMEJBQTBCLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUM7SUFDaEQsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsSUFBSSxDQUFDLHdCQUF3QixDQUFDO0NBQzFELENBQUMsQ0FBQztBQUNILE9BQU8sQ0FBQywyQkFBMkIsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztJQUNqRCxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLDZCQUE2QixDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxrQkFBa0IsQ0FBQztJQUM3RixNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxJQUFJLENBQUMsd0JBQXdCLENBQUM7SUFDdkQsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsSUFBSSxDQUFDLDBCQUEwQixDQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsc0RBQXNEO0NBQ2hJLENBQUMsQ0FBQztBQUNILE9BQU8sQ0FBQywyQkFBMkIsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztJQUNqRCxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLDZCQUE2QixDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxrQkFBa0IsQ0FBQztDQUNoRyxDQUFDLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL2hvbWUvd2V0b29hL0RvY3VtZW50cy9jb2RlL3Byb2plY3RzL21lbnRhcmEvbWVudGFyYS1jb21tb25zL2Rpc3Qvc2NoZW1hcy9jb21tZW50cy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQ29tbWVudFVwZGF0ZUlucHV0RHRvU2NoZW1hID0gZXhwb3J0cy5Db21tZW50Q3JlYXRlSW5wdXREdG9TY2hlbWEgPSBleHBvcnRzLkNvbW1lbnRQb3N0UGFyYW1zRHRvU2NoZW1hID0gZXhwb3J0cy5Db21tZW50UGFyYW1zRHRvU2NoZW1hID0gZXhwb3J0cy5Db21tZW50SWRQYXJhbVNjaGVtYSA9IGV4cG9ydHMuQ29tbWVudFF1ZXJ5U2NoZW1hID0gZXhwb3J0cy5SZXBvcnRDb21tZW50RHRvU2NoZW1hID0gZXhwb3J0cy5IZWFydFRvZ2dsZVJlc3BvbnNlU2NoZW1hID0gZXhwb3J0cy5Db21tZW50SGVhcnRTY2hlbWEgPSBleHBvcnRzLlVwZGF0ZUNvbW1lbnREdG9TY2hlbWEgPSBleHBvcnRzLkNyZWF0ZUNvbW1lbnREdG9TY2hlbWEgPSBleHBvcnRzLkNvbW1lbnRTY2hlbWEgPSB2b2lkIDA7XG5jb25zdCB6b2RfMSA9IHJlcXVpcmUoXCJ6b2RcIik7XG4vLyBDb21tZW50IFNjaGVtYSAtIFVwZGF0ZWQgZm9yIHVuaWZpZWQgQ29tbWVudC9SZXBseSBzeXN0ZW1cbmV4cG9ydHMuQ29tbWVudFNjaGVtYSA9IHpvZF8xLnoub2JqZWN0KHtcbiAgICBpZDogem9kXzEuei5zdHJpbmcoKS51dWlkKCksXG4gICAgY29udGVudDogem9kXzEuei5zdHJpbmcoKSxcbiAgICB1c2VySWQ6IHpvZF8xLnouc3RyaW5nKCkudXVpZCgpLCAvLyBDaGFuZ2VkIGZyb20gYXV0aG9ySWQgdG8gbWF0Y2ggUHJpc21hIHNjaGVtYVxuICAgIHBvc3RJZDogem9kXzEuei5zdHJpbmcoKS51dWlkKCksXG4gICAgcGFyZW50SWQ6IHpvZF8xLnouc3RyaW5nKCkudXVpZCgpLm9wdGlvbmFsKCksIC8vIENoYW5nZWQgZnJvbSBwYXJlbnRDb21tZW50SWQgdG8gbWF0Y2ggUHJpc21hIHNjaGVtYVxuICAgIGNyZWF0ZWRBdDogem9kXzEuei5zdHJpbmcoKS5kYXRldGltZSgpLFxuICAgIHVwZGF0ZWRBdDogem9kXzEuei5zdHJpbmcoKS5kYXRldGltZSgpLFxuICAgIC8vIEZpbGUgYXR0YWNobWVudHMgKGlubGluZSBhcnJheXMgbGlrZSBpbiBQcmlzbWEgc2NoZW1hKVxuICAgIGF0dGFjaG1lbnRVcmxzOiB6b2RfMS56LmFycmF5KHpvZF8xLnouc3RyaW5nKCkpLm9wdGlvbmFsKCksXG4gICAgYXR0YWNobWVudE5hbWVzOiB6b2RfMS56LmFycmF5KHpvZF8xLnouc3RyaW5nKCkpLm9wdGlvbmFsKCksXG4gICAgYXR0YWNobWVudFNpemVzOiB6b2RfMS56LmFycmF5KHpvZF8xLnoubnVtYmVyKCkpLm9wdGlvbmFsKClcbn0pO1xuLy8gQ3JlYXRlIENvbW1lbnQgU2NoZW1hIC0gVXBkYXRlZCBmb3IgdW5pZmllZCBDb21tZW50L1JlcGx5IHN5c3RlbVxuZXhwb3J0cy5DcmVhdGVDb21tZW50RHRvU2NoZW1hID0gem9kXzEuei5vYmplY3Qoe1xuICAgIGNvbnRlbnQ6IHpvZF8xLnouc3RyaW5nKCkubWluKDEsICdDb21tZW50IGNvbnRlbnQgaXMgcmVxdWlyZWQnKS5tYXgoMTAwMCwgJ0NvbW1lbnQgdG9vIGxvbmcnKSxcbiAgICBwb3N0SWQ6IHpvZF8xLnouc3RyaW5nKCkudXVpZCgnSW52YWxpZCBwb3N0IElEIGZvcm1hdCcpLFxuICAgIHBhcmVudElkOiB6b2RfMS56LnN0cmluZygpLnV1aWQoJ0ludmFsaWQgcGFyZW50IElEIGZvcm1hdCcpLm9wdGlvbmFsKCkgLy8gQ2hhbmdlZCBmcm9tIHBhcmVudENvbW1lbnRJZFxufSk7XG4vLyBVcGRhdGUgQ29tbWVudCBTY2hlbWFcbmV4cG9ydHMuVXBkYXRlQ29tbWVudER0b1NjaGVtYSA9IHpvZF8xLnoub2JqZWN0KHtcbiAgICBjb250ZW50OiB6b2RfMS56LnN0cmluZygpLm1pbigxLCAnQ29tbWVudCBjb250ZW50IGlzIHJlcXVpcmVkJykubWF4KDEwMDAsICdDb21tZW50IHRvbyBsb25nJylcbn0pO1xuLy8gQ29tbWVudCBIZWFydCBTY2hlbWEgLSBTaW1wbGlmaWVkIHRvIG9ubHkgaGVhcnRzIChtYXRjaGVzIENvbW1lbnRIZWFydCBtb2RlbClcbmV4cG9ydHMuQ29tbWVudEhlYXJ0U2NoZW1hID0gem9kXzEuei5vYmplY3Qoe1xuICAgIGlkOiB6b2RfMS56LnN0cmluZygpLnV1aWQoKSxcbiAgICBjb21tZW50SWQ6IHpvZF8xLnouc3RyaW5nKCkudXVpZCgpLFxuICAgIHVzZXJJZDogem9kXzEuei5zdHJpbmcoKS51dWlkKCksXG4gICAgY3JlYXRlZEF0OiB6b2RfMS56LnN0cmluZygpLmRhdGV0aW1lKClcbn0pO1xuLy8gSGVhcnQgVG9nZ2xlIFJlc3BvbnNlIFNjaGVtYVxuZXhwb3J0cy5IZWFydFRvZ2dsZVJlc3BvbnNlU2NoZW1hID0gem9kXzEuei5vYmplY3Qoe1xuICAgIGhlYXJ0ZWQ6IHpvZF8xLnouYm9vbGVhbigpXG59KTtcbi8vIENvbW1lbnQgUmVwb3J0IFNjaGVtYVxuZXhwb3J0cy5SZXBvcnRDb21tZW50RHRvU2NoZW1hID0gem9kXzEuei5vYmplY3Qoe1xuICAgIHJlYXNvbjogem9kXzEuei5lbnVtKFsnc3BhbScsICdoYXJhc3NtZW50JywgJ2luYXBwcm9wcmlhdGUnLCAnbWlzaW5mb3JtYXRpb24nLCAnb3RoZXInXSksXG4gICAgZGVzY3JpcHRpb246IHpvZF8xLnouc3RyaW5nKCkub3B0aW9uYWwoKVxufSk7XG4vLyBDb21tZW50IFF1ZXJ5IFBhcmFtZXRlcnNcbmV4cG9ydHMuQ29tbWVudFF1ZXJ5U2NoZW1hID0gem9kXzEuei5vYmplY3Qoe1xuICAgIHBhZ2U6IHpvZF8xLnoubnVtYmVyKCkubWluKDEpLm9wdGlvbmFsKCksXG4gICAgbGltaXQ6IHpvZF8xLnoubnVtYmVyKCkubWluKDEpLm1heCgxMDApLm9wdGlvbmFsKCksXG4gICAgcG9zdElkOiB6b2RfMS56LnN0cmluZygpLnV1aWQoKS5vcHRpb25hbCgpLFxuICAgIHVzZXJJZDogem9kXzEuei5zdHJpbmcoKS51dWlkKCkub3B0aW9uYWwoKSwgLy8gQ2hhbmdlZCBmcm9tIGF1dGhvcklkIHRvIG1hdGNoIFByaXNtYSBzY2hlbWFcbiAgICBwYXJlbnRJZDogem9kXzEuei5zdHJpbmcoKS51dWlkKCkub3B0aW9uYWwoKSwgLy8gQ2hhbmdlZCBmcm9tIHBhcmVudENvbW1lbnRJZCB0byBtYXRjaCBQcmlzbWEgc2NoZW1hXG4gICAgaW5jbHVkZURlbGV0ZWQ6IHpvZF8xLnouYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gICAgc29ydEJ5OiB6b2RfMS56LmVudW0oWydjcmVhdGVkQXQnLCAndXBkYXRlZEF0JywgJ2hlYXJ0cyddKS5vcHRpb25hbCgpLCAvLyBDaGFuZ2VkICdsaWtlcycgdG8gJ2hlYXJ0cycgdG8gbWF0Y2ggb3VyIHN5c3RlbVxuICAgIHNvcnRPcmRlcjogem9kXzEuei5lbnVtKFsnYXNjJywgJ2Rlc2MnXSkub3B0aW9uYWwoKVxufSk7XG4vLyBQYXJhbWV0ZXIgU2NoZW1hc1xuZXhwb3J0cy5Db21tZW50SWRQYXJhbVNjaGVtYSA9IHpvZF8xLnoub2JqZWN0KHtcbiAgICBpZDogem9kXzEuei5zdHJpbmcoKS51dWlkKCdJbnZhbGlkIGNvbW1lbnQgSUQgZm9ybWF0Jylcbn0pO1xuLy8gQWRkaXRpb25hbCBEVE9zIGZvciBDb21tZW50c0NvbnRyb2xsZXIgZW5kcG9pbnRzXG5leHBvcnRzLkNvbW1lbnRQYXJhbXNEdG9TY2hlbWEgPSB6b2RfMS56Lm9iamVjdCh7XG4gICAgaWQ6IHpvZF8xLnouc3RyaW5nKCkudXVpZCgnSW52YWxpZCBjb21tZW50IElEIGZvcm1hdCcpXG59KTtcbmV4cG9ydHMuQ29tbWVudFBvc3RQYXJhbXNEdG9TY2hlbWEgPSB6b2RfMS56Lm9iamVjdCh7XG4gICAgcG9zdElkOiB6b2RfMS56LnN0cmluZygpLnV1aWQoJ0ludmFsaWQgcG9zdCBJRCBmb3JtYXQnKVxufSk7XG5leHBvcnRzLkNvbW1lbnRDcmVhdGVJbnB1dER0b1NjaGVtYSA9IHpvZF8xLnoub2JqZWN0KHtcbiAgICBjb250ZW50OiB6b2RfMS56LnN0cmluZygpLm1pbigxLCAnQ29tbWVudCBjb250ZW50IGlzIHJlcXVpcmVkJykubWF4KDEwMDAsICdDb21tZW50IHRvbyBsb25nJyksXG4gICAgcG9zdElkOiB6b2RfMS56LnN0cmluZygpLnV1aWQoJ0ludmFsaWQgcG9zdCBJRCBmb3JtYXQnKSxcbiAgICBwYXJlbnRJZDogem9kXzEuei5zdHJpbmcoKS51dWlkKCdJbnZhbGlkIHBhcmVudCBJRCBmb3JtYXQnKS5vcHRpb25hbCgpIC8vIENoYW5nZWQgZnJvbSBwYXJlbnRDb21tZW50SWQgdG8gbWF0Y2ggUHJpc21hIHNjaGVtYVxufSk7XG5leHBvcnRzLkNvbW1lbnRVcGRhdGVJbnB1dER0b1NjaGVtYSA9IHpvZF8xLnoub2JqZWN0KHtcbiAgICBjb250ZW50OiB6b2RfMS56LnN0cmluZygpLm1pbigxLCAnQ29tbWVudCBjb250ZW50IGlzIHJlcXVpcmVkJykubWF4KDEwMDAsICdDb21tZW50IHRvbyBsb25nJylcbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tbWVudHMuanMubWFwIl0sInZlcnNpb24iOjN9