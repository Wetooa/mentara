{"file":"/home/wetooa/Documents/code/projects/mentara/mentara-commons/dist/schemas/comments.js","mappings":"AAAA,YAAY,CAAC;AACb,MAAM,CAAC,cAAc,CAAC,OAAO,EAAE,YAAY,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AAC9D,OAAO,CAAC,2BAA2B,GAAG,OAAO,CAAC,2BAA2B,GAAG,OAAO,CAAC,0BAA0B,GAAG,OAAO,CAAC,sBAAsB,GAAG,OAAO,CAAC,oBAAoB,GAAG,OAAO,CAAC,kBAAkB,GAAG,OAAO,CAAC,sBAAsB,GAAG,OAAO,CAAC,yBAAyB,GAAG,OAAO,CAAC,kBAAkB,GAAG,OAAO,CAAC,sBAAsB,GAAG,OAAO,CAAC,sBAAsB,GAAG,OAAO,CAAC,aAAa,GAAG,KAAK,CAAC,CAAC;AACjZ,MAAM,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC;AAC7B,4DAA4D;AAC5D,OAAO,CAAC,aAAa,GAAG,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC;IACnC,EAAE,EAAE,KAAK,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,IAAI,EAAE;IAC3B,OAAO,EAAE,KAAK,CAAC,CAAC,CAAC,MAAM,EAAE;IACzB,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,IAAI,EAAE,EAAE,+CAA+C;IAChF,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,IAAI,EAAE;IAC/B,QAAQ,EAAE,KAAK,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,IAAI,EAAE,CAAC,QAAQ,EAAE,EAAE,sDAAsD;IACpG,SAAS,EAAE,KAAK,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;IACtC,SAAS,EAAE,KAAK,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;IACtC,yDAAyD;IACzD,cAAc,EAAE,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,QAAQ,EAAE;IAC1D,eAAe,EAAE,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,QAAQ,EAAE;IAC3D,eAAe,EAAE,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,QAAQ,EAAE;CAC9D,CAAC,CAAC;AACH,mEAAmE;AACnE,OAAO,CAAC,sBAAsB,GAAG,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC;IAC5C,OAAO,EAAE,KAAK,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,6BAA6B,CAAC,CAAC,GAAG,CAAC,IAAI,EAAE,kBAAkB,CAAC;IAC7F,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,wBAAwB,CAAC;IACvD,QAAQ,EAAE,KAAK,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,0BAA0B,CAAC,CAAC,QAAQ,EAAE,CAAC,+BAA+B;CACzG,CAAC,CAAC;AACH,wBAAwB;AACxB,OAAO,CAAC,sBAAsB,GAAG,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC;IAC5C,OAAO,EAAE,KAAK,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,6BAA6B,CAAC,CAAC,GAAG,CAAC,IAAI,EAAE,kBAAkB,CAAC;CAChG,CAAC,CAAC;AACH,gFAAgF;AAChF,OAAO,CAAC,kBAAkB,GAAG,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC;IACxC,EAAE,EAAE,KAAK,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,IAAI,EAAE;IAC3B,SAAS,EAAE,KAAK,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,IAAI,EAAE;IAClC,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,IAAI,EAAE;IAC/B,SAAS,EAAE,KAAK,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;CACzC,CAAC,CAAC;AACH,+BAA+B;AAC/B,OAAO,CAAC,yBAAyB,GAAG,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC;IAC/C,OAAO,EAAE,KAAK,CAAC,CAAC,CAAC,OAAO,EAAE;CAC7B,CAAC,CAAC;AACH,wBAAwB;AACxB,OAAO,CAAC,sBAAsB,GAAG,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC;IAC5C,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE,YAAY,EAAE,eAAe,EAAE,gBAAgB,EAAE,OAAO,CAAC,CAAC;IACxF,WAAW,EAAE,KAAK,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE;CAC3C,CAAC,CAAC;AACH,2BAA2B;AAC3B,OAAO,CAAC,kBAAkB,GAAG,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC;IACxC,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE;IACxC,KAAK,EAAE,KAAK,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,QAAQ,EAAE;IAClD,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,IAAI,EAAE,CAAC,QAAQ,EAAE;IAC1C,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,IAAI,EAAE,CAAC,QAAQ,EAAE,EAAE,+CAA+C;IAC3F,QAAQ,EAAE,KAAK,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,IAAI,EAAE,CAAC,QAAQ,EAAE,EAAE,sDAAsD;IACpG,cAAc,EAAE,KAAK,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC,QAAQ,EAAE;IAC5C,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,WAAW,EAAE,WAAW,EAAE,QAAQ,CAAC,CAAC,CAAC,QAAQ,EAAE,EAAE,kDAAkD;IACzH,SAAS,EAAE,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC,CAAC,QAAQ,EAAE;CACtD,CAAC,CAAC;AACH,oBAAoB;AACpB,OAAO,CAAC,oBAAoB,GAAG,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC;IAC1C,EAAE,EAAE,KAAK,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,2BAA2B,CAAC;CACzD,CAAC,CAAC;AACH,mDAAmD;AACnD,OAAO,CAAC,sBAAsB,GAAG,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC;IAC5C,EAAE,EAAE,KAAK,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,2BAA2B,CAAC;CACzD,CAAC,CAAC;AACH,OAAO,CAAC,0BAA0B,GAAG,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC;IAChD,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,wBAAwB,CAAC;CAC1D,CAAC,CAAC;AACH,OAAO,CAAC,2BAA2B,GAAG,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC;IACjD,OAAO,EAAE,KAAK,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,6BAA6B,CAAC,CAAC,GAAG,CAAC,IAAI,EAAE,kBAAkB,CAAC;IAC7F,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,wBAAwB,CAAC;IACvD,QAAQ,EAAE,KAAK,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,0BAA0B,CAAC,CAAC,QAAQ,EAAE,CAAC,sDAAsD;CAChI,CAAC,CAAC;AACH,OAAO,CAAC,2BAA2B,GAAG,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC;IACjD,OAAO,EAAE,KAAK,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,6BAA6B,CAAC,CAAC,GAAG,CAAC,IAAI,EAAE,kBAAkB,CAAC;CAChG,CAAC,CAAC","names":[],"sources":["/home/wetooa/Documents/code/projects/mentara/mentara-commons/dist/schemas/comments.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CommentUpdateInputDtoSchema = exports.CommentCreateInputDtoSchema = exports.CommentPostParamsDtoSchema = exports.CommentParamsDtoSchema = exports.CommentIdParamSchema = exports.CommentQuerySchema = exports.ReportCommentDtoSchema = exports.HeartToggleResponseSchema = exports.CommentHeartSchema = exports.UpdateCommentDtoSchema = exports.CreateCommentDtoSchema = exports.CommentSchema = void 0;\nconst zod_1 = require(\"zod\");\n// Comment Schema - Updated for unified Comment/Reply system\nexports.CommentSchema = zod_1.z.object({\n    id: zod_1.z.string().uuid(),\n    content: zod_1.z.string(),\n    userId: zod_1.z.string().uuid(), // Changed from authorId to match Prisma schema\n    postId: zod_1.z.string().uuid(),\n    parentId: zod_1.z.string().uuid().optional(), // Changed from parentCommentId to match Prisma schema\n    createdAt: zod_1.z.string().datetime(),\n    updatedAt: zod_1.z.string().datetime(),\n    // File attachments (inline arrays like in Prisma schema)\n    attachmentUrls: zod_1.z.array(zod_1.z.string()).optional(),\n    attachmentNames: zod_1.z.array(zod_1.z.string()).optional(),\n    attachmentSizes: zod_1.z.array(zod_1.z.number()).optional()\n});\n// Create Comment Schema - Updated for unified Comment/Reply system\nexports.CreateCommentDtoSchema = zod_1.z.object({\n    content: zod_1.z.string().min(1, 'Comment content is required').max(1000, 'Comment too long'),\n    postId: zod_1.z.string().uuid('Invalid post ID format'),\n    parentId: zod_1.z.string().uuid('Invalid parent ID format').optional() // Changed from parentCommentId\n});\n// Update Comment Schema\nexports.UpdateCommentDtoSchema = zod_1.z.object({\n    content: zod_1.z.string().min(1, 'Comment content is required').max(1000, 'Comment too long')\n});\n// Comment Heart Schema - Simplified to only hearts (matches CommentHeart model)\nexports.CommentHeartSchema = zod_1.z.object({\n    id: zod_1.z.string().uuid(),\n    commentId: zod_1.z.string().uuid(),\n    userId: zod_1.z.string().uuid(),\n    createdAt: zod_1.z.string().datetime()\n});\n// Heart Toggle Response Schema\nexports.HeartToggleResponseSchema = zod_1.z.object({\n    hearted: zod_1.z.boolean()\n});\n// Comment Report Schema\nexports.ReportCommentDtoSchema = zod_1.z.object({\n    reason: zod_1.z.enum(['spam', 'harassment', 'inappropriate', 'misinformation', 'other']),\n    description: zod_1.z.string().optional()\n});\n// Comment Query Parameters\nexports.CommentQuerySchema = zod_1.z.object({\n    page: zod_1.z.number().min(1).optional(),\n    limit: zod_1.z.number().min(1).max(100).optional(),\n    postId: zod_1.z.string().uuid().optional(),\n    userId: zod_1.z.string().uuid().optional(), // Changed from authorId to match Prisma schema\n    parentId: zod_1.z.string().uuid().optional(), // Changed from parentCommentId to match Prisma schema\n    includeDeleted: zod_1.z.boolean().optional(),\n    sortBy: zod_1.z.enum(['createdAt', 'updatedAt', 'hearts']).optional(), // Changed 'likes' to 'hearts' to match our system\n    sortOrder: zod_1.z.enum(['asc', 'desc']).optional()\n});\n// Parameter Schemas\nexports.CommentIdParamSchema = zod_1.z.object({\n    id: zod_1.z.string().uuid('Invalid comment ID format')\n});\n// Additional DTOs for CommentsController endpoints\nexports.CommentParamsDtoSchema = zod_1.z.object({\n    id: zod_1.z.string().uuid('Invalid comment ID format')\n});\nexports.CommentPostParamsDtoSchema = zod_1.z.object({\n    postId: zod_1.z.string().uuid('Invalid post ID format')\n});\nexports.CommentCreateInputDtoSchema = zod_1.z.object({\n    content: zod_1.z.string().min(1, 'Comment content is required').max(1000, 'Comment too long'),\n    postId: zod_1.z.string().uuid('Invalid post ID format'),\n    parentId: zod_1.z.string().uuid('Invalid parent ID format').optional() // Changed from parentCommentId to match Prisma schema\n});\nexports.CommentUpdateInputDtoSchema = zod_1.z.object({\n    content: zod_1.z.string().min(1, 'Comment content is required').max(1000, 'Comment too long')\n});\n//# sourceMappingURL=comments.js.map"],"version":3}