86c0536f7e62a8ef081a809ff73de959
"use strict";
/**
 * Comprehensive Test Suite for SearchController
 * Tests search functionality across therapists, posts, communities, users, and global search
 */
Object.defineProperty(exports, "__esModule", { value: true });
const testing_1 = require("@nestjs/testing");
const search_controller_1 = require("./search.controller");
const search_service_1 = require("./search.service");
const jwt_auth_guard_1 = require("../auth/guards/jwt-auth.guard");
const index_1 = require("../test-utils/index");
describe('SearchController', () => {
    let controller;
    let searchService;
    let module;
    // Mock SearchService
    const mockSearchService = {
        searchTherapists: jest.fn(),
        searchPosts: jest.fn(),
        searchCommunities: jest.fn(),
        searchUsers: jest.fn(),
        globalSearch: jest.fn(),
    };
    // Mock Guards
    const mockJwtAuthGuard = {
        canActivate: jest.fn().mockReturnValue(true),
    };
    // Test data
    const mockTherapist = {
        id: index_1.TEST_USER_IDS.THERAPIST,
        firstName: 'Dr. Sarah',
        lastName: 'Johnson',
        specializations: ['Anxiety', 'Depression', 'CBT'],
        location: 'New York, NY',
        hourlyRate: 150,
        rating: 4.7,
        experienceYears: 8,
        verified: true,
        availability: 'available',
        profileImage: 'https://example.com/profile.jpg',
        bio: 'Experienced therapist specializing in anxiety and depression treatment',
    };
    const mockPost = {
        id: 'post_123456789',
        title: 'Managing Work Anxiety',
        content: 'Tips for dealing with workplace stress and anxiety...',
        authorId: index_1.TEST_USER_IDS.CLIENT,
        communityId: 'community_123',
        createdAt: '2024-02-14T10:00:00Z',
        likesCount: 23,
        commentsCount: 8,
        tags: ['anxiety', 'work', 'stress'],
    };
    const mockCommunity = {
        id: 'community_123456789',
        name: 'Anxiety Support Group',
        description: 'A supportive community for people dealing with anxiety',
        memberCount: 1234,
        isPrivate: false,
        createdAt: '2024-01-15T10:00:00Z',
        tags: ['anxiety', 'support', 'mental-health'],
    };
    const mockUser = {
        id: index_1.TEST_USER_IDS.CLIENT,
        firstName: 'John',
        lastName: 'Doe',
        email: index_1.TEST_EMAILS.CLIENT,
        role: 'client',
        isActive: true,
        createdAt: '2024-01-10T10:00:00Z',
    };
    const mockTherapistSearchResults = {
        therapists: [mockTherapist],
        totalCount: 1,
        filters: {
            locations: ['New York, NY', 'Los Angeles, CA'],
            specialties: ['Anxiety', 'Depression', 'CBT'],
            priceRanges: ['$100-150', '$150-200'],
        },
    };
    const mockPostSearchResults = {
        posts: [mockPost],
        totalCount: 1,
    };
    const mockCommunitySearchResults = {
        communities: [mockCommunity],
        totalCount: 1,
    };
    const mockUserSearchResults = {
        users: [mockUser],
        totalCount: 1,
    };
    const mockGlobalSearchResults = {
        results: {
            users: [mockUser],
            therapists: [mockTherapist],
            posts: [mockPost],
            communities: [mockCommunity],
        },
        totalCount: 4,
        query: 'anxiety',
        searchTypes: ['users', 'therapists', 'posts', 'communities'],
    };
    beforeEach(async () => {
        module = await testing_1.Test.createTestingModule({
            controllers: [search_controller_1.SearchController],
            providers: [
                {
                    provide: search_service_1.SearchService,
                    useValue: mockSearchService,
                },
            ],
        })
            .overrideGuard(jwt_auth_guard_1.JwtAuthGuard)
            .useValue(mockJwtAuthGuard)
            .compile();
        controller = module.get(search_controller_1.SearchController);
        searchService = module.get(search_service_1.SearchService);
    });
    afterEach(() => {
        jest.clearAllMocks();
    });
    describe('Controller Initialization', () => {
        it('should be defined', () => {
            expect(controller).toBeDefined();
        });
        it('should have searchService injected', () => {
            expect(searchService).toBeDefined();
        });
    });
    describe('Security Guards', () => {
        it('should be protected by JwtAuthGuard', () => {
            const guards = Reflect.getMetadata('__guards__', search_controller_1.SearchController);
            expect(guards).toContain(jwt_auth_guard_1.JwtAuthGuard);
        });
        it('should have proper route decorators', () => {
            const controllerMetadata = Reflect.getMetadata('path', search_controller_1.SearchController);
            expect(controllerMetadata).toBe('search');
        });
    });
    describe('GET /search/therapists', () => {
        const validQuery = {
            query: 'anxiety specialist',
            location: 'New York',
            specialties: ['Anxiety', 'Depression'],
            priceRange: { min: 100, max: 200 },
            experienceYears: 5,
            rating: 4.0,
            gender: 'female',
            languages: ['English', 'Spanish'],
            availability: 'available',
            verifiedOnly: true,
        };
        it('should search therapists successfully', async () => {
            mockSearchService.searchTherapists.mockResolvedValue(mockTherapistSearchResults);
            const result = await controller.searchTherapists(validQuery);
            expect(result).toEqual(mockTherapistSearchResults);
            expect(searchService.searchTherapists).toHaveBeenCalledWith('anxiety specialist', {
                location: validQuery.location,
                specialties: validQuery.specialties,
                priceRange: validQuery.priceRange,
                experienceYears: validQuery.experienceYears,
                rating: validQuery.rating,
                gender: validQuery.gender,
                languages: validQuery.languages,
                availability: validQuery.availability,
                verifiedOnly: validQuery.verifiedOnly,
                maxHourlyRate: validQuery.priceRange.max,
            });
        });
        it('should handle empty query', async () => {
            const emptyQuery = {};
            mockSearchService.searchTherapists.mockResolvedValue({
                therapists: [],
                totalCount: 0,
                filters: {},
            });
            const result = await controller.searchTherapists(emptyQuery);
            expect(result.therapists).toEqual([]);
            expect(result.totalCount).toBe(0);
            expect(searchService.searchTherapists).toHaveBeenCalledWith('', expect.any(Object));
        });
        it('should handle service errors', async () => {
            const serviceError = new Error('Search service unavailable');
            mockSearchService.searchTherapists.mockRejectedValue(serviceError);
            await expect(controller.searchTherapists(validQuery)).rejects.toThrow(serviceError);
        });
        it('should validate therapist search results structure', async () => {
            mockSearchService.searchTherapists.mockResolvedValue(mockTherapistSearchResults);
            const result = await controller.searchTherapists(validQuery);
            expect(result).toHaveProperty('therapists');
            expect(result).toHaveProperty('totalCount');
            expect(result).toHaveProperty('filters');
            expect(Array.isArray(result.therapists)).toBe(true);
            expect(typeof result.totalCount).toBe('number');
            if (result.therapists.length > 0) {
                const therapist = result.therapists[0];
                expect(therapist).toHaveProperty('id');
                expect(therapist).toHaveProperty('firstName');
                expect(therapist).toHaveProperty('lastName');
                expect(therapist).toHaveProperty('specializations');
                expect(therapist).toHaveProperty('rating');
                expect(Array.isArray(therapist.specializations)).toBe(true);
                expect(typeof therapist.rating).toBe('number');
            }
        });
        it('should handle different filter combinations', async () => {
            const specificQuery = {
                query: 'CBT therapist',
                specialties: ['CBT'],
                priceRange: { max: 150 },
                verifiedOnly: true,
            };
            mockSearchService.searchTherapists.mockResolvedValue(mockTherapistSearchResults);
            const result = await controller.searchTherapists(specificQuery);
            expect(result).toEqual(mockTherapistSearchResults);
            expect(searchService.searchTherapists).toHaveBeenCalledWith('CBT therapist', expect.objectContaining({
                specialties: ['CBT'],
                verifiedOnly: true,
                maxHourlyRate: 150,
            }));
        });
    });
    describe('GET /search/posts', () => {
        const validQuery = {
            query: 'anxiety tips',
            communityId: 'community_123',
        };
        it('should search posts successfully', async () => {
            mockSearchService.searchPosts.mockResolvedValue(mockPostSearchResults);
            const result = await controller.searchPosts(validQuery);
            expect(result).toEqual(mockPostSearchResults);
            expect(searchService.searchPosts).toHaveBeenCalledWith(validQuery.query, validQuery.communityId);
        });
        it('should search posts without community filter', async () => {
            const globalQuery = { query: 'mental health' };
            mockSearchService.searchPosts.mockResolvedValue(mockPostSearchResults);
            const result = await controller.searchPosts(globalQuery);
            expect(result).toEqual(mockPostSearchResults);
            expect(searchService.searchPosts).toHaveBeenCalledWith('mental health', undefined);
        });
        it('should handle service errors for posts', async () => {
            const serviceError = new Error('Post search service unavailable');
            mockSearchService.searchPosts.mockRejectedValue(serviceError);
            await expect(controller.searchPosts(validQuery)).rejects.toThrow(serviceError);
        });
        it('should validate post search results structure', async () => {
            mockSearchService.searchPosts.mockResolvedValue(mockPostSearchResults);
            const result = await controller.searchPosts(validQuery);
            expect(result).toHaveProperty('posts');
            expect(result).toHaveProperty('totalCount');
            expect(Array.isArray(result.posts)).toBe(true);
            expect(typeof result.totalCount).toBe('number');
            if (result.posts.length > 0) {
                const post = result.posts[0];
                expect(post).toHaveProperty('id');
                expect(post).toHaveProperty('title');
                expect(post).toHaveProperty('content');
                expect(post).toHaveProperty('authorId');
                expect(post).toHaveProperty('createdAt');
                expect(typeof post.likesCount).toBe('number');
                expect(typeof post.commentsCount).toBe('number');
            }
        });
    });
    describe('GET /search/communities', () => {
        const validQuery = {
            query: 'anxiety support',
        };
        it('should search communities successfully', async () => {
            mockSearchService.searchCommunities.mockResolvedValue(mockCommunitySearchResults);
            const result = await controller.searchCommunities(validQuery);
            expect(result).toEqual(mockCommunitySearchResults);
            expect(searchService.searchCommunities).toHaveBeenCalledWith(validQuery.query);
        });
        it('should handle empty communities search', async () => {
            mockSearchService.searchCommunities.mockResolvedValue({
                communities: [],
                totalCount: 0,
            });
            const result = await controller.searchCommunities({ query: 'nonexistent' });
            expect(result.communities).toEqual([]);
            expect(result.totalCount).toBe(0);
        });
        it('should validate community search results structure', async () => {
            mockSearchService.searchCommunities.mockResolvedValue(mockCommunitySearchResults);
            const result = await controller.searchCommunities(validQuery);
            expect(result).toHaveProperty('communities');
            expect(result).toHaveProperty('totalCount');
            expect(Array.isArray(result.communities)).toBe(true);
            if (result.communities.length > 0) {
                const community = result.communities[0];
                expect(community).toHaveProperty('id');
                expect(community).toHaveProperty('name');
                expect(community).toHaveProperty('description');
                expect(community).toHaveProperty('memberCount');
                expect(community).toHaveProperty('isPrivate');
                expect(typeof community.memberCount).toBe('number');
                expect(typeof community.isPrivate).toBe('boolean');
            }
        });
    });
    describe('GET /search/users', () => {
        const validQuery = {
            query: 'john doe',
            role: 'client',
        };
        it('should search users successfully', async () => {
            mockSearchService.searchUsers.mockResolvedValue(mockUserSearchResults);
            const result = await controller.searchUsers(validQuery);
            expect(result).toEqual(mockUserSearchResults);
            expect(searchService.searchUsers).toHaveBeenCalledWith(validQuery.query, validQuery.role);
        });
        it('should search users without role filter', async () => {
            const queryWithoutRole = { query: 'admin' };
            mockSearchService.searchUsers.mockResolvedValue(mockUserSearchResults);
            const result = await controller.searchUsers(queryWithoutRole);
            expect(result).toEqual(mockUserSearchResults);
            expect(searchService.searchUsers).toHaveBeenCalledWith('admin', undefined);
        });
        it('should handle different role filters', async () => {
            const roles = ['client', 'therapist', 'admin', 'moderator'];
            for (const role of roles) {
                mockSearchService.searchUsers.mockResolvedValue({
                    users: [{ ...mockUser, role }],
                    totalCount: 1,
                });
                const result = await controller.searchUsers({ query: 'test', role });
                expect(result.users[0].role).toBe(role);
            }
        });
        it('should validate user search results structure', async () => {
            mockSearchService.searchUsers.mockResolvedValue(mockUserSearchResults);
            const result = await controller.searchUsers(validQuery);
            expect(result).toHaveProperty('users');
            expect(result).toHaveProperty('totalCount');
            expect(Array.isArray(result.users)).toBe(true);
            if (result.users.length > 0) {
                const user = result.users[0];
                expect(user).toHaveProperty('id');
                expect(user).toHaveProperty('firstName');
                expect(user).toHaveProperty('lastName');
                expect(user).toHaveProperty('email');
                expect(user).toHaveProperty('role');
                expect(user).toHaveProperty('isActive');
                expect(typeof user.isActive).toBe('boolean');
            }
        });
    });
    describe('GET /search/global', () => {
        const validQuery = {
            query: 'anxiety',
            types: ['users', 'therapists', 'posts', 'communities'],
        };
        it('should perform global search successfully', async () => {
            mockSearchService.globalSearch.mockResolvedValue(mockGlobalSearchResults);
            const result = await controller.globalSearch(validQuery);
            expect(result).toEqual(mockGlobalSearchResults);
            expect(searchService.globalSearch).toHaveBeenCalledWith(validQuery.query, validQuery.types);
        });
        it('should handle global search without type filters', async () => {
            const queryWithoutTypes = { query: 'mental health' };
            mockSearchService.globalSearch.mockResolvedValue(mockGlobalSearchResults);
            const result = await controller.globalSearch(queryWithoutTypes);
            expect(result).toEqual(mockGlobalSearchResults);
            expect(searchService.globalSearch).toHaveBeenCalledWith('mental health', undefined);
        });
        it('should filter out unsupported types', async () => {
            const queryWithUnsupportedTypes = {
                query: 'test',
                types: ['users', 'therapists', 'worksheets', 'unsupported'],
            };
            mockSearchService.globalSearch.mockResolvedValue(mockGlobalSearchResults);
            const result = await controller.globalSearch(queryWithUnsupportedTypes);
            expect(searchService.globalSearch).toHaveBeenCalledWith('test', ['users', 'therapists'] // worksheets and unsupported should be filtered out
            );
        });
        it('should validate global search results structure', async () => {
            mockSearchService.globalSearch.mockResolvedValue(mockGlobalSearchResults);
            const result = await controller.globalSearch(validQuery);
            expect(result).toHaveProperty('results');
            expect(result).toHaveProperty('totalCount');
            expect(result).toHaveProperty('query');
            expect(result).toHaveProperty('searchTypes');
            expect(result.results).toHaveProperty('users');
            expect(result.results).toHaveProperty('therapists');
            expect(result.results).toHaveProperty('posts');
            expect(result.results).toHaveProperty('communities');
            expect(Array.isArray(result.results.users)).toBe(true);
            expect(Array.isArray(result.results.therapists)).toBe(true);
            expect(Array.isArray(result.results.posts)).toBe(true);
            expect(Array.isArray(result.results.communities)).toBe(true);
            expect(Array.isArray(result.searchTypes)).toBe(true);
            expect(typeof result.totalCount).toBe('number');
            expect(typeof result.query).toBe('string');
        });
        it('should handle empty global search results', async () => {
            const emptyResults = {
                results: {
                    users: [],
                    therapists: [],
                    posts: [],
                    communities: [],
                },
                totalCount: 0,
                query: 'nonexistent',
                searchTypes: ['users', 'therapists', 'posts', 'communities'],
            };
            mockSearchService.globalSearch.mockResolvedValue(emptyResults);
            const result = await controller.globalSearch({ query: 'nonexistent' });
            expect(result.totalCount).toBe(0);
            expect(result.results.users).toHaveLength(0);
            expect(result.results.therapists).toHaveLength(0);
            expect(result.results.posts).toHaveLength(0);
            expect(result.results.communities).toHaveLength(0);
        });
    });
    describe('Response Format Validation', () => {
        it('should return properly formatted therapist search response', async () => {
            mockSearchService.searchTherapists.mockResolvedValue(mockTherapistSearchResults);
            const result = await controller.searchTherapists({ query: 'test' });
            expect(result).toHaveProperty('therapists');
            expect(result).toHaveProperty('totalCount');
            expect(result).toHaveProperty('filters');
            expect(Array.isArray(result.therapists)).toBe(true);
            expect(typeof result.totalCount).toBe('number');
        });
        it('should return properly formatted post search response', async () => {
            mockSearchService.searchPosts.mockResolvedValue(mockPostSearchResults);
            const result = await controller.searchPosts({ query: 'test' });
            expect(result).toHaveProperty('posts');
            expect(result).toHaveProperty('totalCount');
            expect(Array.isArray(result.posts)).toBe(true);
            expect(typeof result.totalCount).toBe('number');
        });
        it('should return properly formatted global search response', async () => {
            mockSearchService.globalSearch.mockResolvedValue(mockGlobalSearchResults);
            const result = await controller.globalSearch({ query: 'test' });
            expect(result).toHaveProperty('results');
            expect(result).toHaveProperty('totalCount');
            expect(result).toHaveProperty('query');
            expect(result).toHaveProperty('searchTypes');
            expect(typeof result.results).toBe('object');
            expect(typeof result.totalCount).toBe('number');
            expect(typeof result.query).toBe('string');
            expect(Array.isArray(result.searchTypes)).toBe(true);
        });
    });
    describe('Error Handling', () => {
        it('should handle search service unavailable', async () => {
            const serviceError = new Error('Search service temporarily unavailable');
            mockSearchService.searchTherapists.mockRejectedValue(serviceError);
            await expect(controller.searchTherapists({ query: 'test' })).rejects.toThrow(serviceError);
        });
        it('should handle database connection errors', async () => {
            const dbError = new Error('Database connection failed');
            mockSearchService.searchCommunities.mockRejectedValue(dbError);
            await expect(controller.searchCommunities({ query: 'test' })).rejects.toThrow(dbError);
        });
        it('should handle search index errors', async () => {
            const indexError = new Error('Search index unavailable');
            mockSearchService.globalSearch.mockRejectedValue(indexError);
            await expect(controller.globalSearch({ query: 'test' })).rejects.toThrow(indexError);
        });
        it('should handle malformed query parameters', async () => {
            // Service should handle malformed queries gracefully
            mockSearchService.searchUsers.mockResolvedValue({ users: [], totalCount: 0 });
            const result = await controller.searchUsers({ query: '', role: 'invalid_role' });
            expect(result.users).toEqual([]);
        });
    });
    describe('Integration Tests', () => {
        it('should handle complete search workflow', async () => {
            // Search therapists
            mockSearchService.searchTherapists.mockResolvedValue(mockTherapistSearchResults);
            const therapistResult = await controller.searchTherapists({ query: 'anxiety' });
            expect(therapistResult.therapists).toHaveLength(1);
            // Search posts
            mockSearchService.searchPosts.mockResolvedValue(mockPostSearchResults);
            const postResult = await controller.searchPosts({ query: 'anxiety' });
            expect(postResult.posts).toHaveLength(1);
            // Search communities
            mockSearchService.searchCommunities.mockResolvedValue(mockCommunitySearchResults);
            const communityResult = await controller.searchCommunities({ query: 'anxiety' });
            expect(communityResult.communities).toHaveLength(1);
            // Global search
            mockSearchService.globalSearch.mockResolvedValue(mockGlobalSearchResults);
            const globalResult = await controller.globalSearch({ query: 'anxiety' });
            expect(globalResult.totalCount).toBeGreaterThan(0);
        });
        it('should handle search with filters and pagination', async () => {
            const advancedQuery = {
                query: 'therapy',
                location: 'New York',
                specialties: ['Anxiety'],
                priceRange: { min: 100, max: 200 },
                rating: 4.0,
                verifiedOnly: true,
            };
            mockSearchService.searchTherapists.mockResolvedValue(mockTherapistSearchResults);
            const result = await controller.searchTherapists(advancedQuery);
            expect(result.therapists).toBeDefined();
            expect(result.filters).toBeDefined();
            expect(searchService.searchTherapists).toHaveBeenCalledWith('therapy', expect.objectContaining({
                location: 'New York',
                specialties: ['Anxiety'],
                verifiedOnly: true,
            }));
        });
        it('should validate search result consistency', async () => {
            const query = 'mental health';
            // Search across all types
            mockSearchService.searchTherapists.mockResolvedValue(mockTherapistSearchResults);
            mockSearchService.searchPosts.mockResolvedValue(mockPostSearchResults);
            mockSearchService.searchCommunities.mockResolvedValue(mockCommunitySearchResults);
            mockSearchService.searchUsers.mockResolvedValue(mockUserSearchResults);
            mockSearchService.globalSearch.mockResolvedValue(mockGlobalSearchResults);
            const [therapistResult, postResult, communityResult, userResult, globalResult] = await Promise.all([
                controller.searchTherapists({ query }),
                controller.searchPosts({ query }),
                controller.searchCommunities({ query }),
                controller.searchUsers({ query }),
                controller.globalSearch({ query }),
            ]);
            // Validate that individual searches match global search components
            expect(globalResult.results.therapists).toHaveLength(1);
            expect(globalResult.results.posts).toHaveLength(1);
            expect(globalResult.results.communities).toHaveLength(1);
            expect(globalResult.results.users).toHaveLength(1);
        });
        it('should handle edge cases and boundary conditions', async () => {
            // Empty query
            mockSearchService.globalSearch.mockResolvedValue({
                results: { users: [], therapists: [], posts: [], communities: [] },
                totalCount: 0,
                query: '',
                searchTypes: [],
            });
            const emptyResult = await controller.globalSearch({ query: '' });
            expect(emptyResult.totalCount).toBe(0);
            // Very long query
            const longQuery = 'a'.repeat(1000);
            mockSearchService.searchTherapists.mockResolvedValue(mockTherapistSearchResults);
            const longQueryResult = await controller.searchTherapists({ query: longQuery });
            expect(longQueryResult).toBeDefined();
            // Special characters in query
            mockSearchService.searchCommunities.mockResolvedValue(mockCommunitySearchResults);
            const specialCharResult = await controller.searchCommunities({ query: '!@#$%^&*()' });
            expect(specialCharResult).toBeDefined();
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvd2V0b29hL0RvY3VtZW50cy9jb2RlL3Byb2plY3RzL21lbnRhcmEvbWVudGFyYS1hcGkvc3JjL3NlYXJjaC9zZWFyY2guY29udHJvbGxlci5zcGVjLnRzIiwibWFwcGluZ3MiOiI7QUFBQTs7O0dBR0c7O0FBRUgsNkNBQXNEO0FBRXRELDJEQUF1RDtBQUN2RCxxREFBaUQ7QUFDakQsa0VBQTZEO0FBRzdELCtDQUFpRTtBQUVqRSxRQUFRLENBQUMsa0JBQWtCLEVBQUUsR0FBRyxFQUFFO0lBQ2hDLElBQUksVUFBNEIsQ0FBQztJQUNqQyxJQUFJLGFBQTRCLENBQUM7SUFDakMsSUFBSSxNQUFxQixDQUFDO0lBRTFCLHFCQUFxQjtJQUNyQixNQUFNLGlCQUFpQixHQUFHO1FBQ3hCLGdCQUFnQixFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7UUFDM0IsV0FBVyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7UUFDdEIsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtRQUM1QixXQUFXLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtRQUN0QixZQUFZLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtLQUN4QixDQUFDO0lBRUYsY0FBYztJQUNkLE1BQU0sZ0JBQWdCLEdBQUc7UUFDdkIsV0FBVyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDO0tBQzdDLENBQUM7SUFFRixZQUFZO0lBQ1osTUFBTSxhQUFhLEdBQUc7UUFDcEIsRUFBRSxFQUFFLHFCQUFhLENBQUMsU0FBUztRQUMzQixTQUFTLEVBQUUsV0FBVztRQUN0QixRQUFRLEVBQUUsU0FBUztRQUNuQixlQUFlLEVBQUUsQ0FBQyxTQUFTLEVBQUUsWUFBWSxFQUFFLEtBQUssQ0FBQztRQUNqRCxRQUFRLEVBQUUsY0FBYztRQUN4QixVQUFVLEVBQUUsR0FBRztRQUNmLE1BQU0sRUFBRSxHQUFHO1FBQ1gsZUFBZSxFQUFFLENBQUM7UUFDbEIsUUFBUSxFQUFFLElBQUk7UUFDZCxZQUFZ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ZS9wcm9qZWN0cy9tZW50YXJhL21lbnRhcmEtYXBpL3NyYy9zZWFyY2gvc2VhcmNoLmNvbnRyb2xsZXIuc3BlYy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvbXByZWhlbnNpdmUgVGVzdCBTdWl0ZSBmb3IgU2VhcmNoQ29udHJvbGxlclxuICogVGVzdHMgc2VhcmNoIGZ1bmN0aW9uYWxpdHkgYWNyb3NzIHRoZXJhcGlzdHMsIHBvc3RzLCBjb21tdW5pdGllcywgdXNlcnMsIGFuZCBnbG9iYWwgc2VhcmNoXG4gKi9cblxuaW1wb3J0IHsgVGVzdCwgVGVzdGluZ01vZHVsZSB9IGZyb20gJ0BuZXN0anMvdGVzdGluZyc7XG5pbXBvcnQgeyBIdHRwRXhjZXB0aW9uLCBIdHRwU3RhdHVzIH0gZnJvbSAnQG5lc3Rqcy9jb21tb24nO1xuaW1wb3J0IHsgU2VhcmNoQ29udHJvbGxlciB9IGZyb20gJy4vc2VhcmNoLmNvbnRyb2xsZXInO1xuaW1wb3J0IHsgU2VhcmNoU2VydmljZSB9IGZyb20gJy4vc2VhcmNoLnNlcnZpY2UnO1xuaW1wb3J0IHsgSnd0QXV0aEd1YXJkIH0gZnJvbSAnLi4vYXV0aC9ndWFyZHMvand0LWF1dGguZ3VhcmQnO1xuaW1wb3J0IHsgU2VjdXJpdHlHdWFyZFRlc3RVdGlscywgUm9sZUJhc2VkVGVzdFV0aWxzIH0gZnJvbSAnLi4vdGVzdC11dGlscy9hdXRoLXRlc3RpbmctaGVscGVycyc7XG5pbXBvcnQgeyBNb2NrQnVpbGRlciwgVGVzdERhdGFHZW5lcmF0b3IsIFRlc3RBc3NlcnRpb25zIH0gZnJvbSAnLi4vdGVzdC11dGlscy9lbmhhbmNlZC10ZXN0LWhlbHBlcnMnO1xuaW1wb3J0IHsgVEVTVF9VU0VSX0lEUywgVEVTVF9FTUFJTFMgfSBmcm9tICcuLi90ZXN0LXV0aWxzL2luZGV4JztcblxuZGVzY3JpYmUoJ1NlYXJjaENvbnRyb2xsZXInLCAoKSA9PiB7XG4gIGxldCBjb250cm9sbGVyOiBTZWFyY2hDb250cm9sbGVyO1xuICBsZXQgc2VhcmNoU2VydmljZTogU2VhcmNoU2VydmljZTtcbiAgbGV0IG1vZHVsZTogVGVzdGluZ01vZHVsZTtcblxuICAvLyBNb2NrIFNlYXJjaFNlcnZpY2VcbiAgY29uc3QgbW9ja1NlYXJjaFNlcnZpY2UgPSB7XG4gICAgc2VhcmNoVGhlcmFwaXN0czogamVzdC5mbigpLFxuICAgIHNlYXJjaFBvc3RzOiBqZXN0LmZuKCksXG4gICAgc2VhcmNoQ29tbXVuaXRpZXM6IGplc3QuZm4oKSxcbiAgICBzZWFyY2hVc2VyczogamVzdC5mbigpLFxuICAgIGdsb2JhbFNlYXJjaDogamVzdC5mbigpLFxuICB9O1xuXG4gIC8vIE1vY2sgR3VhcmRzXG4gIGNvbnN0IG1vY2tKd3RBdXRoR3VhcmQgPSB7XG4gICAgY2FuQWN0aXZhdGU6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUodHJ1ZSksXG4gIH07XG5cbiAgLy8gVGVzdCBkYXRhXG4gIGNvbnN0IG1vY2tUaGVyYXBpc3QgPSB7XG4gICAgaWQ6IFRFU1RfVVNFUl9JRFMuVEhFUkFQSVNULFxuICAgIGZpcnN0TmFtZTogJ0RyLiBTYXJhaCcsXG4gICAgbGFzdE5hbWU6ICdKb2huc29uJyxcbiAgICBzcGVjaWFsaXphdGlvbnM6IFsnQW54aWV0eScsICdEZXByZXNzaW9uJywgJ0NCVCddLFxuICAgIGxvY2F0aW9uOiAnTmV3IFlvcmssIE5ZJyxcbiAgICBob3VybHlSYXRlOiAxNTAsXG4gICAgcmF0aW5nOiA0LjcsXG4gICAgZXhwZXJpZW5jZVllYXJzOiA4LFxuICAgIHZlcmlmaWVkOiB0cnVlLFxuICAgIGF2YWlsYWJpbGl0eTogJ2F2YWlsYWJsZScsXG4gICAgcHJvZmlsZUltYWdlOiAnaHR0cHM6Ly9leGFtcGxlLmNvbS9wcm9maWxlLmpwZycsXG4gICAgYmlvOiAnRXhwZXJpZW5jZWQgdGhlcmFwaXN0IHNwZWNpYWxpemluZyBpbiBhbnhpZXR5IGFuZCBkZXByZXNzaW9uIHRyZWF0bWVudCcsXG4gIH07XG5cbiAgY29uc3QgbW9ja1Bvc3QgPSB7XG4gICAgaWQ6ICdwb3N0XzEyMzQ1Njc4OScsXG4gICAgdGl0bGU6ICdNYW5hZ2luZyBXb3JrIEFueGlldHknLFxuICAgIGNvbnRlbnQ6ICdUaXBzIGZvciBkZWFsaW5nIHdpdGggd29ya3BsYWNlIHN0cmVzcyBhbmQgYW54aWV0eS4uLicsXG4gICAgYXV0aG9ySWQ6IFRFU1RfVVNFUl9JRFMuQ0xJRU5ULFxuICAgIGNvbW11bml0eUlkOiAnY29tbXVuaXR5XzEyMycsXG4gICAgY3JlYXRlZEF0OiAnMjAyNC0wMi0xNFQxMDowMDowMFonLFxuICAgIGxpa2VzQ291bnQ6IDIzLFxuICAgIGNvbW1lbnRzQ291bnQ6IDgsXG4gICAgdGFnczogWydhbnhpZXR5JywgJ3dvcmsnLCAnc3RyZXNzJ10sXG4gIH07XG5cbiAgY29uc3QgbW9ja0NvbW11bml0eSA9IHtcbiAgICBpZDogJ2NvbW11bml0eV8xMjM0NTY3ODknLFxuICAgIG5hbWU6ICdBbnhpZXR5IFN1cHBvcnQgR3JvdXAnLFxuICAgIGRlc2NyaXB0aW9uOiAnQSBzdXBwb3J0aXZlIGNvbW11bml0eSBmb3IgcGVvcGxlIGRlYWxpbmcgd2l0aCBhbnhpZXR5JyxcbiAgICBtZW1iZXJDb3VudDogMTIzNCxcbiAgICBpc1ByaXZhdGU6IGZhbHNlLFxuICAgIGNyZWF0ZWRBdDogJzIwMjQtMDEtMTVUMTA6MDA6MDBaJyxcbiAgICB0YWdzOiBbJ2FueGlldHknLCAnc3VwcG9ydCcsICdtZW50YWwtaGVhbHRoJ10sXG4gIH07XG5cbiAgY29uc3QgbW9ja1VzZXIgPSB7XG4gICAgaWQ6IFRFU1RfVVNFUl9JRFMuQ0xJRU5ULFxuICAgIGZpcnN0TmFtZTogJ0pvaG4nLFxuICAgIGxhc3ROYW1lOiAnRG9lJyxcbiAgICBlbWFpbDogVEVTVF9FTUFJTFMuQ0xJRU5ULFxuICAgIHJvbGU6ICdjbGllbnQnLFxuICAgIGlzQWN0aXZlOiB0cnVlLFxuICAgIGNyZWF0ZWRBdDogJzIwMjQtMDEtMTBUMTA6MDA6MDBaJyxcbiAgfTtcblxuICBjb25zdCBtb2NrVGhlcmFwaXN0U2VhcmNoUmVzdWx0cyA9IHtcbiAgICB0aGVyYXBpc3RzOiBbbW9ja1RoZXJhcGlzdF0sXG4gICAgdG90YWxDb3VudDogMSxcbiAgICBmaWx0ZXJzOiB7XG4gICAgICBsb2NhdGlvbnM6IFsnTmV3IFlvcmssIE5ZJywgJ0xvcyBBbmdlbGVzLCBDQSddLFxuICAgICAgc3BlY2lhbHRpZXM6IFsnQW54aWV0eScsICdEZXByZXNzaW9uJywgJ0NCVCddLFxuICAgICAgcHJpY2VSYW5nZXM6IFsnJDEwMC0xNTAnLCAnJDE1MC0yMDAnXSxcbiAgICB9LFxuICB9O1xuXG4gIGNvbnN0IG1vY2tQb3N0U2VhcmNoUmVzdWx0cyA9IHtcbiAgICBwb3N0czogW21vY2tQb3N0XSxcbiAgICB0b3RhbENvdW50OiAxLFxuICB9O1xuXG4gIGNvbnN0IG1vY2tDb21tdW5pdHlTZWFyY2hSZXN1bHRzID0ge1xuICAgIGNvbW11bml0aWVzOiBbbW9ja0NvbW11bml0eV0sXG4gICAgdG90YWxDb3VudDogMSxcbiAgfTtcblxuICBjb25zdCBtb2NrVXNlclNlYXJjaFJlc3VsdHMgPSB7XG4gICAgdXNlcnM6IFttb2NrVXNlcl0sXG4gICAgdG90YWxDb3VudDogMSxcbiAgfTtcblxuICBjb25zdCBtb2NrR2xvYmFsU2VhcmNoUmVzdWx0cyA9IHtcbiAgICByZXN1bHRzOiB7XG4gICAgICB1c2VyczogW21vY2tVc2VyXSxcbiAgICAgIHRoZXJhcGlzdHM6IFttb2NrVGhlcmFwaXN0XSxcbiAgICAgIHBvc3RzOiBbbW9ja1Bvc3RdLFxuICAgICAgY29tbXVuaXRpZXM6IFttb2NrQ29tbXVuaXR5XSxcbiAgICB9LFxuICAgIHRvdGFsQ291bnQ6IDQsXG4gICAgcXVlcnk6ICdhbnhpZXR5JyxcbiAgICBzZWFyY2hUeXBlczogWyd1c2VycycsICd0aGVyYXBpc3RzJywgJ3Bvc3RzJywgJ2NvbW11bml0aWVzJ10sXG4gIH07XG5cbiAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XG4gICAgbW9kdWxlID0gYXdhaXQgVGVzdC5jcmVhdGVUZXN0aW5nTW9kdWxlKHtcbiAgICAgIGNvbnRyb2xsZXJzOiBbU2VhcmNoQ29udHJvbGxlcl0sXG4gICAgICBwcm92aWRlcnM6IFtcbiAgICAgICAge1xuICAgICAgICAgIHByb3ZpZGU6IFNlYXJjaFNlcnZpY2UsXG4gICAgICAgICAgdXNlVmFsdWU6IG1vY2tTZWFyY2hTZXJ2aWNlLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICB9KVxuICAgICAgLm92ZXJyaWRlR3VhcmQoSnd0QXV0aEd1YXJkKVxuICAgICAgLnVzZVZhbHVlKG1vY2tKd3RBdXRoR3VhcmQpXG4gICAgICAuY29tcGlsZSgpO1xuXG4gICAgY29udHJvbGxlciA9IG1vZHVsZS5nZXQ8U2VhcmNoQ29udHJvbGxlcj4oU2VhcmNoQ29udHJvbGxlcik7XG4gICAgc2VhcmNoU2VydmljZSA9IG1vZHVsZS5nZXQ8U2VhcmNoU2VydmljZT4oU2VhcmNoU2VydmljZSk7XG4gIH0pO1xuXG4gIGFmdGVyRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdDb250cm9sbGVyIEluaXRpYWxpemF0aW9uJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgYmUgZGVmaW5lZCcsICgpID0+IHtcbiAgICAgIGV4cGVjdChjb250cm9sbGVyKS50b0JlRGVmaW5lZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYXZlIHNlYXJjaFNlcnZpY2UgaW5qZWN0ZWQnLCAoKSA9PiB7XG4gICAgICBleHBlY3Qoc2VhcmNoU2VydmljZSkudG9CZURlZmluZWQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1NlY3VyaXR5IEd1YXJkcycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGJlIHByb3RlY3RlZCBieSBKd3RBdXRoR3VhcmQnLCAoKSA9PiB7XG4gICAgICBjb25zdCBndWFyZHMgPSBSZWZsZWN0LmdldE1ldGFkYXRhKCdfX2d1YXJkc19fJywgU2VhcmNoQ29udHJvbGxlcik7XG4gICAgICBleHBlY3QoZ3VhcmRzKS50b0NvbnRhaW4oSnd0QXV0aEd1YXJkKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGF2ZSBwcm9wZXIgcm91dGUgZGVjb3JhdG9ycycsICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRyb2xsZXJNZXRhZGF0YSA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoJ3BhdGgnLCBTZWFyY2hDb250cm9sbGVyKTtcbiAgICAgIGV4cGVjdChjb250cm9sbGVyTWV0YWRhdGEpLnRvQmUoJ3NlYXJjaCcpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnR0VUIC9zZWFyY2gvdGhlcmFwaXN0cycsICgpID0+IHtcbiAgICBjb25zdCB2YWxpZFF1ZXJ5ID0ge1xuICAgICAgcXVlcnk6ICdhbnhpZXR5IHNwZWNpYWxpc3QnLFxuICAgICAgbG9jYXRpb246ICdOZXcgWW9yaycsXG4gICAgICBzcGVjaWFsdGllczogWydBbnhpZXR5JywgJ0RlcHJlc3Npb24nXSxcbiAgICAgIHByaWNlUmFuZ2U6IHsgbWluOiAxMDAsIG1heDogMjAwIH0sXG4gICAgICBleHBlcmllbmNlWWVhcnM6IDUsXG4gICAgICByYXRpbmc6IDQuMCxcbiAgICAgIGdlbmRlcjogJ2ZlbWFsZScsXG4gICAgICBsYW5ndWFnZXM6IFsnRW5nbGlzaCcsICdTcGFuaXNoJ10sXG4gICAgICBhdmFpbGFiaWxpdHk6ICdhdmFpbGFibGUnLFxuICAgICAgdmVyaWZpZWRPbmx5OiB0cnVlLFxuICAgIH07XG5cbiAgICBpdCgnc2hvdWxkIHNlYXJjaCB0aGVyYXBpc3RzIHN1Y2Nlc3NmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tTZWFyY2hTZXJ2aWNlLnNlYXJjaFRoZXJhcGlzdHMubW9ja1Jlc29sdmVkVmFsdWUobW9ja1RoZXJhcGlzdFNlYXJjaFJlc3VsdHMpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb250cm9sbGVyLnNlYXJjaFRoZXJhcGlzdHModmFsaWRRdWVyeSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvRXF1YWwobW9ja1RoZXJhcGlzdFNlYXJjaFJlc3VsdHMpO1xuICAgICAgZXhwZWN0KHNlYXJjaFNlcnZpY2Uuc2VhcmNoVGhlcmFwaXN0cykudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2FueGlldHkgc3BlY2lhbGlzdCcsIHtcbiAgICAgICAgbG9jYXRpb246IHZhbGlkUXVlcnkubG9jYXRpb24sXG4gICAgICAgIHNwZWNpYWx0aWVzOiB2YWxpZFF1ZXJ5LnNwZWNpYWx0aWVzLFxuICAgICAgICBwcmljZVJhbmdlOiB2YWxpZFF1ZXJ5LnByaWNlUmFuZ2UsXG4gICAgICAgIGV4cGVyaWVuY2VZZWFyczogdmFsaWRRdWVyeS5leHBlcmllbmNlWWVhcnMsXG4gICAgICAgIHJhdGluZzogdmFsaWRRdWVyeS5yYXRpbmcsXG4gICAgICAgIGdlbmRlcjogdmFsaWRRdWVyeS5nZW5kZXIsXG4gICAgICAgIGxhbmd1YWdlczogdmFsaWRRdWVyeS5sYW5ndWFnZXMsXG4gICAgICAgIGF2YWlsYWJpbGl0eTogdmFsaWRRdWVyeS5hdmFpbGFiaWxpdHksXG4gICAgICAgIHZlcmlmaWVkT25seTogdmFsaWRRdWVyeS52ZXJpZmllZE9ubHksXG4gICAgICAgIG1heEhvdXJseVJhdGU6IHZhbGlkUXVlcnkucHJpY2VSYW5nZS5tYXgsXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGVtcHR5IHF1ZXJ5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZW1wdHlRdWVyeSA9IHt9O1xuICAgICAgbW9ja1NlYXJjaFNlcnZpY2Uuc2VhcmNoVGhlcmFwaXN0cy5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHRoZXJhcGlzdHM6IFtdLFxuICAgICAgICB0b3RhbENvdW50OiAwLFxuICAgICAgICBmaWx0ZXJzOiB7fSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb250cm9sbGVyLnNlYXJjaFRoZXJhcGlzdHMoZW1wdHlRdWVyeSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQudGhlcmFwaXN0cykudG9FcXVhbChbXSk7XG4gICAgICBleHBlY3QocmVzdWx0LnRvdGFsQ291bnQpLnRvQmUoMCk7XG4gICAgICBleHBlY3Qoc2VhcmNoU2VydmljZS5zZWFyY2hUaGVyYXBpc3RzKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnJywgZXhwZWN0LmFueShPYmplY3QpKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHNlcnZpY2UgZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgc2VydmljZUVycm9yID0gbmV3IEVycm9yKCdTZWFyY2ggc2VydmljZSB1bmF2YWlsYWJsZScpO1xuICAgICAgbW9ja1NlYXJjaFNlcnZpY2Uuc2VhcmNoVGhlcmFwaXN0cy5tb2NrUmVqZWN0ZWRWYWx1ZShzZXJ2aWNlRXJyb3IpO1xuXG4gICAgICBhd2FpdCBleHBlY3QoXG4gICAgICAgIGNvbnRyb2xsZXIuc2VhcmNoVGhlcmFwaXN0cyh2YWxpZFF1ZXJ5KVxuICAgICAgKS5yZWplY3RzLnRvVGhyb3coc2VydmljZUVycm9yKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgdGhlcmFwaXN0IHNlYXJjaCByZXN1bHRzIHN0cnVjdHVyZScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tTZWFyY2hTZXJ2aWNlLnNlYXJjaFRoZXJhcGlzdHMubW9ja1Jlc29sdmVkVmFsdWUobW9ja1RoZXJhcGlzdFNlYXJjaFJlc3VsdHMpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb250cm9sbGVyLnNlYXJjaFRoZXJhcGlzdHModmFsaWRRdWVyeSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCd0aGVyYXBpc3RzJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVQcm9wZXJ0eSgndG90YWxDb3VudCcpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlUHJvcGVydHkoJ2ZpbHRlcnMnKTtcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlc3VsdC50aGVyYXBpc3RzKSkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdCh0eXBlb2YgcmVzdWx0LnRvdGFsQ291bnQpLnRvQmUoJ251bWJlcicpO1xuXG4gICAgICBpZiAocmVzdWx0LnRoZXJhcGlzdHMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCB0aGVyYXBpc3QgPSByZXN1bHQudGhlcmFwaXN0c1swXTtcbiAgICAgICAgZXhwZWN0KHRoZXJhcGlzdCkudG9IYXZlUHJvcGVydHkoJ2lkJyk7XG4gICAgICAgIGV4cGVjdCh0aGVyYXBpc3QpLnRvSGF2ZVByb3BlcnR5KCdmaXJzdE5hbWUnKTtcbiAgICAgICAgZXhwZWN0KHRoZXJhcGlzdCkudG9IYXZlUHJvcGVydHkoJ2xhc3ROYW1lJyk7XG4gICAgICAgIGV4cGVjdCh0aGVyYXBpc3QpLnRvSGF2ZVByb3BlcnR5KCdzcGVjaWFsaXphdGlvbnMnKTtcbiAgICAgICAgZXhwZWN0KHRoZXJhcGlzdCkudG9IYXZlUHJvcGVydHkoJ3JhdGluZycpO1xuICAgICAgICBleHBlY3QoQXJyYXkuaXNBcnJheSh0aGVyYXBpc3Quc3BlY2lhbGl6YXRpb25zKSkudG9CZSh0cnVlKTtcbiAgICAgICAgZXhwZWN0KHR5cGVvZiB0aGVyYXBpc3QucmF0aW5nKS50b0JlKCdudW1iZXInKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGRpZmZlcmVudCBmaWx0ZXIgY29tYmluYXRpb25zJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgc3BlY2lmaWNRdWVyeSA9IHtcbiAgICAgICAgcXVlcnk6ICdDQlQgdGhlcmFwaXN0JyxcbiAgICAgICAgc3BlY2lhbHRpZXM6IFsnQ0JUJ10sXG4gICAgICAgIHByaWNlUmFuZ2U6IHsgbWF4OiAxNTAgfSxcbiAgICAgICAgdmVyaWZpZWRPbmx5OiB0cnVlLFxuICAgICAgfTtcbiAgICAgIG1vY2tTZWFyY2hTZXJ2aWNlLnNlYXJjaFRoZXJhcGlzdHMubW9ja1Jlc29sdmVkVmFsdWUobW9ja1RoZXJhcGlzdFNlYXJjaFJlc3VsdHMpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb250cm9sbGVyLnNlYXJjaFRoZXJhcGlzdHMoc3BlY2lmaWNRdWVyeSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvRXF1YWwobW9ja1RoZXJhcGlzdFNlYXJjaFJlc3VsdHMpO1xuICAgICAgZXhwZWN0KHNlYXJjaFNlcnZpY2Uuc2VhcmNoVGhlcmFwaXN0cykudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ0NCVCB0aGVyYXBpc3QnLCBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgIHNwZWNpYWx0aWVzOiBbJ0NCVCddLFxuICAgICAgICB2ZXJpZmllZE9ubHk6IHRydWUsXG4gICAgICAgIG1heEhvdXJseVJhdGU6IDE1MCxcbiAgICAgIH0pKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0dFVCAvc2VhcmNoL3Bvc3RzJywgKCkgPT4ge1xuICAgIGNvbnN0IHZhbGlkUXVlcnkgPSB7XG4gICAgICBxdWVyeTogJ2FueGlldHkgdGlwcycsXG4gICAgICBjb21tdW5pdHlJZDogJ2NvbW11bml0eV8xMjMnLFxuICAgIH07XG5cbiAgICBpdCgnc2hvdWxkIHNlYXJjaCBwb3N0cyBzdWNjZXNzZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrU2VhcmNoU2VydmljZS5zZWFyY2hQb3N0cy5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrUG9zdFNlYXJjaFJlc3VsdHMpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb250cm9sbGVyLnNlYXJjaFBvc3RzKHZhbGlkUXVlcnkpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKG1vY2tQb3N0U2VhcmNoUmVzdWx0cyk7XG4gICAgICBleHBlY3Qoc2VhcmNoU2VydmljZS5zZWFyY2hQb3N0cykudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIHZhbGlkUXVlcnkucXVlcnksXG4gICAgICAgIHZhbGlkUXVlcnkuY29tbXVuaXR5SWRcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHNlYXJjaCBwb3N0cyB3aXRob3V0IGNvbW11bml0eSBmaWx0ZXInLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBnbG9iYWxRdWVyeSA9IHsgcXVlcnk6ICdtZW50YWwgaGVhbHRoJyB9O1xuICAgICAgbW9ja1NlYXJjaFNlcnZpY2Uuc2VhcmNoUG9zdHMubW9ja1Jlc29sdmVkVmFsdWUobW9ja1Bvc3RTZWFyY2hSZXN1bHRzKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29udHJvbGxlci5zZWFyY2hQb3N0cyhnbG9iYWxRdWVyeSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvRXF1YWwobW9ja1Bvc3RTZWFyY2hSZXN1bHRzKTtcbiAgICAgIGV4cGVjdChzZWFyY2hTZXJ2aWNlLnNlYXJjaFBvc3RzKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnbWVudGFsIGhlYWx0aCcsIHVuZGVmaW5lZCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBzZXJ2aWNlIGVycm9ycyBmb3IgcG9zdHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBzZXJ2aWNlRXJyb3IgPSBuZXcgRXJyb3IoJ1Bvc3Qgc2VhcmNoIHNlcnZpY2UgdW5hdmFpbGFibGUnKTtcbiAgICAgIG1vY2tTZWFyY2hTZXJ2aWNlLnNlYXJjaFBvc3RzLm1vY2tSZWplY3RlZFZhbHVlKHNlcnZpY2VFcnJvcik7XG5cbiAgICAgIGF3YWl0IGV4cGVjdChcbiAgICAgICAgY29udHJvbGxlci5zZWFyY2hQb3N0cyh2YWxpZFF1ZXJ5KVxuICAgICAgKS5yZWplY3RzLnRvVGhyb3coc2VydmljZUVycm9yKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgcG9zdCBzZWFyY2ggcmVzdWx0cyBzdHJ1Y3R1cmUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrU2VhcmNoU2VydmljZS5zZWFyY2hQb3N0cy5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrUG9zdFNlYXJjaFJlc3VsdHMpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb250cm9sbGVyLnNlYXJjaFBvc3RzKHZhbGlkUXVlcnkpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVQcm9wZXJ0eSgncG9zdHMnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCd0b3RhbENvdW50Jyk7XG4gICAgICBleHBlY3QoQXJyYXkuaXNBcnJheShyZXN1bHQucG9zdHMpKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHR5cGVvZiByZXN1bHQudG90YWxDb3VudCkudG9CZSgnbnVtYmVyJyk7XG5cbiAgICAgIGlmIChyZXN1bHQucG9zdHMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBwb3N0ID0gcmVzdWx0LnBvc3RzWzBdO1xuICAgICAgICBleHBlY3QocG9zdCkudG9IYXZlUHJvcGVydHkoJ2lkJyk7XG4gICAgICAgIGV4cGVjdChwb3N0KS50b0hhdmVQcm9wZXJ0eSgndGl0bGUnKTtcbiAgICAgICAgZXhwZWN0KHBvc3QpLnRvSGF2ZVByb3BlcnR5KCdjb250ZW50Jyk7XG4gICAgICAgIGV4cGVjdChwb3N0KS50b0hhdmVQcm9wZXJ0eSgnYXV0aG9ySWQnKTtcbiAgICAgICAgZXhwZWN0KHBvc3QpLnRvSGF2ZVByb3BlcnR5KCdjcmVhdGVkQXQnKTtcbiAgICAgICAgZXhwZWN0KHR5cGVvZiBwb3N0Lmxpa2VzQ291bnQpLnRvQmUoJ251bWJlcicpO1xuICAgICAgICBleHBlY3QodHlwZW9mIHBvc3QuY29tbWVudHNDb3VudCkudG9CZSgnbnVtYmVyJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdHRVQgL3NlYXJjaC9jb21tdW5pdGllcycsICgpID0+IHtcbiAgICBjb25zdCB2YWxpZFF1ZXJ5ID0ge1xuICAgICAgcXVlcnk6ICdhbnhpZXR5IHN1cHBvcnQnLFxuICAgIH07XG5cbiAgICBpdCgnc2hvdWxkIHNlYXJjaCBjb21tdW5pdGllcyBzdWNjZXNzZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrU2VhcmNoU2VydmljZS5zZWFyY2hDb21tdW5pdGllcy5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrQ29tbXVuaXR5U2VhcmNoUmVzdWx0cyk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbnRyb2xsZXIuc2VhcmNoQ29tbXVuaXRpZXModmFsaWRRdWVyeSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvRXF1YWwobW9ja0NvbW11bml0eVNlYXJjaFJlc3VsdHMpO1xuICAgICAgZXhwZWN0KHNlYXJjaFNlcnZpY2Uuc2VhcmNoQ29tbXVuaXRpZXMpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHZhbGlkUXVlcnkucXVlcnkpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZW1wdHkgY29tbXVuaXRpZXMgc2VhcmNoJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1NlYXJjaFNlcnZpY2Uuc2VhcmNoQ29tbXVuaXRpZXMubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBjb21tdW5pdGllczogW10sXG4gICAgICAgIHRvdGFsQ291bnQ6IDAsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29udHJvbGxlci5zZWFyY2hDb21tdW5pdGllcyh7IHF1ZXJ5OiAnbm9uZXhpc3RlbnQnIH0pO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmNvbW11bml0aWVzKS50b0VxdWFsKFtdKTtcbiAgICAgIGV4cGVjdChyZXN1bHQudG90YWxDb3VudCkudG9CZSgwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgY29tbXVuaXR5IHNlYXJjaCByZXN1bHRzIHN0cnVjdHVyZScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tTZWFyY2hTZXJ2aWNlLnNlYXJjaENvbW11bml0aWVzLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tDb21tdW5pdHlTZWFyY2hSZXN1bHRzKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29udHJvbGxlci5zZWFyY2hDb21tdW5pdGllcyh2YWxpZFF1ZXJ5KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlUHJvcGVydHkoJ2NvbW11bml0aWVzJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVQcm9wZXJ0eSgndG90YWxDb3VudCcpO1xuICAgICAgZXhwZWN0KEFycmF5LmlzQXJyYXkocmVzdWx0LmNvbW11bml0aWVzKSkudG9CZSh0cnVlKTtcblxuICAgICAgaWYgKHJlc3VsdC5jb21tdW5pdGllcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGNvbW11bml0eSA9IHJlc3VsdC5jb21tdW5pdGllc1swXTtcbiAgICAgICAgZXhwZWN0KGNvbW11bml0eSkudG9IYXZlUHJvcGVydHkoJ2lkJyk7XG4gICAgICAgIGV4cGVjdChjb21tdW5pdHkpLnRvSGF2ZVByb3BlcnR5KCduYW1lJyk7XG4gICAgICAgIGV4cGVjdChjb21tdW5pdHkpLnRvSGF2ZVByb3BlcnR5KCdkZXNjcmlwdGlvbicpO1xuICAgICAgICBleHBlY3QoY29tbXVuaXR5KS50b0hhdmVQcm9wZXJ0eSgnbWVtYmVyQ291bnQnKTtcbiAgICAgICAgZXhwZWN0KGNvbW11bml0eSkudG9IYXZlUHJvcGVydHkoJ2lzUHJpdmF0ZScpO1xuICAgICAgICBleHBlY3QodHlwZW9mIGNvbW11bml0eS5tZW1iZXJDb3VudCkudG9CZSgnbnVtYmVyJyk7XG4gICAgICAgIGV4cGVjdCh0eXBlb2YgY29tbXVuaXR5LmlzUHJpdmF0ZSkudG9CZSgnYm9vbGVhbicpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnR0VUIC9zZWFyY2gvdXNlcnMnLCAoKSA9PiB7XG4gICAgY29uc3QgdmFsaWRRdWVyeSA9IHtcbiAgICAgIHF1ZXJ5OiAnam9obiBkb2UnLFxuICAgICAgcm9sZTogJ2NsaWVudCcsXG4gICAgfTtcblxuICAgIGl0KCdzaG91bGQgc2VhcmNoIHVzZXJzIHN1Y2Nlc3NmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tTZWFyY2hTZXJ2aWNlLnNlYXJjaFVzZXJzLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tVc2VyU2VhcmNoUmVzdWx0cyk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbnRyb2xsZXIuc2VhcmNoVXNlcnModmFsaWRRdWVyeSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvRXF1YWwobW9ja1VzZXJTZWFyY2hSZXN1bHRzKTtcbiAgICAgIGV4cGVjdChzZWFyY2hTZXJ2aWNlLnNlYXJjaFVzZXJzKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgdmFsaWRRdWVyeS5xdWVyeSxcbiAgICAgICAgdmFsaWRRdWVyeS5yb2xlXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBzZWFyY2ggdXNlcnMgd2l0aG91dCByb2xlIGZpbHRlcicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHF1ZXJ5V2l0aG91dFJvbGUgPSB7IHF1ZXJ5OiAnYWRtaW4nIH07XG4gICAgICBtb2NrU2VhcmNoU2VydmljZS5zZWFyY2hVc2Vycy5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrVXNlclNlYXJjaFJlc3VsdHMpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb250cm9sbGVyLnNlYXJjaFVzZXJzKHF1ZXJ5V2l0aG91dFJvbGUpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKG1vY2tVc2VyU2VhcmNoUmVzdWx0cyk7XG4gICAgICBleHBlY3Qoc2VhcmNoU2VydmljZS5zZWFyY2hVc2VycykudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2FkbWluJywgdW5kZWZpbmVkKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGRpZmZlcmVudCByb2xlIGZpbHRlcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByb2xlcyA9IFsnY2xpZW50JywgJ3RoZXJhcGlzdCcsICdhZG1pbicsICdtb2RlcmF0b3InXTtcblxuICAgICAgZm9yIChjb25zdCByb2xlIG9mIHJvbGVzKSB7XG4gICAgICAgIG1vY2tTZWFyY2hTZXJ2aWNlLnNlYXJjaFVzZXJzLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgICB1c2VyczogW3sgLi4ubW9ja1VzZXIsIHJvbGUgfV0sXG4gICAgICAgICAgdG90YWxDb3VudDogMSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29udHJvbGxlci5zZWFyY2hVc2Vycyh7IHF1ZXJ5OiAndGVzdCcsIHJvbGUgfSk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQudXNlcnNbMF0ucm9sZSkudG9CZShyb2xlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgdXNlciBzZWFyY2ggcmVzdWx0cyBzdHJ1Y3R1cmUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrU2VhcmNoU2VydmljZS5zZWFyY2hVc2Vycy5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrVXNlclNlYXJjaFJlc3VsdHMpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb250cm9sbGVyLnNlYXJjaFVzZXJzKHZhbGlkUXVlcnkpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVQcm9wZXJ0eSgndXNlcnMnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCd0b3RhbENvdW50Jyk7XG4gICAgICBleHBlY3QoQXJyYXkuaXNBcnJheShyZXN1bHQudXNlcnMpKS50b0JlKHRydWUpO1xuXG4gICAgICBpZiAocmVzdWx0LnVzZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgdXNlciA9IHJlc3VsdC51c2Vyc1swXTtcbiAgICAgICAgZXhwZWN0KHVzZXIpLnRvSGF2ZVByb3BlcnR5KCdpZCcpO1xuICAgICAgICBleHBlY3QodXNlcikudG9IYXZlUHJvcGVydHkoJ2ZpcnN0TmFtZScpO1xuICAgICAgICBleHBlY3QodXNlcikudG9IYXZlUHJvcGVydHkoJ2xhc3ROYW1lJyk7XG4gICAgICAgIGV4cGVjdCh1c2VyKS50b0hhdmVQcm9wZXJ0eSgnZW1haWwnKTtcbiAgICAgICAgZXhwZWN0KHVzZXIpLnRvSGF2ZVByb3BlcnR5KCdyb2xlJyk7XG4gICAgICAgIGV4cGVjdCh1c2VyKS50b0hhdmVQcm9wZXJ0eSgnaXNBY3RpdmUnKTtcbiAgICAgICAgZXhwZWN0KHR5cGVvZiB1c2VyLmlzQWN0aXZlKS50b0JlKCdib29sZWFuJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdHRVQgL3NlYXJjaC9nbG9iYWwnLCAoKSA9PiB7XG4gICAgY29uc3QgdmFsaWRRdWVyeSA9IHtcbiAgICAgIHF1ZXJ5OiAnYW54aWV0eScsXG4gICAgICB0eXBlczogWyd1c2VycycsICd0aGVyYXBpc3RzJywgJ3Bvc3RzJywgJ2NvbW11bml0aWVzJ10sXG4gICAgfTtcblxuICAgIGl0KCdzaG91bGQgcGVyZm9ybSBnbG9iYWwgc2VhcmNoIHN1Y2Nlc3NmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tTZWFyY2hTZXJ2aWNlLmdsb2JhbFNlYXJjaC5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrR2xvYmFsU2VhcmNoUmVzdWx0cyk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbnRyb2xsZXIuZ2xvYmFsU2VhcmNoKHZhbGlkUXVlcnkpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKG1vY2tHbG9iYWxTZWFyY2hSZXN1bHRzKTtcbiAgICAgIGV4cGVjdChzZWFyY2hTZXJ2aWNlLmdsb2JhbFNlYXJjaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIHZhbGlkUXVlcnkucXVlcnksXG4gICAgICAgIHZhbGlkUXVlcnkudHlwZXNcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBnbG9iYWwgc2VhcmNoIHdpdGhvdXQgdHlwZSBmaWx0ZXJzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcXVlcnlXaXRob3V0VHlwZXMgPSB7IHF1ZXJ5OiAnbWVudGFsIGhlYWx0aCcgfTtcbiAgICAgIG1vY2tTZWFyY2hTZXJ2aWNlLmdsb2JhbFNlYXJjaC5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrR2xvYmFsU2VhcmNoUmVzdWx0cyk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbnRyb2xsZXIuZ2xvYmFsU2VhcmNoKHF1ZXJ5V2l0aG91dFR5cGVzKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9FcXVhbChtb2NrR2xvYmFsU2VhcmNoUmVzdWx0cyk7XG4gICAgICBleHBlY3Qoc2VhcmNoU2VydmljZS5nbG9iYWxTZWFyY2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdtZW50YWwgaGVhbHRoJywgdW5kZWZpbmVkKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZmlsdGVyIG91dCB1bnN1cHBvcnRlZCB0eXBlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHF1ZXJ5V2l0aFVuc3VwcG9ydGVkVHlwZXMgPSB7XG4gICAgICAgIHF1ZXJ5OiAndGVzdCcsXG4gICAgICAgIHR5cGVzOiBbJ3VzZXJzJywgJ3RoZXJhcGlzdHMnLCAnd29ya3NoZWV0cycsICd1bnN1cHBvcnRlZCddLFxuICAgICAgfTtcbiAgICAgIG1vY2tTZWFyY2hTZXJ2aWNlLmdsb2JhbFNlYXJjaC5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrR2xvYmFsU2VhcmNoUmVzdWx0cyk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbnRyb2xsZXIuZ2xvYmFsU2VhcmNoKHF1ZXJ5V2l0aFVuc3VwcG9ydGVkVHlwZXMpO1xuXG4gICAgICBleHBlY3Qoc2VhcmNoU2VydmljZS5nbG9iYWxTZWFyY2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICAndGVzdCcsXG4gICAgICAgIFsndXNlcnMnLCAndGhlcmFwaXN0cyddIC8vIHdvcmtzaGVldHMgYW5kIHVuc3VwcG9ydGVkIHNob3VsZCBiZSBmaWx0ZXJlZCBvdXRcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHZhbGlkYXRlIGdsb2JhbCBzZWFyY2ggcmVzdWx0cyBzdHJ1Y3R1cmUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrU2VhcmNoU2VydmljZS5nbG9iYWxTZWFyY2gubW9ja1Jlc29sdmVkVmFsdWUobW9ja0dsb2JhbFNlYXJjaFJlc3VsdHMpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb250cm9sbGVyLmdsb2JhbFNlYXJjaCh2YWxpZFF1ZXJ5KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlUHJvcGVydHkoJ3Jlc3VsdHMnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCd0b3RhbENvdW50Jyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVQcm9wZXJ0eSgncXVlcnknKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCdzZWFyY2hUeXBlcycpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnJlc3VsdHMpLnRvSGF2ZVByb3BlcnR5KCd1c2VycycpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5yZXN1bHRzKS50b0hhdmVQcm9wZXJ0eSgndGhlcmFwaXN0cycpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5yZXN1bHRzKS50b0hhdmVQcm9wZXJ0eSgncG9zdHMnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQucmVzdWx0cykudG9IYXZlUHJvcGVydHkoJ2NvbW11bml0aWVzJyk7XG5cbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlc3VsdC5yZXN1bHRzLnVzZXJzKSkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlc3VsdC5yZXN1bHRzLnRoZXJhcGlzdHMpKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KEFycmF5LmlzQXJyYXkocmVzdWx0LnJlc3VsdHMucG9zdHMpKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KEFycmF5LmlzQXJyYXkocmVzdWx0LnJlc3VsdHMuY29tbXVuaXRpZXMpKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KEFycmF5LmlzQXJyYXkocmVzdWx0LnNlYXJjaFR5cGVzKSkudG9CZSh0cnVlKTtcblxuICAgICAgZXhwZWN0KHR5cGVvZiByZXN1bHQudG90YWxDb3VudCkudG9CZSgnbnVtYmVyJyk7XG4gICAgICBleHBlY3QodHlwZW9mIHJlc3VsdC5xdWVyeSkudG9CZSgnc3RyaW5nJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBlbXB0eSBnbG9iYWwgc2VhcmNoIHJlc3VsdHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBlbXB0eVJlc3VsdHMgPSB7XG4gICAgICAgIHJlc3VsdHM6IHtcbiAgICAgICAgICB1c2VyczogW10sXG4gICAgICAgICAgdGhlcmFwaXN0czogW10sXG4gICAgICAgICAgcG9zdHM6IFtdLFxuICAgICAgICAgIGNvbW11bml0aWVzOiBbXSxcbiAgICAgICAgfSxcbiAgICAgICAgdG90YWxDb3VudDogMCxcbiAgICAgICAgcXVlcnk6ICdub25leGlzdGVudCcsXG4gICAgICAgIHNlYXJjaFR5cGVzOiBbJ3VzZXJzJywgJ3RoZXJhcGlzdHMnLCAncG9zdHMnLCAnY29tbXVuaXRpZXMnXSxcbiAgICAgIH07XG4gICAgICBtb2NrU2VhcmNoU2VydmljZS5nbG9iYWxTZWFyY2gubW9ja1Jlc29sdmVkVmFsdWUoZW1wdHlSZXN1bHRzKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29udHJvbGxlci5nbG9iYWxTZWFyY2goeyBxdWVyeTogJ25vbmV4aXN0ZW50JyB9KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC50b3RhbENvdW50KS50b0JlKDApO1xuICAgICAgZXhwZWN0KHJlc3VsdC5yZXN1bHRzLnVzZXJzKS50b0hhdmVMZW5ndGgoMCk7XG4gICAgICBleHBlY3QocmVzdWx0LnJlc3VsdHMudGhlcmFwaXN0cykudG9IYXZlTGVuZ3RoKDApO1xuICAgICAgZXhwZWN0KHJlc3VsdC5yZXN1bHRzLnBvc3RzKS50b0hhdmVMZW5ndGgoMCk7XG4gICAgICBleHBlY3QocmVzdWx0LnJlc3VsdHMuY29tbXVuaXRpZXMpLnRvSGF2ZUxlbmd0aCgwKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1Jlc3BvbnNlIEZvcm1hdCBWYWxpZGF0aW9uJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIHByb3Blcmx5IGZvcm1hdHRlZCB0aGVyYXBpc3Qgc2VhcmNoIHJlc3BvbnNlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1NlYXJjaFNlcnZpY2Uuc2VhcmNoVGhlcmFwaXN0cy5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrVGhlcmFwaXN0U2VhcmNoUmVzdWx0cyk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbnRyb2xsZXIuc2VhcmNoVGhlcmFwaXN0cyh7IHF1ZXJ5OiAndGVzdCcgfSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCd0aGVyYXBpc3RzJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVQcm9wZXJ0eSgndG90YWxDb3VudCcpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlUHJvcGVydHkoJ2ZpbHRlcnMnKTtcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlc3VsdC50aGVyYXBpc3RzKSkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdCh0eXBlb2YgcmVzdWx0LnRvdGFsQ291bnQpLnRvQmUoJ251bWJlcicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gcHJvcGVybHkgZm9ybWF0dGVkIHBvc3Qgc2VhcmNoIHJlc3BvbnNlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1NlYXJjaFNlcnZpY2Uuc2VhcmNoUG9zdHMubW9ja1Jlc29sdmVkVmFsdWUobW9ja1Bvc3RTZWFyY2hSZXN1bHRzKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29udHJvbGxlci5zZWFyY2hQb3N0cyh7IHF1ZXJ5OiAndGVzdCcgfSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCdwb3N0cycpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlUHJvcGVydHkoJ3RvdGFsQ291bnQnKTtcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlc3VsdC5wb3N0cykpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QodHlwZW9mIHJlc3VsdC50b3RhbENvdW50KS50b0JlKCdudW1iZXInKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIHByb3Blcmx5IGZvcm1hdHRlZCBnbG9iYWwgc2VhcmNoIHJlc3BvbnNlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1NlYXJjaFNlcnZpY2UuZ2xvYmFsU2VhcmNoLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tHbG9iYWxTZWFyY2hSZXN1bHRzKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29udHJvbGxlci5nbG9iYWxTZWFyY2goeyBxdWVyeTogJ3Rlc3QnIH0pO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVQcm9wZXJ0eSgncmVzdWx0cycpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlUHJvcGVydHkoJ3RvdGFsQ291bnQnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCdxdWVyeScpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlUHJvcGVydHkoJ3NlYXJjaFR5cGVzJyk7XG4gICAgICBleHBlY3QodHlwZW9mIHJlc3VsdC5yZXN1bHRzKS50b0JlKCdvYmplY3QnKTtcbiAgICAgIGV4cGVjdCh0eXBlb2YgcmVzdWx0LnRvdGFsQ291bnQpLnRvQmUoJ251bWJlcicpO1xuICAgICAgZXhwZWN0KHR5cGVvZiByZXN1bHQucXVlcnkpLnRvQmUoJ3N0cmluZycpO1xuICAgICAgZXhwZWN0KEFycmF5LmlzQXJyYXkocmVzdWx0LnNlYXJjaFR5cGVzKSkudG9CZSh0cnVlKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0Vycm9yIEhhbmRsaW5nJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIHNlYXJjaCBzZXJ2aWNlIHVuYXZhaWxhYmxlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgc2VydmljZUVycm9yID0gbmV3IEVycm9yKCdTZWFyY2ggc2VydmljZSB0ZW1wb3JhcmlseSB1bmF2YWlsYWJsZScpO1xuICAgICAgbW9ja1NlYXJjaFNlcnZpY2Uuc2VhcmNoVGhlcmFwaXN0cy5tb2NrUmVqZWN0ZWRWYWx1ZShzZXJ2aWNlRXJyb3IpO1xuXG4gICAgICBhd2FpdCBleHBlY3QoXG4gICAgICAgIGNvbnRyb2xsZXIuc2VhcmNoVGhlcmFwaXN0cyh7IHF1ZXJ5OiAndGVzdCcgfSlcbiAgICAgICkucmVqZWN0cy50b1Rocm93KHNlcnZpY2VFcnJvcik7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBkYXRhYmFzZSBjb25uZWN0aW9uIGVycm9ycycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGRiRXJyb3IgPSBuZXcgRXJyb3IoJ0RhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkJyk7XG4gICAgICBtb2NrU2VhcmNoU2VydmljZS5zZWFyY2hDb21tdW5pdGllcy5tb2NrUmVqZWN0ZWRWYWx1ZShkYkVycm9yKTtcblxuICAgICAgYXdhaXQgZXhwZWN0KFxuICAgICAgICBjb250cm9sbGVyLnNlYXJjaENvbW11bml0aWVzKHsgcXVlcnk6ICd0ZXN0JyB9KVxuICAgICAgKS5yZWplY3RzLnRvVGhyb3coZGJFcnJvcik7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBzZWFyY2ggaW5kZXggZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgaW5kZXhFcnJvciA9IG5ldyBFcnJvcignU2VhcmNoIGluZGV4IHVuYXZhaWxhYmxlJyk7XG4gICAgICBtb2NrU2VhcmNoU2VydmljZS5nbG9iYWxTZWFyY2gubW9ja1JlamVjdGVkVmFsdWUoaW5kZXhFcnJvcik7XG5cbiAgICAgIGF3YWl0IGV4cGVjdChcbiAgICAgICAgY29udHJvbGxlci5nbG9iYWxTZWFyY2goeyBxdWVyeTogJ3Rlc3QnIH0pXG4gICAgICApLnJlamVjdHMudG9UaHJvdyhpbmRleEVycm9yKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIG1hbGZvcm1lZCBxdWVyeSBwYXJhbWV0ZXJzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gU2VydmljZSBzaG91bGQgaGFuZGxlIG1hbGZvcm1lZCBxdWVyaWVzIGdyYWNlZnVsbHlcbiAgICAgIG1vY2tTZWFyY2hTZXJ2aWNlLnNlYXJjaFVzZXJzLm1vY2tSZXNvbHZlZFZhbHVlKHsgdXNlcnM6IFtdLCB0b3RhbENvdW50OiAwIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb250cm9sbGVyLnNlYXJjaFVzZXJzKHsgcXVlcnk6ICcnLCByb2xlOiAnaW52YWxpZF9yb2xlJyB9KTtcbiAgICAgIGV4cGVjdChyZXN1bHQudXNlcnMpLnRvRXF1YWwoW10pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnSW50ZWdyYXRpb24gVGVzdHMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgY29tcGxldGUgc2VhcmNoIHdvcmtmbG93JywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gU2VhcmNoIHRoZXJhcGlzdHNcbiAgICAgIG1vY2tTZWFyY2hTZXJ2aWNlLnNlYXJjaFRoZXJhcGlzdHMubW9ja1Jlc29sdmVkVmFsdWUobW9ja1RoZXJhcGlzdFNlYXJjaFJlc3VsdHMpO1xuICAgICAgY29uc3QgdGhlcmFwaXN0UmVzdWx0ID0gYXdhaXQgY29udHJvbGxlci5zZWFyY2hUaGVyYXBpc3RzKHsgcXVlcnk6ICdhbnhpZXR5JyB9KTtcbiAgICAgIGV4cGVjdCh0aGVyYXBpc3RSZXN1bHQudGhlcmFwaXN0cykudG9IYXZlTGVuZ3RoKDEpO1xuXG4gICAgICAvLyBTZWFyY2ggcG9zdHNcbiAgICAgIG1vY2tTZWFyY2hTZXJ2aWNlLnNlYXJjaFBvc3RzLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tQb3N0U2VhcmNoUmVzdWx0cyk7XG4gICAgICBjb25zdCBwb3N0UmVzdWx0ID0gYXdhaXQgY29udHJvbGxlci5zZWFyY2hQb3N0cyh7IHF1ZXJ5OiAnYW54aWV0eScgfSk7XG4gICAgICBleHBlY3QocG9zdFJlc3VsdC5wb3N0cykudG9IYXZlTGVuZ3RoKDEpO1xuXG4gICAgICAvLyBTZWFyY2ggY29tbXVuaXRpZXNcbiAgICAgIG1vY2tTZWFyY2hTZXJ2aWNlLnNlYXJjaENvbW11bml0aWVzLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tDb21tdW5pdHlTZWFyY2hSZXN1bHRzKTtcbiAgICAgIGNvbnN0IGNvbW11bml0eVJlc3VsdCA9IGF3YWl0IGNvbnRyb2xsZXIuc2VhcmNoQ29tbXVuaXRpZXMoeyBxdWVyeTogJ2FueGlldHknIH0pO1xuICAgICAgZXhwZWN0KGNvbW11bml0eVJlc3VsdC5jb21tdW5pdGllcykudG9IYXZlTGVuZ3RoKDEpO1xuXG4gICAgICAvLyBHbG9iYWwgc2VhcmNoXG4gICAgICBtb2NrU2VhcmNoU2VydmljZS5nbG9iYWxTZWFyY2gubW9ja1Jlc29sdmVkVmFsdWUobW9ja0dsb2JhbFNlYXJjaFJlc3VsdHMpO1xuICAgICAgY29uc3QgZ2xvYmFsUmVzdWx0ID0gYXdhaXQgY29udHJvbGxlci5nbG9iYWxTZWFyY2goeyBxdWVyeTogJ2FueGlldHknIH0pO1xuICAgICAgZXhwZWN0KGdsb2JhbFJlc3VsdC50b3RhbENvdW50KS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBzZWFyY2ggd2l0aCBmaWx0ZXJzIGFuZCBwYWdpbmF0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgYWR2YW5jZWRRdWVyeSA9IHtcbiAgICAgICAgcXVlcnk6ICd0aGVyYXB5JyxcbiAgICAgICAgbG9jYXRpb246ICdOZXcgWW9yaycsXG4gICAgICAgIHNwZWNpYWx0aWVzOiBbJ0FueGlldHknXSxcbiAgICAgICAgcHJpY2VSYW5nZTogeyBtaW46IDEwMCwgbWF4OiAyMDAgfSxcbiAgICAgICAgcmF0aW5nOiA0LjAsXG4gICAgICAgIHZlcmlmaWVkT25seTogdHJ1ZSxcbiAgICAgIH07XG5cbiAgICAgIG1vY2tTZWFyY2hTZXJ2aWNlLnNlYXJjaFRoZXJhcGlzdHMubW9ja1Jlc29sdmVkVmFsdWUobW9ja1RoZXJhcGlzdFNlYXJjaFJlc3VsdHMpO1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29udHJvbGxlci5zZWFyY2hUaGVyYXBpc3RzKGFkdmFuY2VkUXVlcnkpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnRoZXJhcGlzdHMpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QocmVzdWx0LmZpbHRlcnMpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3Qoc2VhcmNoU2VydmljZS5zZWFyY2hUaGVyYXBpc3RzKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgJ3RoZXJhcHknLFxuICAgICAgICBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgICAgbG9jYXRpb246ICdOZXcgWW9yaycsXG4gICAgICAgICAgc3BlY2lhbHRpZXM6IFsnQW54aWV0eSddLFxuICAgICAgICAgIHZlcmlmaWVkT25seTogdHJ1ZSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHZhbGlkYXRlIHNlYXJjaCByZXN1bHQgY29uc2lzdGVuY3knLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBxdWVyeSA9ICdtZW50YWwgaGVhbHRoJztcblxuICAgICAgLy8gU2VhcmNoIGFjcm9zcyBhbGwgdHlwZXNcbiAgICAgIG1vY2tTZWFyY2hTZXJ2aWNlLnNlYXJjaFRoZXJhcGlzdHMubW9ja1Jlc29sdmVkVmFsdWUobW9ja1RoZXJhcGlzdFNlYXJjaFJlc3VsdHMpO1xuICAgICAgbW9ja1NlYXJjaFNlcnZpY2Uuc2VhcmNoUG9zdHMubW9ja1Jlc29sdmVkVmFsdWUobW9ja1Bvc3RTZWFyY2hSZXN1bHRzKTtcbiAgICAgIG1vY2tTZWFyY2hTZXJ2aWNlLnNlYXJjaENvbW11bml0aWVzLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tDb21tdW5pdHlTZWFyY2hSZXN1bHRzKTtcbiAgICAgIG1vY2tTZWFyY2hTZXJ2aWNlLnNlYXJjaFVzZXJzLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tVc2VyU2VhcmNoUmVzdWx0cyk7XG4gICAgICBtb2NrU2VhcmNoU2VydmljZS5nbG9iYWxTZWFyY2gubW9ja1Jlc29sdmVkVmFsdWUobW9ja0dsb2JhbFNlYXJjaFJlc3VsdHMpO1xuXG4gICAgICBjb25zdCBbdGhlcmFwaXN0UmVzdWx0LCBwb3N0UmVzdWx0LCBjb21tdW5pdHlSZXN1bHQsIHVzZXJSZXN1bHQsIGdsb2JhbFJlc3VsdF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIGNvbnRyb2xsZXIuc2VhcmNoVGhlcmFwaXN0cyh7IHF1ZXJ5IH0pLFxuICAgICAgICBjb250cm9sbGVyLnNlYXJjaFBvc3RzKHsgcXVlcnkgfSksXG4gICAgICAgIGNvbnRyb2xsZXIuc2VhcmNoQ29tbXVuaXRpZXMoeyBxdWVyeSB9KSxcbiAgICAgICAgY29udHJvbGxlci5zZWFyY2hVc2Vycyh7IHF1ZXJ5IH0pLFxuICAgICAgICBjb250cm9sbGVyLmdsb2JhbFNlYXJjaCh7IHF1ZXJ5IH0pLFxuICAgICAgXSk7XG5cbiAgICAgIC8vIFZhbGlkYXRlIHRoYXQgaW5kaXZpZHVhbCBzZWFyY2hlcyBtYXRjaCBnbG9iYWwgc2VhcmNoIGNvbXBvbmVudHNcbiAgICAgIGV4cGVjdChnbG9iYWxSZXN1bHQucmVzdWx0cy50aGVyYXBpc3RzKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICBleHBlY3QoZ2xvYmFsUmVzdWx0LnJlc3VsdHMucG9zdHMpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgIGV4cGVjdChnbG9iYWxSZXN1bHQucmVzdWx0cy5jb21tdW5pdGllcykudG9IYXZlTGVuZ3RoKDEpO1xuICAgICAgZXhwZWN0KGdsb2JhbFJlc3VsdC5yZXN1bHRzLnVzZXJzKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBlZGdlIGNhc2VzIGFuZCBib3VuZGFyeSBjb25kaXRpb25zJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gRW1wdHkgcXVlcnlcbiAgICAgIG1vY2tTZWFyY2hTZXJ2aWNlLmdsb2JhbFNlYXJjaC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHJlc3VsdHM6IHsgdXNlcnM6IFtdLCB0aGVyYXBpc3RzOiBbXSwgcG9zdHM6IFtdLCBjb21tdW5pdGllczogW10gfSxcbiAgICAgICAgdG90YWxDb3VudDogMCxcbiAgICAgICAgcXVlcnk6ICcnLFxuICAgICAgICBzZWFyY2hUeXBlczogW10sXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IGVtcHR5UmVzdWx0ID0gYXdhaXQgY29udHJvbGxlci5nbG9iYWxTZWFyY2goeyBxdWVyeTogJycgfSk7XG4gICAgICBleHBlY3QoZW1wdHlSZXN1bHQudG90YWxDb3VudCkudG9CZSgwKTtcblxuICAgICAgLy8gVmVyeSBsb25nIHF1ZXJ5XG4gICAgICBjb25zdCBsb25nUXVlcnkgPSAnYScucmVwZWF0KDEwMDApO1xuICAgICAgbW9ja1NlYXJjaFNlcnZpY2Uuc2VhcmNoVGhlcmFwaXN0cy5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrVGhlcmFwaXN0U2VhcmNoUmVzdWx0cyk7XG4gICAgICBjb25zdCBsb25nUXVlcnlSZXN1bHQgPSBhd2FpdCBjb250cm9sbGVyLnNlYXJjaFRoZXJhcGlzdHMoeyBxdWVyeTogbG9uZ1F1ZXJ5IH0pO1xuICAgICAgZXhwZWN0KGxvbmdRdWVyeVJlc3VsdCkudG9CZURlZmluZWQoKTtcblxuICAgICAgLy8gU3BlY2lhbCBjaGFyYWN0ZXJzIGluIHF1ZXJ5XG4gICAgICBtb2NrU2VhcmNoU2VydmljZS5zZWFyY2hDb21tdW5pdGllcy5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrQ29tbXVuaXR5U2VhcmNoUmVzdWx0cyk7XG4gICAgICBjb25zdCBzcGVjaWFsQ2hhclJlc3VsdCA9IGF3YWl0IGNvbnRyb2xsZXIuc2VhcmNoQ29tbXVuaXRpZXMoeyBxdWVyeTogJyFAIyQlXiYqKCknIH0pO1xuICAgICAgZXhwZWN0KHNwZWNpYWxDaGFyUmVzdWx0KS50b0JlRGVmaW5lZCgpO1xuICAgIH0pO1xuICB9KTtcbn0pOyJdLCJ2ZXJzaW9uIjozfQ==