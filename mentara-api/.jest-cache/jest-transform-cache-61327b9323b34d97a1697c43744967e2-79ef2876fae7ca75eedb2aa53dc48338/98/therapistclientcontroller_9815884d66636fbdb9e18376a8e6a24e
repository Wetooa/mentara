7547ebc6c9ac2e4409f791d9d80fb114
"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var _a, _b, _c, _d;
Object.defineProperty(exports, "__esModule", { value: true });
exports.TherapistClientController = void 0;
const common_1 = require("@nestjs/common");
const jwt_auth_guard_1 = require("../../auth/guards/jwt-auth.guard");
const current_user_id_decorator_1 = require("../../auth/decorators/current-user-id.decorator");
const therapist_management_service_1 = require("../therapist-management.service");
const swagger_1 = require("@nestjs/swagger");
// Using any type to avoid conflicts with service definitions
let TherapistClientController = class TherapistClientController {
    therapistManagementService;
    constructor(therapistManagementService) {
        this.therapistManagementService = therapistManagementService;
    }
    async getAssignedPatients(therapistId) {
        return this.therapistManagementService.getAssignedPatients(therapistId);
    }
    async getAllClients(therapistId) {
        return this.therapistManagementService.getAllClients(therapistId);
    }
    async getClientById(therapistId, clientId) {
        return this.therapistManagementService.getClientById(therapistId, clientId);
    }
};
exports.TherapistClientController = TherapistClientController;
__decorate([
    (0, common_1.Get)('assigned'),
    (0, swagger_1.ApiOperation)({
        summary: 'Retrieve get assigned patients',
        description: 'Retrieve get assigned patients'
    }),
    (0, swagger_1.ApiResponse)({
        status: 200,
        description: 'Retrieved successfully'
    }),
    (0, swagger_1.ApiResponse)({ status: 401, description: 'Unauthorized' }),
    (0, common_1.HttpCode)(common_1.HttpStatus.OK),
    __param(0, (0, current_user_id_decorator_1.CurrentUserId)()),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String]),
    __metadata("design:returntype", typeof (_b = typeof Promise !== "undefined" && Promise) === "function" ? _b : Object)
], TherapistClientController.prototype, "getAssignedPatients", null);
__decorate([
    (0, common_1.Get)('all'),
    (0, swagger_1.ApiOperation)({
        summary: 'Retrieve get all clients',
        description: 'Retrieve get all clients'
    }),
    (0, swagger_1.ApiResponse)({
        status: 200,
        description: 'Retrieved successfully'
    }),
    (0, swagger_1.ApiResponse)({ status: 401, description: 'Unauthorized' }),
    (0, common_1.HttpCode)(common_1.HttpStatus.OK),
    __param(0, (0, current_user_id_decorator_1.CurrentUserId)()),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String]),
    __metadata("design:returntype", typeof (_c = typeof Promise !== "undefined" && Promise) === "function" ? _c : Object)
], TherapistClientController.prototype, "getAllClients", null);
__decorate([
    (0, common_1.Get)(':id'),
    (0, swagger_1.ApiOperation)({
        summary: 'Retrieve get client by id',
        description: 'Retrieve get client by id'
    }),
    (0, swagger_1.ApiResponse)({
        status: 200,
        description: 'Retrieved successfully'
    }),
    (0, swagger_1.ApiResponse)({ status: 401, description: 'Unauthorized' }),
    (0, common_1.HttpCode)(common_1.HttpStatus.OK),
    __param(0, (0, current_user_id_decorator_1.CurrentUserId)()),
    __param(1, (0, common_1.Param)('id')),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [String, String]),
    __metadata("design:returntype", typeof (_d = typeof Promise !== "undefined" && Promise) === "function" ? _d : Object)
], TherapistClientController.prototype, "getClientById", null);
exports.TherapistClientController = TherapistClientController = __decorate([
    (0, swagger_1.ApiTags)('therapist-client'),
    (0, swagger_1.ApiBearerAuth)('JWT-auth'),
    (0, common_1.Controller)('therapist/clients'),
    (0, common_1.UseGuards)(jwt_auth_guard_1.JwtAuthGuard),
    __metadata("design:paramtypes", [typeof (_a = typeof therapist_management_service_1.TherapistManagementService !== "undefined" && therapist_management_service_1.TherapistManagementService) === "function" ? _a : Object])
], TherapistClientController);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvd2V0b29hL0RvY3VtZW50cy9jb2RlL3Byb2plY3RzL21lbnRhcmEvbWVudGFyYS1hcGkvc3JjL3RoZXJhcGlzdC9jb250cm9sbGVycy90aGVyYXBpc3QtY2xpZW50LmNvbnRyb2xsZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLDJDQU93QjtBQUN4QixxRUFBZ0U7QUFDaEUsK0ZBQWdGO0FBQ2hGLGtGQUE2RTtBQUM3RSw2Q0FReUI7QUFDekIsNkRBQTZEO0FBTXRELElBQU0seUJBQXlCLEdBQS9CLE1BQU0seUJBQXlCO0lBRWpCO0lBRG5CLFlBQ21CLDBCQUFzRDtRQUF0RCwrQkFBMEIsR0FBMUIsMEJBQTBCLENBQTRCO0lBQ3RFLENBQUM7SUFrQ0UsQUFBTixLQUFLLENBQUMsbUJBQW1CLENBQ04sV0FBbUI7UUFFcEMsT0FBTyxJQUFJLENBQUMsMEJBQTBCLENBQUMsbUJBQW1CLENBQUMsV0FBVyxDQUFDLENBQUM7SUFDMUUsQ0FBQztJQWtDSyxBQUFOLEtBQUssQ0FBQyxhQUFhLENBQWtCLFdBQW1CO1FBQ3RELE9BQU8sSUFBSSxDQUFDLDBCQUEwQixDQUFDLGFBQWEsQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUNwRSxDQUFDO0lBa0NLLEFBQU4sS0FBSyxDQUFDLGFBQWEsQ0FDQSxXQUFtQixFQUN2QixRQUFnQjtRQUU3QixPQUFPLElBQUksQ0FBQywwQkFBMEIsQ0FBQyxhQUFhLENBQUMsV0FBVyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQzlFLENBQUM7Q0FDRixDQUFBO0FBckhZLDhEQUF5QjtBQXFDOUI7SUFoQ0wsSUFBQSxZQUFHLEVBQUMsVUFBVSxDQUFDO0lBR2YsSUFBQSxzQkFBWSxFQUFDO1FBR1osT0FBTyxFQUFFLGdDQUFnQztRQUd6QyxXQUFXLEVBQUUsZ0NBQWdDO0tBRzlDLENBQUM7SUFHRCxJQUFBLHFCQUFXLEVBQUM7UUFHWCxNQUFNLEVBQUUsR0FBRztRQUdYLFdBQVcsRUFBRSx3QkFBd0I7S0FHdEMsQ0FBQztJQUdELElBQUEscUJBQVcsRUFBQyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsV0FBVyxFQUFFLGNBQWMsRUFBRSxDQUFDO0lBSXpELElBQUEsaUJBQVEsRUFBQyxtQkFBVSxDQUFDLEVBQUUsQ0FBQztJQUVyQixXQUFBLElBQUEseUNBQWEsR0FBRSxDQUFBOzs7d0RBQ2YsT0FBTyxvQkFBUCxPQUFPO29FQUVUO0FBa0NLO0lBaENMLElBQUEsWUFBRyxFQUFDLEtBQUssQ0FBQztJQUdWLElBQUEsc0JBQVksRUFBQztRQUdaLE9BQU8sRUFBRSwwQkFBMEI7UUFHbkMsV0FBVyxFQUFFLDBCQUEwQjtLQUd4QyxDQUFDO0lBR0QsSUFBQSxxQkFBVyxFQUFDO1FBR1gsTUFBTSxFQUFFLEdBQUc7UUFHWCxXQUFXLEVBQUUsd0JBQXdCO0tBR3RDLENBQUM7SUFHRCxJQUFBLHFCQUFXLEVBQUMsRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLFdBQVcsRUFBRSxjQUFjLEVBQUUsQ0FBQztJQUl6RCxJQUFBLGlCQUFRLEVBQUMsbUJBQVUsQ0FBQyxFQUFFLENBQUM7SUFDSCxXQUFBLElBQUEseUNBQWEsR0FBRSxDQUFBOzs7d0RBQXVCLE9BQU8sb0JBQVAsT0FBTzs4REFFakU7QUFrQ0s7SUFoQ0wsSUFBQSxZQUFHLEVBQUMsS0FBSyxDQUFDO0lBR1YsSUFBQSxzQkFBWSxFQUFDO1FBR1osT0FBTyxFQUFFLDJCQUEyQjtRQUdwQyxXQUFXLEVBQUUsMkJBQTJCO0tBR3pDLENBQUM7SUFHRCxJQUFBLHFCQUFXLEVBQUM7UUFHWCxNQUFNLEVBQUUsR0FBRztRQUdYLFdBQVcsRUFBRSx3QkFBd0I7S0FHdEMsQ0FBQztJQUdELElBQUEscUJBQVcsRUFBQyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsV0FBVyxFQUFFLGNBQWMsRUFBRSxDQUFDO0lBSXpELElBQUEsaUJBQVEsRUFBQyxtQkFBVSxDQUFDLEVBQUUsQ0FBQztJQUVyQixXQUFBLElBQUEseUNBQWEsR0FBRSxDQUFBO0lBQ2YsV0FBQSxJQUFBLGNBQUssRUFBQyxJQUFJLENBQUMsQ0FBQTs7O3dEQUNYLE9BQU8sb0JBQVAsT0FBTzs4REFFVDtvQ0FwSFUseUJBQXlCO0lBSnJDLElBQUEsaUJBQU8sRUFBQyxrQkFBa0IsQ0FBQztJQUMzQixJQUFBLHVCQUFhLEVBQUMsVUFBVSxDQUFDO0lBQ3pCLElBQUEsbUJBQVUsRUFBQyxtQkFBbUIsQ0FBQztJQUMvQixJQUFBLGtCQUFTLEVBQUMsNkJBQVksQ0FBQzt5REFHeUIseURBQTBCLG9CQUExQix5REFBMEI7R0FGOUQseUJBQXlCLENBcUhyQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvaG9tZS93ZXRvb2EvRG9jdW1lbnRzL2NvZGUvcHJvamVjdHMvbWVudGFyYS9tZW50YXJhLWFwaS9zcmMvdGhlcmFwaXN0L2NvbnRyb2xsZXJzL3RoZXJhcGlzdC1jbGllbnQuY29udHJvbGxlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBDb250cm9sbGVyLFxuICBHZXQsXG4gIFBhcmFtLFxuICBIdHRwQ29kZSxcbiAgSHR0cFN0YXR1cyxcbiAgVXNlR3VhcmRzLFxufSBmcm9tICdAbmVzdGpzL2NvbW1vbic7XG5pbXBvcnQgeyBKd3RBdXRoR3VhcmQgfSBmcm9tICcuLi8uLi9hdXRoL2d1YXJkcy9qd3QtYXV0aC5ndWFyZCc7XG5pbXBvcnQgeyBDdXJyZW50VXNlcklkIH0gZnJvbSAnLi4vLi4vYXV0aC9kZWNvcmF0b3JzL2N1cnJlbnQtdXNlci1pZC5kZWNvcmF0b3InO1xuaW1wb3J0IHsgVGhlcmFwaXN0TWFuYWdlbWVudFNlcnZpY2UgfSBmcm9tICcuLi90aGVyYXBpc3QtbWFuYWdlbWVudC5zZXJ2aWNlJztcbmltcG9ydCB7XG4gIEFwaVRhZ3MsXG4gIEFwaU9wZXJhdGlvbixcbiAgQXBpUmVzcG9uc2UsXG4gIEFwaUJvZHksXG4gIEFwaUJlYXJlckF1dGgsXG4gIEFwaVBhcmFtLFxuICBBcGlRdWVyeSxcbn0gZnJvbSAnQG5lc3Rqcy9zd2FnZ2VyJztcbi8vIFVzaW5nIGFueSB0eXBlIHRvIGF2b2lkIGNvbmZsaWN0cyB3aXRoIHNlcnZpY2UgZGVmaW5pdGlvbnNcblxuQEFwaVRhZ3MoJ3RoZXJhcGlzdC1jbGllbnQnKVxuQEFwaUJlYXJlckF1dGgoJ0pXVC1hdXRoJylcbkBDb250cm9sbGVyKCd0aGVyYXBpc3QvY2xpZW50cycpXG5AVXNlR3VhcmRzKEp3dEF1dGhHdWFyZClcbmV4cG9ydCBjbGFzcyBUaGVyYXBpc3RDbGllbnRDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSByZWFkb25seSB0aGVyYXBpc3RNYW5hZ2VtZW50U2VydmljZTogVGhlcmFwaXN0TWFuYWdlbWVudFNlcnZpY2UsXG4gICkge31cblxuICBAR2V0KCdhc3NpZ25lZCcpXG5cblxuICBAQXBpT3BlcmF0aW9uKHsgXG5cblxuICAgIHN1bW1hcnk6ICdSZXRyaWV2ZSBnZXQgYXNzaWduZWQgcGF0aWVudHMnLFxuXG5cbiAgICBkZXNjcmlwdGlvbjogJ1JldHJpZXZlIGdldCBhc3NpZ25lZCBwYXRpZW50cycgXG5cblxuICB9KVxuXG5cbiAgQEFwaVJlc3BvbnNlKHsgXG5cblxuICAgIHN0YXR1czogMjAwLCBcblxuXG4gICAgZGVzY3JpcHRpb246ICdSZXRyaWV2ZWQgc3VjY2Vzc2Z1bGx5JyBcblxuXG4gIH0pXG5cblxuICBAQXBpUmVzcG9uc2UoeyBzdGF0dXM6IDQwMSwgZGVzY3JpcHRpb246ICdVbmF1dGhvcml6ZWQnIH0pXG5cblxuICBcbiAgQEh0dHBDb2RlKEh0dHBTdGF0dXMuT0spXG4gIGFzeW5jIGdldEFzc2lnbmVkUGF0aWVudHMoXG4gICAgQEN1cnJlbnRVc2VySWQoKSB0aGVyYXBpc3RJZDogc3RyaW5nLFxuICApOiBQcm9taXNlPGFueVtdPiB7XG4gICAgcmV0dXJuIHRoaXMudGhlcmFwaXN0TWFuYWdlbWVudFNlcnZpY2UuZ2V0QXNzaWduZWRQYXRpZW50cyh0aGVyYXBpc3RJZCk7XG4gIH1cblxuICBAR2V0KCdhbGwnKVxuXG5cbiAgQEFwaU9wZXJhdGlvbih7IFxuXG5cbiAgICBzdW1tYXJ5OiAnUmV0cmlldmUgZ2V0IGFsbCBjbGllbnRzJyxcblxuXG4gICAgZGVzY3JpcHRpb246ICdSZXRyaWV2ZSBnZXQgYWxsIGNsaWVudHMnIFxuXG5cbiAgfSlcblxuXG4gIEBBcGlSZXNwb25zZSh7IFxuXG5cbiAgICBzdGF0dXM6IDIwMCwgXG5cblxuICAgIGRlc2NyaXB0aW9uOiAnUmV0cmlldmVkIHN1Y2Nlc3NmdWxseScgXG5cblxuICB9KVxuXG5cbiAgQEFwaVJlc3BvbnNlKHsgc3RhdHVzOiA0MDEsIGRlc2NyaXB0aW9uOiAnVW5hdXRob3JpemVkJyB9KVxuXG5cbiAgXG4gIEBIdHRwQ29kZShIdHRwU3RhdHVzLk9LKVxuICBhc3luYyBnZXRBbGxDbGllbnRzKEBDdXJyZW50VXNlcklkKCkgdGhlcmFwaXN0SWQ6IHN0cmluZyk6IFByb21pc2U8YW55W10+IHtcbiAgICByZXR1cm4gdGhpcy50aGVyYXBpc3RNYW5hZ2VtZW50U2VydmljZS5nZXRBbGxDbGllbnRzKHRoZXJhcGlzdElkKTtcbiAgfVxuXG4gIEBHZXQoJzppZCcpXG5cblxuICBAQXBpT3BlcmF0aW9uKHsgXG5cblxuICAgIHN1bW1hcnk6ICdSZXRyaWV2ZSBnZXQgY2xpZW50IGJ5IGlkJyxcblxuXG4gICAgZGVzY3JpcHRpb246ICdSZXRyaWV2ZSBnZXQgY2xpZW50IGJ5IGlkJyBcblxuXG4gIH0pXG5cblxuICBAQXBpUmVzcG9uc2UoeyBcblxuXG4gICAgc3RhdHVzOiAyMDAsIFxuXG5cbiAgICBkZXNjcmlwdGlvbjogJ1JldHJpZXZlZCBzdWNjZXNzZnVsbHknIFxuXG5cbiAgfSlcblxuXG4gIEBBcGlSZXNwb25zZSh7IHN0YXR1czogNDAxLCBkZXNjcmlwdGlvbjogJ1VuYXV0aG9yaXplZCcgfSlcblxuXG4gIFxuICBASHR0cENvZGUoSHR0cFN0YXR1cy5PSylcbiAgYXN5bmMgZ2V0Q2xpZW50QnlJZChcbiAgICBAQ3VycmVudFVzZXJJZCgpIHRoZXJhcGlzdElkOiBzdHJpbmcsXG4gICAgQFBhcmFtKCdpZCcpIGNsaWVudElkOiBzdHJpbmcsXG4gICk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuIHRoaXMudGhlcmFwaXN0TWFuYWdlbWVudFNlcnZpY2UuZ2V0Q2xpZW50QnlJZCh0aGVyYXBpc3RJZCwgY2xpZW50SWQpO1xuICB9XG59XG4iXSwidmVyc2lvbiI6M30=