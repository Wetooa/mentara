{"version":3,"names":["common_1","cov_1bmn6inaf0","s","require","dashboard_service_1","jwt_auth_guard_1","role_based_access_guard_1","current_user_id_decorator_1","roles_decorator_1","DashboardController","dashboardService","constructor","f","getClientDashboard","userId","getClientDashboardData","getTherapistDashboard","getTherapistDashboardData","getAdminDashboard","getAdminDashboardData","getModeratorDashboard","getModeratorDashboardData","exports","__decorate","Get","ClientOnly","__param","CurrentUserId","TherapistOnly","AdminOnly","ModeratorOnly","Controller","UseGuards","JwtAuthGuard","RoleBasedAccessGuard","DashboardService","b","_a","Object"],"sources":["/home/wetooa/Documents/code/projects/mentara/mentara-api/src/dashboard/dashboard.controller.ts"],"sourcesContent":["import { Controller, Get, UseGuards } from '@nestjs/common';\nimport { DashboardService } from './dashboard.service';\nimport { JwtAuthGuard } from '../auth/guards/jwt-auth.guard';\nimport { RoleBasedAccessGuard } from '../auth/guards/role-based-access.guard';\nimport { CurrentUserId } from '../auth/decorators/current-user-id.decorator';\nimport {\n  ClientOnly,\n  TherapistOnly,\n  AdminOnly,\n  ModeratorOnly,\n} from '../auth/decorators/roles.decorator';\n\n@Controller('dashboard')\n@UseGuards(JwtAuthGuard, RoleBasedAccessGuard)\nexport class DashboardController {\n  constructor(private readonly dashboardService: DashboardService) {}\n\n  @Get('client')\n  @ClientOnly()\n  getClientDashboard(@CurrentUserId() userId: string) {\n    return this.dashboardService.getClientDashboardData(userId);\n  }\n\n  @Get('therapist')\n  @TherapistOnly()\n  getTherapistDashboard(@CurrentUserId() userId: string) {\n    return this.dashboardService.getTherapistDashboardData(userId);\n  }\n\n  @Get('admin')\n  @AdminOnly()\n  getAdminDashboard() {\n    return this.dashboardService.getAdminDashboardData();\n  }\n\n  @Get('moderator')\n  @ModeratorOnly()\n  getModeratorDashboard(@CurrentUserId() userId: string) {\n    return this.dashboardService.getModeratorDashboardData(userId);\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}