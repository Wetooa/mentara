6224885617fd44b7b08b6facaf131ca4
"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var TherapeuticRecommendationsService_1;
Object.defineProperty(exports, "__esModule", { value: true });
exports.TherapeuticRecommendationsService = void 0;
const common_1 = require("@nestjs/common");
let TherapeuticRecommendationsService = TherapeuticRecommendationsService_1 = class TherapeuticRecommendationsService {
    logger = new common_1.Logger(TherapeuticRecommendationsService_1.name);
    /**
     * Generate comprehensive personalized treatment plan
     */
    async generatePersonalizedTreatmentPlan(clinicalProfile) {
        this.logger.log('Generating personalized treatment plan');
        try {
            const overallStrategy = this.determineOverallStrategy(clinicalProfile);
            const phaseBasedPlan = this.createPhaseBasedPlan(clinicalProfile);
            const therapistCriteria = this.generateTherapistCriteria(clinicalProfile);
            const interventionRecommendations = this.generateInterventionRecommendations(clinicalProfile);
            const selfCareRecommendations = this.generateSelfCareRecommendations(clinicalProfile);
            const monitoringPlan = this.createMonitoringPlan(clinicalProfile);
            const contingencyPlan = this.createContingencyPlan(clinicalProfile);
            const successMetrics = this.defineSuccessMetrics(clinicalProfile);
            return {
                overallStrategy,
                phaseBasedPlan,
                therapistCriteria,
                interventionRecommendations,
                selfCareRecommendations,
                monitoringPlan,
                contingencyPlan,
                successMetrics,
            };
        }
        catch (error) {
            this.logger.error('Error generating treatment plan:', error);
            throw new Error('Failed to generate personalized treatment plan');
        }
    }
    /**
     * Determine overall treatment strategy based on clinical profile
     */
    determineOverallStrategy(clinicalProfile) {
        const { primaryConditions, riskFactors, overallRiskLevel } = clinicalProfile;
        if (overallRiskLevel === 'critical') {
            return 'Crisis stabilization followed by intensive therapeutic intervention with coordinated care team approach';
        }
        if (overallRiskLevel === 'high') {
            return 'Immediate therapeutic intervention with frequent monitoring and structured treatment approach';
        }
        if (primaryConditions.length > 2) {
            return 'Integrated treatment approach addressing multiple conditions with prioritized intervention sequence';
        }
        if (primaryConditions.length === 1) {
            const condition = primaryConditions[0];
            return `Focused ${condition.condition.toLowerCase()} treatment using evidence-based approaches with gradual skill building`;
        }
        return 'Preventive intervention with skill-building and monitoring approach';
    }
    /**
     * Create phase-based treatment plan
     */
    createPhaseBasedPlan(clinicalProfile) {
        const phases = [];
        const { primaryConditions, overallRiskLevel, riskFactors } = clinicalProfile;
        // Phase 1: Stabilization (if needed)
        if (overallRiskLevel === 'critical' || overallRiskLevel === 'high') {
            phases.push({
                phase: 1,
                name: 'Crisis Stabilization and Safety',
                duration: '2-4 weeks',
                goals: [
                    'Ensure immediate safety',
                    'Stabilize acute symptoms',
                    'Establish therapeutic rapport',
                    'Create safety plan',
                ],
                approaches: [
                    'Crisis Intervention',
                    'Safety Planning',
                    'Supportive Therapy',
                ],
                focus: ['Safety', 'Symptom stabilization', 'Crisis management'],
                successCriteria: [
                    'No safety concerns',
                    'Reduced acute distress',
                    'Engagement in treatment',
                    'Functioning safety plan',
                ],
            });
        }
        // Phase 2: Core Treatment
        const corePhase = phases.length + 1;
        const primaryCondition = primaryConditions[0];
        phases.push({
            phase: corePhase,
            name: `Core ${primaryCondition?.condition || 'Therapeutic'} Treatment`,
            duration: this.estimateCoreTreatmentDuration(primaryCondition),
            goals: this.getCorePhaseGoals(primaryCondition),
            approaches: this.getCorePhaseApproaches(primaryCondition),
            focus: this.getCorePhaseAreas(primaryCondition),
            successCriteria: this.getCorePhaseSuccessCriteria(primaryCondition),
        });
        // Phase 3: Integration and Maintenance
        phases.push({
            phase: phases.length + 1,
            name: 'Integration and Relapse Prevention',
            duration: '4-8 weeks',
            goals: [
                'Consolidate therapeutic gains',
                'Develop long-term coping strategies',
                'Plan for maintenance and follow-up',
                'Address remaining secondary issues',
            ],
            approaches: [
                'Relapse Prevention',
                'Maintenance Therapy',
                'Skill Consolidation',
            ],
            focus: [
                'Skill integration',
                'Long-term planning',
                'Maintenance strategies',
            ],
            successCriteria: [
                'Sustained symptom improvement',
                'Independent coping skills',
                'Functional improvement maintained',
                'Comprehensive relapse prevention plan',
            ],
        });
        return phases;
    }
    /**
     * Generate specific therapist matching criteria
     */
    generateTherapistCriteria(clinicalProfile) {
        const { primaryConditions, overallRiskLevel, treatmentRecommendations } = clinicalProfile;
        const requiredSpecializations = this.getRequiredSpecializations(primaryConditions);
        const preferredApproaches = this.getPreferredApproaches(primaryConditions);
        const experienceLevel = this.determineRequiredExperienceLevel(overallRiskLevel, primaryConditions);
        const urgencyLevel = this.mapRiskToUrgency(overallRiskLevel);
        const sessionFrequency = this.determineSessionFrequency(overallRiskLevel, primaryConditions);
        const specialRequirements = this.getSpecialRequirements(primaryConditions);
        return {
            requiredSpecializations,
            preferredApproaches,
            experienceLevel,
            urgencyLevel,
            treatmentModality: 'individual', // Default to individual therapy
            sessionFrequency,
            estimatedDuration: this.estimateOverallTreatmentDuration(primaryConditions),
            specialRequirements,
        };
    }
    /**
     * Get required specializations based on conditions
     */
    getRequiredSpecializations(primaryConditions) {
        const specializations = new Set();
        primaryConditions.forEach((condition) => {
            switch (condition.condition) {
                case 'Depression':
                    specializations.add('Depression Treatment');
                    specializations.add('Mood Disorders');
                    break;
                case 'Anxiety':
                    specializations.add('Anxiety Disorders');
                    specializations.add('Stress Management');
                    break;
                case 'Post-traumatic stress disorder (PTSD)':
                    specializations.add('Trauma Therapy');
                    specializations.add('PTSD Treatment');
                    specializations.add('EMDR');
                    break;
                case 'Bipolar disorder (BD)':
                    specializations.add('Bipolar Disorder');
                    specializations.add('Mood Disorders');
                    break;
                case 'Obsessive compulsive disorder (OCD)':
                    specializations.add('OCD Treatment');
                    specializations.add('Anxiety Disorders');
                    break;
                case 'ADD / ADHD':
                    specializations.add('ADHD Treatment');
                    specializations.add('Attention Disorders');
                    break;
                default:
                    specializations.add('General Clinical Psychology');
            }
        });
        return Array.from(specializations);
    }
    /**
     * Get preferred therapeutic approaches
     */
    getPreferredApproaches(primaryConditions) {
        const approaches = new Set();
        primaryConditions.forEach((condition) => {
            switch (condition.condition) {
                case 'Depression':
                    approaches.add('Cognitive Behavioral Therapy (CBT)');
                    approaches.add('Interpersonal Therapy (IPT)');
                    approaches.add('Mindfulness-Based Cognitive Therapy (MBCT)');
                    break;
                case 'Anxiety':
                    approaches.add('Cognitive Behavioral Therapy (CBT)');
                    approaches.add('Acceptance and Commitment Therapy (ACT)');
                    approaches.add('Exposure Therapy');
                    break;
                case 'Post-traumatic stress disorder (PTSD)':
                    approaches.add('Eye Movement Desensitization and Reprocessing (EMDR)');
                    approaches.add('Cognitive Processing Therapy (CPT)');
                    approaches.add('Prolonged Exposure Therapy (PE)');
                    break;
                case 'Bipolar disorder (BD)':
                    approaches.add('Dialectical Behavior Therapy (DBT)');
                    approaches.add('Cognitive Behavioral Therapy (CBT)');
                    approaches.add('Psychoeducation');
                    break;
                default:
                    approaches.add('Cognitive Behavioral Therapy (CBT)');
                    approaches.add('Psychodynamic Therapy');
            }
        });
        return Array.from(approaches);
    }
    /**
     * Determine required therapist experience level
     */
    determineRequiredExperienceLevel(riskLevel, primaryConditions) {
        if (riskLevel === 'critical')
            return 'expert';
        if (riskLevel === 'high')
            return 'senior';
        const complexConditions = [
            'Post-traumatic stress disorder (PTSD)',
            'Bipolar disorder (BD)',
        ];
        const hasComplexCondition = primaryConditions.some((c) => complexConditions.includes(c.condition));
        if (hasComplexCondition)
            return 'senior';
        if (primaryConditions.some((c) => c.clinicalLevel === 'severe'))
            return 'intermediate';
        return 'any';
    }
    /**
     * Map risk level to urgency
     */
    mapRiskToUrgency(riskLevel) {
        const mapping = {
            critical: 'immediate',
            high: 'high',
            moderate: 'moderate',
            low: 'routine',
        };
        return mapping[riskLevel] || 'routine';
    }
    /**
     * Determine recommended session frequency
     */
    determineSessionFrequency(riskLevel, primaryConditions) {
        if (riskLevel === 'critical')
            return 'multiple_weekly';
        if (riskLevel === 'high')
            return 'weekly';
        if (primaryConditions.some((c) => c.clinicalLevel === 'severe'))
            return 'weekly';
        if (primaryConditions.some((c) => c.clinicalLevel === 'moderate'))
            return 'weekly';
        return 'biweekly';
    }
    /**
     * Generate intervention recommendations
     */
    generateInterventionRecommendations(clinicalProfile) {
        const recommendations = [];
        const { primaryConditions, riskFactors, overallRiskLevel } = clinicalProfile;
        // Crisis intervention if needed
        if (overallRiskLevel === 'critical') {
            recommendations.push({
                type: 'crisis_intervention',
                priority: 1,
                urgency: 'immediate',
                description: 'Immediate crisis intervention and safety assessment',
                provider: 'Crisis intervention specialist or emergency services',
                duration: 'Immediate',
                frequency: 'As needed',
                goals: ['Ensure safety', 'Stabilize crisis', 'Connect to ongoing care'],
            });
        }
        // Primary therapy recommendation
        const primaryCondition = primaryConditions[0];
        if (primaryCondition) {
            recommendations.push({
                type: 'therapy',
                priority: 2,
                urgency: this.mapRiskToUrgency(primaryCondition.riskLevel),
                description: `Individual therapy for ${primaryCondition.condition.toLowerCase()}`,
                provider: 'Licensed mental health professional',
                duration: this.estimateCoreTreatmentDuration(primaryCondition),
                frequency: this.determineSessionFrequency(overallRiskLevel, primaryConditions),
                goals: primaryCondition.therapeuticFocus,
            });
        }
        // Psychiatric evaluation if indicated
        if (this.requiresPsychiatricEvaluation(primaryConditions, overallRiskLevel)) {
            recommendations.push({
                type: 'psychiatric_eval',
                priority: 3,
                urgency: overallRiskLevel === 'critical' ? 'immediate' : 'high',
                description: 'Psychiatric evaluation for medication management',
                provider: 'Psychiatrist',
                duration: '1-2 sessions',
                frequency: 'Initial evaluation, then as needed',
                goals: [
                    'Medication assessment',
                    'Symptom management',
                    'Treatment coordination',
                ],
            });
        }
        return recommendations.sort((a, b) => a.priority - b.priority);
    }
    /**
     * Generate self-care recommendations
     */
    generateSelfCareRecommendations(clinicalProfile) {
        const recommendations = [];
        const { primaryConditions } = clinicalProfile;
        // Universal recommendations
        recommendations.push({
            category: 'lifestyle',
            priority: 'high',
            recommendation: 'Maintain regular sleep schedule (7-9 hours per night)',
            frequency: 'Daily',
            rationale: 'Sleep regulation is crucial for mental health and symptom management',
        }, {
            category: 'physical',
            priority: 'high',
            recommendation: 'Regular physical exercise (30 minutes, 3-5 times per week)',
            frequency: '3-5 times per week',
            rationale: 'Exercise has proven benefits for mood regulation and anxiety reduction',
        }, {
            category: 'mindfulness',
            priority: 'medium',
            recommendation: 'Daily mindfulness or meditation practice',
            frequency: 'Daily (10-20 minutes)',
            rationale: 'Mindfulness improves emotional regulation and reduces stress',
        });
        // Condition-specific recommendations
        primaryConditions.forEach((condition) => {
            const conditionRecs = this.getConditionSpecificSelfCare(condition.condition);
            recommendations.push(...conditionRecs);
        });
        return recommendations;
    }
    /**
     * Get condition-specific self-care recommendations
     */
    getConditionSpecificSelfCare(condition) {
        const recommendations = {
            Depression: [
                {
                    category: 'social',
                    priority: 'high',
                    recommendation: 'Maintain social connections and engage in meaningful activities',
                    frequency: 'Weekly',
                    rationale: 'Social support and behavioral activation are key for depression recovery',
                },
                {
                    category: 'lifestyle',
                    priority: 'medium',
                    recommendation: 'Exposure to natural light, especially in the morning',
                    frequency: 'Daily',
                    rationale: 'Light exposure helps regulate mood and circadian rhythms',
                },
            ],
            Anxiety: [
                {
                    category: 'emotional',
                    priority: 'high',
                    recommendation: 'Practice deep breathing and progressive muscle relaxation',
                    frequency: 'Daily',
                    rationale: 'Relaxation techniques help manage anxiety symptoms and prevent escalation',
                },
                {
                    category: 'lifestyle',
                    priority: 'medium',
                    recommendation: 'Limit caffeine and alcohol intake',
                    frequency: 'Daily',
                    rationale: 'These substances can exacerbate anxiety symptoms',
                },
            ],
        };
        return recommendations[condition] || [];
    }
    /**
     * Create monitoring plan
     */
    createMonitoringPlan(clinicalProfile) {
        const { primaryConditions, overallRiskLevel } = clinicalProfile;
        const assessmentSchedule = overallRiskLevel === 'critical'
            ? 'Weekly for first month, then biweekly'
            : overallRiskLevel === 'high'
                ? 'Biweekly for first 6 weeks, then monthly'
                : 'Monthly for first 3 months, then quarterly';
        const keyMetrics = [
            'Symptom severity scores',
            'Functional improvement measures',
            'Quality of life indicators',
            'Treatment adherence',
            'Safety concerns',
        ];
        const warningSigns = this.getWarningSignsForConditions(primaryConditions);
        const reviewPoints = [
            'After 4 weeks of treatment',
            'At 8-week mark',
            'At 3-month mark',
            'Every 6 months thereafter',
        ];
        return {
            assessmentSchedule,
            keyMetrics,
            warningSigns,
            reviewPoints,
        };
    }
    /**
     * Create contingency plan for crisis situations
     */
    createContingencyPlan(clinicalProfile) {
        const crisisContacts = [
            'Assigned therapist',
            'Crisis hotline: 988 (Suicide & Crisis Lifeline)',
            'Emergency services: 911',
            'Crisis text line: Text HOME to 741741',
        ];
        const emergencySteps = [
            'Recognize warning signs early',
            'Use learned coping strategies',
            'Contact support person or therapist',
            'If immediate danger, call 911 or go to emergency room',
            'Follow up with treatment team within 24 hours',
        ];
        const escalationTriggers = this.getEscalationTriggers(clinicalProfile);
        const safetyResources = [
            'Personal safety plan',
            'Crisis intervention services',
            'Mobile crisis teams',
            'Peer support networks',
            'Online mental health resources',
        ];
        return {
            crisisContacts,
            emergencySteps,
            escalationTriggers,
            safetyResources,
        };
    }
    /**
     * Define success metrics for treatment
     */
    defineSuccessMetrics(clinicalProfile) {
        const { primaryConditions } = clinicalProfile;
        const metrics = [];
        // Universal metrics
        metrics.push({
            metric: 'Overall symptom severity reduction',
            targetImprovement: '50% reduction in primary symptoms',
            timeframe: '12 weeks',
            measurementMethod: 'Standardized assessment tools and clinical interviews',
        }, {
            metric: 'Functional improvement',
            targetImprovement: 'Return to baseline functioning in work/school and relationships',
            timeframe: '16 weeks',
            measurementMethod: 'Functional assessment scales and self-report',
        });
        // Condition-specific metrics
        primaryConditions.forEach((condition) => {
            const conditionMetrics = this.getConditionSpecificMetrics(condition.condition);
            metrics.push(...conditionMetrics);
        });
        return metrics;
    }
    /**
     * Get condition-specific success metrics
     */
    getConditionSpecificMetrics(condition) {
        const metrics = {
            Depression: [
                {
                    metric: 'PHQ-9 score improvement',
                    targetImprovement: 'Score reduction to below 10 (mild range)',
                    timeframe: '8-12 weeks',
                    measurementMethod: 'PHQ-9 questionnaire administered biweekly',
                },
            ],
            Anxiety: [
                {
                    metric: 'GAD-7 score improvement',
                    targetImprovement: 'Score reduction to below 8 (mild range)',
                    timeframe: '6-10 weeks',
                    measurementMethod: 'GAD-7 questionnaire administered biweekly',
                },
            ],
        };
        return metrics[condition] || [];
    }
    // Helper methods
    estimateCoreTreatmentDuration(condition) {
        if (!condition)
            return '12-16 weeks';
        const durations = {
            extreme: '20-24 weeks',
            severe: '16-20 weeks',
            moderate: '12-16 weeks',
            mild: '8-12 weeks',
            subclinical: '6-8 weeks',
        };
        return durations[condition.clinicalLevel] || '12-16 weeks';
    }
    getCorePhaseGoals(condition) {
        if (!condition)
            return ['Symptom reduction', 'Skill development'];
        return [
            `Reduce ${condition.condition.toLowerCase()} symptoms`,
            'Develop effective coping strategies',
            'Improve daily functioning',
            'Build therapeutic skills',
        ];
    }
    getCorePhaseApproaches(condition) {
        if (!condition)
            return ['Cognitive Behavioral Therapy (CBT)'];
        return condition.therapeuticFocus.slice(0, 3);
    }
    getCorePhaseAreas(condition) {
        if (!condition)
            return ['Symptom management'];
        return [
            'Symptom identification and management',
            'Skill building and practice',
            'Functional improvement',
            'Therapeutic relationship building',
        ];
    }
    getCorePhaseSuccessCriteria(condition) {
        if (!condition)
            return ['Reduced symptoms'];
        return [
            'Significant symptom reduction',
            'Improved coping skills',
            'Enhanced daily functioning',
            'Strong therapeutic alliance',
        ];
    }
    getSpecialRequirements(conditions) {
        const requirements = [];
        conditions.forEach((condition) => {
            if (condition.condition.includes('PTSD')) {
                requirements.push('Trauma-informed care');
                requirements.push('EMDR certification preferred');
            }
            if (condition.condition.includes('Bipolar')) {
                requirements.push('Mood disorder specialization');
                requirements.push('Medication collaboration experience');
            }
        });
        return requirements;
    }
    estimateOverallTreatmentDuration(conditions) {
        if (conditions.some((c) => c.clinicalLevel === 'extreme'))
            return '6-12 months';
        if (conditions.some((c) => c.clinicalLevel === 'severe'))
            return '4-8 months';
        if (conditions.some((c) => c.clinicalLevel === 'moderate'))
            return '3-6 months';
        return '2-4 months';
    }
    requiresPsychiatricEvaluation(conditions, riskLevel) {
        if (riskLevel === 'critical' || riskLevel === 'high')
            return true;
        const medicationIndicatedConditions = [
            'Depression',
            'Bipolar disorder (BD)',
            'Anxiety',
            'Post-traumatic stress disorder (PTSD)',
        ];
        return conditions.some((c) => medicationIndicatedConditions.includes(c.condition) &&
            (c.clinicalLevel === 'severe' || c.clinicalLevel === 'extreme'));
    }
    getWarningSignsForConditions(conditions) {
        const warningSignsSet = new Set();
        conditions.forEach((condition) => {
            switch (condition.condition) {
                case 'Depression':
                    warningSignsSet.add('Increased hopelessness or suicidal thoughts');
                    warningSignsSet.add('Significant mood deterioration');
                    warningSignsSet.add('Social withdrawal');
                    break;
                case 'Anxiety':
                    warningSignsSet.add('Increased panic attacks');
                    warningSignsSet.add('Avoidance behaviors increasing');
                    break;
                case 'Bipolar disorder (BD)':
                    warningSignsSet.add('Mood episode onset');
                    warningSignsSet.add('Sleep pattern changes');
                    break;
            }
        });
        return Array.from(warningSignsSet);
    }
    getEscalationTriggers(clinicalProfile) {
        return [
            'Suicidal or self-harm thoughts',
            'Substance use relapse',
            'Severe symptom deterioration',
            'Loss of functioning',
            'Treatment non-adherence',
            'Social support breakdown',
        ];
    }
};
exports.TherapeuticRecommendationsService = TherapeuticRecommendationsService;
exports.TherapeuticRecommendationsService = TherapeuticRecommendationsService = TherapeuticRecommendationsService_1 = __decorate([
    (0, common_1.Injectable)()
], TherapeuticRecommendationsService);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvd2V0b29hL0RvY3VtZW50cy9jb2RlL3Byb2plY3RzL21lbnRhcmEvbWVudGFyYS1hcGkvc3JjL3ByZS1hc3Nlc3NtZW50L2FuYWx5c2lzL3RoZXJhcGV1dGljLXJlY29tbWVuZGF0aW9ucy5zZXJ2aWNlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSwyQ0FBb0Q7QUFxRjdDLElBQU0saUNBQWlDLHlDQUF2QyxNQUFNLGlDQUFpQztJQUMzQixNQUFNLEdBQUcsSUFBSSxlQUFNLENBQUMsbUNBQWlDLENBQUMsSUFBSSxDQUFDLENBQUM7SUFFN0U7O09BRUc7SUFDSCxLQUFLLENBQUMsaUNBQWlDLENBQ3JDLGVBQWdDO1FBRWhDLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLHdDQUF3QyxDQUFDLENBQUM7UUFFMUQsSUFBSSxDQUFDO1lBQ0gsTUFBTSxlQUFlLEdBQUcsSUFBSSxDQUFDLHdCQUF3QixDQUFDLGVBQWUsQ0FBQyxDQUFDO1lBQ3ZFLE1BQU0sY0FBYyxHQUFHLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxlQUFlLENBQUMsQ0FBQztZQUNsRSxNQUFNLGlCQUFpQixHQUFHLElBQUksQ0FBQyx5QkFBeUIsQ0FBQyxlQUFlLENBQUMsQ0FBQztZQUMxRSxNQUFNLDJCQUEyQixHQUMvQixJQUFJLENBQUMsbUNBQW1DLENBQUMsZUFBZSxDQUFDLENBQUM7WUFDNUQsTUFBTSx1QkFBdUIsR0FDM0IsSUFBSSxDQUFDLCtCQUErQixDQUFDLGVBQWUsQ0FBQyxDQUFDO1lBQ3hELE1BQU0sY0FBYyxHQUFHLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxlQUFlLENBQUMsQ0FBQztZQUNsRSxNQUFNLGVBQWUsR0FBRyxJQUFJLENBQUMscUJBQXFCLENBQUMsZUFBZSxDQUFDLENBQUM7WUFDcEUsTUFBTSxjQUFjLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLGVBQWUsQ0FBQyxDQUFDO1lBRWxFLE9BQU87Z0JBQ0wsZUFBZTtnQkFDZixjQUFjO2dCQUNkLGlCQUFpQjtnQkFD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LGdDQUFnQyxDQUFDLENBQUM7b0JBQ3RELE1BQU07Z0JBQ1IsS0FBSyx1QkFBdUI7b0JBQzFCLGVBQWUsQ0FBQyxHQUFHLENBQUMsb0JBQW9CLENBQUMsQ0FBQztvQkFDMUMsZUFBZSxDQUFDLEdBQUcsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO29CQUM3QyxNQUFNO1lBQ1YsQ0FBQztRQUNILENBQUMsQ0FBQyxDQUFDO1FBRUgsT0FBTyxLQUFLLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDO0lBQ3JDLENBQUM7SUFFTyxxQkFBcUIsQ0FBQyxlQUFnQztRQUM1RCxPQUFPO1lBQ0wsZ0NBQWdDO1lBQ2hDLHVCQUF1QjtZQUN2Qiw4QkFBOEI7WUFDOUIscUJBQXFCO1lBQ3JCLHlCQUF5QjtZQUN6QiwwQkFBMEI7U0FDM0IsQ0FBQztJQUNKLENBQUM7Q0FDRixDQUFBO0FBeHdCWSw4RUFBaUM7NENBQWpDLGlDQUFpQztJQUQ3QyxJQUFBLG1CQUFVLEdBQUU7R0FDQSxpQ0FBaUMsQ0F3d0I3QyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvaG9tZS93ZXRvb2EvRG9jdW1lbnRzL2NvZGUvcHJvamVjdHMvbWVudGFyYS9tZW50YXJhLWFwaS9zcmMvcHJlLWFzc2Vzc21lbnQvYW5hbHlzaXMvdGhlcmFwZXV0aWMtcmVjb21tZW5kYXRpb25zLnNlcnZpY2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSwgTG9nZ2VyIH0gZnJvbSAnQG5lc3Rqcy9jb21tb24nO1xuaW1wb3J0IHtcbiAgQ2xpbmljYWxJbnNpZ2h0LFxuICBDbGluaWNhbFByb2ZpbGUsXG4gIFRyZWF0bWVudFJlY29tbWVuZGF0aW9uLFxufSBmcm9tICcuL2NsaW5pY2FsLWluc2lnaHRzLnNlcnZpY2UnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFRoZXJhcGlzdE1hdGNoQ3JpdGVyaWEge1xuICByZXF1aXJlZFNwZWNpYWxpemF0aW9uczogc3RyaW5nW107XG4gIHByZWZlcnJlZEFwcHJvYWNoZXM6IHN0cmluZ1tdO1xuICBleHBlcmllbmNlTGV2ZWw6ICdhbnknIHwgJ2ludGVybWVkaWF0ZScgfCAnc2VuaW9yJyB8ICdleHBlcnQnO1xuICB1cmdlbmN5TGV2ZWw6ICdpbW1lZGlhdGUnIHwgJ2hpZ2gnIHwgJ21vZGVyYXRlJyB8ICdyb3V0aW5lJztcbiAgdHJlYXRtZW50TW9kYWxpdHk6ICdpbmRpdmlkdWFsJyB8ICdncm91cCcgfCAnZmFtaWx5JyB8ICdjb3VwbGVzJyB8ICdhbnknO1xuICBzZXNzaW9uRnJlcXVlbmN5OiAnbXVsdGlwbGVfd2Vla2x5JyB8ICd3ZWVrbHknIHwgJ2Jpd2Vla2x5JyB8ICdtb250aGx5JztcbiAgZXN0aW1hdGVkRHVyYXRpb246IHN0cmluZztcbiAgc3BlY2lhbFJlcXVpcmVtZW50czogc3RyaW5nW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW50ZXJ2ZW50aW9uUmVjb21tZW5kYXRpb24ge1xuICB0eXBlOlxuICAgIHwgJ3RoZXJhcHknXG4gICAgfCAncHN5Y2hpYXRyaWNfZXZhbCdcbiAgICB8ICdjcmlzaXNfaW50ZXJ2ZW50aW9uJ1xuICAgIHwgJ3N1cHBvcnRfZ3JvdXAnXG4gICAgfCAnc2VsZl9oZWxwJztcbiAgcHJpb3JpdHk6IG51bWJlcjtcbiAgdXJnZW5jeTogJ2ltbWVkaWF0ZScgfCAnaGlnaCcgfCAnbW9kZXJhdGUnIHwgJ3JvdXRpbmUnO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICBwcm92aWRlcjogc3RyaW5nO1xuICBkdXJhdGlvbjogc3RyaW5nO1xuICBmcmVxdWVuY3k6IHN0cmluZztcbiAgZ29hbHM6IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBlcnNvbmFsaXplZFRyZWF0bWVudFBsYW4ge1xuICBvdmVyYWxsU3RyYXRlZ3k6IHN0cmluZztcbiAgcGhhc2VCYXNlZFBsYW46IFRyZWF0bWVudFBoYXNlW107XG4gIHRoZXJhcGlzdENyaXRlcmlhOiBUaGVyYXBpc3RNYXRjaENyaXRlcmlhO1xuICBpbnRlcnZlbnRpb25SZWNvbW1lbmRhdGlvbnM6IEludGVydmVudGlvblJlY29tbWVuZGF0aW9uW107XG4gIHNlbGZDYXJlUmVjb21tZW5kYXRpb25zOiBTZWxmQ2FyZVJlY29tbWVuZGF0aW9uW107XG4gIG1vbml0b3JpbmdQbGFuOiBNb25pdG9yaW5nUGxhbjtcbiAgY29udGluZ2VuY3lQbGFuOiBDb250aW5nZW5jeVBsYW47XG4gIHN1Y2Nlc3NNZXRyaWNzOiBTdWNjZXNzTWV0cmljW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVHJlYXRtZW50UGhhc2Uge1xuICBwaGFzZTogbnVtYmVyO1xuICBuYW1lOiBzdHJpbmc7XG4gIGR1cmF0aW9uOiBzdHJpbmc7XG4gIGdvYWxzOiBzdHJpbmdbXTtcbiAgYXBwcm9hY2hlczogc3RyaW5nW107XG4gIGZvY3VzOiBzdHJpbmdbXTtcbiAgc3VjY2Vzc0NyaXRlcmlhOiBzdHJpbmdbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTZWxmQ2FyZVJlY29tbWVuZGF0aW9uIHtcbiAgY2F0ZWdvcnk6ICdsaWZlc3R5bGUnIHwgJ21pbmRmdWxuZXNzJyB8ICdzb2NpYWwnIHwgJ3BoeXNpY2FsJyB8ICdlbW90aW9uYWwnO1xuICBwcmlvcml0eTogJ2hpZ2gnIHwgJ21lZGl1bScgfCAnbG93JztcbiAgcmVjb21tZW5kYXRpb246IHN0cmluZztcbiAgZnJlcXVlbmN5OiBzdHJpbmc7XG4gIHJhdGlvbmFsZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1vbml0b3JpbmdQbGFuIHtcbiAgYXNzZXNzbWVudFNjaGVkdWxlOiBzdHJpbmc7XG4gIGtleU1ldHJpY3M6IHN0cmluZ1tdO1xuICB3YXJuaW5nU2lnbnM6IHN0cmluZ1tdO1xuICByZXZpZXdQb2ludHM6IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbnRpbmdlbmN5UGxhbiB7XG4gIGNyaXNpc0NvbnRhY3RzOiBzdHJpbmdbXTtcbiAgZW1lcmdlbmN5U3RlcHM6IHN0cmluZ1tdO1xuICBlc2NhbGF0aW9uVHJpZ2dlcnM6IHN0cmluZ1tdO1xuICBzYWZldHlSZXNvdXJjZXM6IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN1Y2Nlc3NNZXRyaWMge1xuICBtZXRyaWM6IHN0cmluZztcbiAgdGFyZ2V0SW1wcm92ZW1lbnQ6IHN0cmluZztcbiAgdGltZWZyYW1lOiBzdHJpbmc7XG4gIG1lYXN1cmVtZW50TWV0aG9kOiBzdHJpbmc7XG59XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBUaGVyYXBldXRpY1JlY29tbWVuZGF0aW9uc1NlcnZpY2Uge1xuICBwcml2YXRlIHJlYWRvbmx5IGxvZ2dlciA9IG5ldyBMb2dnZXIoVGhlcmFwZXV0aWNSZWNvbW1lbmRhdGlvbnNTZXJ2aWNlLm5hbWUpO1xuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZSBjb21wcmVoZW5zaXZlIHBlcnNvbmFsaXplZCB0cmVhdG1lbnQgcGxhblxuICAgKi9cbiAgYXN5bmMgZ2VuZXJhdGVQZXJzb25hbGl6ZWRUcmVhdG1lbnRQbGFuKFxuICAgIGNsaW5pY2FsUHJvZmlsZTogQ2xpbmljYWxQcm9maWxlLFxuICApOiBQcm9taXNlPFBlcnNvbmFsaXplZFRyZWF0bWVudFBsYW4+IHtcbiAgICB0aGlzLmxvZ2dlci5sb2coJ0dlbmVyYXRpbmcgcGVyc29uYWxpemVkIHRyZWF0bWVudCBwbGFuJyk7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3Qgb3ZlcmFsbFN0cmF0ZWd5ID0gdGhpcy5kZXRlcm1pbmVPdmVyYWxsU3RyYXRlZ3koY2xpbmljYWxQcm9maWxlKTtcbiAgICAgIGNvbnN0IHBoYXNlQmFzZWRQbGFuID0gdGhpcy5jcmVhdGVQaGFzZUJhc2VkUGxhbihjbGluaWNhbFByb2ZpbGUpO1xuICAgICAgY29uc3QgdGhlcmFwaXN0Q3JpdGVyaWEgPSB0aGlzLmdlbmVyYXRlVGhlcmFwaXN0Q3JpdGVyaWEoY2xpbmljYWxQcm9maWxlKTtcbiAgICAgIGNvbnN0IGludGVydmVudGlvblJlY29tbWVuZGF0aW9ucyA9XG4gICAgICAgIHRoaXMuZ2VuZXJhdGVJbnRlcnZlbnRpb25SZWNvbW1lbmRhdGlvbnMoY2xpbmljYWxQcm9maWxlKTtcbiAgICAgIGNvbnN0IHNlbGZDYXJlUmVjb21tZW5kYXRpb25zID1cbiAgICAgICAgdGhpcy5nZW5lcmF0ZVNlbGZDYXJlUmVjb21tZW5kYXRpb25zKGNsaW5pY2FsUHJvZmlsZSk7XG4gICAgICBjb25zdCBtb25pdG9yaW5nUGxhbiA9IHRoaXMuY3JlYXRlTW9uaXRvcmluZ1BsYW4oY2xpbmljYWxQcm9maWxlKTtcbiAgICAgIGNvbnN0IGNvbnRpbmdlbmN5UGxhbiA9IHRoaXMuY3JlYXRlQ29udGluZ2VuY3lQbGFuKGNsaW5pY2FsUHJvZmlsZSk7XG4gICAgICBjb25zdCBzdWNjZXNzTWV0cmljcyA9IHRoaXMuZGVmaW5lU3VjY2Vzc01ldHJpY3MoY2xpbmljYWxQcm9maWxlKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgb3ZlcmFsbFN0cmF0ZWd5LFxuICAgICAgICBwaGFzZUJhc2VkUGxhbixcbiAgICAgICAgdGhlcmFwaXN0Q3JpdGVyaWEsXG4gICAgICAgIGludGVydmVudGlvblJlY29tbWVuZGF0aW9ucyxcbiAgICAgICAgc2VsZkNhcmVSZWNvbW1lbmRhdGlvbnMsXG4gICAgICAgIG1vbml0b3JpbmdQbGFuLFxuICAgICAgICBjb250aW5nZW5jeVBsYW4sXG4gICAgICAgIHN1Y2Nlc3NNZXRyaWNzLFxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0Vycm9yIGdlbmVyYXRpbmcgdHJlYXRtZW50IHBsYW46JywgZXJyb3IpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZ2VuZXJhdGUgcGVyc29uYWxpemVkIHRyZWF0bWVudCBwbGFuJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZSBvdmVyYWxsIHRyZWF0bWVudCBzdHJhdGVneSBiYXNlZCBvbiBjbGluaWNhbCBwcm9maWxlXG4gICAqL1xuICBwcml2YXRlIGRldGVybWluZU92ZXJhbGxTdHJhdGVneShjbGluaWNhbFByb2ZpbGU6IENsaW5pY2FsUHJvZmlsZSk6IHN0cmluZyB7XG4gICAgY29uc3QgeyBwcmltYXJ5Q29uZGl0aW9ucywgcmlza0ZhY3RvcnMsIG92ZXJhbGxSaXNrTGV2ZWwgfSA9XG4gICAgICBjbGluaWNhbFByb2ZpbGU7XG5cbiAgICBpZiAob3ZlcmFsbFJpc2tMZXZlbCA9PT0gJ2NyaXRpY2FsJykge1xuICAgICAgcmV0dXJuICdDcmlzaXMgc3RhYmlsaXphdGlvbiBmb2xsb3dlZCBieSBpbnRlbnNpdmUgdGhlcmFwZXV0aWMgaW50ZXJ2ZW50aW9uIHdpdGggY29vcmRpbmF0ZWQgY2FyZSB0ZWFtIGFwcHJvYWNoJztcbiAgICB9XG5cbiAgICBpZiAob3ZlcmFsbFJpc2tMZXZlbCA9PT0gJ2hpZ2gnKSB7XG4gICAgICByZXR1cm4gJ0ltbWVkaWF0ZSB0aGVyYXBldXRpYyBpbnRlcnZlbnRpb24gd2l0aCBmcmVxdWVudCBtb25pdG9yaW5nIGFuZCBzdHJ1Y3R1cmVkIHRyZWF0bWVudCBhcHByb2FjaCc7XG4gICAgfVxuXG4gICAgaWYgKHByaW1hcnlDb25kaXRpb25zLmxlbmd0aCA+IDIpIHtcbiAgICAgIHJldHVybiAnSW50ZWdyYXRlZCB0cmVhdG1lbnQgYXBwcm9hY2ggYWRkcmVzc2luZyBtdWx0aXBsZSBjb25kaXRpb25zIHdpdGggcHJpb3JpdGl6ZWQgaW50ZXJ2ZW50aW9uIHNlcXVlbmNlJztcbiAgICB9XG5cbiAgICBpZiAocHJpbWFyeUNvbmRpdGlvbnMubGVuZ3RoID09PSAxKSB7XG4gICAgICBjb25zdCBjb25kaXRpb24gPSBwcmltYXJ5Q29uZGl0aW9uc1swXTtcbiAgICAgIHJldHVybiBgRm9jdXNlZCAke2NvbmRpdGlvbi5jb25kaXRpb24udG9Mb3dlckNhc2UoKX0gdHJlYXRtZW50IHVzaW5nIGV2aWRlbmNlLWJhc2VkIGFwcHJvYWNoZXMgd2l0aCBncmFkdWFsIHNraWxsIGJ1aWxkaW5nYDtcbiAgICB9XG5cbiAgICByZXR1cm4gJ1ByZXZlbnRpdmUgaW50ZXJ2ZW50aW9uIHdpdGggc2tpbGwtYnVpbGRpbmcgYW5kIG1vbml0b3JpbmcgYXBwcm9hY2gnO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBwaGFzZS1iYXNlZCB0cmVhdG1lbnQgcGxhblxuICAgKi9cbiAgcHJpdmF0ZSBjcmVhdGVQaGFzZUJhc2VkUGxhbihcbiAgICBjbGluaWNhbFByb2ZpbGU6IENsaW5pY2FsUHJvZmlsZSxcbiAgKTogVHJlYXRtZW50UGhhc2VbXSB7XG4gICAgY29uc3QgcGhhc2VzOiBUcmVhdG1lbnRQaGFzZVtdID0gW107XG4gICAgY29uc3QgeyBwcmltYXJ5Q29uZGl0aW9ucywgb3ZlcmFsbFJpc2tMZXZlbCwgcmlza0ZhY3RvcnMgfSA9XG4gICAgICBjbGluaWNhbFByb2ZpbGU7XG5cbiAgICAvLyBQaGFzZSAxOiBTdGFiaWxpemF0aW9uIChpZiBuZWVkZWQpXG4gICAgaWYgKG92ZXJhbGxSaXNrTGV2ZWwgPT09ICdjcml0aWNhbCcgfHwgb3ZlcmFsbFJpc2tMZXZlbCA9PT0gJ2hpZ2gnKSB7XG4gICAgICBwaGFzZXMucHVzaCh7XG4gICAgICAgIHBoYXNlOiAxLFxuICAgICAgICBuYW1lOiAnQ3Jpc2lzIFN0YWJpbGl6YXRpb24gYW5kIFNhZmV0eScsXG4gICAgICAgIGR1cmF0aW9uOiAnMi00IHdlZWtzJyxcbiAgICAgICAgZ29hbHM6IFtcbiAgICAgICAgICAnRW5zdXJlIGltbWVkaWF0ZSBzYWZldHknLFxuICAgICAgICAgICdTdGFiaWxpemUgYWN1dGUgc3ltcHRvbXMnLFxuICAgICAgICAgICdFc3RhYmxpc2ggdGhlcmFwZXV0aWMgcmFwcG9ydCcsXG4gICAgICAgICAgJ0NyZWF0ZSBzYWZldHkgcGxhbicsXG4gICAgICAgIF0sXG4gICAgICAgIGFwcHJvYWNoZXM6IFtcbiAgICAgICAgICAnQ3Jpc2lzIEludGVydmVudGlvbicsXG4gICAgICAgICAgJ1NhZmV0eSBQbGFubmluZycsXG4gICAgICAgICAgJ1N1cHBvcnRpdmUgVGhlcmFweScsXG4gICAgICAgIF0sXG4gICAgICAgIGZvY3VzOiBbJ1NhZmV0eScsICdTeW1wdG9tIHN0YWJpbGl6YXRpb24nLCAnQ3Jpc2lzIG1hbmFnZW1lbnQnXSxcbiAgICAgICAgc3VjY2Vzc0NyaXRlcmlhOiBbXG4gICAgICAgICAgJ05vIHNhZmV0eSBjb25jZXJucycsXG4gICAgICAgICAgJ1JlZHVjZWQgYWN1dGUgZGlzdHJlc3MnLFxuICAgICAgICAgICdFbmdhZ2VtZW50IGluIHRyZWF0bWVudCcsXG4gICAgICAgICAgJ0Z1bmN0aW9uaW5nIHNhZmV0eSBwbGFuJyxcbiAgICAgICAgXSxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFBoYXNlIDI6IENvcmUgVHJlYXRtZW50XG4gICAgY29uc3QgY29yZVBoYXNlID0gcGhhc2VzLmxlbmd0aCArIDE7XG4gICAgY29uc3QgcHJpbWFyeUNvbmRpdGlvbiA9IHByaW1hcnlDb25kaXRpb25zWzBdO1xuXG4gICAgcGhhc2VzLnB1c2goe1xuICAgICAgcGhhc2U6IGNvcmVQaGFzZSxcbiAgICAgIG5hbWU6IGBDb3JlICR7cHJpbWFyeUNvbmRpdGlvbj8uY29uZGl0aW9uIHx8ICdUaGVyYXBldXRpYyd9IFRyZWF0bWVudGAsXG4gICAgICBkdXJhdGlvbjogdGhpcy5lc3RpbWF0ZUNvcmVUcmVhdG1lbnREdXJhdGlvbihwcmltYXJ5Q29uZGl0aW9uKSxcbiAgICAgIGdvYWxzOiB0aGlzLmdldENvcmVQaGFzZUdvYWxzKHByaW1hcnlDb25kaXRpb24pLFxuICAgICAgYXBwcm9hY2hlczogdGhpcy5nZXRDb3JlUGhhc2VBcHByb2FjaGVzKHByaW1hcnlDb25kaXRpb24pLFxuICAgICAgZm9jdXM6IHRoaXMuZ2V0Q29yZVBoYXNlQXJlYXMocHJpbWFyeUNvbmRpdGlvbiksXG4gICAgICBzdWNjZXNzQ3JpdGVyaWE6IHRoaXMuZ2V0Q29yZVBoYXNlU3VjY2Vzc0NyaXRlcmlhKHByaW1hcnlDb25kaXRpb24pLFxuICAgIH0pO1xuXG4gICAgLy8gUGhhc2UgMzogSW50ZWdyYXRpb24gYW5kIE1haW50ZW5hbmNlXG4gICAgcGhhc2VzLnB1c2goe1xuICAgICAgcGhhc2U6IHBoYXNlcy5sZW5ndGggKyAxLFxuICAgICAgbmFtZTogJ0ludGVncmF0aW9uIGFuZCBSZWxhcHNlIFByZXZlbnRpb24nLFxuICAgICAgZHVyYXRpb246ICc0LTggd2Vla3MnLFxuICAgICAgZ29hbHM6IFtcbiAgICAgICAgJ0NvbnNvbGlkYXRlIHRoZXJhcGV1dGljIGdhaW5zJyxcbiAgICAgICAgJ0RldmVsb3AgbG9uZy10ZXJtIGNvcGluZyBzdHJhdGVnaWVzJyxcbiAgICAgICAgJ1BsYW4gZm9yIG1haW50ZW5hbmNlIGFuZCBmb2xsb3ctdXAnLFxuICAgICAgICAnQWRkcmVzcyByZW1haW5pbmcgc2Vjb25kYXJ5IGlzc3VlcycsXG4gICAgICBdLFxuICAgICAgYXBwcm9hY2hlczogW1xuICAgICAgICAnUmVsYXBzZSBQcmV2ZW50aW9uJyxcbiAgICAgICAgJ01haW50ZW5hbmNlIFRoZXJhcHknLFxuICAgICAgICAnU2tpbGwgQ29uc29saWRhdGlvbicsXG4gICAgICBdLFxuICAgICAgZm9jdXM6IFtcbiAgICAgICAgJ1NraWxsIGludGVncmF0aW9uJyxcbiAgICAgICAgJ0xvbmctdGVybSBwbGFubmluZycsXG4gICAgICAgICdNYWludGVuYW5jZSBzdHJhdGVnaWVzJyxcbiAgICAgIF0sXG4gICAgICBzdWNjZXNzQ3JpdGVyaWE6IFtcbiAgICAgICAgJ1N1c3RhaW5lZCBzeW1wdG9tIGltcHJvdmVtZW50JyxcbiAgICAgICAgJ0luZGVwZW5kZW50IGNvcGluZyBza2lsbHMnLFxuICAgICAgICAnRnVuY3Rpb25hbCBpbXByb3ZlbWVudCBtYWludGFpbmVkJyxcbiAgICAgICAgJ0NvbXByZWhlbnNpdmUgcmVsYXBzZSBwcmV2ZW50aW9uIHBsYW4nLFxuICAgICAgXSxcbiAgICB9KTtcblxuICAgIHJldHVybiBwaGFzZXM7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgc3BlY2lmaWMgdGhlcmFwaXN0IG1hdGNoaW5nIGNyaXRlcmlhXG4gICAqL1xuICBwcml2YXRlIGdlbmVyYXRlVGhlcmFwaXN0Q3JpdGVyaWEoXG4gICAgY2xpbmljYWxQcm9maWxlOiBDbGluaWNhbFByb2ZpbGUsXG4gICk6IFRoZXJhcGlzdE1hdGNoQ3JpdGVyaWEge1xuICAgIGNvbnN0IHsgcHJpbWFyeUNvbmRpdGlvbnMsIG92ZXJhbGxSaXNrTGV2ZWwsIHRyZWF0bWVudFJlY29tbWVuZGF0aW9ucyB9ID1cbiAgICAgIGNsaW5pY2FsUHJvZmlsZTtcblxuICAgIGNvbnN0IHJlcXVpcmVkU3BlY2lhbGl6YXRpb25zID1cbiAgICAgIHRoaXMuZ2V0UmVxdWlyZWRTcGVjaWFsaXphdGlvbnMocHJpbWFyeUNvbmRpdGlvbnMpO1xuICAgIGNvbnN0IHByZWZlcnJlZEFwcHJvYWNoZXMgPSB0aGlzLmdldFByZWZlcnJlZEFwcHJvYWNoZXMocHJpbWFyeUNvbmRpdGlvbnMpO1xuICAgIGNvbnN0IGV4cGVyaWVuY2VMZXZlbCA9IHRoaXMuZGV0ZXJtaW5lUmVxdWlyZWRFeHBlcmllbmNlTGV2ZWwoXG4gICAgICBvdmVyYWxsUmlza0xldmVsLFxuICAgICAgcHJpbWFyeUNvbmRpdGlvbnMsXG4gICAgKTtcbiAgICBjb25zdCB1cmdlbmN5TGV2ZWwgPSB0aGlzLm1hcFJpc2tUb1VyZ2VuY3kob3ZlcmFsbFJpc2tMZXZlbCk7XG4gICAgY29uc3Qgc2Vzc2lvbkZyZXF1ZW5jeSA9IHRoaXMuZGV0ZXJtaW5lU2Vzc2lvbkZyZXF1ZW5jeShcbiAgICAgIG92ZXJhbGxSaXNrTGV2ZWwsXG4gICAgICBwcmltYXJ5Q29uZGl0aW9ucyxcbiAgICApO1xuICAgIGNvbnN0IHNwZWNpYWxSZXF1aXJlbWVudHMgPSB0aGlzLmdldFNwZWNpYWxSZXF1aXJlbWVudHMocHJpbWFyeUNvbmRpdGlvbnMpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHJlcXVpcmVkU3BlY2lhbGl6YXRpb25zLFxuICAgICAgcHJlZmVycmVkQXBwcm9hY2hlcyxcbiAgICAgIGV4cGVyaWVuY2VMZXZlbCxcbiAgICAgIHVyZ2VuY3lMZXZlbCxcbiAgICAgIHRyZWF0bWVudE1vZGFsaXR5OiAnaW5kaXZpZHVhbCcsIC8vIERlZmF1bHQgdG8gaW5kaXZpZHVhbCB0aGVyYXB5XG4gICAgICBzZXNzaW9uRnJlcXVlbmN5LFxuICAgICAgZXN0aW1hdGVkRHVyYXRpb246XG4gICAgICAgIHRoaXMuZXN0aW1hdGVPdmVyYWxsVHJlYXRtZW50RHVyYXRpb24ocHJpbWFyeUNvbmRpdGlvbnMpLFxuICAgICAgc3BlY2lhbFJlcXVpcmVtZW50cyxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCByZXF1aXJlZCBzcGVjaWFsaXphdGlvbnMgYmFzZWQgb24gY29uZGl0aW9uc1xuICAgKi9cbiAgcHJpdmF0ZSBnZXRSZXF1aXJlZFNwZWNpYWxpemF0aW9ucyhcbiAgICBwcmltYXJ5Q29uZGl0aW9uczogQ2xpbmljYWxJbnNpZ2h0W10sXG4gICk6IHN0cmluZ1tdIHtcbiAgICBjb25zdCBzcGVjaWFsaXphdGlvbnMgPSBuZXcgU2V0PHN0cmluZz4oKTtcblxuICAgIHByaW1hcnlDb25kaXRpb25zLmZvckVhY2goKGNvbmRpdGlvbikgPT4ge1xuICAgICAgc3dpdGNoIChjb25kaXRpb24uY29uZGl0aW9uKSB7XG4gICAgICAgIGNhc2UgJ0RlcHJlc3Npb24nOlxuICAgICAgICAgIHNwZWNpYWxpemF0aW9ucy5hZGQoJ0RlcHJlc3Npb24gVHJlYXRtZW50Jyk7XG4gICAgICAgICAgc3BlY2lhbGl6YXRpb25zLmFkZCgnTW9vZCBEaXNvcmRlcnMnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnQW54aWV0eSc6XG4gICAgICAgICAgc3BlY2lhbGl6YXRpb25zLmFkZCgnQW54aWV0eSBEaXNvcmRlcnMnKTtcbiAgICAgICAgICBzcGVjaWFsaXphdGlvbnMuYWRkKCdTdHJlc3MgTWFuYWdlbWVudCcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdQb3N0LXRyYXVtYXRpYyBzdHJlc3MgZGlzb3JkZXIgKFBUU0QpJzpcbiAgICAgICAgICBzcGVjaWFsaXphdGlvbnMuYWRkKCdUcmF1bWEgVGhlcmFweScpO1xuICAgICAgICAgIHNwZWNpYWxpemF0aW9ucy5hZGQoJ1BUU0QgVHJlYXRtZW50Jyk7XG4gICAgICAgICAgc3BlY2lhbGl6YXRpb25zLmFkZCgnRU1EUicpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdCaXBvbGFyIGRpc29yZGVyIChCRCknOlxuICAgICAgICAgIHNwZWNpYWxpemF0aW9ucy5hZGQoJ0JpcG9sYXIgRGlzb3JkZXInKTtcbiAgICAgICAgICBzcGVjaWFsaXphdGlvbnMuYWRkKCdNb29kIERpc29yZGVycycpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdPYnNlc3NpdmUgY29tcHVsc2l2ZSBkaXNvcmRlciAoT0NEKSc6XG4gICAgICAgICAgc3BlY2lhbGl6YXRpb25zLmFkZCgnT0NEIFRyZWF0bWVudCcpO1xuICAgICAgICAgIHNwZWNpYWxpemF0aW9ucy5hZGQoJ0FueGlldHkgRGlzb3JkZXJzJyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0FERCAvIEFESEQnOlxuICAgICAgICAgIHNwZWNpYWxpemF0aW9ucy5hZGQoJ0FESEQgVHJlYXRtZW50Jyk7XG4gICAgICAgICAgc3BlY2lhbGl6YXRpb25zLmFkZCgnQXR0ZW50aW9uIERpc29yZGVycycpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHNwZWNpYWxpemF0aW9ucy5hZGQoJ0dlbmVyYWwgQ2xpbmljYWwgUHN5Y2hvbG9neScpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIEFycmF5LmZyb20oc3BlY2lhbGl6YXRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgcHJlZmVycmVkIHRoZXJhcGV1dGljIGFwcHJvYWNoZXNcbiAgICovXG4gIHByaXZhdGUgZ2V0UHJlZmVycmVkQXBwcm9hY2hlcyhcbiAgICBwcmltYXJ5Q29uZGl0aW9uczogQ2xpbmljYWxJbnNpZ2h0W10sXG4gICk6IHN0cmluZ1tdIHtcbiAgICBjb25zdCBhcHByb2FjaGVzID0gbmV3IFNldDxzdHJpbmc+KCk7XG5cbiAgICBwcmltYXJ5Q29uZGl0aW9ucy5mb3JFYWNoKChjb25kaXRpb24pID0+IHtcbiAgICAgIHN3aXRjaCAoY29uZGl0aW9uLmNvbmRpdGlvbikge1xuICAgICAgICBjYXNlICdEZXByZXNzaW9uJzpcbiAgICAgICAgICBhcHByb2FjaGVzLmFkZCgnQ29nbml0aXZlIEJlaGF2aW9yYWwgVGhlcmFweSAoQ0JUKScpO1xuICAgICAgICAgIGFwcHJvYWNoZXMuYWRkKCdJbnRlcnBlcnNvbmFsIFRoZXJhcHkgKElQVCknKTtcbiAgICAgICAgICBhcHByb2FjaGVzLmFkZCgnTWluZGZ1bG5lc3MtQmFzZWQgQ29nbml0aXZlIFRoZXJhcHkgKE1CQ1QpJyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0FueGlldHknOlxuICAgICAgICAgIGFwcHJvYWNoZXMuYWRkKCdDb2duaXRpdmUgQmVoYXZpb3JhbCBUaGVyYXB5IChDQlQpJyk7XG4gICAgICAgICAgYXBwcm9hY2hlcy5hZGQoJ0FjY2VwdGFuY2UgYW5kIENvbW1pdG1lbnQgVGhlcmFweSAoQUNUKScpO1xuICAgICAgICAgIGFwcHJvYWNoZXMuYWRkKCdFeHBvc3VyZSBUaGVyYXB5Jyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ1Bvc3QtdHJhdW1hdGljIHN0cmVzcyBkaXNvcmRlciAoUFRTRCknOlxuICAgICAgICAgIGFwcHJvYWNoZXMuYWRkKFxuICAgICAgICAgICAgJ0V5ZSBNb3ZlbWVudCBEZXNlbnNpdGl6YXRpb24gYW5kIFJlcHJvY2Vzc2luZyAoRU1EUiknLFxuICAgICAgICAgICk7XG4gICAgICAgICAgYXBwcm9hY2hlcy5hZGQoJ0NvZ25pdGl2ZSBQcm9jZXNzaW5nIFRoZXJhcHkgKENQVCknKTtcbiAgICAgICAgICBhcHByb2FjaGVzLmFkZCgnUHJvbG9uZ2VkIEV4cG9zdXJlIFRoZXJhcHkgKFBFKScpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdCaXBvbGFyIGRpc29yZGVyIChCRCknOlxuICAgICAgICAgIGFwcHJvYWNoZXMuYWRkKCdEaWFsZWN0aWNhbCBCZWhhdmlvciBUaGVyYXB5IChEQlQpJyk7XG4gICAgICAgICAgYXBwcm9hY2hlcy5hZGQoJ0NvZ25pdGl2ZSBCZWhhdmlvcmFsIFRoZXJhcHkgKENCVCknKTtcbiAgICAgICAgICBhcHByb2FjaGVzLmFkZCgnUHN5Y2hvZWR1Y2F0aW9uJyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgYXBwcm9hY2hlcy5hZGQoJ0NvZ25pdGl2ZSBCZWhhdmlvcmFsIFRoZXJhcHkgKENCVCknKTtcbiAgICAgICAgICBhcHByb2FjaGVzLmFkZCgnUHN5Y2hvZHluYW1pYyBUaGVyYXB5Jyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gQXJyYXkuZnJvbShhcHByb2FjaGVzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmUgcmVxdWlyZWQgdGhlcmFwaXN0IGV4cGVyaWVuY2UgbGV2ZWxcbiAgICovXG4gIHByaXZhdGUgZGV0ZXJtaW5lUmVxdWlyZWRFeHBlcmllbmNlTGV2ZWwoXG4gICAgcmlza0xldmVsOiBzdHJpbmcsXG4gICAgcHJpbWFyeUNvbmRpdGlvbnM6IENsaW5pY2FsSW5zaWdodFtdLFxuICApOiAnYW55JyB8ICdpbnRlcm1lZGlhdGUnIHwgJ3NlbmlvcicgfCAnZXhwZXJ0JyB7XG4gICAgaWYgKHJpc2tMZXZlbCA9PT0gJ2NyaXRpY2FsJykgcmV0dXJuICdleHBlcnQnO1xuICAgIGlmIChyaXNrTGV2ZWwgPT09ICdoaWdoJykgcmV0dXJuICdzZW5pb3InO1xuXG4gICAgY29uc3QgY29tcGxleENvbmRpdGlvbnMgPSBbXG4gICAgICAnUG9zdC10cmF1bWF0aWMgc3RyZXNzIGRpc29yZGVyIChQVFNEKScsXG4gICAgICAnQmlwb2xhciBkaXNvcmRlciAoQkQpJyxcbiAgICBdO1xuICAgIGNvbnN0IGhhc0NvbXBsZXhDb25kaXRpb24gPSBwcmltYXJ5Q29uZGl0aW9ucy5zb21lKChjKSA9PlxuICAgICAgY29tcGxleENvbmRpdGlvbnMuaW5jbHVkZXMoYy5jb25kaXRpb24pLFxuICAgICk7XG5cbiAgICBpZiAoaGFzQ29tcGxleENvbmRpdGlvbikgcmV0dXJuICdzZW5pb3InO1xuICAgIGlmIChwcmltYXJ5Q29uZGl0aW9ucy5zb21lKChjKSA9PiBjLmNsaW5pY2FsTGV2ZWwgPT09ICdzZXZlcmUnKSlcbiAgICAgIHJldHVybiAnaW50ZXJtZWRpYXRlJztcblxuICAgIHJldHVybiAnYW55JztcbiAgfVxuXG4gIC8qKlxuICAgKiBNYXAgcmlzayBsZXZlbCB0byB1cmdlbmN5XG4gICAqL1xuICBwcml2YXRlIG1hcFJpc2tUb1VyZ2VuY3koXG4gICAgcmlza0xldmVsOiBzdHJpbmcsXG4gICk6ICdpbW1lZGlhdGUnIHwgJ2hpZ2gnIHwgJ21vZGVyYXRlJyB8ICdyb3V0aW5lJyB7XG4gICAgY29uc3QgbWFwcGluZyA9IHtcbiAgICAgIGNyaXRpY2FsOiAnaW1tZWRpYXRlJyBhcyBjb25zdCxcbiAgICAgIGhpZ2g6ICdoaWdoJyBhcyBjb25zdCxcbiAgICAgIG1vZGVyYXRlOiAnbW9kZXJhdGUnIGFzIGNvbnN0LFxuICAgICAgbG93OiAncm91dGluZScgYXMgY29uc3QsXG4gICAgfTtcbiAgICByZXR1cm4gbWFwcGluZ1tyaXNrTGV2ZWxdIHx8ICdyb3V0aW5lJztcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmUgcmVjb21tZW5kZWQgc2Vzc2lvbiBmcmVxdWVuY3lcbiAgICovXG4gIHByaXZhdGUgZGV0ZXJtaW5lU2Vzc2lvbkZyZXF1ZW5jeShcbiAgICByaXNrTGV2ZWw6IHN0cmluZyxcbiAgICBwcmltYXJ5Q29uZGl0aW9uczogQ2xpbmljYWxJbnNpZ2h0W10sXG4gICk6ICdtdWx0aXBsZV93ZWVrbHknIHwgJ3dlZWtseScgfCAnYml3ZWVrbHknIHwgJ21vbnRobHknIHtcbiAgICBpZiAocmlza0xldmVsID09PSAnY3JpdGljYWwnKSByZXR1cm4gJ211bHRpcGxlX3dlZWtseSc7XG4gICAgaWYgKHJpc2tMZXZlbCA9PT0gJ2hpZ2gnKSByZXR1cm4gJ3dlZWtseSc7XG4gICAgaWYgKHByaW1hcnlDb25kaXRpb25zLnNvbWUoKGMpID0+IGMuY2xpbmljYWxMZXZlbCA9PT0gJ3NldmVyZScpKVxuICAgICAgcmV0dXJuICd3ZWVrbHknO1xuICAgIGlmIChwcmltYXJ5Q29uZGl0aW9ucy5zb21lKChjKSA9PiBjLmNsaW5pY2FsTGV2ZWwgPT09ICdtb2RlcmF0ZScpKVxuICAgICAgcmV0dXJuICd3ZWVrbHknO1xuXG4gICAgcmV0dXJuICdiaXdlZWtseSc7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgaW50ZXJ2ZW50aW9uIHJlY29tbWVuZGF0aW9uc1xuICAgKi9cbiAgcHJpdmF0ZSBnZW5lcmF0ZUludGVydmVudGlvblJlY29tbWVuZGF0aW9ucyhcbiAgICBjbGluaWNhbFByb2ZpbGU6IENsaW5pY2FsUHJvZmlsZSxcbiAgKTogSW50ZXJ2ZW50aW9uUmVjb21tZW5kYXRpb25bXSB7XG4gICAgY29uc3QgcmVjb21tZW5kYXRpb25zOiBJbnRlcnZlbnRpb25SZWNvbW1lbmRhdGlvbltdID0gW107XG4gICAgY29uc3QgeyBwcmltYXJ5Q29uZGl0aW9ucywgcmlza0ZhY3RvcnMsIG92ZXJhbGxSaXNrTGV2ZWwgfSA9XG4gICAgICBjbGluaWNhbFByb2ZpbGU7XG5cbiAgICAvLyBDcmlzaXMgaW50ZXJ2ZW50aW9uIGlmIG5lZWRlZFxuICAgIGlmIChvdmVyYWxsUmlza0xldmVsID09PSAnY3JpdGljYWwnKSB7XG4gICAgICByZWNvbW1lbmRhdGlvbnMucHVzaCh7XG4gICAgICAgIHR5cGU6ICdjcmlzaXNfaW50ZXJ2ZW50aW9uJyxcbiAgICAgICAgcHJpb3JpdHk6IDEsXG4gICAgICAgIHVyZ2VuY3k6ICdpbW1lZGlhdGUnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0ltbWVkaWF0ZSBjcmlzaXMgaW50ZXJ2ZW50aW9uIGFuZCBzYWZldHkgYXNzZXNzbWVudCcsXG4gICAgICAgIHByb3ZpZGVyOiAnQ3Jpc2lzIGludGVydmVudGlvbiBzcGVjaWFsaXN0IG9yIGVtZXJnZW5jeSBzZXJ2aWNlcycsXG4gICAgICAgIGR1cmF0aW9uOiAnSW1tZWRpYXRlJyxcbiAgICAgICAgZnJlcXVlbmN5OiAnQXMgbmVlZGVkJyxcbiAgICAgICAgZ29hbHM6IFsnRW5zdXJlIHNhZmV0eScsICdTdGFiaWxpemUgY3Jpc2lzJywgJ0Nvbm5lY3QgdG8gb25nb2luZyBjYXJlJ10sXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBQcmltYXJ5IHRoZXJhcHkgcmVjb21tZW5kYXRpb25cbiAgICBjb25zdCBwcmltYXJ5Q29uZGl0aW9uID0gcHJpbWFyeUNvbmRpdGlvbnNbMF07XG4gICAgaWYgKHByaW1hcnlDb25kaXRpb24pIHtcbiAgICAgIHJlY29tbWVuZGF0aW9ucy5wdXNoKHtcbiAgICAgICAgdHlwZTogJ3RoZXJhcHknLFxuICAgICAgICBwcmlvcml0eTogMixcbiAgICAgICAgdXJnZW5jeTogdGhpcy5tYXBSaXNrVG9VcmdlbmN5KHByaW1hcnlDb25kaXRpb24ucmlza0xldmVsKSxcbiAgICAgICAgZGVzY3JpcHRpb246IGBJbmRpdmlkdWFsIHRoZXJhcHkgZm9yICR7cHJpbWFyeUNvbmRpdGlvbi5jb25kaXRpb24udG9Mb3dlckNhc2UoKX1gLFxuICAgICAgICBwcm92aWRlcjogJ0xpY2Vuc2VkIG1lbnRhbCBoZWFsdGggcHJvZmVzc2lvbmFsJyxcbiAgICAgICAgZHVyYXRpb246IHRoaXMuZXN0aW1hdGVDb3JlVHJlYXRtZW50RHVyYXRpb24ocHJpbWFyeUNvbmRpdGlvbiksXG4gICAgICAgIGZyZXF1ZW5jeTogdGhpcy5kZXRlcm1pbmVTZXNzaW9uRnJlcXVlbmN5KFxuICAgICAgICAgIG92ZXJhbGxSaXNrTGV2ZWwsXG4gICAgICAgICAgcHJpbWFyeUNvbmRpdGlvbnMsXG4gICAgICAgICksXG4gICAgICAgIGdvYWxzOiBwcmltYXJ5Q29uZGl0aW9uLnRoZXJhcGV1dGljRm9jdXMsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBQc3ljaGlhdHJpYyBldmFsdWF0aW9uIGlmIGluZGljYXRlZFxuICAgIGlmIChcbiAgICAgIHRoaXMucmVxdWlyZXNQc3ljaGlhdHJpY0V2YWx1YXRpb24ocHJpbWFyeUNvbmRpdGlvbnMsIG92ZXJhbGxSaXNrTGV2ZWwpXG4gICAgKSB7XG4gICAgICByZWNvbW1lbmRhdGlvbnMucHVzaCh7XG4gICAgICAgIHR5cGU6ICdwc3ljaGlhdHJpY19ldmFsJyxcbiAgICAgICAgcHJpb3JpdHk6IDMsXG4gICAgICAgIHVyZ2VuY3k6IG92ZXJhbGxSaXNrTGV2ZWwgPT09ICdjcml0aWNhbCcgPyAnaW1tZWRpYXRlJyA6ICdoaWdoJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdQc3ljaGlhdHJpYyBldmFsdWF0aW9uIGZvciBtZWRpY2F0aW9uIG1hbmFnZW1lbnQnLFxuICAgICAgICBwcm92aWRlcjogJ1BzeWNoaWF0cmlzdCcsXG4gICAgICAgIGR1cmF0aW9uOiAnMS0yIHNlc3Npb25zJyxcbiAgICAgICAgZnJlcXVlbmN5OiAnSW5pdGlhbCBldmFsdWF0aW9uLCB0aGVuIGFzIG5lZWRlZCcsXG4gICAgICAgIGdvYWxzOiBbXG4gICAgICAgICAgJ01lZGljYXRpb24gYXNzZXNzbWVudCcsXG4gICAgICAgICAgJ1N5bXB0b20gbWFuYWdlbWVudCcsXG4gICAgICAgICAgJ1RyZWF0bWVudCBjb29yZGluYXRpb24nLFxuICAgICAgICBdLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlY29tbWVuZGF0aW9ucy5zb3J0KChhLCBiKSA9PiBhLnByaW9yaXR5IC0gYi5wcmlvcml0eSk7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgc2VsZi1jYXJlIHJlY29tbWVuZGF0aW9uc1xuICAgKi9cbiAgcHJpdmF0ZSBnZW5lcmF0ZVNlbGZDYXJlUmVjb21tZW5kYXRpb25zKFxuICAgIGNsaW5pY2FsUHJvZmlsZTogQ2xpbmljYWxQcm9maWxlLFxuICApOiBTZWxmQ2FyZVJlY29tbWVuZGF0aW9uW10ge1xuICAgIGNvbnN0IHJlY29tbWVuZGF0aW9uczogU2VsZkNhcmVSZWNvbW1lbmRhdGlvbltdID0gW107XG4gICAgY29uc3QgeyBwcmltYXJ5Q29uZGl0aW9ucyB9ID0gY2xpbmljYWxQcm9maWxlO1xuXG4gICAgLy8gVW5pdmVyc2FsIHJlY29tbWVuZGF0aW9uc1xuICAgIHJlY29tbWVuZGF0aW9ucy5wdXNoKFxuICAgICAge1xuICAgICAgICBjYXRlZ29yeTogJ2xpZmVzdHlsZScsXG4gICAgICAgIHByaW9yaXR5OiAnaGlnaCcsXG4gICAgICAgIHJlY29tbWVuZGF0aW9uOiAnTWFpbnRhaW4gcmVndWxhciBzbGVlcCBzY2hlZHVsZSAoNy05IGhvdXJzIHBlciBuaWdodCknLFxuICAgICAgICBmcmVxdWVuY3k6ICdEYWlseScsXG4gICAgICAgIHJhdGlvbmFsZTpcbiAgICAgICAgICAnU2xlZXAgcmVndWxhdGlvbiBpcyBjcnVjaWFsIGZvciBtZW50YWwgaGVhbHRoIGFuZCBzeW1wdG9tIG1hbmFnZW1lbnQnLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgY2F0ZWdvcnk6ICdwaHlzaWNhbCcsXG4gICAgICAgIHByaW9yaXR5OiAnaGlnaCcsXG4gICAgICAgIHJlY29tbWVuZGF0aW9uOlxuICAgICAgICAgICdSZWd1bGFyIHBoeXNpY2FsIGV4ZXJjaXNlICgzMCBtaW51dGVzLCAzLTUgdGltZXMgcGVyIHdlZWspJyxcbiAgICAgICAgZnJlcXVlbmN5OiAnMy01IHRpbWVzIHBlciB3ZWVrJyxcbiAgICAgICAgcmF0aW9uYWxlOlxuICAgICAgICAgICdFeGVyY2lzZSBoYXMgcHJvdmVuIGJlbmVmaXRzIGZvciBtb29kIHJlZ3VsYXRpb24gYW5kIGFueGlldHkgcmVkdWN0aW9uJyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGNhdGVnb3J5OiAnbWluZGZ1bG5lc3MnLFxuICAgICAgICBwcmlvcml0eTogJ21lZGl1bScsXG4gICAgICAgIHJlY29tbWVuZGF0aW9uOiAnRGFpbHkgbWluZGZ1bG5lc3Mgb3IgbWVkaXRhdGlvbiBwcmFjdGljZScsXG4gICAgICAgIGZyZXF1ZW5jeTogJ0RhaWx5ICgxMC0yMCBtaW51dGVzKScsXG4gICAgICAgIHJhdGlvbmFsZTpcbiAgICAgICAgICAnTWluZGZ1bG5lc3MgaW1wcm92ZXMgZW1vdGlvbmFsIHJlZ3VsYXRpb24gYW5kIHJlZHVjZXMgc3RyZXNzJyxcbiAgICAgIH0sXG4gICAgKTtcblxuICAgIC8vIENvbmRpdGlvbi1zcGVjaWZpYyByZWNvbW1lbmRhdGlvbnNcbiAgICBwcmltYXJ5Q29uZGl0aW9ucy5mb3JFYWNoKChjb25kaXRpb24pID0+IHtcbiAgICAgIGNvbnN0IGNvbmRpdGlvblJlY3MgPSB0aGlzLmdldENvbmRpdGlvblNwZWNpZmljU2VsZkNhcmUoXG4gICAgICAgIGNvbmRpdGlvbi5jb25kaXRpb24sXG4gICAgICApO1xuICAgICAgcmVjb21tZW5kYXRpb25zLnB1c2goLi4uY29uZGl0aW9uUmVjcyk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmVjb21tZW5kYXRpb25zO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBjb25kaXRpb24tc3BlY2lmaWMgc2VsZi1jYXJlIHJlY29tbWVuZGF0aW9uc1xuICAgKi9cbiAgcHJpdmF0ZSBnZXRDb25kaXRpb25TcGVjaWZpY1NlbGZDYXJlKFxuICAgIGNvbmRpdGlvbjogc3RyaW5nLFxuICApOiBTZWxmQ2FyZVJlY29tbWVuZGF0aW9uW10ge1xuICAgIGNvbnN0IHJlY29tbWVuZGF0aW9uczogUmVjb3JkPHN0cmluZywgU2VsZkNhcmVSZWNvbW1lbmRhdGlvbltdPiA9IHtcbiAgICAgIERlcHJlc3Npb246IFtcbiAgICAgICAge1xuICAgICAgICAgIGNhdGVnb3J5OiAnc29jaWFsJyxcbiAgICAgICAgICBwcmlvcml0eTogJ2hpZ2gnLFxuICAgICAgICAgIHJlY29tbWVuZGF0aW9uOlxuICAgICAgICAgICAgJ01haW50YWluIHNvY2lhbCBjb25uZWN0aW9ucyBhbmQgZW5nYWdlIGluIG1lYW5pbmdmdWwgYWN0aXZpdGllcycsXG4gICAgICAgICAgZnJlcXVlbmN5OiAnV2Vla2x5JyxcbiAgICAgICAgICByYXRpb25hbGU6XG4gICAgICAgICAgICAnU29jaWFsIHN1cHBvcnQgYW5kIGJlaGF2aW9yYWwgYWN0aXZhdGlvbiBhcmUga2V5IGZvciBkZXByZXNzaW9uIHJlY292ZXJ5JyxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGNhdGVnb3J5OiAnbGlmZXN0eWxlJyxcbiAgICAgICAgICBwcmlvcml0eTogJ21lZGl1bScsXG4gICAgICAgICAgcmVjb21tZW5kYXRpb246XG4gICAgICAgICAgICAnRXhwb3N1cmUgdG8gbmF0dXJhbCBsaWdodCwgZXNwZWNpYWxseSBpbiB0aGUgbW9ybmluZycsXG4gICAgICAgICAgZnJlcXVlbmN5OiAnRGFpbHknLFxuICAgICAgICAgIHJhdGlvbmFsZTogJ0xpZ2h0IGV4cG9zdXJlIGhlbHBzIHJlZ3VsYXRlIG1vb2QgYW5kIGNpcmNhZGlhbiByaHl0aG1zJyxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgICBBbnhpZXR5OiBbXG4gICAgICAgIHtcbiAgICAgICAgICBjYXRlZ29yeTogJ2Vtb3Rpb25hbCcsXG4gICAgICAgICAgcHJpb3JpdHk6ICdoaWdoJyxcbiAgICAgICAgICByZWNvbW1lbmRhdGlvbjpcbiAgICAgICAgICAgICdQcmFjdGljZSBkZWVwIGJyZWF0aGluZyBhbmQgcHJvZ3Jlc3NpdmUgbXVzY2xlIHJlbGF4YXRpb24nLFxuICAgICAgICAgIGZyZXF1ZW5jeTogJ0RhaWx5JyxcbiAgICAgICAgICByYXRpb25hbGU6XG4gICAgICAgICAgICAnUmVsYXhhdGlvbiB0ZWNobmlxdWVzIGhlbHAgbWFuYWdlIGFueGlldHkgc3ltcHRvbXMgYW5kIHByZXZlbnQgZXNjYWxhdGlvbicsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBjYXRlZ29yeTogJ2xpZmVzdHlsZScsXG4gICAgICAgICAgcHJpb3JpdHk6ICdtZWRpdW0nLFxuICAgICAgICAgIHJlY29tbWVuZGF0aW9uOiAnTGltaXQgY2FmZmVpbmUgYW5kIGFsY29ob2wgaW50YWtlJyxcbiAgICAgICAgICBmcmVxdWVuY3k6ICdEYWlseScsXG4gICAgICAgICAgcmF0aW9uYWxlOiAnVGhlc2Ugc3Vic3RhbmNlcyBjYW4gZXhhY2VyYmF0ZSBhbnhpZXR5IHN5bXB0b21zJyxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfTtcblxuICAgIHJldHVybiByZWNvbW1lbmRhdGlvbnNbY29uZGl0aW9uXSB8fCBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgbW9uaXRvcmluZyBwbGFuXG4gICAqL1xuICBwcml2YXRlIGNyZWF0ZU1vbml0b3JpbmdQbGFuKFxuICAgIGNsaW5pY2FsUHJvZmlsZTogQ2xpbmljYWxQcm9maWxlLFxuICApOiBNb25pdG9yaW5nUGxhbiB7XG4gICAgY29uc3QgeyBwcmltYXJ5Q29uZGl0aW9ucywgb3ZlcmFsbFJpc2tMZXZlbCB9ID0gY2xpbmljYWxQcm9maWxlO1xuXG4gICAgY29uc3QgYXNzZXNzbWVudFNjaGVkdWxlID1cbiAgICAgIG92ZXJhbGxSaXNrTGV2ZWwgPT09ICdjcml0aWNhbCdcbiAgICAgICAgPyAnV2Vla2x5IGZvciBmaXJzdCBtb250aCwgdGhlbiBiaXdlZWtseSdcbiAgICAgICAgOiBvdmVyYWxsUmlza0xldmVsID09PSAnaGlnaCdcbiAgICAgICAgICA/ICdCaXdlZWtseSBmb3IgZmlyc3QgNiB3ZWVrcywgdGhlbiBtb250aGx5J1xuICAgICAgICAgIDogJ01vbnRobHkgZm9yIGZpcnN0IDMgbW9udGhzLCB0aGVuIHF1YXJ0ZXJseSc7XG5cbiAgICBjb25zdCBrZXlNZXRyaWNzID0gW1xuICAgICAgJ1N5bXB0b20gc2V2ZXJpdHkgc2NvcmVzJyxcbiAgICAgICdGdW5jdGlvbmFsIGltcHJvdmVtZW50IG1lYXN1cmVzJyxcbiAgICAgICdRdWFsaXR5IG9mIGxpZmUgaW5kaWNhdG9ycycsXG4gICAgICAnVHJlYXRtZW50IGFkaGVyZW5jZScsXG4gICAgICAnU2FmZXR5IGNvbmNlcm5zJyxcbiAgICBdO1xuXG4gICAgY29uc3Qgd2FybmluZ1NpZ25zID0gdGhpcy5nZXRXYXJuaW5nU2lnbnNGb3JDb25kaXRpb25zKHByaW1hcnlDb25kaXRpb25zKTtcblxuICAgIGNvbnN0IHJldmlld1BvaW50cyA9IFtcbiAgICAgICdBZnRlciA0IHdlZWtzIG9mIHRyZWF0bWVudCcsXG4gICAgICAnQXQgOC13ZWVrIG1hcmsnLFxuICAgICAgJ0F0IDMtbW9udGggbWFyaycsXG4gICAgICAnRXZlcnkgNiBtb250aHMgdGhlcmVhZnRlcicsXG4gICAgXTtcblxuICAgIHJldHVybiB7XG4gICAgICBhc3Nlc3NtZW50U2NoZWR1bGUsXG4gICAgICBrZXlNZXRyaWNzLFxuICAgICAgd2FybmluZ1NpZ25zLFxuICAgICAgcmV2aWV3UG9pbnRzLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGNvbnRpbmdlbmN5IHBsYW4gZm9yIGNyaXNpcyBzaXR1YXRpb25zXG4gICAqL1xuICBwcml2YXRlIGNyZWF0ZUNvbnRpbmdlbmN5UGxhbihcbiAgICBjbGluaWNhbFByb2ZpbGU6IENsaW5pY2FsUHJvZmlsZSxcbiAgKTogQ29udGluZ2VuY3lQbGFuIHtcbiAgICBjb25zdCBjcmlzaXNDb250YWN0cyA9IFtcbiAgICAgICdBc3NpZ25lZCB0aGVyYXBpc3QnLFxuICAgICAgJ0NyaXNpcyBob3RsaW5lOiA5ODggKFN1aWNpZGUgJiBDcmlzaXMgTGlmZWxpbmUpJyxcbiAgICAgICdFbWVyZ2VuY3kgc2VydmljZXM6IDkxMScsXG4gICAgICAnQ3Jpc2lzIHRleHQgbGluZTogVGV4dCBIT01FIHRvIDc0MTc0MScsXG4gICAgXTtcblxuICAgIGNvbnN0IGVtZXJnZW5jeVN0ZXBzID0gW1xuICAgICAgJ1JlY29nbml6ZSB3YXJuaW5nIHNpZ25zIGVhcmx5JyxcbiAgICAgICdVc2UgbGVhcm5lZCBjb3Bpbmcgc3RyYXRlZ2llcycsXG4gICAgICAnQ29udGFjdCBzdXBwb3J0IHBlcnNvbiBvciB0aGVyYXBpc3QnLFxuICAgICAgJ0lmIGltbWVkaWF0ZSBkYW5nZXIsIGNhbGwgOTExIG9yIGdvIHRvIGVtZXJnZW5jeSByb29tJyxcbiAgICAgICdGb2xsb3cgdXAgd2l0aCB0cmVhdG1lbnQgdGVhbSB3aXRoaW4gMjQgaG91cnMnLFxuICAgIF07XG5cbiAgICBjb25zdCBlc2NhbGF0aW9uVHJpZ2dlcnMgPSB0aGlzLmdldEVzY2FsYXRpb25UcmlnZ2VycyhjbGluaWNhbFByb2ZpbGUpO1xuXG4gICAgY29uc3Qgc2FmZXR5UmVzb3VyY2VzID0gW1xuICAgICAgJ1BlcnNvbmFsIHNhZmV0eSBwbGFuJyxcbiAgICAgICdDcmlzaXMgaW50ZXJ2ZW50aW9uIHNlcnZpY2VzJyxcbiAgICAgICdNb2JpbGUgY3Jpc2lzIHRlYW1zJyxcbiAgICAgICdQZWVyIHN1cHBvcnQgbmV0d29ya3MnLFxuICAgICAgJ09ubGluZSBtZW50YWwgaGVhbHRoIHJlc291cmNlcycsXG4gICAgXTtcblxuICAgIHJldHVybiB7XG4gICAgICBjcmlzaXNDb250YWN0cyxcbiAgICAgIGVtZXJnZW5jeVN0ZXBzLFxuICAgICAgZXNjYWxhdGlvblRyaWdnZXJzLFxuICAgICAgc2FmZXR5UmVzb3VyY2VzLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogRGVmaW5lIHN1Y2Nlc3MgbWV0cmljcyBmb3IgdHJlYXRtZW50XG4gICAqL1xuICBwcml2YXRlIGRlZmluZVN1Y2Nlc3NNZXRyaWNzKFxuICAgIGNsaW5pY2FsUHJvZmlsZTogQ2xpbmljYWxQcm9maWxlLFxuICApOiBTdWNjZXNzTWV0cmljW10ge1xuICAgIGNvbnN0IHsgcHJpbWFyeUNvbmRpdGlvbnMgfSA9IGNsaW5pY2FsUHJvZmlsZTtcbiAgICBjb25zdCBtZXRyaWNzOiBTdWNjZXNzTWV0cmljW10gPSBbXTtcblxuICAgIC8vIFVuaXZlcnNhbCBtZXRyaWNzXG4gICAgbWV0cmljcy5wdXNoKFxuICAgICAge1xuICAgICAgICBtZXRyaWM6ICdPdmVyYWxsIHN5bXB0b20gc2V2ZXJpdHkgcmVkdWN0aW9uJyxcbiAgICAgICAgdGFyZ2V0SW1wcm92ZW1lbnQ6ICc1MCUgcmVkdWN0aW9uIGluIHByaW1hcnkgc3ltcHRvbXMnLFxuICAgICAgICB0aW1lZnJhbWU6ICcxMiB3ZWVrcycsXG4gICAgICAgIG1lYXN1cmVtZW50TWV0aG9kOlxuICAgICAgICAgICdTdGFuZGFyZGl6ZWQgYXNzZXNzbWVudCB0b29scyBhbmQgY2xpbmljYWwgaW50ZXJ2aWV3cycsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBtZXRyaWM6ICdGdW5jdGlvbmFsIGltcHJvdmVtZW50JyxcbiAgICAgICAgdGFyZ2V0SW1wcm92ZW1lbnQ6XG4gICAgICAgICAgJ1JldHVybiB0byBiYXNlbGluZSBmdW5jdGlvbmluZyBpbiB3b3JrL3NjaG9vbCBhbmQgcmVsYXRpb25zaGlwcycsXG4gICAgICAgIHRpbWVmcmFtZTogJzE2IHdlZWtzJyxcbiAgICAgICAgbWVhc3VyZW1lbnRNZXRob2Q6ICdGdW5jdGlvbmFsIGFzc2Vzc21lbnQgc2NhbGVzIGFuZCBzZWxmLXJlcG9ydCcsXG4gICAgICB9LFxuICAgICk7XG5cbiAgICAvLyBDb25kaXRpb24tc3BlY2lmaWMgbWV0cmljc1xuICAgIHByaW1hcnlDb25kaXRpb25zLmZvckVhY2goKGNvbmRpdGlvbikgPT4ge1xuICAgICAgY29uc3QgY29uZGl0aW9uTWV0cmljcyA9IHRoaXMuZ2V0Q29uZGl0aW9uU3BlY2lmaWNNZXRyaWNzKFxuICAgICAgICBjb25kaXRpb24uY29uZGl0aW9uLFxuICAgICAgKTtcbiAgICAgIG1ldHJpY3MucHVzaCguLi5jb25kaXRpb25NZXRyaWNzKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBtZXRyaWNzO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBjb25kaXRpb24tc3BlY2lmaWMgc3VjY2VzcyBtZXRyaWNzXG4gICAqL1xuICBwcml2YXRlIGdldENvbmRpdGlvblNwZWNpZmljTWV0cmljcyhjb25kaXRpb246IHN0cmluZyk6IFN1Y2Nlc3NNZXRyaWNbXSB7XG4gICAgY29uc3QgbWV0cmljczogUmVjb3JkPHN0cmluZywgU3VjY2Vzc01ldHJpY1tdPiA9IHtcbiAgICAgIERlcHJlc3Npb246IFtcbiAgICAgICAge1xuICAgICAgICAgIG1ldHJpYzogJ1BIUS05IHNjb3JlIGltcHJvdmVtZW50JyxcbiAgICAgICAgICB0YXJnZXRJbXByb3ZlbWVudDogJ1Njb3JlIHJlZHVjdGlvbiB0byBiZWxvdyAxMCAobWlsZCByYW5nZSknLFxuICAgICAgICAgIHRpbWVmcmFtZTogJzgtMTIgd2Vla3MnLFxuICAgICAgICAgIG1lYXN1cmVtZW50TWV0aG9kOiAnUEhRLTkgcXVlc3Rpb25uYWlyZSBhZG1pbmlzdGVyZWQgYml3ZWVrbHknLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICAgIEFueGlldHk6IFtcbiAgICAgICAge1xuICAgICAgICAgIG1ldHJpYzogJ0dBRC03IHNjb3JlIGltcHJvdmVtZW50JyxcbiAgICAgICAgICB0YXJnZXRJbXByb3ZlbWVudDogJ1Njb3JlIHJlZHVjdGlvbiB0byBiZWxvdyA4IChtaWxkIHJhbmdlKScsXG4gICAgICAgICAgdGltZWZyYW1lOiAnNi0xMCB3ZWVrcycsXG4gICAgICAgICAgbWVhc3VyZW1lbnRNZXRob2Q6ICdHQUQtNyBxdWVzdGlvbm5haXJlIGFkbWluaXN0ZXJlZCBiaXdlZWtseScsXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgIH07XG5cbiAgICByZXR1cm4gbWV0cmljc1tjb25kaXRpb25dIHx8IFtdO1xuICB9XG5cbiAgLy8gSGVscGVyIG1ldGhvZHNcbiAgcHJpdmF0ZSBlc3RpbWF0ZUNvcmVUcmVhdG1lbnREdXJhdGlvbihcbiAgICBjb25kaXRpb246IENsaW5pY2FsSW5zaWdodCB8IHVuZGVmaW5lZCxcbiAgKTogc3RyaW5nIHtcbiAgICBpZiAoIWNvbmRpdGlvbikgcmV0dXJuICcxMi0xNiB3ZWVrcyc7XG5cbiAgICBjb25zdCBkdXJhdGlvbnMgPSB7XG4gICAgICBleHRyZW1lOiAnMjAtMjQgd2Vla3MnLFxuICAgICAgc2V2ZXJlOiAnMTYtMjAgd2Vla3MnLFxuICAgICAgbW9kZXJhdGU6ICcxMi0xNiB3ZWVrcycsXG4gICAgICBtaWxkOiAnOC0xMiB3ZWVrcycsXG4gICAgICBzdWJjbGluaWNhbDogJzYtOCB3ZWVrcycsXG4gICAgfTtcblxuICAgIHJldHVybiBkdXJhdGlvbnNbY29uZGl0aW9uLmNsaW5pY2FsTGV2ZWxdIHx8ICcxMi0xNiB3ZWVrcyc7XG4gIH1cblxuICBwcml2YXRlIGdldENvcmVQaGFzZUdvYWxzKGNvbmRpdGlvbjogQ2xpbmljYWxJbnNpZ2h0IHwgdW5kZWZpbmVkKTogc3RyaW5nW10ge1xuICAgIGlmICghY29uZGl0aW9uKSByZXR1cm4gWydTeW1wdG9tIHJlZHVjdGlvbicsICdTa2lsbCBkZXZlbG9wbWVudCddO1xuXG4gICAgcmV0dXJuIFtcbiAgICAgIGBSZWR1Y2UgJHtjb25kaXRpb24uY29uZGl0aW9uLnRvTG93ZXJDYXNlKCl9IHN5bXB0b21zYCxcbiAgICAgICdEZXZlbG9wIGVmZmVjdGl2ZSBjb3Bpbmcgc3RyYXRlZ2llcycsXG4gICAgICAnSW1wcm92ZSBkYWlseSBmdW5jdGlvbmluZycsXG4gICAgICAnQnVpbGQgdGhlcmFwZXV0aWMgc2tpbGxzJyxcbiAgICBdO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRDb3JlUGhhc2VBcHByb2FjaGVzKFxuICAgIGNvbmRpdGlvbjogQ2xpbmljYWxJbnNpZ2h0IHwgdW5kZWZpbmVkLFxuICApOiBzdHJpbmdbXSB7XG4gICAgaWYgKCFjb25kaXRpb24pIHJldHVybiBbJ0NvZ25pdGl2ZSBCZWhhdmlvcmFsIFRoZXJhcHkgKENCVCknXTtcbiAgICByZXR1cm4gY29uZGl0aW9uLnRoZXJhcGV1dGljRm9jdXMuc2xpY2UoMCwgMyk7XG4gIH1cblxuICBwcml2YXRlIGdldENvcmVQaGFzZUFyZWFzKGNvbmRpdGlvbjogQ2xpbmljYWxJbnNpZ2h0IHwgdW5kZWZpbmVkKTogc3RyaW5nW10ge1xuICAgIGlmICghY29uZGl0aW9uKSByZXR1cm4gWydTeW1wdG9tIG1hbmFnZW1lbnQnXTtcblxuICAgIHJldHVybiBbXG4gICAgICAnU3ltcHRvbSBpZGVudGlmaWNhdGlvbiBhbmQgbWFuYWdlbWVudCcsXG4gICAgICAnU2tpbGwgYnVpbGRpbmcgYW5kIHByYWN0aWNlJyxcbiAgICAgICdGdW5jdGlvbmFsIGltcHJvdmVtZW50JyxcbiAgICAgICdUaGVyYXBldXRpYyByZWxhdGlvbnNoaXAgYnVpbGRpbmcnLFxuICAgIF07XG4gIH1cblxuICBwcml2YXRlIGdldENvcmVQaGFzZVN1Y2Nlc3NDcml0ZXJpYShcbiAgICBjb25kaXRpb246IENsaW5pY2FsSW5zaWdodCB8IHVuZGVmaW5lZCxcbiAgKTogc3RyaW5nW10ge1xuICAgIGlmICghY29uZGl0aW9uKSByZXR1cm4gWydSZWR1Y2VkIHN5bXB0b21zJ107XG5cbiAgICByZXR1cm4gW1xuICAgICAgJ1NpZ25pZmljYW50IHN5bXB0b20gcmVkdWN0aW9uJyxcbiAgICAgICdJbXByb3ZlZCBjb3Bpbmcgc2tpbGxzJyxcbiAgICAgICdFbmhhbmNlZCBkYWlseSBmdW5jdGlvbmluZycsXG4gICAgICAnU3Ryb25nIHRoZXJhcGV1dGljIGFsbGlhbmNlJyxcbiAgICBdO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRTcGVjaWFsUmVxdWlyZW1lbnRzKGNvbmRpdGlvbnM6IENsaW5pY2FsSW5zaWdodFtdKTogc3RyaW5nW10ge1xuICAgIGNvbnN0IHJlcXVpcmVtZW50czogc3RyaW5nW10gPSBbXTtcblxuICAgIGNvbmRpdGlvbnMuZm9yRWFjaCgoY29uZGl0aW9uKSA9PiB7XG4gICAgICBpZiAoY29uZGl0aW9uLmNvbmRpdGlvbi5pbmNsdWRlcygnUFRTRCcpKSB7XG4gICAgICAgIHJlcXVpcmVtZW50cy5wdXNoKCdUcmF1bWEtaW5mb3JtZWQgY2FyZScpO1xuICAgICAgICByZXF1aXJlbWVudHMucHVzaCgnRU1EUiBjZXJ0aWZpY2F0aW9uIHByZWZlcnJlZCcpO1xuICAgICAgfVxuICAgICAgaWYgKGNvbmRpdGlvbi5jb25kaXRpb24uaW5jbHVkZXMoJ0JpcG9sYXInKSkge1xuICAgICAgICByZXF1aXJlbWVudHMucHVzaCgnTW9vZCBkaXNvcmRlciBzcGVjaWFsaXphdGlvbicpO1xuICAgICAgICByZXF1aXJlbWVudHMucHVzaCgnTWVkaWNhdGlvbiBjb2xsYWJvcmF0aW9uIGV4cGVyaWVuY2UnKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiByZXF1aXJlbWVudHM7XG4gIH1cblxuICBwcml2YXRlIGVzdGltYXRlT3ZlcmFsbFRyZWF0bWVudER1cmF0aW9uKFxuICAgIGNvbmRpdGlvbnM6IENsaW5pY2FsSW5zaWdodFtdLFxuICApOiBzdHJpbmcge1xuICAgIGlmIChjb25kaXRpb25zLnNvbWUoKGMpID0+IGMuY2xpbmljYWxMZXZlbCA9PT0gJ2V4dHJlbWUnKSlcbiAgICAgIHJldHVybiAnNi0xMiBtb250aHMnO1xuICAgIGlmIChjb25kaXRpb25zLnNvbWUoKGMpID0+IGMuY2xpbmljYWxMZXZlbCA9PT0gJ3NldmVyZScpKVxuICAgICAgcmV0dXJuICc0LTggbW9udGhzJztcbiAgICBpZiAoY29uZGl0aW9ucy5zb21lKChjKSA9PiBjLmNsaW5pY2FsTGV2ZWwgPT09ICdtb2RlcmF0ZScpKVxuICAgICAgcmV0dXJuICczLTYgbW9udGhzJztcbiAgICByZXR1cm4gJzItNCBtb250aHMnO1xuICB9XG5cbiAgcHJpdmF0ZSByZXF1aXJlc1BzeWNoaWF0cmljRXZhbHVhdGlvbihcbiAgICBjb25kaXRpb25zOiBDbGluaWNhbEluc2lnaHRbXSxcbiAgICByaXNrTGV2ZWw6IHN0cmluZyxcbiAgKTogYm9vbGVhbiB7XG4gICAgaWYgKHJpc2tMZXZlbCA9PT0gJ2NyaXRpY2FsJyB8fCByaXNrTGV2ZWwgPT09ICdoaWdoJykgcmV0dXJuIHRydWU7XG5cbiAgICBjb25zdCBtZWRpY2F0aW9uSW5kaWNhdGVkQ29uZGl0aW9ucyA9IFtcbiAgICAgICdEZXByZXNzaW9uJyxcbiAgICAgICdCaXBvbGFyIGRpc29yZGVyIChCRCknLFxuICAgICAgJ0FueGlldHknLFxuICAgICAgJ1Bvc3QtdHJhdW1hdGljIHN0cmVzcyBkaXNvcmRlciAoUFRTRCknLFxuICAgIF07XG5cbiAgICByZXR1cm4gY29uZGl0aW9ucy5zb21lKFxuICAgICAgKGMpID0+XG4gICAgICAgIG1lZGljYXRpb25JbmRpY2F0ZWRDb25kaXRpb25zLmluY2x1ZGVzKGMuY29uZGl0aW9uKSAmJlxuICAgICAgICAoYy5jbGluaWNhbExldmVsID09PSAnc2V2ZXJlJyB8fCBjLmNsaW5pY2FsTGV2ZWwgPT09ICdleHRyZW1lJyksXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0V2FybmluZ1NpZ25zRm9yQ29uZGl0aW9ucyhcbiAgICBjb25kaXRpb25zOiBDbGluaWNhbEluc2lnaHRbXSxcbiAgKTogc3RyaW5nW10ge1xuICAgIGNvbnN0IHdhcm5pbmdTaWduc1NldCA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuXG4gICAgY29uZGl0aW9ucy5mb3JFYWNoKChjb25kaXRpb24pID0+IHtcbiAgICAgIHN3aXRjaCAoY29uZGl0aW9uLmNvbmRpdGlvbikge1xuICAgICAgICBjYXNlICdEZXByZXNzaW9uJzpcbiAgICAgICAgICB3YXJuaW5nU2lnbnNTZXQuYWRkKCdJbmNyZWFzZWQgaG9wZWxlc3NuZXNzIG9yIHN1aWNpZGFsIHRob3VnaHRzJyk7XG4gICAgICAgICAgd2FybmluZ1NpZ25zU2V0LmFkZCgnU2lnbmlmaWNhbnQgbW9vZCBkZXRlcmlvcmF0aW9uJyk7XG4gICAgICAgICAgd2FybmluZ1NpZ25zU2V0LmFkZCgnU29jaWFsIHdpdGhkcmF3YWwnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnQW54aWV0eSc6XG4gICAgICAgICAgd2FybmluZ1NpZ25zU2V0LmFkZCgnSW5jcmVhc2VkIHBhbmljIGF0dGFja3MnKTtcbiAgICAgICAgICB3YXJuaW5nU2lnbnNTZXQuYWRkKCdBdm9pZGFuY2UgYmVoYXZpb3JzIGluY3JlYXNpbmcnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnQmlwb2xhciBkaXNvcmRlciAoQkQpJzpcbiAgICAgICAgICB3YXJuaW5nU2lnbnNTZXQuYWRkKCdNb29kIGVwaXNvZGUgb25zZXQnKTtcbiAgICAgICAgICB3YXJuaW5nU2lnbnNTZXQuYWRkKCdTbGVlcCBwYXR0ZXJuIGNoYW5nZXMnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBBcnJheS5mcm9tKHdhcm5pbmdTaWduc1NldCk7XG4gIH1cblxuICBwcml2YXRlIGdldEVzY2FsYXRpb25UcmlnZ2VycyhjbGluaWNhbFByb2ZpbGU6IENsaW5pY2FsUHJvZmlsZSk6IHN0cmluZ1tdIHtcbiAgICByZXR1cm4gW1xuICAgICAgJ1N1aWNpZGFsIG9yIHNlbGYtaGFybSB0aG91Z2h0cycsXG4gICAgICAnU3Vic3RhbmNlIHVzZSByZWxhcHNlJyxcbiAgICAgICdTZXZlcmUgc3ltcHRvbSBkZXRlcmlvcmF0aW9uJyxcbiAgICAgICdMb3NzIG9mIGZ1bmN0aW9uaW5nJyxcbiAgICAgICdUcmVhdG1lbnQgbm9uLWFkaGVyZW5jZScsXG4gICAgICAnU29jaWFsIHN1cHBvcnQgYnJlYWtkb3duJyxcbiAgICBdO1xuICB9XG59XG4iXSwidmVyc2lvbiI6M30=