{"version":3,"names":["cov_8frkmgstc","actualCoverage","common_1","s","require","client_1","PrismaService","PrismaClient","constructor","f","log","emit","level","errorFormat","onModuleInit","process","env","NODE_ENV","b","$on","event","console","query","duration","params","$connect","exports","__decorate","Injectable"],"sources":["/home/wetooa/Documents/code/projects/mentara/mentara-api/src/providers/prisma-client.provider.ts"],"sourcesContent":["import { Injectable, OnModuleInit } from '@nestjs/common';\nimport { PrismaClient, Prisma } from '@prisma/client';\n\n@Injectable()\nexport class PrismaService extends PrismaClient implements OnModuleInit {\n  constructor() {\n    super({\n      log: [\n        { emit: 'event', level: 'query' },\n        { emit: 'stdout', level: 'info' },\n        { emit: 'stdout', level: 'warn' },\n        { emit: 'stdout', level: 'error' },\n      ],\n      errorFormat: 'colorless',\n    });\n  }\n\n  async onModuleInit() {\n    // Enable query logging only in development\n    if (process.env.NODE_ENV === 'development') {\n      (this as any).$on('query', (event: any) => {\n        console.log('üîç [PRISMA QUERY]', event.query);\n        console.log('‚è±Ô∏è  [DURATION]', event.duration + 'ms');\n        console.log('üìä [PARAMS]', event.params);\n        console.log('---');\n      });\n    }\n    await this.$connect();\n  }\n}\n"],"mappings":"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","ignoreList":[]}