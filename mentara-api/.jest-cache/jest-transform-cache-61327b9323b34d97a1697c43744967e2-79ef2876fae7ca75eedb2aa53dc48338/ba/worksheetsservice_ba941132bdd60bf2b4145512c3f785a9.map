{"file":"/home/wetooa/Documents/code/projects/mentara/mentara-api/src/worksheets/worksheets.service.ts","mappings":"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","names":[],"sources":["/home/wetooa/Documents/code/projects/mentara/mentara-api/src/worksheets/worksheets.service.ts"],"sourcesContent":["import { Injectable, NotFoundException } from '@nestjs/common';\nimport { PrismaService } from 'src/providers/prisma-client.provider';\nimport type {\n  WorksheetCreateInputDto,\n  WorksheetSubmissionCreateInputDto,\n  WorksheetUpdateInputDto,\n} from './types';\n\n@Injectable()\nexport class WorksheetsService {\n  constructor(private readonly prisma: PrismaService) {}\n\n  async findAll(\n    userId?: string,\n    therapistId?: string,\n    status?: string,\n    limit?: number,\n  ): Promise<{ worksheets: any[]; total: number; hasMore: boolean }> {\n    const where = {};\n\n    if (userId) {\n      where['clientId'] = userId; // Use clientId for proper relation\n    }\n\n    if (therapistId) {\n      where['therapistId'] = therapistId;\n    }\n\n    if (status) {\n      where['status'] = status;\n    }\n\n    // Get total count for pagination\n    const total = await this.prisma.worksheet.count({ where });\n\n    // Apply limit if specified\n    const take = limit ? Number(limit) : undefined;\n\n    const worksheets = await this.prisma.worksheet.findMany({\n      where,\n      take,\n      include: {\n        client: {\n          include: {\n            user: {\n              select: {\n                id: true,\n                firstName: true,\n                lastName: true,\n                avatarUrl: true,\n              },\n            },\n          },\n        },\n        therapist: {\n          include: {\n            user: {\n              select: {\n                id: true,\n                firstName: true,\n                lastName: true,\n                avatarUrl: true,\n              },\n            },\n          },\n        },\n        submission: true,\n      },\n      orderBy: {\n        createdAt: 'desc',\n      },\n    });\n\n    const hasMore = limit ? worksheets.length >= limit : false;\n\n    return {\n      worksheets,\n      total,\n      hasMore,\n    };\n  }\n\n  async findById(id: string) {\n    const worksheet = await this.prisma.worksheet.findUnique({\n      where: { id },\n      include: {\n        client: {\n          include: {\n            user: {\n              select: {\n                id: true,\n                firstName: true,\n                lastName: true,\n                avatarUrl: true,\n              },\n            },\n          },\n        },\n        therapist: {\n          include: {\n            user: {\n              select: {\n                id: true,\n                firstName: true,\n                lastName: true,\n                avatarUrl: true,\n              },\n            },\n          },\n        },\n        submission: true,\n      },\n    });\n\n    if (!worksheet) {\n      throw new NotFoundException(`Worksheet with ID ${id} not found`);\n    }\n\n    // Add submission data if exists\n    return {\n      ...worksheet,\n      materials: worksheet.materialUrls.map((url, index) => ({\n        id: `material-${index}`,\n        filename: worksheet.materialNames[index] || 'Unknown',\n        url,\n        fileType: 'application/octet-stream',\n        fileSize: 0, // File size not available in current schema\n      })),\n      submission: worksheet.submission || null,\n    };\n  }\n\n  async create(\n    data: WorksheetCreateInputDto,\n    clientId: string,\n    therapistId: string,\n    files: Express.Multer.File[] = [],\n  ) {\n    // Create the worksheet\n    const worksheet = await this.prisma.worksheet.create({\n      data: {\n        title: data.title,\n        instructions: data.instructions || '',\n        dueDate: data.dueDate || new Date(),\n        status: (data as any).status || 'ASSIGNED',\n        clientId,\n        therapistId,\n        // Material files can be uploaded separately\n        materialUrls: [],\n        materialNames: [],\n      },\n    });\n\n    // Return the newly created worksheet\n    return this.findById(worksheet.id);\n  }\n\n  async update(id: string, data: WorksheetUpdateInputDto) {\n    // Check if worksheet exists\n    const exists = await this.prisma.worksheet.findUnique({\n      where: { id },\n    });\n\n    if (!exists) {\n      throw new NotFoundException(`Worksheet with ID ${id} not found`);\n    }\n\n    // Update the worksheet\n    await this.prisma.worksheet.update({\n      where: { id },\n      data,\n    });\n\n    // Return the updated worksheet\n    return this.findById(id);\n  }\n\n  async delete(id: string) {\n    // Check if worksheet exists\n    const exists = await this.prisma.worksheet.findUnique({\n      where: { id },\n    });\n\n    if (!exists) {\n      throw new NotFoundException(`Worksheet with ID ${id} not found`);\n    }\n\n    // Delete the worksheet (files in Supabase Storage should be cleaned up separately if needed)\n    await this.prisma.worksheet.delete({\n      where: { id },\n    });\n\n    return { success: true, message: 'Worksheet deleted successfully' };\n  }\n\n  async addSubmission(\n    data: WorksheetSubmissionCreateInputDto,\n    clientId: string,\n  ) {\n    // Check if worksheet exists\n    const worksheet = await this.prisma.worksheet.findUnique({\n      where: { id: data.worksheetId },\n      include: { client: true },\n    });\n\n    if (!worksheet) {\n      throw new NotFoundException(\n        `Worksheet with ID ${data.worksheetId} not found`,\n      );\n    }\n\n    // Create a submission using the WorksheetSubmission model\n    const submission = await this.prisma.worksheetSubmission.create({\n      data: {\n        worksheetId: data.worksheetId,\n        fileUrls: (data as any).fileUrls || [],\n        fileNames: (data as any).fileNames || [],\n        fileSizes: (data as any).fileSizes || [],\n        feedback: (data as any).notes || null,\n      },\n    });\n\n    // Update the worksheet status to SUBMITTED\n    const updatedWorksheet = await this.prisma.worksheet.update({\n      where: { id: data.worksheetId },\n      data: {\n        status: 'SUBMITTED',\n      },\n    });\n\n    return {\n      id: submission.id,\n      worksheetId: data.worksheetId,\n      clientId,\n      status: updatedWorksheet.status,\n      submittedAt: submission.submittedAt,\n    };\n  }\n\n  async submitWorksheet(\n    id: string,\n    data: WorksheetSubmissionCreateInputDto,\n    clientId: string,\n  ) {\n    // Check if worksheet exists\n    const worksheet = await this.prisma.worksheet.findUnique({\n      where: { id },\n      include: { submission: true },\n    });\n\n    if (!worksheet) {\n      throw new NotFoundException(`Worksheet with ID ${id} not found`);\n    }\n\n    // Create or update submission\n    let submission;\n    if (worksheet.submission) {\n      // Update existing submission\n      submission = await this.prisma.worksheetSubmission.update({\n        where: { worksheetId: id },\n        data: {\n          fileUrls: (data as any).fileUrls || [],\n          fileNames: (data as any).fileNames || [],\n          fileSizes: (data as any).fileSizes || [],\n          feedback: (data as any).notes || null,\n        },\n      });\n    } else {\n      // Create new submission\n      submission = await this.prisma.worksheetSubmission.create({\n        data: {\n          worksheetId: id,\n          fileUrls: (data as any).fileUrls || [],\n          fileNames: (data as any).fileNames || [],\n          fileSizes: (data as any).fileSizes || [],\n          feedback: (data as any).notes || null,\n        },\n      });\n    }\n\n    // Update worksheet status to SUBMITTED\n    const updatedWorksheet = await this.prisma.worksheet.update({\n      where: { id },\n      data: {\n        status: 'SUBMITTED',\n      },\n    });\n\n    return {\n      worksheetId: id,\n      submissionId: submission.id,\n      status: updatedWorksheet.status,\n      submittedAt: submission.submittedAt,\n      message: 'Worksheet submitted successfully',\n    };\n  }\n\n  async deleteSubmission(id: string) {\n    // Find worksheet with submission\n    const worksheet = await this.prisma.worksheet.findUnique({\n      where: { id },\n      include: { submission: true },\n    });\n\n    if (!worksheet) {\n      throw new NotFoundException(`Worksheet with ID ${id} not found`);\n    }\n\n    if (!worksheet.submission) {\n      throw new NotFoundException(`No submission found for worksheet with ID ${id}`);\n    }\n\n    // Delete the submission\n    await this.prisma.worksheetSubmission.delete({\n      where: { worksheetId: id },\n    });\n\n    // Reset worksheet status back to ASSIGNED\n    await this.prisma.worksheet.update({\n      where: { id },\n      data: {\n        status: 'ASSIGNED',\n      },\n    });\n\n    return { success: true, message: 'Submission deleted successfully' };\n  }\n}\n"],"version":3}