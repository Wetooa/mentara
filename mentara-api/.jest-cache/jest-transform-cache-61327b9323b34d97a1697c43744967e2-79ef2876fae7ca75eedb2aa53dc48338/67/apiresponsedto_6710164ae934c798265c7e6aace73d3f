e76748eaf5f6cdd563f753c96d9e3bec
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.SuccessMessageDto = exports.PaginatedResponseDto = exports.ApiResponseDto = void 0;
exports.createPaginationMeta = createPaginationMeta;
/**
 * Standard API Response wrapper for all endpoints
 */
class ApiResponseDto {
    success;
    data;
    message;
    errors;
    timestamp;
    path;
    statusCode;
    constructor(data, message, success = true) {
        this.success = success;
        this.data = data;
        this.message = message;
        this.timestamp = new Date().toISOString();
    }
    static success(data, message) {
        return new ApiResponseDto(data, message, true);
    }
    static error(message, errors, statusCode, path) {
        const response = new ApiResponseDto(undefined, message, false);
        response.errors = errors;
        response.statusCode = statusCode;
        response.path = path;
        return response;
    }
    /**
     * Helper method to convert legacy string[] errors to ErrorDetail[]
     */
    static convertStringErrorsToDetails(errors) {
        return errors.map(error => ({
            code: 'GENERIC',
            message: error
        }));
    }
}
exports.ApiResponseDto = ApiResponseDto;
/**
 * Paginated API Response wrapper for list endpoints
 */
class PaginatedResponseDto {
    success;
    data;
    meta;
    message;
    errors;
    timestamp;
    path;
    statusCode;
    constructor(data, meta, message, success = true) {
        this.success = success;
        this.data = data;
        this.meta = meta;
        this.message = message;
        this.timestamp = new Date().toISOString();
    }
    static success(data, meta, message) {
        return new PaginatedResponseDto(data, meta, message, true);
    }
    static error(message, errors, statusCode, path) {
        const response = new PaginatedResponseDto([], {
            total: 0,
            page: 1,
            limit: 10,
            totalPages: 0,
            hasNextPage: false,
            hasPreviousPage: false
        }, message, false);
        response.errors = errors;
        response.statusCode = statusCode;
        response.path = path;
        return response;
    }
}
exports.PaginatedResponseDto = PaginatedResponseDto;
/**
 * Helper function to create pagination meta
 */
function createPaginationMeta(total, page, limit) {
    const totalPages = Math.ceil(total / limit);
    return {
        total,
        page,
        limit,
        totalPages,
        hasNextPage: page < totalPages,
        hasPreviousPage: page > 1,
    };
}
/**
 * Success response DTO for endpoints that only return a message
 */
class SuccessMessageDto {
    success = true;
    message;
    timestamp;
    constructor(message) {
        this.message = message;
        this.timestamp = new Date().toISOString();
    }
}
exports.SuccessMessageDto = SuccessMessageDto;
// Note: Types are already exported above as interfaces, no need to re-export
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvd2V0b29hL0RvY3VtZW50cy9jb2RlL3Byb2plY3RzL21lbnRhcmEvbWVudGFyYS1hcGkvc3JjL2NvbW1vbi9kdG8vYXBpLXJlc3BvbnNlLmR0by50cyIsIm1hcHBpbmdzIjoiOzs7QUFrSkEsb0RBY0M7QUF2SEQ7O0dBRUc7QUFDSCxNQUFhLGNBQWM7SUFDekIsT0FBTyxDQUFVO0lBQ2pCLElBQUksQ0FBSztJQUNULE9BQU8sQ0FBVTtJQUNqQixNQUFNLENBQWlCO0lBQ3ZCLFNBQVMsQ0FBVTtJQUNuQixJQUFJLENBQVU7SUFDZCxVQUFVLENBQVU7SUFFcEIsWUFBWSxJQUFRLEVBQUUsT0FBZ0IsRUFBRSxVQUFtQixJQUFJO1FBQzdELElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUM1QyxDQUFDO0lBRUQsTUFBTSxDQUFDLE9BQU8sQ0FBSSxJQUFRLEVBQUUsT0FBZ0I7UUFDMUMsT0FBTyxJQUFJLGNBQWMsQ0FBQyxJQUFJLEVBQUUsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ2pELENBQUM7SUFFRCxNQUFNLENBQUMsS0FBSyxDQUNWLE9BQWUsRUFDZixNQUFzQixFQUN0QixVQUFtQixFQUNuQixJQUFhO1FBRWIsTUFBTSxRQUFRLEdBQUcsSUFBSSxjQUFjLENBQUksU0FBUyxFQUFFLE9BQU8sRUFBRSxLQUFLLENBQUMsQ0FBQztRQUNsRSxRQUFRLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztRQUN6QixRQUFRLENBQUMsVUFBVSxHQUFHLFVBQVUsQ0FBQztRQUNqQyxRQUFRLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNyQixPQUFPLFFBQVEsQ0FBQztJQUNsQixDQUFDO0lBRUQ7O09BRUc7SUFDSCxNQUFNLENBQUMsNEJBQTRCLENBQUMsTUFBZ0I7UUFDbEQsT0FBTyxNQUFNLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUMxQixJQUFJLEVBQUUsU0FBUztZQUNmLE9BQU8sRUFBRSxLQUFLO1NBQ2YsQ0FBQyxDQUFDLENBQUM7SUFDTixDQUFDO0NBQ0Y7QUExQ0Qsd0NBMENDO0FBRUQ7O0dBRUc7QUFDSCxNQUFhLG9CQUFvQjtJQUMvQixPQUFPLENBQVU7SUFDakIsSUFBSSxDQUFNO0lBQ1YsSUFBSSxDQUFpQjtJQUNyQixPQUFPLENBQVU7SUFDakIsTUFBTSxDQUFpQjtJQUN2QixTQUFTLENBQVU7SUFDbkIsSUFBSSxDQUFVO0lBQ2QsVUFBVSxDQUFVO0lBRXBCLFlBQ0UsSUFBUyxFQUNULElBQW9CLEVBQ3BCLE9BQWdCLEVBQ2hCLFVBQW1CLElBQUk7UUFFdkIsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7UUFDdkIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7UUFDdkIsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQzVDLENBQUM7SUFFRCxNQUFNLENBQUMsT0FBTyxDQUNaLElBQVMsRUFDVCxJQUFvQixFQUNwQixPQUFnQjtRQUVoQixPQUFPLElBQUksb0JBQW9CLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDN0QsQ0FBQztJQUVELE1BQU0sQ0FBQyxLQUFLLENBQ1YsT0FBZSxFQUNmLE1BQXNCLEVBQ3RCLFVBQW1CLEVBQ25CLElBQWE7UUFFYixNQUFNLFFBQVEsR0FBRyxJQUFJLG9CQUFvQixDQUFJLEVBQUUsRUFBRTtZQUMvQyxLQUFLLEVBQUUsQ0FBQztZQUNSLElBQUksRUFBRSxDQUFDO1lBQ1AsS0FBSyxFQUFFLEVBQUU7WUFDVCxVQUFVLEVBQUUsQ0FBQztZQUNiLFdBQVcsRUFBRSxLQUFLO1lBQ2xCLGVBQWUsRUFBRSxLQUFLO1NBQ3ZCLEVBQUUsT0FBTyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQ25CLFFBQVEsQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQ3pCLFFBQVEsQ0FBQyxVQUFVLEdBQUcsVUFBVSxDQUFDO1FBQ2pDLFFBQVEsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ3JCLE9BQU8sUUFBUSxDQUFDO0lBQ2xCLENBQUM7Q0FDRjtBQWxERCxvREFrREM7QUFFRDs7R0FFRztBQUNILFNBQWdCLG9CQUFvQixDQUNsQyxLQUFhLEVBQ2IsSUFBWSxFQUNaLEtBQWE7SUFFYixNQUFNLFVBQVUsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUMsQ0FBQztJQUM1QyxPQUFPO1FBQ0wsS0FBSztRQUNMLElBQUk7UUFDSixLQUFLO1FBQ0wsVUFBVTtRQUNWLFdBQVcsRUFBRSxJQUFJLEdBQUcsVUFBVTtRQUM5QixlQUFlLEVBQUUsSUFBSSxHQUFHLENBQUM7S0FDMUIsQ0FBQztBQUNKLENBQUM7QUFFRDs7R0FFRztBQUNILE1BQWEsaUJBQWlCO0lBQzVCLE9BQU8sR0FBWSxJQUFJLENBQUM7SUFDeEIsT0FBTyxDQUFTO0lBQ2hCLFNBQVMsQ0FBUztJQUVsQixZQUFZLE9BQWU7UUFDekIsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7UUFDdkIsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQzVDLENBQUM7Q0FDRjtBQVRELDhDQVNDO0FBRUQsNkVBQTZFIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9ob21lL3dldG9vYS9Eb2N1bWVudHMvY29kZS9wcm9qZWN0cy9tZW50YXJhL21lbnRhcmEtYXBpL3NyYy9jb21tb24vZHRvL2FwaS1yZXNwb25zZS5kdG8udHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBFcnJvciBkZXRhaWwgaW50ZXJmYWNlIGZvciBzdHJ1Y3R1cmVkIGVycm9yIGluZm9ybWF0aW9uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRXJyb3JEZXRhaWwge1xuICBmaWVsZD86IHN0cmluZztcbiAgY29kZTogc3RyaW5nO1xuICBtZXNzYWdlOiBzdHJpbmc7XG59XG5cbi8qKlxuICogQ29uc29saWRhdGVkIEFQSSBSZXNwb25zZSBpbnRlcmZhY2UgLSBzaW5nbGUgc291cmNlIG9mIHRydXRoXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQXBpUmVzcG9uc2U8VCA9IGFueT4ge1xuICBzdWNjZXNzOiBib29sZWFuO1xuICBkYXRhPzogVDtcbiAgbWVzc2FnZT86IHN0cmluZztcbiAgZXJyb3JzPzogRXJyb3JEZXRhaWxbXTtcbiAgdGltZXN0YW1wPzogc3RyaW5nO1xuICBwYXRoPzogc3RyaW5nO1xuICBzdGF0dXNDb2RlPzogbnVtYmVyO1xufVxuXG4vKipcbiAqIFBhZ2luYXRpb24gbWV0YWRhdGEgaW50ZXJmYWNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUGFnaW5hdGlvbk1ldGEge1xuICB0b3RhbDogbnVtYmVyO1xuICBwYWdlOiBudW1iZXI7XG4gIGxpbWl0OiBudW1iZXI7XG4gIHRvdGFsUGFnZXM6IG51bWJlcjtcbiAgaGFzTmV4dFBhZ2U6IGJvb2xlYW47XG4gIGhhc1ByZXZpb3VzUGFnZTogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBQYWdpbmF0ZWQgQVBJIFJlc3BvbnNlIGludGVyZmFjZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFBhZ2luYXRlZFJlc3BvbnNlPFQgPSBhbnk+IGV4dGVuZHMgQXBpUmVzcG9uc2U8VFtdPiB7XG4gIG1ldGE6IFBhZ2luYXRpb25NZXRhO1xufVxuXG4vKipcbiAqIFN0YW5kYXJkIEFQSSBSZXNwb25zZSB3cmFwcGVyIGZvciBhbGwgZW5kcG9pbnRzXG4gKi9cbmV4cG9ydCBjbGFzcyBBcGlSZXNwb25zZUR0bzxUPiBpbXBsZW1lbnRzIEFwaVJlc3BvbnNlPFQ+IHtcbiAgc3VjY2VzczogYm9vbGVhbjtcbiAgZGF0YT86IFQ7XG4gIG1lc3NhZ2U/OiBzdHJpbmc7XG4gIGVycm9ycz86IEVycm9yRGV0YWlsW107XG4gIHRpbWVzdGFtcD86IHN0cmluZztcbiAgcGF0aD86IHN0cmluZztcbiAgc3RhdHVzQ29kZT86IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihkYXRhPzogVCwgbWVzc2FnZT86IHN0cmluZywgc3VjY2VzczogYm9vbGVhbiA9IHRydWUpIHtcbiAgICB0aGlzLnN1Y2Nlc3MgPSBzdWNjZXNzO1xuICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB0aGlzLnRpbWVzdGFtcCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgfVxuXG4gIHN0YXRpYyBzdWNjZXNzPFQ+KGRhdGE/OiBULCBtZXNzYWdlPzogc3RyaW5nKTogQXBpUmVzcG9uc2VEdG88VD4ge1xuICAgIHJldHVybiBuZXcgQXBpUmVzcG9uc2VEdG8oZGF0YSwgbWVzc2FnZSwgdHJ1ZSk7XG4gIH1cblxuICBzdGF0aWMgZXJyb3I8VD4oXG4gICAgbWVzc2FnZTogc3RyaW5nLCBcbiAgICBlcnJvcnM/OiBFcnJvckRldGFpbFtdLCBcbiAgICBzdGF0dXNDb2RlPzogbnVtYmVyLCBcbiAgICBwYXRoPzogc3RyaW5nXG4gICk6IEFwaVJlc3BvbnNlRHRvPFQ+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IG5ldyBBcGlSZXNwb25zZUR0bzxUPih1bmRlZmluZWQsIG1lc3NhZ2UsIGZhbHNlKTtcbiAgICByZXNwb25zZS5lcnJvcnMgPSBlcnJvcnM7XG4gICAgcmVzcG9uc2Uuc3RhdHVzQ29kZSA9IHN0YXR1c0NvZGU7XG4gICAgcmVzcG9uc2UucGF0aCA9IHBhdGg7XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEhlbHBlciBtZXRob2QgdG8gY29udmVydCBsZWdhY3kgc3RyaW5nW10gZXJyb3JzIHRvIEVycm9yRGV0YWlsW11cbiAgICovXG4gIHN0YXRpYyBjb252ZXJ0U3RyaW5nRXJyb3JzVG9EZXRhaWxzKGVycm9yczogc3RyaW5nW10pOiBFcnJvckRldGFpbFtdIHtcbiAgICByZXR1cm4gZXJyb3JzLm1hcChlcnJvciA9PiAoe1xuICAgICAgY29kZTogJ0dFTkVSSUMnLFxuICAgICAgbWVzc2FnZTogZXJyb3JcbiAgICB9KSk7XG4gIH1cbn1cblxuLyoqXG4gKiBQYWdpbmF0ZWQgQVBJIFJlc3BvbnNlIHdyYXBwZXIgZm9yIGxpc3QgZW5kcG9pbnRzXG4gKi9cbmV4cG9ydCBjbGFzcyBQYWdpbmF0ZWRSZXNwb25zZUR0bzxUPiBpbXBsZW1lbnRzIFBhZ2luYXRlZFJlc3BvbnNlPFQ+IHtcbiAgc3VjY2VzczogYm9vbGVhbjtcbiAgZGF0YTogVFtdO1xuICBtZXRhOiBQYWdpbmF0aW9uTWV0YTtcbiAgbWVzc2FnZT86IHN0cmluZztcbiAgZXJyb3JzPzogRXJyb3JEZXRhaWxbXTtcbiAgdGltZXN0YW1wPzogc3RyaW5nO1xuICBwYXRoPzogc3RyaW5nO1xuICBzdGF0dXNDb2RlPzogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGRhdGE6IFRbXSxcbiAgICBtZXRhOiBQYWdpbmF0aW9uTWV0YSxcbiAgICBtZXNzYWdlPzogc3RyaW5nLFxuICAgIHN1Y2Nlc3M6IGJvb2xlYW4gPSB0cnVlXG4gICkge1xuICAgIHRoaXMuc3VjY2VzcyA9IHN1Y2Nlc3M7XG4gICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICB0aGlzLm1ldGEgPSBtZXRhO1xuICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgdGhpcy50aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gIH1cblxuICBzdGF0aWMgc3VjY2VzczxUPihcbiAgICBkYXRhOiBUW10sXG4gICAgbWV0YTogUGFnaW5hdGlvbk1ldGEsXG4gICAgbWVzc2FnZT86IHN0cmluZ1xuICApOiBQYWdpbmF0ZWRSZXNwb25zZUR0bzxUPiB7XG4gICAgcmV0dXJuIG5ldyBQYWdpbmF0ZWRSZXNwb25zZUR0byhkYXRhLCBtZXRhLCBtZXNzYWdlLCB0cnVlKTtcbiAgfVxuXG4gIHN0YXRpYyBlcnJvcjxUPihcbiAgICBtZXNzYWdlOiBzdHJpbmcsXG4gICAgZXJyb3JzPzogRXJyb3JEZXRhaWxbXSxcbiAgICBzdGF0dXNDb2RlPzogbnVtYmVyLFxuICAgIHBhdGg/OiBzdHJpbmdcbiAgKTogUGFnaW5hdGVkUmVzcG9uc2VEdG88VD4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gbmV3IFBhZ2luYXRlZFJlc3BvbnNlRHRvPFQ+KFtdLCB7XG4gICAgICB0b3RhbDogMCxcbiAgICAgIHBhZ2U6IDEsXG4gICAgICBsaW1pdDogMTAsXG4gICAgICB0b3RhbFBhZ2VzOiAwLFxuICAgICAgaGFzTmV4dFBhZ2U6IGZhbHNlLFxuICAgICAgaGFzUHJldmlvdXNQYWdlOiBmYWxzZVxuICAgIH0sIG1lc3NhZ2UsIGZhbHNlKTtcbiAgICByZXNwb25zZS5lcnJvcnMgPSBlcnJvcnM7XG4gICAgcmVzcG9uc2Uuc3RhdHVzQ29kZSA9IHN0YXR1c0NvZGU7XG4gICAgcmVzcG9uc2UucGF0aCA9IHBhdGg7XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9XG59XG5cbi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIHRvIGNyZWF0ZSBwYWdpbmF0aW9uIG1ldGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVBhZ2luYXRpb25NZXRhKFxuICB0b3RhbDogbnVtYmVyLFxuICBwYWdlOiBudW1iZXIsXG4gIGxpbWl0OiBudW1iZXJcbik6IFBhZ2luYXRpb25NZXRhIHtcbiAgY29uc3QgdG90YWxQYWdlcyA9IE1hdGguY2VpbCh0b3RhbCAvIGxpbWl0KTtcbiAgcmV0dXJuIHtcbiAgICB0b3RhbCxcbiAgICBwYWdlLFxuICAgIGxpbWl0LFxuICAgIHRvdGFsUGFnZXMsXG4gICAgaGFzTmV4dFBhZ2U6IHBhZ2UgPCB0b3RhbFBhZ2VzLFxuICAgIGhhc1ByZXZpb3VzUGFnZTogcGFnZSA+IDEsXG4gIH07XG59XG5cbi8qKlxuICogU3VjY2VzcyByZXNwb25zZSBEVE8gZm9yIGVuZHBvaW50cyB0aGF0IG9ubHkgcmV0dXJuIGEgbWVzc2FnZVxuICovXG5leHBvcnQgY2xhc3MgU3VjY2Vzc01lc3NhZ2VEdG8gaW1wbGVtZW50cyBBcGlSZXNwb25zZTxuZXZlcj4ge1xuICBzdWNjZXNzOiBib29sZWFuID0gdHJ1ZTtcbiAgbWVzc2FnZTogc3RyaW5nO1xuICB0aW1lc3RhbXA6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihtZXNzYWdlOiBzdHJpbmcpIHtcbiAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgIHRoaXMudGltZXN0YW1wID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuICB9XG59XG5cbi8vIE5vdGU6IFR5cGVzIGFyZSBhbHJlYWR5IGV4cG9ydGVkIGFib3ZlIGFzIGludGVyZmFjZXMsIG5vIG5lZWQgdG8gcmUtZXhwb3J0Il0sInZlcnNpb24iOjN9