{"file":"/home/wetooa/Documents/code/projects/mentara/mentara-api/src/common/dto/api-response.dto.ts","mappings":"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","names":[],"sources":["/home/wetooa/Documents/code/projects/mentara/mentara-api/src/common/dto/api-response.dto.ts"],"sourcesContent":["/**\n * Error detail interface for structured error information\n */\nexport interface ErrorDetail {\n  field?: string;\n  code: string;\n  message: string;\n}\n\n/**\n * Consolidated API Response interface - single source of truth\n */\nexport interface ApiResponse<T = any> {\n  success: boolean;\n  data?: T;\n  message?: string;\n  errors?: ErrorDetail[];\n  timestamp?: string;\n  path?: string;\n  statusCode?: number;\n}\n\n/**\n * Pagination metadata interface\n */\nexport interface PaginationMeta {\n  total: number;\n  page: number;\n  limit: number;\n  totalPages: number;\n  hasNextPage: boolean;\n  hasPreviousPage: boolean;\n}\n\n/**\n * Paginated API Response interface\n */\nexport interface PaginatedResponse<T = any> extends ApiResponse<T[]> {\n  meta: PaginationMeta;\n}\n\n/**\n * Standard API Response wrapper for all endpoints\n */\nexport class ApiResponseDto<T> implements ApiResponse<T> {\n  success: boolean;\n  data?: T;\n  message?: string;\n  errors?: ErrorDetail[];\n  timestamp?: string;\n  path?: string;\n  statusCode?: number;\n\n  constructor(data?: T, message?: string, success: boolean = true) {\n    this.success = success;\n    this.data = data;\n    this.message = message;\n    this.timestamp = new Date().toISOString();\n  }\n\n  static success<T>(data?: T, message?: string): ApiResponseDto<T> {\n    return new ApiResponseDto(data, message, true);\n  }\n\n  static error<T>(\n    message: string, \n    errors?: ErrorDetail[], \n    statusCode?: number, \n    path?: string\n  ): ApiResponseDto<T> {\n    const response = new ApiResponseDto<T>(undefined, message, false);\n    response.errors = errors;\n    response.statusCode = statusCode;\n    response.path = path;\n    return response;\n  }\n\n  /**\n   * Helper method to convert legacy string[] errors to ErrorDetail[]\n   */\n  static convertStringErrorsToDetails(errors: string[]): ErrorDetail[] {\n    return errors.map(error => ({\n      code: 'GENERIC',\n      message: error\n    }));\n  }\n}\n\n/**\n * Paginated API Response wrapper for list endpoints\n */\nexport class PaginatedResponseDto<T> implements PaginatedResponse<T> {\n  success: boolean;\n  data: T[];\n  meta: PaginationMeta;\n  message?: string;\n  errors?: ErrorDetail[];\n  timestamp?: string;\n  path?: string;\n  statusCode?: number;\n\n  constructor(\n    data: T[],\n    meta: PaginationMeta,\n    message?: string,\n    success: boolean = true\n  ) {\n    this.success = success;\n    this.data = data;\n    this.meta = meta;\n    this.message = message;\n    this.timestamp = new Date().toISOString();\n  }\n\n  static success<T>(\n    data: T[],\n    meta: PaginationMeta,\n    message?: string\n  ): PaginatedResponseDto<T> {\n    return new PaginatedResponseDto(data, meta, message, true);\n  }\n\n  static error<T>(\n    message: string,\n    errors?: ErrorDetail[],\n    statusCode?: number,\n    path?: string\n  ): PaginatedResponseDto<T> {\n    const response = new PaginatedResponseDto<T>([], {\n      total: 0,\n      page: 1,\n      limit: 10,\n      totalPages: 0,\n      hasNextPage: false,\n      hasPreviousPage: false\n    }, message, false);\n    response.errors = errors;\n    response.statusCode = statusCode;\n    response.path = path;\n    return response;\n  }\n}\n\n/**\n * Helper function to create pagination meta\n */\nexport function createPaginationMeta(\n  total: number,\n  page: number,\n  limit: number\n): PaginationMeta {\n  const totalPages = Math.ceil(total / limit);\n  return {\n    total,\n    page,\n    limit,\n    totalPages,\n    hasNextPage: page < totalPages,\n    hasPreviousPage: page > 1,\n  };\n}\n\n/**\n * Success response DTO for endpoints that only return a message\n */\nexport class SuccessMessageDto implements ApiResponse<never> {\n  success: boolean = true;\n  message: string;\n  timestamp: string;\n\n  constructor(message: string) {\n    this.message = message;\n    this.timestamp = new Date().toISOString();\n  }\n}\n\n// Note: Types are already exported above as interfaces, no need to re-export"],"version":3}