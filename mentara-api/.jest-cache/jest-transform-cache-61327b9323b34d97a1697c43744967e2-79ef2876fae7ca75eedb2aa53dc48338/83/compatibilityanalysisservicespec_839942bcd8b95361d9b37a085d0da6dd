e57ae473272667a3e8fdce5903561ce0
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const testing_1 = require("@nestjs/testing");
const compatibility_analysis_service_1 = require("./compatibility-analysis.service");
describe('CompatibilityAnalysisService', () => {
    let service;
    const mockClient = {
        id: 'client-123',
        userId: 'user-123',
        hasSeenTherapistRecommendations: false,
        createdAt: new Date(),
        updatedAt: new Date(),
        preAssessment: {
            id: 'assessment-123',
            userId: 'user-123',
            severityLevels: {
                'anxiety': 'Moderate',
                'depression': 'Severe',
                'ptsd': 'Mild',
                'social_anxiety': 'Moderately Severe',
                'ocd': 'Moderate',
                'adhd': 'Mild',
            },
            questionnaires: ['Depression', 'Anxiety', 'PTSD'],
            totalScore: 85,
            completedAt: new Date(),
            createdAt: new Date(),
            updatedAt: new Date(),
        },
        clientPreferences: [
            {
                id: 'pref-1',
                userId: 'user-123',
                key: 'communicationStyle',
                value: 'direct',
                createdAt: new Date(),
                updatedAt: new Date(),
            },
            {
                id: 'pref-2',
                userId: 'user-123',
                key: 'therapistGender',
                value: 'Female',
                createdAt: new Date(),
                updatedAt: new Date(),
            },
            {
                id: 'pref-3',
                userId: 'user-123',
                key: 'sessionFormat',
                value: '["online", "in-person"]',
                createdAt: new Date(),
                updatedAt: new Date(),
            },
            {
                id: 'pref-4',
                userId: 'user-123',
                key: 'preferredLanguages',
                value: '["English", "Filipino"]',
                createdAt: new Date(),
                updatedAt: new Date(),
            },
            {
                id: 'pref-5',
                userId: 'user-123',
                key: 'sessionDuration',
                value: '60',
                createdAt: new Date(),
                updatedAt: new Date(),
            },
            {
                id: 'pref-6',
                userId: 'user-123',
                key: 'sessionFrequency',
                value: 'weekly',
                createdAt: new Date(),
                updatedAt: new Date(),
            },
            {
                id: 'pref-7',
                userId: 'user-123',
                key: 'therapistAge',
                value: '30-40',
                createdAt: new Date(),
                updatedAt: new Date(),
            },
            {
                id: 'pref-8',
                userId: 'user-123',
                key: 'therapistWarmth',
                value: 'high',
                createdAt: new Date(),
                updatedAt: new Date(),
            },
            {
                id: 'pref-9',
                userId: 'user-123',
                key: 'spiritualPreferences',
                value: 'important',
                createdAt: new Date(),
                updatedAt: new Date(),
            },
        ],
        user: {
            firstName: 'John',
            lastName: 'Doe',
            avatarUrl: 'https://example.com/avatar.jpg',
        },
    };
    const mockTherapist = {
        id: 'therapist-123',
        userId: 'therapist-user-123',
        status: 'approved',
        mobile: '+1234567890',
        province: 'Metro Manila',
        providerType: 'Licensed Psychologist',
        professionalLicenseType: 'Clinical Psychology',
        isPRCLicensed: 'Yes',
        prcLicenseNumber: 'PRC123456',
        expirationDateOfLicense: new Date('2025-12-31'),
        practiceStartDate: new Date('2015-01-01'),
        sessionLength: '60 minutes',
        hourlyRate: 1800,
        providedOnlineTherapyBefore: true,
        comfortableUsingVideoConferencing: true,
        compliesWithDataPrivacyAct: true,
        willingToAbideByPlatformGuidelines: true,
        expertise: ['Depression', 'Anxiety', 'Trauma'],
        illnessSpecializations: ['PTSD', 'Panic Disorder'],
        approaches: ['Cognitive Behavioral Therapy (CBT)', 'Person-Centered Therapy'],
        therapeuticApproachesUsedList: ['Mindfulness-Based Cognitive Therapy (MBCT)'],
        treatmentSuccessRates: {
            'Depression': 85,
            'Anxiety': 90,
            'PTSD': 78,
        },
        yearsOfExperience: 8,
        languagesOffered: ['English', 'Filipino'],
        acceptsInsurance: true,
        acceptedInsuranceTypes: ['PhilHealth', 'HMO'],
        preferredSessionLength: [50, 60],
        createdAt: new Date(),
        updatedAt: new Date(),
        user: {
            firstName: 'Dr. Jane',
            lastName: 'Smith',
            avatarUrl: 'https://example.com/therapist-avatar.jpg',
        },
    };
    beforeEach(async () => {
        const module = await testing_1.Test.createTestingModule({
            providers: [compatibility_analysis_service_1.CompatibilityAnalysisService],
        }).compile();
        service = module.get(compatibility_analysis_service_1.CompatibilityAnalysisService);
    });
    afterEach(() => {
        jest.clearAllMocks();
    });
    it('should be defined', () => {
        expect(service).toBeDefined();
    });
    describe('analyzeCompatibility', () => {
        it('should analyze compatibility comprehensively', async () => {
            const result = await service.analyzeCompatibility(mockClient, mockTherapist);
            expect(result).toEqual({
                personalityCompatibility: expect.objectContaining({
                    communicationStyle: expect.any(Number),
                    personalityMatch: expect.any(Number),
                    culturalCompatibility: expect.any(Number),
                    overallCompatibility: expect.any(Number),
                }),
                sessionCompatibility: expect.objectContaining({
                    formatMatch: expect.any(Number),
                    durationMatch: expect.any(Number),
                    frequencyMatch: expect.any(Number),
                    schedulingCompatibility: expect.any(Number),
                    overallCompatibility: expect.any(Number),
                }),
                demographicCompatibility: expect.objectContaining({
                    ageCompatibility: expect.any(Number),
                    genderCompatibility: expect.any(Number),
                    languageCompatibility: expect.any(Number),
                    culturalCompatibility: expect.any(Number),
                    overallCompatibility: expect.any(Number),
                }),
                overallCompatibilityScore: expect.any(Number),
                compatibilityFactors: expect.objectContaining({
                    strengths: expect.any(Array),
                    concerns: expect.any(Array),
                    recommendations: expect.any(Array),
                }),
            });
            expect(result.overallCompatibilityScore).toBeGreaterThan(0);
            expect(result.overallCompatibilityScore).toBeLessThanOrEqual(100);
        });
        it('should handle client with minimal preferences', async () => {
            const clientWithMinimalPrefs = {
                ...mockClient,
                clientPreferences: [],
            };
            const result = await service.analyzeCompatibility(clientWithMinimalPrefs, mockTherapist);
            expect(result.overallCompatibilityScore).toBeGreaterThan(0);
            expect(result.compatibilityFactors.strengths).toBeInstanceOf(Array);
            expect(result.compatibilityFactors.concerns).toBeInstanceOf(Array);
            expect(result.compatibilityFactors.recommendations).toBeInstanceOf(Array);
        });
        it('should handle therapist with minimal data', async () => {
            const therapistWithMinimalData = {
                ...mockTherapist,
                approaches: [],
                languagesOffered: [],
                expertise: [],
                illnessSpecializations: [],
            };
            const result = await service.analyzeCompatibility(mockClient, therapistWithMinimalData);
            expect(result.overallCompatibilityScore).toBeGreaterThanOrEqual(0);
            expect(result.personalityCompatibility.overallCompatibility).toBeGreaterThanOrEqual(0);
        });
    });
    describe('analyzePersonalityCompatibility', () => {
        it('should analyze personality compatibility with high scores for good matches', () => {
            const result = service.analyzePersonalityCompatibility(mockClient.preAssessment, { communicationStyle: 'direct', therapistWarmth: 'high' }, mockTherapist);
            expect(result).toEqual({
                communicationStyle: expect.any(Number),
                personalityMatch: expect.any(Number),
                culturalCompatibility: expect.any(Number),
                overallCompatibility: expect.any(Number),
            });
            expect(result.communicationStyle).toBeGreaterThan(70);
            expect(result.overallCompatibility).toBeGreaterThan(0);
            expect(result.overallCompatibility).toBeLessThanOrEqual(100);
        });
        it('should analyze personality compatibility with lower scores for poor matches', () => {
            const poorMatchTherapist = {
                ...mockTherapist,
                approaches: ['Psychoanalytic Therapy'],
                languagesOffered: ['Spanish'],
            };
            const result = service.analyzePersonalityCompatibility(mockClient.preAssessment, { communicationStyle: 'direct' }, poorMatchTherapist);
            expect(result.communicationStyle).toBeGreaterThanOrEqual(0);
            expect(result.personalityMatch).toBeGreaterThanOrEqual(0);
            expect(result.overallCompatibility).toBeGreaterThanOrEqual(0);
        });
    });
    describe('analyzeCommunicationStyle', () => {
        it('should give high scores for direct communication style with CBT therapist', () => {
            const score = service.analyzeCommunicationStyle(mockClient.preAssessment, { communicationStyle: 'direct' }, mockTherapist);
            expect(score).toBeGreaterThan(80);
            expect(score).toBeLessThanOrEqual(100);
        });
        it('should give high scores for gentle communication style with person-centered therapist', () => {
            const score = service.analyzeCommunicationStyle(mockClient.preAssessment, { communicationStyle: 'gentle' }, mockTherapist);
            expect(score).toBeGreaterThan(80);
            expect(score).toBeLessThanOrEqual(100);
        });
        it('should give bonus for anxiety with CBT approach', () => {
            const anxietyAssessment = {
                ...mockClient.preAssessment,
                severityLevels: { anxiety: 'Moderate' },
            };
            const score = service.analyzeCommunicationStyle(anxietyAssessment, {}, mockTherapist);
            expect(score).toBeGreaterThan(70);
        });
        it('should give bonus for PTSD with EMDR approach', () => {
            const ptsdAssessment = {
                ...mockClient.preAssessment,
                severityLevels: { ptsd: 'Severe' },
            };
            const emdrTherapist = {
                ...mockTherapist,
                approaches: ['Eye Movement Desensitization and Reprocessing (EMDR)'],
            };
            const score = service.analyzeCommunicationStyle(ptsdAssessment, {}, emdrTherapist);
            expect(score).toBeGreaterThan(80);
        });
        it('should give bonus for depression with IPT approach', () => {
            const depressionAssessment = {
                ...mockClient.preAssessment,
                severityLevels: { depression: 'Severe' },
            };
            const iptTherapist = {
                ...mockTherapist,
                approaches: ['Interpersonal Therapy (IPT)'],
            };
            const score = service.analyzeCommunicationStyle(depressionAssessment, {}, iptTherapist);
            expect(score).toBeGreaterThan(75);
        });
        it('should handle missing communication style preference', () => {
            const score = service.analyzeCommunicationStyle(mockClient.preAssessment, {}, mockTherapist);
            expect(score).toBeGreaterThan(60);
            expect(score).toBeLessThanOrEqual(100);
        });
    });
    describe('analyzePersonalityMatch', () => {
        it('should give high scores for social anxiety with calm therapist personality', () => {
            const socialAnxietyAssessment = {
                ...mockClient.preAssessment,
                severityLevels: { social_anxiety: 'Severe' },
            };
            const score = service.analyzePersonalityMatch(socialAnxietyAssessment, { therapistPersonality: 'calm' }, mockTherapist);
            expect(score).toBeGreaterThan(80);
        });
        it('should give high scores for OCD with structured approaches', () => {
            const ocdAssessment = {
                ...mockClient.preAssessment,
                severityLevels: { ocd: 'Moderate' },
            };
            const score = service.analyzePersonalityMatch(ocdAssessment, {}, mockTherapist);
            expect(score).toBeGreaterThan(80);
        });
        it('should give bonus for ADHD with behavioral therapy', () => {
            const adhdAssessment = {
                ...mockClient.preAssessment,
                severityLevels: { adhd: 'Moderate' },
            };
            const behavioralTherapist = {
                ...mockTherapist,
                approaches: ['Behavioral Therapy'],
            };
            const score = service.analyzePersonalityMatch(adhdAssessment, {}, behavioralTherapist);
            expect(score).toBeGreaterThan(80);
        });
        it('should give bonus for high warmth preference with person-centered therapy', () => {
            const score = service.analyzePersonalityMatch(mockClient.preAssessment, { therapistWarmth: 'high' }, mockTherapist);
            expect(score).toBeGreaterThan(80);
        });
        it('should handle missing personality preferences', () => {
            const score = service.analyzePersonalityMatch(mockClient.preAssessment, {}, mockTherapist);
            expect(score).toBeGreaterThanOrEqual(70);
            expect(score).toBeLessThanOrEqual(100);
        });
    });
    describe('analyzeCulturalCompatibility', () => {
        it('should give high scores for matching languages', () => {
            const score = service.analyzeCulturalCompatibility({ preferredLanguages: ['English'] }, mockTherapist);
            expect(score).toBeGreaterThan(80);
        });
        it('should penalize language barriers', () => {
            const noLanguageMatchTherapist = {
                ...mockTherapist,
                languagesOffered: ['Spanish'],
            };
            const score = service.analyzeCulturalCompatibility({ preferredLanguages: ['English'] }, noLanguageMatchTherapist);
            expect(score).toBeLessThan(60);
        });
        it('should give bonus for multiple shared languages', () => {
            const score = service.analyzeCulturalCompatibility({ preferredLanguages: ['English', 'Filipino'] }, mockTherapist);
            expect(score).toBeGreaterThan(80);
        });
        it('should give bonus for matching spiritual preferences', () => {
            const spiritualTherapist = {
                ...mockTherapist,
                approaches: ['Spiritual Therapy'],
            };
            const score = service.analyzeCulturalCompatibility({ spiritualPreferences: 'important' }, spiritualTherapist);
            expect(score).toBeGreaterThan(90);
        });
        it('should penalize conflicting spiritual preferences', () => {
            const spiritualTherapist = {
                ...mockTherapist,
                approaches: ['Spiritual Therapy'],
            };
            const score = service.analyzeCulturalCompatibility({ spiritualPreferences: 'avoid' }, spiritualTherapist);
            expect(score).toBeLessThan(70);
        });
        it('should handle missing language preferences', () => {
            const score = service.analyzeCulturalCompatibility({}, mockTherapist);
            expect(score).toBeGreaterThan(70);
        });
    });
    describe('analyzeSessionCompatibility', () => {
        it('should analyze session compatibility comprehensively', () => {
            const result = service.analyzeSessionCompatibility({ sessionFormat: ['online'], sessionDuration: '60', sessionFrequency: 'weekly' }, mockTherapist);
            expect(result).toEqual({
                formatMatch: expect.any(Number),
                durationMatch: expect.any(Number),
                frequencyMatch: expect.any(Number),
                schedulingCompatibility: 80,
                overallCompatibility: expect.any(Number),
            });
            expect(result.overallCompatibility).toBeGreaterThan(0);
            expect(result.overallCompatibility).toBeLessThanOrEqual(100);
        });
        it('should calculate weighted overall compatibility', () => {
            const result = service.analyzeSessionCompatibility({ sessionFormat: ['online'], sessionDuration: '60', sessionFrequency: 'weekly' }, mockTherapist);
            // Verify it's a weighted average
            const expectedOverall = Math.round(result.formatMatch * 0.3 +
                result.durationMatch * 0.2 +
                result.frequencyMatch * 0.2 +
                result.schedulingCompatibility * 0.3);
            expect(result.overallCompatibility).toBe(expectedOverall);
        });
    });
    describe('analyzeFormatCompatibility', () => {
        it('should give high scores for online format with experienced online therapist', () => {
            const score = service.analyzeFormatCompatibility({ sessionFormat: ['online'] }, mockTherapist);
            expect(score).toBeGreaterThan(80);
        });
        it('should give high scores for in-person format', () => {
            const score = service.analyzeFormatCompatibility({ sessionFormat: ['in-person'] }, mockTherapist);
            expect(score).toBeGreaterThan(80);
        });
        it('should penalize online format with therapist not comfortable with video', () => {
            const uncomfortableTherapist = {
                ...mockTherapist,
                comfortableUsingVideoConferencing: false,
            };
            const score = service.analyzeFormatCompatibility({ sessionFormat: ['online'] }, uncomfortableTherapist);
            expect(score).toBeLessThan(60);
        });
        it('should handle non-array session format', () => {
            const score = service.analyzeFormatCompatibility({ sessionFormat: 'online' }, mockTherapist);
            expect(score).toBe(70); // Default neutral score
        });
        it('should handle missing session format preference', () => {
            const score = service.analyzeFormatCompatibility({}, mockTherapist);
            expect(score).toBeGreaterThan(80); // Default preference includes both formats
        });
    });
    describe('analyzeDurationCompatibility', () => {
        it('should give high scores for matching duration', () => {
            const score = service.analyzeDurationCompatibility({ sessionDuration: '60' }, mockTherapist);
            expect(score).toBe(90);
        });
        it('should give neutral score for missing duration preference', () => {
            const score = service.analyzeDurationCompatibility({}, mockTherapist);
            expect(score).toBe(80);
        });
        it('should give lower score for non-matching duration', () => {
            const score = service.analyzeDurationCompatibility({ sessionDuration: '90' }, mockTherapist);
            expect(score).toBe(60);
        });
        it('should handle close duration matches', () => {
            const therapistWithFlexibleDuration = {
                ...mockTherapist,
                preferredSessionLength: [45, 50, 55],
            };
            const score = service.analyzeDurationCompatibility({ sessionDuration: '50' }, therapistWithFlexibleDuration);
            expect(score).toBe(90);
        });
    });
    describe('analyzeFrequencyCompatibility', () => {
        it('should give neutral score for any frequency preference', () => {
            const score = service.analyzeFrequencyCompatibility({ sessionFrequency: 'weekly' }, mockTherapist);
            expect(score).toBe(85);
        });
        it('should give neutral score for missing frequency preference', () => {
            const score = service.analyzeFrequencyCompatibility({}, mockTherapist);
            expect(score).toBe(80);
        });
    });
    describe('analyzeDemographicCompatibility', () => {
        it('should analyze demographic compatibility comprehensively', () => {
            const result = service.analyzeDemographicCompatibility(mockClient, { therapistGender: 'Female', therapistAge: '30-40', preferredLanguages: ['English'] }, mockTherapist);
            expect(result).toEqual({
                ageCompatibility: expect.any(Number),
                genderCompatibility: expect.any(Number),
                languageCompatibility: expect.any(Number),
                culturalCompatibility: expect.any(Number),
                overallCompatibility: expect.any(Number),
            });
            expect(result.overallCompatibility).toBeGreaterThan(0);
            expect(result.overallCompatibility).toBeLessThanOrEqual(100);
        });
        it('should calculate weighted overall compatibility', () => {
            const result = service.analyzeDemographicCompatibility(mockClient, { preferredLanguages: ['English'] }, mockTherapist);
            // Verify it's a weighted average
            const expectedOverall = Math.round(result.ageCompatibility * 0.2 +
                result.genderCompatibility * 0.3 +
                result.languageCompatibility * 0.3 +
                result.culturalCompatibility * 0.2);
            expect(result.overallCompatibility).toBe(expectedOverall);
        });
    });
    describe('analyzeAgeCompatibility', () => {
        it('should give high scores for no age preference', () => {
            const score = service.analyzeAgeCompatibility(mockClient, { therapistAge: 'any' }, mockTherapist);
            expect(score).toBe(90);
        });
        it('should give neutral score for specific age preference', () => {
            const score = service.analyzeAgeCompatibility(mockClient, { therapistAge: '30-40' }, mockTherapist);
            expect(score).toBe(75);
        });
        it('should give high score for missing age preference', () => {
            const score = service.analyzeAgeCompatibility(mockClient, {}, mockTherapist);
            expect(score).toBe(90);
        });
    });
    describe('analyzeGenderCompatibility', () => {
        it('should give high scores for no gender preference', () => {
            const score = service.analyzeGenderCompatibility({ therapistGender: 'any' }, mockTherapist);
            expect(score).toBe(90);
        });
        it('should give neutral score for specific gender preference', () => {
            const score = service.analyzeGenderCompatibility({ therapistGender: 'Female' }, mockTherapist);
            expect(score).toBe(75);
        });
        it('should give high score for missing gender preference', () => {
            const score = service.analyzeGenderCompatibility({}, mockTherapist);
            expect(score).toBe(90);
        });
    });
    describe('analyzeLanguageCompatibility', () => {
        it('should give high scores for perfect language match', () => {
            const score = service.analyzeLanguageCompatibility({ preferredLanguages: ['English'] }, mockTherapist);
            expect(score).toBe(100);
        });
        it('should give partial scores for partial language match', () => {
            const score = service.analyzeLanguageCompatibility({ preferredLanguages: ['English', 'Spanish'] }, mockTherapist);
            expect(score).toBe(60); // 50% match
        });
        it('should give poor scores for no language match', () => {
            const noLanguageMatchTherapist = {
                ...mockTherapist,
                languagesOffered: ['Spanish'],
            };
            const score = service.analyzeLanguageCompatibility({ preferredLanguages: ['English'] }, noLanguageMatchTherapist);
            expect(score).toBe(20);
        });
        it('should handle missing language preferences', () => {
            const score = service.analyzeLanguageCompatibility({}, mockTherapist);
            expect(score).toBe(100); // Default to English match
        });
    });
    describe('calculateOverallCompatibility', () => {
        it('should calculate weighted overall compatibility score', () => {
            const personality = {
                communicationStyle: 80,
                personalityMatch: 85,
                culturalCompatibility: 90,
                overallCompatibility: 85,
            };
            const session = {
                formatMatch: 90,
                durationMatch: 85,
                frequencyMatch: 80,
                schedulingCompatibility: 80,
                overallCompatibility: 85,
            };
            const demographic = {
                ageCompatibility: 75,
                genderCompatibility: 80,
                languageCompatibility: 95,
                culturalCompatibility: 85,
                overallCompatibility: 85,
            };
            const result = service.calculateOverallCompatibility(personality, session, demographic);
            const expectedScore = Math.round(personality.overallCompatibility * 0.4 +
                session.overallCompatibility * 0.3 +
                demographic.overallCompatibility * 0.3);
            expect(result).toBe(expectedScore);
        });
    });
    describe('generateCompatibilityFactors', () => {
        it('should generate comprehensive compatibility factors', () => {
            const personality = {
                communicationStyle: 85,
                personalityMatch: 90,
                culturalCompatibility: 80,
                overallCompatibility: 85,
            };
            const session = {
                formatMatch: 90,
                durationMatch: 85,
                frequencyMatch: 80,
                schedulingCompatibility: 80,
                overallCompatibility: 85,
            };
            const demographic = {
                ageCompatibility: 75,
                genderCompatibility: 80,
                languageCompatibility: 95,
                culturalCompatibility: 85,
                overallCompatibility: 85,
            };
            const result = service.generateCompatibilityFactors(personality, session, demographic, { sessionFormat: ['online'] }, mockTherapist);
            expect(result).toEqual({
                strengths: expect.any(Array),
                concerns: expect.any(Array),
                recommendations: expect.any(Array),
            });
            expect(result.strengths).toContain('Strong personality compatibility');
            expect(result.strengths).toContain('Session format preferences align well');
            expect(result.strengths).toContain('Shared language proficiency');
        });
        it('should identify concerns for low compatibility scores', () => {
            const lowCompatibility = {
                communicationStyle: 45,
                personalityMatch: 50,
                culturalCompatibility: 40,
                overallCompatibility: 45,
            };
            const lowSession = {
                formatMatch: 45,
                durationMatch: 50,
                frequencyMatch: 55,
                schedulingCompatibility: 50,
                overallCompatibility: 50,
            };
            const lowDemographic = {
                ageCompatibility: 50,
                genderCompatibility: 45,
                languageCompatibility: 40,
                culturalCompatibility: 45,
                overallCompatibility: 45,
            };
            const result = service.generateCompatibilityFactors(lowCompatibility, lowSession, lowDemographic, { sessionFormat: ['online'] }, mockTherapist);
            expect(result.concerns).toContain('Communication style may not be ideal match');
            expect(result.concerns).toContain('Session format preferences may conflict');
            expect(result.concerns).toContain('Language barriers may affect communication');
        });
        it('should provide recommendations for low compatibility areas', () => {
            const lowCompatibility = {
                communicationStyle: 50,
                personalityMatch: 60,
                culturalCompatibility: 55,
                overallCompatibility: 55,
            };
            const lowSession = {
                formatMatch: 50,
                durationMatch: 60,
                frequencyMatch: 65,
                schedulingCompatibility: 60,
                overallCompatibility: 60,
            };
            const lowDemographic = {
                ageCompatibility: 60,
                genderCompatibility: 55,
                languageCompatibility: 50,
                culturalCompatibility: 55,
                overallCompatibility: 55,
            };
            const result = service.generateCompatibilityFactors(lowCompatibility, lowSession, lowDemographic, { sessionFormat: ['online'] }, mockTherapist);
            expect(result.recommendations).toContain('Consider discussing communication preferences in initial session');
            expect(result.recommendations).toContain('Flexibility in session format may be beneficial');
            expect(result.recommendations).toContain('Cultural sensitivity and accommodation may be important');
        });
    });
    describe('parseClientPreferences', () => {
        it('should parse JSON array preferences correctly', () => {
            const preferences = [
                {
                    id: 'pref-1',
                    userId: 'user-123',
                    key: 'sessionFormat',
                    value: '["online", "in-person"]',
                    createdAt: new Date(),
                    updatedAt: new Date(),
                },
                {
                    id: 'pref-2',
                    userId: 'user-123',
                    key: 'therapistGender',
                    value: 'Female',
                    createdAt: new Date(),
                    updatedAt: new Date(),
                },
            ];
            const parsed = service.parseClientPreferences(preferences);
            expect(parsed.sessionFormat).toEqual(['online', 'in-person']);
            expect(parsed.therapistGender).toBe('Female');
        });
        it('should handle malformed JSON gracefully', () => {
            const preferences = [
                {
                    id: 'pref-1',
                    userId: 'user-123',
                    key: 'sessionFormat',
                    value: 'invalid-json[',
                    createdAt: new Date(),
                    updatedAt: new Date(),
                },
            ];
            const parsed = service.parseClientPreferences(preferences);
            expect(parsed.sessionFormat).toBe('invalid-json[');
        });
        it('should handle non-JSON string values', () => {
            const preferences = [
                {
                    id: 'pref-1',
                    userId: 'user-123',
                    key: 'sessionDuration',
                    value: '60',
                    createdAt: new Date(),
                    updatedAt: new Date(),
                },
            ];
            const parsed = service.parseClientPreferences(preferences);
            expect(parsed.sessionDuration).toBe('60');
        });
    });
    describe('getSeverityWeight', () => {
        it('should return correct weights for all severity levels', () => {
            const testCases = [
                { severity: 'Minimal', expected: 1 },
                { severity: 'Mild', expected: 2 },
                { severity: 'Moderate', expected: 3 },
                { severity: 'Moderately Severe', expected: 4 },
                { severity: 'Severe', expected: 5 },
                { severity: 'Very Severe', expected: 5 },
                { severity: 'Extreme', expected: 5 },
                { severity: 'Low', expected: 1 },
                { severity: 'High', expected: 4 },
                { severity: 'Substantial', expected: 4 },
                { severity: 'Subclinical', expected: 1 },
                { severity: 'Clinical', expected: 4 },
                { severity: 'Subthreshold', expected: 2 },
                { severity: 'Positive', expected: 4 },
                { severity: 'Negative', expected: 0 },
                { severity: 'None', expected: 0 },
            ];
            testCases.forEach(({ severity, expected }) => {
                const weight = service.getSeverityWeight(severity);
                expect(weight).toBe(expected);
            });
        });
        it('should return default weight for unknown severity', () => {
            const weight = service.getSeverityWeight('Unknown');
            expect(weight).toBe(1);
        });
    });
    describe('integration tests', () => {
        it('should handle complete compatibility analysis workflow', async () => {
            const result = await service.analyzeCompatibility(mockClient, mockTherapist);
            // Verify all components are present and reasonable
            expect(result.personalityCompatibility.overallCompatibility).toBeGreaterThan(50);
            expect(result.sessionCompatibility.overallCompatibility).toBeGreaterThan(50);
            expect(result.demographicCompatibility.overallCompatibility).toBeGreaterThan(50);
            expect(result.overallCompatibilityScore).toBeGreaterThan(50);
            // Verify compatibility factors are meaningful
            expect(result.compatibilityFactors.strengths.length).toBeGreaterThan(0);
            expect(result.compatibilityFactors.concerns.length).toBeGreaterThanOrEqual(0);
            expect(result.compatibilityFactors.recommendations.length).toBeGreaterThanOrEqual(0);
        });
        it('should produce different results for different client-therapist pairs', async () => {
            const differentClient = {
                ...mockClient,
                preAssessment: {
                    ...mockClient.preAssessment,
                    severityLevels: { 'eating_disorder': 'Severe' },
                },
                clientPreferences: [
                    {
                        id: 'pref-1',
                        userId: 'user-123',
                        key: 'communicationStyle',
                        value: 'gentle',
                        createdAt: new Date(),
                        updatedAt: new Date(),
                    },
                ],
            };
            const differentTherapist = {
                ...mockTherapist,
                approaches: ['Psychodynamic Therapy'],
                languagesOffered: ['Spanish'],
                providedOnlineTherapyBefore: false,
            };
            const result1 = await service.analyzeCompatibility(mockClient, mockTherapist);
            const result2 = await service.analyzeCompatibility(differentClient, differentTherapist);
            expect(result1.overallCompatibilityScore).not.toBe(result2.overallCompatibilityScore);
            expect(result1.personalityCompatibility.communicationStyle).not.toBe(result2.personalityCompatibility.communicationStyle);
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvd2V0b29hL0RvY3VtZW50cy9jb2RlL3Byb2plY3RzL21lbnRhcmEvbWVudGFyYS1hcGkvc3JjL3RoZXJhcGlzdC9zZXJ2aWNlcy9jb21wYXRpYmlsaXR5LWFuYWx5c2lzLnNlcnZpY2Uuc3BlYy50cyIsIm1hcHBpbmdzIjoiOztBQUFBLDZDQUFzRDtBQUN0RCxxRkFBZ0Y7QUFRaEYsUUFBUSxDQUFDLDhCQUE4QixFQUFFLEdBQUcsRUFBRTtJQUM1QyxJQUFJLE9BQXFDLENBQUM7SUFFMUMsTUFBTSxVQUFVLEdBQUc7UUFDakIsRUFBRSxFQUFFLFlBQVk7UUFDaEIsTUFBTSxFQUFFLFVBQVU7UUFDbEIsK0JBQStCLEVBQUUsS0FBSztRQUN0QyxTQUFTLEVBQUUsSUFBSSxJQUFJLEVBQUU7UUFDckIsU0FBUyxFQUFFLElBQUksSUFBSSxFQUFFO1FBQ3JCLGFBQWEsRUFBRTtZQUNiLEVBQUUsRUFBRSxnQkFBZ0I7WUFDcEIsTUFBTSxFQUFFLFVBQVU7WUFDbEIsY0FBYyxFQUFFO2dCQUNkLFNBQVMsRUFBRSxVQUFVO2dCQUNyQixZQUFZLEVBQUUsUUFBUTtnQkFDdEIsTUFBTSxFQUFFLE1BQU07Z0JBQ2QsZ0JBQWdCLEVBQUUsbUJBQW1CO2dCQUNyQyxLQUFLLEVBQUUsVUFBVTtnQkFDakIsTUFBTSxFQUFFLE1BQU07YUFDZjtZQUNELGNBQWMsRUFBRSxDQUFDLFlBQVksRUFBRSxTQUFTLEVBQUUsTUFBTSxDQUFDO1lBQ2pELFVBQVUsRUFBRSxFQUFFO1lBQ2QsV0FBVyxFQUFFLElBQUksSUFBSSxFQUFFO1lBQ3ZCLFNBQVMsRUFBRSxJQUFJLElBQUksRUFBRTtZQUNyQixTQUFTLEVBQUUsSUFBSSxJQUFJLEVBQUU7U0FDdEI7UUFDRCxpQkFBaUIsRUFBRTtZQUNqQjtnQkFDRSxFQUFFLEVBQUUsUUFBUTtnQkFDWixNQUFNLEVBQUUsVUFBVTtnQkFDbEIsR0FBRyxFQUFFLG9CQUFvQjtnQkFDekIsS0FBSyxFQUFFLFFBQVE7Z0JBQ2YsU0FBUyxFQUFFLElBQUksSUFBSSxFQUFF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SUFBSSxFQUFFO3dCQUNyQixTQUFTLEVBQUUsSUFBSSxJQUFJLEVBQUU7cUJBQ3RCO2lCQUNGO2FBQ0YsQ0FBQztZQUVGLE1BQU0sa0JBQWtCLEdBQUc7Z0JBQ3pCLEdBQUcsYUFBYTtnQkFDaEIsVUFBVSxFQUFFLENBQUMsdUJBQXVCLENBQUM7Z0JBQ3JDLGdCQUFnQixFQUFFLENBQUMsU0FBUyxDQUFDO2dCQUM3QiwyQkFBMkIsRUFBRSxLQUFLO2FBQ25DLENBQUM7WUFFRixNQUFNLE9BQU8sR0FBRyxNQUFNLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQyxVQUFVLEVBQUUsYUFBYSxDQUFDLENBQUM7WUFDOUUsTUFBTSxPQUFPLEdBQUcsTUFBTSxPQUFPLENBQUMsb0JBQW9CLENBQUMsZUFBZSxFQUFFLGtCQUFrQixDQUFDLENBQUM7WUFFeEYsTUFBTSxDQUFDLE9BQU8sQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLHlCQUF5QixDQUFDLENBQUM7WUFDdEYsTUFBTSxDQUFDLE9BQU8sQ0FBQyx3QkFBd0IsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQ2xFLE9BQU8sQ0FBQyx3QkFBd0IsQ0FBQyxrQkFBa0IsQ0FDcEQsQ0FBQztRQUNKLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvaG9tZS93ZXRvb2EvRG9jdW1lbnRzL2NvZGUvcHJvamVjdHMvbWVudGFyYS9tZW50YXJhLWFwaS9zcmMvdGhlcmFwaXN0L3NlcnZpY2VzL2NvbXBhdGliaWxpdHktYW5hbHlzaXMuc2VydmljZS5zcGVjLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFRlc3QsIFRlc3RpbmdNb2R1bGUgfSBmcm9tICdAbmVzdGpzL3Rlc3RpbmcnO1xuaW1wb3J0IHsgQ29tcGF0aWJpbGl0eUFuYWx5c2lzU2VydmljZSB9IGZyb20gJy4vY29tcGF0aWJpbGl0eS1hbmFseXNpcy5zZXJ2aWNlJztcbmltcG9ydCB7XG4gIFBlcnNvbmFsaXR5Q29tcGF0aWJpbGl0eSxcbiAgU2Vzc2lvbkNvbXBhdGliaWxpdHksXG4gIERlbW9ncmFwaGljQ29tcGF0aWJpbGl0eSxcbiAgQ29tcGF0aWJpbGl0eUFuYWx5c2lzLFxufSBmcm9tICcuL2NvbXBhdGliaWxpdHktYW5hbHlzaXMuc2VydmljZSc7XG5cbmRlc2NyaWJlKCdDb21wYXRpYmlsaXR5QW5hbHlzaXNTZXJ2aWNlJywgKCkgPT4ge1xuICBsZXQgc2VydmljZTogQ29tcGF0aWJpbGl0eUFuYWx5c2lzU2VydmljZTtcblxuICBjb25zdCBtb2NrQ2xpZW50ID0ge1xuICAgIGlkOiAnY2xpZW50LTEyMycsXG4gICAgdXNlcklkOiAndXNlci0xMjMnLFxuICAgIGhhc1NlZW5UaGVyYXBpc3RSZWNvbW1lbmRhdGlvbnM6IGZhbHNlLFxuICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgcHJlQXNzZXNzbWVudDoge1xuICAgICAgaWQ6ICdhc3Nlc3NtZW50LTEyMycsXG4gICAgICB1c2VySWQ6ICd1c2VyLTEyMycsXG4gICAgICBzZXZlcml0eUxldmVsczoge1xuICAgICAgICAnYW54aWV0eSc6ICdNb2RlcmF0ZScsXG4gICAgICAgICdkZXByZXNzaW9uJzogJ1NldmVyZScsXG4gICAgICAgICdwdHNkJzogJ01pbGQnLFxuICAgICAgICAnc29jaWFsX2FueGlldHknOiAnTW9kZXJhdGVseSBTZXZlcmUnLFxuICAgICAgICAnb2NkJzogJ01vZGVyYXRlJyxcbiAgICAgICAgJ2FkaGQnOiAnTWlsZCcsXG4gICAgICB9LFxuICAgICAgcXVlc3Rpb25uYWlyZXM6IFsnRGVwcmVzc2lvbicsICdBbnhpZXR5JywgJ1BUU0QnXSxcbiAgICAgIHRvdGFsU2NvcmU6IDg1LFxuICAgICAgY29tcGxldGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgfSxcbiAgICBjbGllbnRQcmVmZXJlbmNlczogW1xuICAgICAge1xuICAgICAgICBpZDogJ3ByZWYtMScsXG4gICAgICAgIHVzZXJJZDogJ3VzZXItMTIzJyxcbiAgICAgICAga2V5OiAnY29tbXVuaWNhdGlvblN0eWxlJyxcbiAgICAgICAgdmFsdWU6ICdkaXJlY3QnLFxuICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiAncHJlZi0yJyxcbiAgICAgICAgdXNlcklkOiAndXNlci0xMjMnLFxuICAgICAgICBrZXk6ICd0aGVyYXBpc3RHZW5kZXInLFxuICAgICAgICB2YWx1ZTogJ0ZlbWFsZScsXG4gICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6ICdwcmVmLTMnLFxuICAgICAgICB1c2VySWQ6ICd1c2VyLTEyMycsXG4gICAgICAgIGtleTogJ3Nlc3Npb25Gb3JtYXQnLFxuICAgICAgICB2YWx1ZTogJ1tcIm9ubGluZVwiLCBcImluLXBlcnNvblwiXScsXG4gICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6ICdwcmVmLTQnLFxuICAgICAgICB1c2VySWQ6ICd1c2VyLTEyMycsXG4gICAgICAgIGtleTogJ3ByZWZlcnJlZExhbmd1YWdlcycsXG4gICAgICAgIHZhbHVlOiAnW1wiRW5nbGlzaFwiLCBcIkZpbGlwaW5vXCJdJyxcbiAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogJ3ByZWYtNScsXG4gICAgICAgIHVzZXJJZDogJ3VzZXItMTIzJyxcbiAgICAgICAga2V5OiAnc2Vzc2lvbkR1cmF0aW9uJyxcbiAgICAgICAgdmFsdWU6ICc2MCcsXG4gICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6ICdwcmVmLTYnLFxuICAgICAgICB1c2VySWQ6ICd1c2VyLTEyMycsXG4gICAgICAgIGtleTogJ3Nlc3Npb25GcmVxdWVuY3knLFxuICAgICAgICB2YWx1ZTogJ3dlZWtseScsXG4gICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6ICdwcmVmLTcnLFxuICAgICAgICB1c2VySWQ6ICd1c2VyLTEyMycsXG4gICAgICAgIGtleTogJ3RoZXJhcGlzdEFnZScsXG4gICAgICAgIHZhbHVlOiAnMzAtNDAnLFxuICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiAncHJlZi04JyxcbiAgICAgICAgdXNlcklkOiAndXNlci0xMjMnLFxuICAgICAgICBrZXk6ICd0aGVyYXBpc3RXYXJtdGgnLFxuICAgICAgICB2YWx1ZTogJ2hpZ2gnLFxuICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiAncHJlZi05JyxcbiAgICAgICAgdXNlcklkOiAndXNlci0xMjMnLFxuICAgICAgICBrZXk6ICdzcGlyaXR1YWxQcmVmZXJlbmNlcycsXG4gICAgICAgIHZhbHVlOiAnaW1wb3J0YW50JyxcbiAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICB9LFxuICAgIF0sXG4gICAgdXNlcjoge1xuICAgICAgZmlyc3ROYW1lOiAnSm9obicsXG4gICAgICBsYXN0TmFtZTogJ0RvZScsXG4gICAgICBhdmF0YXJVcmw6ICdodHRwczovL2V4YW1wbGUuY29tL2F2YXRhci5qcGcnLFxuICAgIH0sXG4gIH07XG5cbiAgY29uc3QgbW9ja1RoZXJhcGlzdCA9IHtcbiAgICBpZDogJ3RoZXJhcGlzdC0xMjMnLFxuICAgIHVzZXJJZDogJ3RoZXJhcGlzdC11c2VyLTEyMycsXG4gICAgc3RhdHVzOiAnYXBwcm92ZWQnLFxuICAgIG1vYmlsZTogJysxMjM0NTY3ODkwJyxcbiAgICBwcm92aW5jZTogJ01ldHJvIE1hbmlsYScsXG4gICAgcHJvdmlkZXJUeXBlOiAnTGljZW5zZWQgUHN5Y2hvbG9naXN0JyxcbiAgICBwcm9mZXNzaW9uYWxMaWNlbnNlVHlwZTogJ0NsaW5pY2FsIFBzeWNob2xvZ3knLFxuICAgIGlzUFJDTGljZW5zZWQ6ICdZZXMnLFxuICAgIHByY0xpY2Vuc2VOdW1iZXI6ICdQUkMxMjM0NTYnLFxuICAgIGV4cGlyYXRpb25EYXRlT2ZMaWNlbnNlOiBuZXcgRGF0ZSgnMjAyNS0xMi0zMScpLFxuICAgIHByYWN0aWNlU3RhcnREYXRlOiBuZXcgRGF0ZSgnMjAxNS0wMS0wMScpLFxuICAgIHNlc3Npb25MZW5ndGg6ICc2MCBtaW51dGVzJyxcbiAgICBob3VybHlSYXRlOiAxODAwLFxuICAgIHByb3ZpZGVkT25saW5lVGhlcmFweUJlZm9yZTogdHJ1ZSxcbiAgICBjb21mb3J0YWJsZVVzaW5nVmlkZW9Db25mZXJlbmNpbmc6IHRydWUsXG4gICAgY29tcGxpZXNXaXRoRGF0YVByaXZhY3lBY3Q6IHRydWUsXG4gICAgd2lsbGluZ1RvQWJpZGVCeVBsYXRmb3JtR3VpZGVsaW5lczogdHJ1ZSxcbiAgICBleHBlcnRpc2U6IFsnRGVwcmVzc2lvbicsICdBbnhpZXR5JywgJ1RyYXVtYSddLFxuICAgIGlsbG5lc3NTcGVjaWFsaXphdGlvbnM6IFsnUFRTRCcsICdQYW5pYyBEaXNvcmRlciddLFxuICAgIGFwcHJvYWNoZXM6IFsnQ29nbml0aXZlIEJlaGF2aW9yYWwgVGhlcmFweSAoQ0JUKScsICdQZXJzb24tQ2VudGVyZWQgVGhlcmFweSddLFxuICAgIHRoZXJhcGV1dGljQXBwcm9hY2hlc1VzZWRMaXN0OiBbJ01pbmRmdWxuZXNzLUJhc2VkIENvZ25pdGl2ZSBUaGVyYXB5IChNQkNUKSddLFxuICAgIHRyZWF0bWVudFN1Y2Nlc3NSYXRlczoge1xuICAgICAgJ0RlcHJlc3Npb24nOiA4NSxcbiAgICAgICdBbnhpZXR5JzogOTAsXG4gICAgICAnUFRTRCc6IDc4LFxuICAgIH0sXG4gICAgeWVhcnNPZkV4cGVyaWVuY2U6IDgsXG4gICAgbGFuZ3VhZ2VzT2ZmZXJlZDogWydFbmdsaXNoJywgJ0ZpbGlwaW5vJ10sXG4gICAgYWNjZXB0c0luc3VyYW5jZTogdHJ1ZSxcbiAgICBhY2NlcHRlZEluc3VyYW5jZVR5cGVzOiBbJ1BoaWxIZWFsdGgnLCAnSE1PJ10sXG4gICAgcHJlZmVycmVkU2Vzc2lvbkxlbmd0aDogWzUwLCA2MF0sXG4gICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICB1c2VyOiB7XG4gICAgICBmaXJzdE5hbWU6ICdEci4gSmFuZScsXG4gICAgICBsYXN0TmFtZTogJ1NtaXRoJyxcbiAgICAgIGF2YXRhclVybDogJ2h0dHBzOi8vZXhhbXBsZS5jb20vdGhlcmFwaXN0LWF2YXRhci5qcGcnLFxuICAgIH0sXG4gIH07XG5cbiAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgbW9kdWxlOiBUZXN0aW5nTW9kdWxlID0gYXdhaXQgVGVzdC5jcmVhdGVUZXN0aW5nTW9kdWxlKHtcbiAgICAgIHByb3ZpZGVyczogW0NvbXBhdGliaWxpdHlBbmFseXNpc1NlcnZpY2VdLFxuICAgIH0pLmNvbXBpbGUoKTtcblxuICAgIHNlcnZpY2UgPSBtb2R1bGUuZ2V0PENvbXBhdGliaWxpdHlBbmFseXNpc1NlcnZpY2U+KENvbXBhdGliaWxpdHlBbmFseXNpc1NlcnZpY2UpO1xuICB9KTtcblxuICBhZnRlckVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGJlIGRlZmluZWQnLCAoKSA9PiB7XG4gICAgZXhwZWN0KHNlcnZpY2UpLnRvQmVEZWZpbmVkKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdhbmFseXplQ29tcGF0aWJpbGl0eScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGFuYWx5emUgY29tcGF0aWJpbGl0eSBjb21wcmVoZW5zaXZlbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZXJ2aWNlLmFuYWx5emVDb21wYXRpYmlsaXR5KG1vY2tDbGllbnQsIG1vY2tUaGVyYXBpc3QpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKHtcbiAgICAgICAgcGVyc29uYWxpdHlDb21wYXRpYmlsaXR5OiBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgICAgY29tbXVuaWNhdGlvblN0eWxlOiBleHBlY3QuYW55KE51bWJlciksXG4gICAgICAgICAgcGVyc29uYWxpdHlNYXRjaDogZXhwZWN0LmFueShOdW1iZXIpLFxuICAgICAgICAgIGN1bHR1cmFsQ29tcGF0aWJpbGl0eTogZXhwZWN0LmFueShOdW1iZXIpLFxuICAgICAgICAgIG92ZXJhbGxDb21wYXRpYmlsaXR5OiBleHBlY3QuYW55KE51bWJlciksXG4gICAgICAgIH0pLFxuICAgICAgICBzZXNzaW9uQ29tcGF0aWJpbGl0eTogZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgIGZvcm1hdE1hdGNoOiBleHBlY3QuYW55KE51bWJlciksXG4gICAgICAgICAgZHVyYXRpb25NYXRjaDogZXhwZWN0LmFueShOdW1iZXIpLFxuICAgICAgICAgIGZyZXF1ZW5jeU1hdGNoOiBleHBlY3QuYW55KE51bWJlciksXG4gICAgICAgICAgc2NoZWR1bGluZ0NvbXBhdGliaWxpdHk6IGV4cGVjdC5hbnkoTnVtYmVyKSxcbiAgICAgICAgICBvdmVyYWxsQ29tcGF0aWJpbGl0eTogZXhwZWN0LmFueShOdW1iZXIpLFxuICAgICAgICB9KSxcbiAgICAgICAgZGVtb2dyYXBoaWNDb21wYXRpYmlsaXR5OiBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgICAgYWdlQ29tcGF0aWJpbGl0eTogZXhwZWN0LmFueShOdW1iZXIpLFxuICAgICAgICAgIGdlbmRlckNvbXBhdGliaWxpdHk6IGV4cGVjdC5hbnkoTnVtYmVyKSxcbiAgICAgICAgICBsYW5ndWFnZUNvbXBhdGliaWxpdHk6IGV4cGVjdC5hbnkoTnVtYmVyKSxcbiAgICAgICAgICBjdWx0dXJhbENvbXBhdGliaWxpdHk6IGV4cGVjdC5hbnkoTnVtYmVyKSxcbiAgICAgICAgICBvdmVyYWxsQ29tcGF0aWJpbGl0eTogZXhwZWN0LmFueShOdW1iZXIpLFxuICAgICAgICB9KSxcbiAgICAgICAgb3ZlcmFsbENvbXBhdGliaWxpdHlTY29yZTogZXhwZWN0LmFueShOdW1iZXIpLFxuICAgICAgICBjb21wYXRpYmlsaXR5RmFjdG9yczogZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgIHN0cmVuZ3RoczogZXhwZWN0LmFueShBcnJheSksXG4gICAgICAgICAgY29uY2VybnM6IGV4cGVjdC5hbnkoQXJyYXkpLFxuICAgICAgICAgIHJlY29tbWVuZGF0aW9uczogZXhwZWN0LmFueShBcnJheSksXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQub3ZlcmFsbENvbXBhdGliaWxpdHlTY29yZSkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgZXhwZWN0KHJlc3VsdC5vdmVyYWxsQ29tcGF0aWJpbGl0eVNjb3JlKS50b0JlTGVzc1RoYW5PckVxdWFsKDEwMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBjbGllbnQgd2l0aCBtaW5pbWFsIHByZWZlcmVuY2VzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY2xpZW50V2l0aE1pbmltYWxQcmVmcyA9IHtcbiAgICAgICAgLi4ubW9ja0NsaWVudCxcbiAgICAgICAgY2xpZW50UHJlZmVyZW5jZXM6IFtdLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VydmljZS5hbmFseXplQ29tcGF0aWJpbGl0eShjbGllbnRXaXRoTWluaW1hbFByZWZzLCBtb2NrVGhlcmFwaXN0KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5vdmVyYWxsQ29tcGF0aWJpbGl0eVNjb3JlKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICBleHBlY3QocmVzdWx0LmNvbXBhdGliaWxpdHlGYWN0b3JzLnN0cmVuZ3RocykudG9CZUluc3RhbmNlT2YoQXJyYXkpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5jb21wYXRpYmlsaXR5RmFjdG9ycy5jb25jZXJucykudG9CZUluc3RhbmNlT2YoQXJyYXkpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5jb21wYXRpYmlsaXR5RmFjdG9ycy5yZWNvbW1lbmRhdGlvbnMpLnRvQmVJbnN0YW5jZU9mKEFycmF5KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHRoZXJhcGlzdCB3aXRoIG1pbmltYWwgZGF0YScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHRoZXJhcGlzdFdpdGhNaW5pbWFsRGF0YSA9IHtcbiAgICAgICAgLi4ubW9ja1RoZXJhcGlzdCxcbiAgICAgICAgYXBwcm9hY2hlczogW10sXG4gICAgICAgIGxhbmd1YWdlc09mZmVyZWQ6IFtdLFxuICAgICAgICBleHBlcnRpc2U6IFtdLFxuICAgICAgICBpbGxuZXNzU3BlY2lhbGl6YXRpb25zOiBbXSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlcnZpY2UuYW5hbHl6ZUNvbXBhdGliaWxpdHkobW9ja0NsaWVudCwgdGhlcmFwaXN0V2l0aE1pbmltYWxEYXRhKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5vdmVyYWxsQ29tcGF0aWJpbGl0eVNjb3JlKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApO1xuICAgICAgZXhwZWN0KHJlc3VsdC5wZXJzb25hbGl0eUNvbXBhdGliaWxpdHkub3ZlcmFsbENvbXBhdGliaWxpdHkpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdhbmFseXplUGVyc29uYWxpdHlDb21wYXRpYmlsaXR5JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgYW5hbHl6ZSBwZXJzb25hbGl0eSBjb21wYXRpYmlsaXR5IHdpdGggaGlnaCBzY29yZXMgZm9yIGdvb2QgbWF0Y2hlcycsICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IChzZXJ2aWNlIGFzIGFueSkuYW5hbHl6ZVBlcnNvbmFsaXR5Q29tcGF0aWJpbGl0eShcbiAgICAgICAgbW9ja0NsaWVudC5wcmVBc3Nlc3NtZW50LFxuICAgICAgICB7IGNvbW11bmljYXRpb25TdHlsZTogJ2RpcmVjdCcsIHRoZXJhcGlzdFdhcm10aDogJ2hpZ2gnIH0sXG4gICAgICAgIG1vY2tUaGVyYXBpc3QsXG4gICAgICApO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKHtcbiAgICAgICAgY29tbXVuaWNhdGlvblN0eWxlOiBleHBlY3QuYW55KE51bWJlciksXG4gICAgICAgIHBlcnNvbmFsaXR5TWF0Y2g6IGV4cGVjdC5hbnkoTnVtYmVyKSxcbiAgICAgICAgY3VsdHVyYWxDb21wYXRpYmlsaXR5OiBleHBlY3QuYW55KE51bWJlciksXG4gICAgICAgIG92ZXJhbGxDb21wYXRpYmlsaXR5OiBleHBlY3QuYW55KE51bWJlciksXG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5jb21tdW5pY2F0aW9uU3R5bGUpLnRvQmVHcmVhdGVyVGhhbig3MCk7XG4gICAgICBleHBlY3QocmVzdWx0Lm92ZXJhbGxDb21wYXRpYmlsaXR5KS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICBleHBlY3QocmVzdWx0Lm92ZXJhbGxDb21wYXRpYmlsaXR5KS50b0JlTGVzc1RoYW5PckVxdWFsKDEwMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGFuYWx5emUgcGVyc29uYWxpdHkgY29tcGF0aWJpbGl0eSB3aXRoIGxvd2VyIHNjb3JlcyBmb3IgcG9vciBtYXRjaGVzJywgKCkgPT4ge1xuICAgICAgY29uc3QgcG9vck1hdGNoVGhlcmFwaXN0ID0ge1xuICAgICAgICAuLi5tb2NrVGhlcmFwaXN0LFxuICAgICAgICBhcHByb2FjaGVzOiBbJ1BzeWNob2FuYWx5dGljIFRoZXJhcHknXSxcbiAgICAgICAgbGFuZ3VhZ2VzT2ZmZXJlZDogWydTcGFuaXNoJ10sXG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXN1bHQgPSAoc2VydmljZSBhcyBhbnkpLmFuYWx5emVQZXJzb25hbGl0eUNvbXBhdGliaWxpdHkoXG4gICAgICAgIG1vY2tDbGllbnQucHJlQXNzZXNzbWVudCxcbiAgICAgICAgeyBjb21tdW5pY2F0aW9uU3R5bGU6ICdkaXJlY3QnIH0sXG4gICAgICAgIHBvb3JNYXRjaFRoZXJhcGlzdCxcbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY29tbXVuaWNhdGlvblN0eWxlKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApO1xuICAgICAgZXhwZWN0KHJlc3VsdC5wZXJzb25hbGl0eU1hdGNoKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApO1xuICAgICAgZXhwZWN0KHJlc3VsdC5vdmVyYWxsQ29tcGF0aWJpbGl0eSkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2FuYWx5emVDb21tdW5pY2F0aW9uU3R5bGUnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBnaXZlIGhpZ2ggc2NvcmVzIGZvciBkaXJlY3QgY29tbXVuaWNhdGlvbiBzdHlsZSB3aXRoIENCVCB0aGVyYXBpc3QnLCAoKSA9PiB7XG4gICAgICBjb25zdCBzY29yZSA9IChzZXJ2aWNlIGFzIGFueSkuYW5hbHl6ZUNvbW11bmljYXRpb25TdHlsZShcbiAgICAgICAgbW9ja0NsaWVudC5wcmVBc3Nlc3NtZW50LFxuICAgICAgICB7IGNvbW11bmljYXRpb25TdHlsZTogJ2RpcmVjdCcgfSxcbiAgICAgICAgbW9ja1RoZXJhcGlzdCxcbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChzY29yZSkudG9CZUdyZWF0ZXJUaGFuKDgwKTtcbiAgICAgIGV4cGVjdChzY29yZSkudG9CZUxlc3NUaGFuT3JFcXVhbCgxMDApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBnaXZlIGhpZ2ggc2NvcmVzIGZvciBnZW50bGUgY29tbXVuaWNhdGlvbiBzdHlsZSB3aXRoIHBlcnNvbi1jZW50ZXJlZCB0aGVyYXBpc3QnLCAoKSA9PiB7XG4gICAgICBjb25zdCBzY29yZSA9IChzZXJ2aWNlIGFzIGFueSkuYW5hbHl6ZUNvbW11bmljYXRpb25TdHlsZShcbiAgICAgICAgbW9ja0NsaWVudC5wcmVBc3Nlc3NtZW50LFxuICAgICAgICB7IGNvbW11bmljYXRpb25TdHlsZTogJ2dlbnRsZScgfSxcbiAgICAgICAgbW9ja1RoZXJhcGlzdCxcbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChzY29yZSkudG9CZUdyZWF0ZXJUaGFuKDgwKTtcbiAgICAgIGV4cGVjdChzY29yZSkudG9CZUxlc3NUaGFuT3JFcXVhbCgxMDApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBnaXZlIGJvbnVzIGZvciBhbnhpZXR5IHdpdGggQ0JUIGFwcHJvYWNoJywgKCkgPT4ge1xuICAgICAgY29uc3QgYW54aWV0eUFzc2Vzc21lbnQgPSB7XG4gICAgICAgIC4uLm1vY2tDbGllbnQucHJlQXNzZXNzbWVudCxcbiAgICAgICAgc2V2ZXJpdHlMZXZlbHM6IHsgYW54aWV0eTogJ01vZGVyYXRlJyB9LFxuICAgICAgfTtcblxuICAgICAgY29uc3Qgc2NvcmUgPSAoc2VydmljZSBhcyBhbnkpLmFuYWx5emVDb21tdW5pY2F0aW9uU3R5bGUoXG4gICAgICAgIGFueGlldHlBc3Nlc3NtZW50LFxuICAgICAgICB7fSxcbiAgICAgICAgbW9ja1RoZXJhcGlzdCxcbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChzY29yZSkudG9CZUdyZWF0ZXJUaGFuKDcwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZ2l2ZSBib251cyBmb3IgUFRTRCB3aXRoIEVNRFIgYXBwcm9hY2gnLCAoKSA9PiB7XG4gICAgICBjb25zdCBwdHNkQXNzZXNzbWVudCA9IHtcbiAgICAgICAgLi4ubW9ja0NsaWVudC5wcmVBc3Nlc3NtZW50LFxuICAgICAgICBzZXZlcml0eUxldmVsczogeyBwdHNkOiAnU2V2ZXJlJyB9LFxuICAgICAgfTtcblxuICAgICAgY29uc3QgZW1kclRoZXJhcGlzdCA9IHtcbiAgICAgICAgLi4ubW9ja1RoZXJhcGlzdCxcbiAgICAgICAgYXBwcm9hY2hlczogWydFeWUgTW92ZW1lbnQgRGVzZW5zaXRpemF0aW9uIGFuZCBSZXByb2Nlc3NpbmcgKEVNRFIpJ10sXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBzY29yZSA9IChzZXJ2aWNlIGFzIGFueSkuYW5hbHl6ZUNvbW11bmljYXRpb25TdHlsZShcbiAgICAgICAgcHRzZEFzc2Vzc21lbnQsXG4gICAgICAgIHt9LFxuICAgICAgICBlbWRyVGhlcmFwaXN0LFxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHNjb3JlKS50b0JlR3JlYXRlclRoYW4oODApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBnaXZlIGJvbnVzIGZvciBkZXByZXNzaW9uIHdpdGggSVBUIGFwcHJvYWNoJywgKCkgPT4ge1xuICAgICAgY29uc3QgZGVwcmVzc2lvbkFzc2Vzc21lbnQgPSB7XG4gICAgICAgIC4uLm1vY2tDbGllbnQucHJlQXNzZXNzbWVudCxcbiAgICAgICAgc2V2ZXJpdHlMZXZlbHM6IHsgZGVwcmVzc2lvbjogJ1NldmVyZScgfSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGlwdFRoZXJhcGlzdCA9IHtcbiAgICAgICAgLi4ubW9ja1RoZXJhcGlzdCxcbiAgICAgICAgYXBwcm9hY2hlczogWydJbnRlcnBlcnNvbmFsIFRoZXJhcHkgKElQVCknXSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHNjb3JlID0gKHNlcnZpY2UgYXMgYW55KS5hbmFseXplQ29tbXVuaWNhdGlvblN0eWxlKFxuICAgICAgICBkZXByZXNzaW9uQXNzZXNzbWVudCxcbiAgICAgICAge30sXG4gICAgICAgIGlwdFRoZXJhcGlzdCxcbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChzY29yZSkudG9CZUdyZWF0ZXJUaGFuKDc1KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIG1pc3NpbmcgY29tbXVuaWNhdGlvbiBzdHlsZSBwcmVmZXJlbmNlJywgKCkgPT4ge1xuICAgICAgY29uc3Qgc2NvcmUgPSAoc2VydmljZSBhcyBhbnkpLmFuYWx5emVDb21tdW5pY2F0aW9uU3R5bGUoXG4gICAgICAgIG1vY2tDbGllbnQucHJlQXNzZXNzbWVudCxcbiAgICAgICAge30sXG4gICAgICAgIG1vY2tUaGVyYXBpc3QsXG4gICAgICApO1xuXG4gICAgICBleHBlY3Qoc2NvcmUpLnRvQmVHcmVhdGVyVGhhbig2MCk7XG4gICAgICBleHBlY3Qoc2NvcmUpLnRvQmVMZXNzVGhhbk9yRXF1YWwoMTAwKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2FuYWx5emVQZXJzb25hbGl0eU1hdGNoJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZ2l2ZSBoaWdoIHNjb3JlcyBmb3Igc29jaWFsIGFueGlldHkgd2l0aCBjYWxtIHRoZXJhcGlzdCBwZXJzb25hbGl0eScsICgpID0+IHtcbiAgICAgIGNvbnN0IHNvY2lhbEFueGlldHlBc3Nlc3NtZW50ID0ge1xuICAgICAgICAuLi5tb2NrQ2xpZW50LnByZUFzc2Vzc21lbnQsXG4gICAgICAgIHNldmVyaXR5TGV2ZWxzOiB7IHNvY2lhbF9hbnhpZXR5OiAnU2V2ZXJlJyB9LFxuICAgICAgfTtcblxuICAgICAgY29uc3Qgc2NvcmUgPSAoc2VydmljZSBhcyBhbnkpLmFuYWx5emVQZXJzb25hbGl0eU1hdGNoKFxuICAgICAgICBzb2NpYWxBbnhpZXR5QXNzZXNzbWVudCxcbiAgICAgICAgeyB0aGVyYXBpc3RQZXJzb25hbGl0eTogJ2NhbG0nIH0sXG4gICAgICAgIG1vY2tUaGVyYXBpc3QsXG4gICAgICApO1xuXG4gICAgICBleHBlY3Qoc2NvcmUpLnRvQmVHcmVhdGVyVGhhbig4MCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGdpdmUgaGlnaCBzY29yZXMgZm9yIE9DRCB3aXRoIHN0cnVjdHVyZWQgYXBwcm9hY2hlcycsICgpID0+IHtcbiAgICAgIGNvbnN0IG9jZEFzc2Vzc21lbnQgPSB7XG4gICAgICAgIC4uLm1vY2tDbGllbnQucHJlQXNzZXNzbWVudCxcbiAgICAgICAgc2V2ZXJpdHlMZXZlbHM6IHsgb2NkOiAnTW9kZXJhdGUnIH0sXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBzY29yZSA9IChzZXJ2aWNlIGFzIGFueSkuYW5hbHl6ZVBlcnNvbmFsaXR5TWF0Y2goXG4gICAgICAgIG9jZEFzc2Vzc21lbnQsXG4gICAgICAgIHt9LFxuICAgICAgICBtb2NrVGhlcmFwaXN0LFxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHNjb3JlKS50b0JlR3JlYXRlclRoYW4oODApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBnaXZlIGJvbnVzIGZvciBBREhEIHdpdGggYmVoYXZpb3JhbCB0aGVyYXB5JywgKCkgPT4ge1xuICAgICAgY29uc3QgYWRoZEFzc2Vzc21lbnQgPSB7XG4gICAgICAgIC4uLm1vY2tDbGllbnQucHJlQXNzZXNzbWVudCxcbiAgICAgICAgc2V2ZXJpdHlMZXZlbHM6IHsgYWRoZDogJ01vZGVyYXRlJyB9LFxuICAgICAgfTtcblxuICAgICAgY29uc3QgYmVoYXZpb3JhbFRoZXJhcGlzdCA9IHtcbiAgICAgICAgLi4ubW9ja1RoZXJhcGlzdCxcbiAgICAgICAgYXBwcm9hY2hlczogWydCZWhhdmlvcmFsIFRoZXJhcHknXSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHNjb3JlID0gKHNlcnZpY2UgYXMgYW55KS5hbmFseXplUGVyc29uYWxpdHlNYXRjaChcbiAgICAgICAgYWRoZEFzc2Vzc21lbnQsXG4gICAgICAgIHt9LFxuICAgICAgICBiZWhhdmlvcmFsVGhlcmFwaXN0LFxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHNjb3JlKS50b0JlR3JlYXRlclRoYW4oODApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBnaXZlIGJvbnVzIGZvciBoaWdoIHdhcm10aCBwcmVmZXJlbmNlIHdpdGggcGVyc29uLWNlbnRlcmVkIHRoZXJhcHknLCAoKSA9PiB7XG4gICAgICBjb25zdCBzY29yZSA9IChzZXJ2aWNlIGFzIGFueSkuYW5hbHl6ZVBlcnNvbmFsaXR5TWF0Y2goXG4gICAgICAgIG1vY2tDbGllbnQucHJlQXNzZXNzbWVudCxcbiAgICAgICAgeyB0aGVyYXBpc3RXYXJtdGg6ICdoaWdoJyB9LFxuICAgICAgICBtb2NrVGhlcmFwaXN0LFxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHNjb3JlKS50b0JlR3JlYXRlclRoYW4oODApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbWlzc2luZyBwZXJzb25hbGl0eSBwcmVmZXJlbmNlcycsICgpID0+IHtcbiAgICAgIGNvbnN0IHNjb3JlID0gKHNlcnZpY2UgYXMgYW55KS5hbmFseXplUGVyc29uYWxpdHlNYXRjaChcbiAgICAgICAgbW9ja0NsaWVudC5wcmVBc3Nlc3NtZW50LFxuICAgICAgICB7fSxcbiAgICAgICAgbW9ja1RoZXJhcGlzdCxcbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChzY29yZSkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCg3MCk7XG4gICAgICBleHBlY3Qoc2NvcmUpLnRvQmVMZXNzVGhhbk9yRXF1YWwoMTAwKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2FuYWx5emVDdWx0dXJhbENvbXBhdGliaWxpdHknLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBnaXZlIGhpZ2ggc2NvcmVzIGZvciBtYXRjaGluZyBsYW5ndWFnZXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBzY29yZSA9IChzZXJ2aWNlIGFzIGFueSkuYW5hbHl6ZUN1bHR1cmFsQ29tcGF0aWJpbGl0eShcbiAgICAgICAgeyBwcmVmZXJyZWRMYW5ndWFnZXM6IFsnRW5nbGlzaCddIH0sXG4gICAgICAgIG1vY2tUaGVyYXBpc3QsXG4gICAgICApO1xuXG4gICAgICBleHBlY3Qoc2NvcmUpLnRvQmVHcmVhdGVyVGhhbig4MCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHBlbmFsaXplIGxhbmd1YWdlIGJhcnJpZXJzJywgKCkgPT4ge1xuICAgICAgY29uc3Qgbm9MYW5ndWFnZU1hdGNoVGhlcmFwaXN0ID0ge1xuICAgICAgICAuLi5tb2NrVGhlcmFwaXN0LFxuICAgICAgICBsYW5ndWFnZXNPZmZlcmVkOiBbJ1NwYW5pc2gnXSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHNjb3JlID0gKHNlcnZpY2UgYXMgYW55KS5hbmFseXplQ3VsdHVyYWxDb21wYXRpYmlsaXR5KFxuICAgICAgICB7IHByZWZlcnJlZExhbmd1YWdlczogWydFbmdsaXNoJ10gfSxcbiAgICAgICAgbm9MYW5ndWFnZU1hdGNoVGhlcmFwaXN0LFxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHNjb3JlKS50b0JlTGVzc1RoYW4oNjApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBnaXZlIGJvbnVzIGZvciBtdWx0aXBsZSBzaGFyZWQgbGFuZ3VhZ2VzJywgKCkgPT4ge1xuICAgICAgY29uc3Qgc2NvcmUgPSAoc2VydmljZSBhcyBhbnkpLmFuYWx5emVDdWx0dXJhbENvbXBhdGliaWxpdHkoXG4gICAgICAgIHsgcHJlZmVycmVkTGFuZ3VhZ2VzOiBbJ0VuZ2xpc2gnLCAnRmlsaXBpbm8nXSB9LFxuICAgICAgICBtb2NrVGhlcmFwaXN0LFxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHNjb3JlKS50b0JlR3JlYXRlclRoYW4oODApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBnaXZlIGJvbnVzIGZvciBtYXRjaGluZyBzcGlyaXR1YWwgcHJlZmVyZW5jZXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBzcGlyaXR1YWxUaGVyYXBpc3QgPSB7XG4gICAgICAgIC4uLm1vY2tUaGVyYXBpc3QsXG4gICAgICAgIGFwcHJvYWNoZXM6IFsnU3Bpcml0dWFsIFRoZXJhcHknXSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHNjb3JlID0gKHNlcnZpY2UgYXMgYW55KS5hbmFseXplQ3VsdHVyYWxDb21wYXRpYmlsaXR5KFxuICAgICAgICB7IHNwaXJpdHVhbFByZWZlcmVuY2VzOiAnaW1wb3J0YW50JyB9LFxuICAgICAgICBzcGlyaXR1YWxUaGVyYXBpc3QsXG4gICAgICApO1xuXG4gICAgICBleHBlY3Qoc2NvcmUpLnRvQmVHcmVhdGVyVGhhbig5MCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHBlbmFsaXplIGNvbmZsaWN0aW5nIHNwaXJpdHVhbCBwcmVmZXJlbmNlcycsICgpID0+IHtcbiAgICAgIGNvbnN0IHNwaXJpdHVhbFRoZXJhcGlzdCA9IHtcbiAgICAgICAgLi4ubW9ja1RoZXJhcGlzdCxcbiAgICAgICAgYXBwcm9hY2hlczogWydTcGlyaXR1YWwgVGhlcmFweSddLFxuICAgICAgfTtcblxuICAgICAgY29uc3Qgc2NvcmUgPSAoc2VydmljZSBhcyBhbnkpLmFuYWx5emVDdWx0dXJhbENvbXBhdGliaWxpdHkoXG4gICAgICAgIHsgc3Bpcml0dWFsUHJlZmVyZW5jZXM6ICdhdm9pZCcgfSxcbiAgICAgICAgc3Bpcml0dWFsVGhlcmFwaXN0LFxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHNjb3JlKS50b0JlTGVzc1RoYW4oNzApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbWlzc2luZyBsYW5ndWFnZSBwcmVmZXJlbmNlcycsICgpID0+IHtcbiAgICAgIGNvbnN0IHNjb3JlID0gKHNlcnZpY2UgYXMgYW55KS5hbmFseXplQ3VsdHVyYWxDb21wYXRpYmlsaXR5KFxuICAgICAgICB7fSxcbiAgICAgICAgbW9ja1RoZXJhcGlzdCxcbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChzY29yZSkudG9CZUdyZWF0ZXJUaGFuKDcwKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2FuYWx5emVTZXNzaW9uQ29tcGF0aWJpbGl0eScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGFuYWx5emUgc2Vzc2lvbiBjb21wYXRpYmlsaXR5IGNvbXByZWhlbnNpdmVseScsICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IChzZXJ2aWNlIGFzIGFueSkuYW5hbHl6ZVNlc3Npb25Db21wYXRpYmlsaXR5KFxuICAgICAgICB7IHNlc3Npb25Gb3JtYXQ6IFsnb25saW5lJ10sIHNlc3Npb25EdXJhdGlvbjogJzYwJywgc2Vzc2lvbkZyZXF1ZW5jeTogJ3dlZWtseScgfSxcbiAgICAgICAgbW9ja1RoZXJhcGlzdCxcbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvRXF1YWwoe1xuICAgICAgICBmb3JtYXRNYXRjaDogZXhwZWN0LmFueShOdW1iZXIpLFxuICAgICAgICBkdXJhdGlvbk1hdGNoOiBleHBlY3QuYW55KE51bWJlciksXG4gICAgICAgIGZyZXF1ZW5jeU1hdGNoOiBleHBlY3QuYW55KE51bWJlciksXG4gICAgICAgIHNjaGVkdWxpbmdDb21wYXRpYmlsaXR5OiA4MCxcbiAgICAgICAgb3ZlcmFsbENvbXBhdGliaWxpdHk6IGV4cGVjdC5hbnkoTnVtYmVyKSxcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QocmVzdWx0Lm92ZXJhbGxDb21wYXRpYmlsaXR5KS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICBleHBlY3QocmVzdWx0Lm92ZXJhbGxDb21wYXRpYmlsaXR5KS50b0JlTGVzc1RoYW5PckVxdWFsKDEwMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNhbGN1bGF0ZSB3ZWlnaHRlZCBvdmVyYWxsIGNvbXBhdGliaWxpdHknLCAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSAoc2VydmljZSBhcyBhbnkpLmFuYWx5emVTZXNzaW9uQ29tcGF0aWJpbGl0eShcbiAgICAgICAgeyBzZXNzaW9uRm9ybWF0OiBbJ29ubGluZSddLCBzZXNzaW9uRHVyYXRpb246ICc2MCcsIHNlc3Npb25GcmVxdWVuY3k6ICd3ZWVrbHknIH0sXG4gICAgICAgIG1vY2tUaGVyYXBpc3QsXG4gICAgICApO1xuXG4gICAgICAvLyBWZXJpZnkgaXQncyBhIHdlaWdodGVkIGF2ZXJhZ2VcbiAgICAgIGNvbnN0IGV4cGVjdGVkT3ZlcmFsbCA9IE1hdGgucm91bmQoXG4gICAgICAgIHJlc3VsdC5mb3JtYXRNYXRjaCAqIDAuMyArXG4gICAgICAgIHJlc3VsdC5kdXJhdGlvbk1hdGNoICogMC4yICtcbiAgICAgICAgcmVzdWx0LmZyZXF1ZW5jeU1hdGNoICogMC4yICtcbiAgICAgICAgcmVzdWx0LnNjaGVkdWxpbmdDb21wYXRpYmlsaXR5ICogMC4zLFxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5vdmVyYWxsQ29tcGF0aWJpbGl0eSkudG9CZShleHBlY3RlZE92ZXJhbGwpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnYW5hbHl6ZUZvcm1hdENvbXBhdGliaWxpdHknLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBnaXZlIGhpZ2ggc2NvcmVzIGZvciBvbmxpbmUgZm9ybWF0IHdpdGggZXhwZXJpZW5jZWQgb25saW5lIHRoZXJhcGlzdCcsICgpID0+IHtcbiAgICAgIGNvbnN0IHNjb3JlID0gKHNlcnZpY2UgYXMgYW55KS5hbmFseXplRm9ybWF0Q29tcGF0aWJpbGl0eShcbiAgICAgICAgeyBzZXNzaW9uRm9ybWF0OiBbJ29ubGluZSddIH0sXG4gICAgICAgIG1vY2tUaGVyYXBpc3QsXG4gICAgICApO1xuXG4gICAgICBleHBlY3Qoc2NvcmUpLnRvQmVHcmVhdGVyVGhhbig4MCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGdpdmUgaGlnaCBzY29yZXMgZm9yIGluLXBlcnNvbiBmb3JtYXQnLCAoKSA9PiB7XG4gICAgICBjb25zdCBzY29yZSA9IChzZXJ2aWNlIGFzIGFueSkuYW5hbHl6ZUZvcm1hdENvbXBhdGliaWxpdHkoXG4gICAgICAgIHsgc2Vzc2lvbkZvcm1hdDogWydpbi1wZXJzb24nXSB9LFxuICAgICAgICBtb2NrVGhlcmFwaXN0LFxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHNjb3JlKS50b0JlR3JlYXRlclRoYW4oODApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBwZW5hbGl6ZSBvbmxpbmUgZm9ybWF0IHdpdGggdGhlcmFwaXN0IG5vdCBjb21mb3J0YWJsZSB3aXRoIHZpZGVvJywgKCkgPT4ge1xuICAgICAgY29uc3QgdW5jb21mb3J0YWJsZVRoZXJhcGlzdCA9IHtcbiAgICAgICAgLi4ubW9ja1RoZXJhcGlzdCxcbiAgICAgICAgY29tZm9ydGFibGVVc2luZ1ZpZGVvQ29uZmVyZW5jaW5nOiBmYWxzZSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHNjb3JlID0gKHNlcnZpY2UgYXMgYW55KS5hbmFseXplRm9ybWF0Q29tcGF0aWJpbGl0eShcbiAgICAgICAgeyBzZXNzaW9uRm9ybWF0OiBbJ29ubGluZSddIH0sXG4gICAgICAgIHVuY29tZm9ydGFibGVUaGVyYXBpc3QsXG4gICAgICApO1xuXG4gICAgICBleHBlY3Qoc2NvcmUpLnRvQmVMZXNzVGhhbig2MCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBub24tYXJyYXkgc2Vzc2lvbiBmb3JtYXQnLCAoKSA9PiB7XG4gICAgICBjb25zdCBzY29yZSA9IChzZXJ2aWNlIGFzIGFueSkuYW5hbHl6ZUZvcm1hdENvbXBhdGliaWxpdHkoXG4gICAgICAgIHsgc2Vzc2lvbkZvcm1hdDogJ29ubGluZScgfSxcbiAgICAgICAgbW9ja1RoZXJhcGlzdCxcbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChzY29yZSkudG9CZSg3MCk7IC8vIERlZmF1bHQgbmV1dHJhbCBzY29yZVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbWlzc2luZyBzZXNzaW9uIGZvcm1hdCBwcmVmZXJlbmNlJywgKCkgPT4ge1xuICAgICAgY29uc3Qgc2NvcmUgPSAoc2VydmljZSBhcyBhbnkpLmFuYWx5emVGb3JtYXRDb21wYXRpYmlsaXR5KFxuICAgICAgICB7fSxcbiAgICAgICAgbW9ja1RoZXJhcGlzdCxcbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChzY29yZSkudG9CZUdyZWF0ZXJUaGFuKDgwKTsgLy8gRGVmYXVsdCBwcmVmZXJlbmNlIGluY2x1ZGVzIGJvdGggZm9ybWF0c1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnYW5hbHl6ZUR1cmF0aW9uQ29tcGF0aWJpbGl0eScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGdpdmUgaGlnaCBzY29yZXMgZm9yIG1hdGNoaW5nIGR1cmF0aW9uJywgKCkgPT4ge1xuICAgICAgY29uc3Qgc2NvcmUgPSAoc2VydmljZSBhcyBhbnkpLmFuYWx5emVEdXJhdGlvbkNvbXBhdGliaWxpdHkoXG4gICAgICAgIHsgc2Vzc2lvbkR1cmF0aW9uOiAnNjAnIH0sXG4gICAgICAgIG1vY2tUaGVyYXBpc3QsXG4gICAgICApO1xuXG4gICAgICBleHBlY3Qoc2NvcmUpLnRvQmUoOTApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBnaXZlIG5ldXRyYWwgc2NvcmUgZm9yIG1pc3NpbmcgZHVyYXRpb24gcHJlZmVyZW5jZScsICgpID0+IHtcbiAgICAgIGNvbnN0IHNjb3JlID0gKHNlcnZpY2UgYXMgYW55KS5hbmFseXplRHVyYXRpb25Db21wYXRpYmlsaXR5KFxuICAgICAgICB7fSxcbiAgICAgICAgbW9ja1RoZXJhcGlzdCxcbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChzY29yZSkudG9CZSg4MCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGdpdmUgbG93ZXIgc2NvcmUgZm9yIG5vbi1tYXRjaGluZyBkdXJhdGlvbicsICgpID0+IHtcbiAgICAgIGNvbnN0IHNjb3JlID0gKHNlcnZpY2UgYXMgYW55KS5hbmFseXplRHVyYXRpb25Db21wYXRpYmlsaXR5KFxuICAgICAgICB7IHNlc3Npb25EdXJhdGlvbjogJzkwJyB9LFxuICAgICAgICBtb2NrVGhlcmFwaXN0LFxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHNjb3JlKS50b0JlKDYwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGNsb3NlIGR1cmF0aW9uIG1hdGNoZXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCB0aGVyYXBpc3RXaXRoRmxleGlibGVEdXJhdGlvbiA9IHtcbiAgICAgICAgLi4ubW9ja1RoZXJhcGlzdCxcbiAgICAgICAgcHJlZmVycmVkU2Vzc2lvbkxlbmd0aDogWzQ1LCA1MCwgNTVdLFxuICAgICAgfTtcblxuICAgICAgY29uc3Qgc2NvcmUgPSAoc2VydmljZSBhcyBhbnkpLmFuYWx5emVEdXJhdGlvbkNvbXBhdGliaWxpdHkoXG4gICAgICAgIHsgc2Vzc2lvbkR1cmF0aW9uOiAnNTAnIH0sXG4gICAgICAgIHRoZXJhcGlzdFdpdGhGbGV4aWJsZUR1cmF0aW9uLFxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHNjb3JlKS50b0JlKDkwKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2FuYWx5emVGcmVxdWVuY3lDb21wYXRpYmlsaXR5JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZ2l2ZSBuZXV0cmFsIHNjb3JlIGZvciBhbnkgZnJlcXVlbmN5IHByZWZlcmVuY2UnLCAoKSA9PiB7XG4gICAgICBjb25zdCBzY29yZSA9IChzZXJ2aWNlIGFzIGFueSkuYW5hbHl6ZUZyZXF1ZW5jeUNvbXBhdGliaWxpdHkoXG4gICAgICAgIHsgc2Vzc2lvbkZyZXF1ZW5jeTogJ3dlZWtseScgfSxcbiAgICAgICAgbW9ja1RoZXJhcGlzdCxcbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChzY29yZSkudG9CZSg4NSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGdpdmUgbmV1dHJhbCBzY29yZSBmb3IgbWlzc2luZyBmcmVxdWVuY3kgcHJlZmVyZW5jZScsICgpID0+IHtcbiAgICAgIGNvbnN0IHNjb3JlID0gKHNlcnZpY2UgYXMgYW55KS5hbmFseXplRnJlcXVlbmN5Q29tcGF0aWJpbGl0eShcbiAgICAgICAge30sXG4gICAgICAgIG1vY2tUaGVyYXBpc3QsXG4gICAgICApO1xuXG4gICAgICBleHBlY3Qoc2NvcmUpLnRvQmUoODApO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnYW5hbHl6ZURlbW9ncmFwaGljQ29tcGF0aWJpbGl0eScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGFuYWx5emUgZGVtb2dyYXBoaWMgY29tcGF0aWJpbGl0eSBjb21wcmVoZW5zaXZlbHknLCAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSAoc2VydmljZSBhcyBhbnkpLmFuYWx5emVEZW1vZ3JhcGhpY0NvbXBhdGliaWxpdHkoXG4gICAgICAgIG1vY2tDbGllbnQsXG4gICAgICAgIHsgdGhlcmFwaXN0R2VuZGVyOiAnRmVtYWxlJywgdGhlcmFwaXN0QWdlOiAnMzAtNDAnLCBwcmVmZXJyZWRMYW5ndWFnZXM6IFsnRW5nbGlzaCddIH0sXG4gICAgICAgIG1vY2tUaGVyYXBpc3QsXG4gICAgICApO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKHtcbiAgICAgICAgYWdlQ29tcGF0aWJpbGl0eTogZXhwZWN0LmFueShOdW1iZXIpLFxuICAgICAgICBnZW5kZXJDb21wYXRpYmlsaXR5OiBleHBlY3QuYW55KE51bWJlciksXG4gICAgICAgIGxhbmd1YWdlQ29tcGF0aWJpbGl0eTogZXhwZWN0LmFueShOdW1iZXIpLFxuICAgICAgICBjdWx0dXJhbENvbXBhdGliaWxpdHk6IGV4cGVjdC5hbnkoTnVtYmVyKSxcbiAgICAgICAgb3ZlcmFsbENvbXBhdGliaWxpdHk6IGV4cGVjdC5hbnkoTnVtYmVyKSxcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QocmVzdWx0Lm92ZXJhbGxDb21wYXRpYmlsaXR5KS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgICBleHBlY3QocmVzdWx0Lm92ZXJhbGxDb21wYXRpYmlsaXR5KS50b0JlTGVzc1RoYW5PckVxdWFsKDEwMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGNhbGN1bGF0ZSB3ZWlnaHRlZCBvdmVyYWxsIGNvbXBhdGliaWxpdHknLCAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSAoc2VydmljZSBhcyBhbnkpLmFuYWx5emVEZW1vZ3JhcGhpY0NvbXBhdGliaWxpdHkoXG4gICAgICAgIG1vY2tDbGllbnQsXG4gICAgICAgIHsgcHJlZmVycmVkTGFuZ3VhZ2VzOiBbJ0VuZ2xpc2gnXSB9LFxuICAgICAgICBtb2NrVGhlcmFwaXN0LFxuICAgICAgKTtcblxuICAgICAgLy8gVmVyaWZ5IGl0J3MgYSB3ZWlnaHRlZCBhdmVyYWdlXG4gICAgICBjb25zdCBleHBlY3RlZE92ZXJhbGwgPSBNYXRoLnJvdW5kKFxuICAgICAgICByZXN1bHQuYWdlQ29tcGF0aWJpbGl0eSAqIDAuMiArXG4gICAgICAgIHJlc3VsdC5nZW5kZXJDb21wYXRpYmlsaXR5ICogMC4zICtcbiAgICAgICAgcmVzdWx0Lmxhbmd1YWdlQ29tcGF0aWJpbGl0eSAqIDAuMyArXG4gICAgICAgIHJlc3VsdC5jdWx0dXJhbENvbXBhdGliaWxpdHkgKiAwLjIsXG4gICAgICApO1xuXG4gICAgICBleHBlY3QocmVzdWx0Lm92ZXJhbGxDb21wYXRpYmlsaXR5KS50b0JlKGV4cGVjdGVkT3ZlcmFsbCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdhbmFseXplQWdlQ29tcGF0aWJpbGl0eScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGdpdmUgaGlnaCBzY29yZXMgZm9yIG5vIGFnZSBwcmVmZXJlbmNlJywgKCkgPT4ge1xuICAgICAgY29uc3Qgc2NvcmUgPSAoc2VydmljZSBhcyBhbnkpLmFuYWx5emVBZ2VDb21wYXRpYmlsaXR5KFxuICAgICAgICBtb2NrQ2xpZW50LFxuICAgICAgICB7IHRoZXJhcGlzdEFnZTogJ2FueScgfSxcbiAgICAgICAgbW9ja1RoZXJhcGlzdCxcbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChzY29yZSkudG9CZSg5MCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGdpdmUgbmV1dHJhbCBzY29yZSBmb3Igc3BlY2lmaWMgYWdlIHByZWZlcmVuY2UnLCAoKSA9PiB7XG4gICAgICBjb25zdCBzY29yZSA9IChzZXJ2aWNlIGFzIGFueSkuYW5hbHl6ZUFnZUNvbXBhdGliaWxpdHkoXG4gICAgICAgIG1vY2tDbGllbnQsXG4gICAgICAgIHsgdGhlcmFwaXN0QWdlOiAnMzAtNDAnIH0sXG4gICAgICAgIG1vY2tUaGVyYXBpc3QsXG4gICAgICApO1xuXG4gICAgICBleHBlY3Qoc2NvcmUpLnRvQmUoNzUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBnaXZlIGhpZ2ggc2NvcmUgZm9yIG1pc3NpbmcgYWdlIHByZWZlcmVuY2UnLCAoKSA9PiB7XG4gICAgICBjb25zdCBzY29yZSA9IChzZXJ2aWNlIGFzIGFueSkuYW5hbHl6ZUFnZUNvbXBhdGliaWxpdHkoXG4gICAgICAgIG1vY2tDbGllbnQsXG4gICAgICAgIHt9LFxuICAgICAgICBtb2NrVGhlcmFwaXN0LFxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHNjb3JlKS50b0JlKDkwKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2FuYWx5emVHZW5kZXJDb21wYXRpYmlsaXR5JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZ2l2ZSBoaWdoIHNjb3JlcyBmb3Igbm8gZ2VuZGVyIHByZWZlcmVuY2UnLCAoKSA9PiB7XG4gICAgICBjb25zdCBzY29yZSA9IChzZXJ2aWNlIGFzIGFueSkuYW5hbHl6ZUdlbmRlckNvbXBhdGliaWxpdHkoXG4gICAgICAgIHsgdGhlcmFwaXN0R2VuZGVyOiAnYW55JyB9LFxuICAgICAgICBtb2NrVGhlcmFwaXN0LFxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHNjb3JlKS50b0JlKDkwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZ2l2ZSBuZXV0cmFsIHNjb3JlIGZvciBzcGVjaWZpYyBnZW5kZXIgcHJlZmVyZW5jZScsICgpID0+IHtcbiAgICAgIGNvbnN0IHNjb3JlID0gKHNlcnZpY2UgYXMgYW55KS5hbmFseXplR2VuZGVyQ29tcGF0aWJpbGl0eShcbiAgICAgICAgeyB0aGVyYXBpc3RHZW5kZXI6ICdGZW1hbGUnIH0sXG4gICAgICAgIG1vY2tUaGVyYXBpc3QsXG4gICAgICApO1xuXG4gICAgICBleHBlY3Qoc2NvcmUpLnRvQmUoNzUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBnaXZlIGhpZ2ggc2NvcmUgZm9yIG1pc3NpbmcgZ2VuZGVyIHByZWZlcmVuY2UnLCAoKSA9PiB7XG4gICAgICBjb25zdCBzY29yZSA9IChzZXJ2aWNlIGFzIGFueSkuYW5hbHl6ZUdlbmRlckNvbXBhdGliaWxpdHkoXG4gICAgICAgIHt9LFxuICAgICAgICBtb2NrVGhlcmFwaXN0LFxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHNjb3JlKS50b0JlKDkwKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2FuYWx5emVMYW5ndWFnZUNvbXBhdGliaWxpdHknLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBnaXZlIGhpZ2ggc2NvcmVzIGZvciBwZXJmZWN0IGxhbmd1YWdlIG1hdGNoJywgKCkgPT4ge1xuICAgICAgY29uc3Qgc2NvcmUgPSAoc2VydmljZSBhcyBhbnkpLmFuYWx5emVMYW5ndWFnZUNvbXBhdGliaWxpdHkoXG4gICAgICAgIHsgcHJlZmVycmVkTGFuZ3VhZ2VzOiBbJ0VuZ2xpc2gnXSB9LFxuICAgICAgICBtb2NrVGhlcmFwaXN0LFxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHNjb3JlKS50b0JlKDEwMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGdpdmUgcGFydGlhbCBzY29yZXMgZm9yIHBhcnRpYWwgbGFuZ3VhZ2UgbWF0Y2gnLCAoKSA9PiB7XG4gICAgICBjb25zdCBzY29yZSA9IChzZXJ2aWNlIGFzIGFueSkuYW5hbHl6ZUxhbmd1YWdlQ29tcGF0aWJpbGl0eShcbiAgICAgICAgeyBwcmVmZXJyZWRMYW5ndWFnZXM6IFsnRW5nbGlzaCcsICdTcGFuaXNoJ10gfSxcbiAgICAgICAgbW9ja1RoZXJhcGlzdCxcbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChzY29yZSkudG9CZSg2MCk7IC8vIDUwJSBtYXRjaFxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBnaXZlIHBvb3Igc2NvcmVzIGZvciBubyBsYW5ndWFnZSBtYXRjaCcsICgpID0+IHtcbiAgICAgIGNvbnN0IG5vTGFuZ3VhZ2VNYXRjaFRoZXJhcGlzdCA9IHtcbiAgICAgICAgLi4ubW9ja1RoZXJhcGlzdCxcbiAgICAgICAgbGFuZ3VhZ2VzT2ZmZXJlZDogWydTcGFuaXNoJ10sXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBzY29yZSA9IChzZXJ2aWNlIGFzIGFueSkuYW5hbHl6ZUxhbmd1YWdlQ29tcGF0aWJpbGl0eShcbiAgICAgICAgeyBwcmVmZXJyZWRMYW5ndWFnZXM6IFsnRW5nbGlzaCddIH0sXG4gICAgICAgIG5vTGFuZ3VhZ2VNYXRjaFRoZXJhcGlzdCxcbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChzY29yZSkudG9CZSgyMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBtaXNzaW5nIGxhbmd1YWdlIHByZWZlcmVuY2VzJywgKCkgPT4ge1xuICAgICAgY29uc3Qgc2NvcmUgPSAoc2VydmljZSBhcyBhbnkpLmFuYWx5emVMYW5ndWFnZUNvbXBhdGliaWxpdHkoXG4gICAgICAgIHt9LFxuICAgICAgICBtb2NrVGhlcmFwaXN0LFxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHNjb3JlKS50b0JlKDEwMCk7IC8vIERlZmF1bHQgdG8gRW5nbGlzaCBtYXRjaFxuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnY2FsY3VsYXRlT3ZlcmFsbENvbXBhdGliaWxpdHknLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBjYWxjdWxhdGUgd2VpZ2h0ZWQgb3ZlcmFsbCBjb21wYXRpYmlsaXR5IHNjb3JlJywgKCkgPT4ge1xuICAgICAgY29uc3QgcGVyc29uYWxpdHk6IFBlcnNvbmFsaXR5Q29tcGF0aWJpbGl0eSA9IHtcbiAgICAgICAgY29tbXVuaWNhdGlvblN0eWxlOiA4MCxcbiAgICAgICAgcGVyc29uYWxpdHlNYXRjaDogODUsXG4gICAgICAgIGN1bHR1cmFsQ29tcGF0aWJpbGl0eTogOTAsXG4gICAgICAgIG92ZXJhbGxDb21wYXRpYmlsaXR5OiA4NSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHNlc3Npb246IFNlc3Npb25Db21wYXRpYmlsaXR5ID0ge1xuICAgICAgICBmb3JtYXRNYXRjaDogOTAsXG4gICAgICAgIGR1cmF0aW9uTWF0Y2g6IDg1LFxuICAgICAgICBmcmVxdWVuY3lNYXRjaDogODAsXG4gICAgICAgIHNjaGVkdWxpbmdDb21wYXRpYmlsaXR5OiA4MCxcbiAgICAgICAgb3ZlcmFsbENvbXBhdGliaWxpdHk6IDg1LFxuICAgICAgfTtcblxuICAgICAgY29uc3QgZGVtb2dyYXBoaWM6IERlbW9ncmFwaGljQ29tcGF0aWJpbGl0eSA9IHtcbiAgICAgICAgYWdlQ29tcGF0aWJpbGl0eTogNzUsXG4gICAgICAgIGdlbmRlckNvbXBhdGliaWxpdHk6IDgwLFxuICAgICAgICBsYW5ndWFnZUNvbXBhdGliaWxpdHk6IDk1LFxuICAgICAgICBjdWx0dXJhbENvbXBhdGliaWxpdHk6IDg1LFxuICAgICAgICBvdmVyYWxsQ29tcGF0aWJpbGl0eTogODUsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXN1bHQgPSAoc2VydmljZSBhcyBhbnkpLmNhbGN1bGF0ZU92ZXJhbGxDb21wYXRpYmlsaXR5KFxuICAgICAgICBwZXJzb25hbGl0eSxcbiAgICAgICAgc2Vzc2lvbixcbiAgICAgICAgZGVtb2dyYXBoaWMsXG4gICAgICApO1xuXG4gICAgICBjb25zdCBleHBlY3RlZFNjb3JlID0gTWF0aC5yb3VuZChcbiAgICAgICAgcGVyc29uYWxpdHkub3ZlcmFsbENvbXBhdGliaWxpdHkgKiAwLjQgK1xuICAgICAgICBzZXNzaW9uLm92ZXJhbGxDb21wYXRpYmlsaXR5ICogMC4zICtcbiAgICAgICAgZGVtb2dyYXBoaWMub3ZlcmFsbENvbXBhdGliaWxpdHkgKiAwLjMsXG4gICAgICApO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlKGV4cGVjdGVkU2NvcmUpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnZ2VuZXJhdGVDb21wYXRpYmlsaXR5RmFjdG9ycycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGdlbmVyYXRlIGNvbXByZWhlbnNpdmUgY29tcGF0aWJpbGl0eSBmYWN0b3JzJywgKCkgPT4ge1xuICAgICAgY29uc3QgcGVyc29uYWxpdHk6IFBlcnNvbmFsaXR5Q29tcGF0aWJpbGl0eSA9IHtcbiAgICAgICAgY29tbXVuaWNhdGlvblN0eWxlOiA4NSxcbiAgICAgICAgcGVyc29uYWxpdHlNYXRjaDogOTAsXG4gICAgICAgIGN1bHR1cmFsQ29tcGF0aWJpbGl0eTogODAsXG4gICAgICAgIG92ZXJhbGxDb21wYXRpYmlsaXR5OiA4NSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHNlc3Npb246IFNlc3Npb25Db21wYXRpYmlsaXR5ID0ge1xuICAgICAgICBmb3JtYXRNYXRjaDogOTAsXG4gICAgICAgIGR1cmF0aW9uTWF0Y2g6IDg1LFxuICAgICAgICBmcmVxdWVuY3lNYXRjaDogODAsXG4gICAgICAgIHNjaGVkdWxpbmdDb21wYXRpYmlsaXR5OiA4MCxcbiAgICAgICAgb3ZlcmFsbENvbXBhdGliaWxpdHk6IDg1LFxuICAgICAgfTtcblxuICAgICAgY29uc3QgZGVtb2dyYXBoaWM6IERlbW9ncmFwaGljQ29tcGF0aWJpbGl0eSA9IHtcbiAgICAgICAgYWdlQ29tcGF0aWJpbGl0eTogNzUsXG4gICAgICAgIGdlbmRlckNvbXBhdGliaWxpdHk6IDgwLFxuICAgICAgICBsYW5ndWFnZUNvbXBhdGliaWxpdHk6IDk1LFxuICAgICAgICBjdWx0dXJhbENvbXBhdGliaWxpdHk6IDg1LFxuICAgICAgICBvdmVyYWxsQ29tcGF0aWJpbGl0eTogODUsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXN1bHQgPSAoc2VydmljZSBhcyBhbnkpLmdlbmVyYXRlQ29tcGF0aWJpbGl0eUZhY3RvcnMoXG4gICAgICAgIHBlcnNvbmFsaXR5LFxuICAgICAgICBzZXNzaW9uLFxuICAgICAgICBkZW1vZ3JhcGhpYyxcbiAgICAgICAgeyBzZXNzaW9uRm9ybWF0OiBbJ29ubGluZSddIH0sXG4gICAgICAgIG1vY2tUaGVyYXBpc3QsXG4gICAgICApO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKHtcbiAgICAgICAgc3RyZW5ndGhzOiBleHBlY3QuYW55KEFycmF5KSxcbiAgICAgICAgY29uY2VybnM6IGV4cGVjdC5hbnkoQXJyYXkpLFxuICAgICAgICByZWNvbW1lbmRhdGlvbnM6IGV4cGVjdC5hbnkoQXJyYXkpLFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3RyZW5ndGhzKS50b0NvbnRhaW4oJ1N0cm9uZyBwZXJzb25hbGl0eSBjb21wYXRpYmlsaXR5Jyk7XG4gICAgICBleHBlY3QocmVzdWx0LnN0cmVuZ3RocykudG9Db250YWluKCdTZXNzaW9uIGZvcm1hdCBwcmVmZXJlbmNlcyBhbGlnbiB3ZWxsJyk7XG4gICAgICBleHBlY3QocmVzdWx0LnN0cmVuZ3RocykudG9Db250YWluKCdTaGFyZWQgbGFuZ3VhZ2UgcHJvZmljaWVuY3knKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaWRlbnRpZnkgY29uY2VybnMgZm9yIGxvdyBjb21wYXRpYmlsaXR5IHNjb3JlcycsICgpID0+IHtcbiAgICAgIGNvbnN0IGxvd0NvbXBhdGliaWxpdHk6IFBlcnNvbmFsaXR5Q29tcGF0aWJpbGl0eSA9IHtcbiAgICAgICAgY29tbXVuaWNhdGlvblN0eWxlOiA0NSxcbiAgICAgICAgcGVyc29uYWxpdHlNYXRjaDogNTAsXG4gICAgICAgIGN1bHR1cmFsQ29tcGF0aWJpbGl0eTogNDAsXG4gICAgICAgIG92ZXJhbGxDb21wYXRpYmlsaXR5OiA0NSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGxvd1Nlc3Npb246IFNlc3Npb25Db21wYXRpYmlsaXR5ID0ge1xuICAgICAgICBmb3JtYXRNYXRjaDogNDUsXG4gICAgICAgIGR1cmF0aW9uTWF0Y2g6IDUwLFxuICAgICAgICBmcmVxdWVuY3lNYXRjaDogNTUsXG4gICAgICAgIHNjaGVkdWxpbmdDb21wYXRpYmlsaXR5OiA1MCxcbiAgICAgICAgb3ZlcmFsbENvbXBhdGliaWxpdHk6IDUwLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgbG93RGVtb2dyYXBoaWM6IERlbW9ncmFwaGljQ29tcGF0aWJpbGl0eSA9IHtcbiAgICAgICAgYWdlQ29tcGF0aWJpbGl0eTogNTAsXG4gICAgICAgIGdlbmRlckNvbXBhdGliaWxpdHk6IDQ1LFxuICAgICAgICBsYW5ndWFnZUNvbXBhdGliaWxpdHk6IDQwLFxuICAgICAgICBjdWx0dXJhbENvbXBhdGliaWxpdHk6IDQ1LFxuICAgICAgICBvdmVyYWxsQ29tcGF0aWJpbGl0eTogNDUsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXN1bHQgPSAoc2VydmljZSBhcyBhbnkpLmdlbmVyYXRlQ29tcGF0aWJpbGl0eUZhY3RvcnMoXG4gICAgICAgIGxvd0NvbXBhdGliaWxpdHksXG4gICAgICAgIGxvd1Nlc3Npb24sXG4gICAgICAgIGxvd0RlbW9ncmFwaGljLFxuICAgICAgICB7IHNlc3Npb25Gb3JtYXQ6IFsnb25saW5lJ10gfSxcbiAgICAgICAgbW9ja1RoZXJhcGlzdCxcbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY29uY2VybnMpLnRvQ29udGFpbignQ29tbXVuaWNhdGlvbiBzdHlsZSBtYXkgbm90IGJlIGlkZWFsIG1hdGNoJyk7XG4gICAgICBleHBlY3QocmVzdWx0LmNvbmNlcm5zKS50b0NvbnRhaW4oJ1Nlc3Npb24gZm9ybWF0IHByZWZlcmVuY2VzIG1heSBjb25mbGljdCcpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5jb25jZXJucykudG9Db250YWluKCdMYW5ndWFnZSBiYXJyaWVycyBtYXkgYWZmZWN0IGNvbW11bmljYXRpb24nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcHJvdmlkZSByZWNvbW1lbmRhdGlvbnMgZm9yIGxvdyBjb21wYXRpYmlsaXR5IGFyZWFzJywgKCkgPT4ge1xuICAgICAgY29uc3QgbG93Q29tcGF0aWJpbGl0eTogUGVyc29uYWxpdHlDb21wYXRpYmlsaXR5ID0ge1xuICAgICAgICBjb21tdW5pY2F0aW9uU3R5bGU6IDUwLFxuICAgICAgICBwZXJzb25hbGl0eU1hdGNoOiA2MCxcbiAgICAgICAgY3VsdHVyYWxDb21wYXRpYmlsaXR5OiA1NSxcbiAgICAgICAgb3ZlcmFsbENvbXBhdGliaWxpdHk6IDU1LFxuICAgICAgfTtcblxuICAgICAgY29uc3QgbG93U2Vzc2lvbjogU2Vzc2lvbkNvbXBhdGliaWxpdHkgPSB7XG4gICAgICAgIGZvcm1hdE1hdGNoOiA1MCxcbiAgICAgICAgZHVyYXRpb25NYXRjaDogNjAsXG4gICAgICAgIGZyZXF1ZW5jeU1hdGNoOiA2NSxcbiAgICAgICAgc2NoZWR1bGluZ0NvbXBhdGliaWxpdHk6IDYwLFxuICAgICAgICBvdmVyYWxsQ29tcGF0aWJpbGl0eTogNjAsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBsb3dEZW1vZ3JhcGhpYzogRGVtb2dyYXBoaWNDb21wYXRpYmlsaXR5ID0ge1xuICAgICAgICBhZ2VDb21wYXRpYmlsaXR5OiA2MCxcbiAgICAgICAgZ2VuZGVyQ29tcGF0aWJpbGl0eTogNTUsXG4gICAgICAgIGxhbmd1YWdlQ29tcGF0aWJpbGl0eTogNTAsXG4gICAgICAgIGN1bHR1cmFsQ29tcGF0aWJpbGl0eTogNTUsXG4gICAgICAgIG92ZXJhbGxDb21wYXRpYmlsaXR5OiA1NSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IChzZXJ2aWNlIGFzIGFueSkuZ2VuZXJhdGVDb21wYXRpYmlsaXR5RmFjdG9ycyhcbiAgICAgICAgbG93Q29tcGF0aWJpbGl0eSxcbiAgICAgICAgbG93U2Vzc2lvbixcbiAgICAgICAgbG93RGVtb2dyYXBoaWMsXG4gICAgICAgIHsgc2Vzc2lvbkZvcm1hdDogWydvbmxpbmUnXSB9LFxuICAgICAgICBtb2NrVGhlcmFwaXN0LFxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5yZWNvbW1lbmRhdGlvbnMpLnRvQ29udGFpbignQ29uc2lkZXIgZGlzY3Vzc2luZyBjb21tdW5pY2F0aW9uIHByZWZlcmVuY2VzIGluIGluaXRpYWwgc2Vzc2lvbicpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5yZWNvbW1lbmRhdGlvbnMpLnRvQ29udGFpbignRmxleGliaWxpdHkgaW4gc2Vzc2lvbiBmb3JtYXQgbWF5IGJlIGJlbmVmaWNpYWwnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQucmVjb21tZW5kYXRpb25zKS50b0NvbnRhaW4oJ0N1bHR1cmFsIHNlbnNpdGl2aXR5IGFuZCBhY2NvbW1vZGF0aW9uIG1heSBiZSBpbXBvcnRhbnQnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ3BhcnNlQ2xpZW50UHJlZmVyZW5jZXMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBwYXJzZSBKU09OIGFycmF5IHByZWZlcmVuY2VzIGNvcnJlY3RseScsICgpID0+IHtcbiAgICAgIGNvbnN0IHByZWZlcmVuY2VzID0gW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdwcmVmLTEnLFxuICAgICAgICAgIHVzZXJJZDogJ3VzZXItMTIzJyxcbiAgICAgICAgICBrZXk6ICdzZXNzaW9uRm9ybWF0JyxcbiAgICAgICAgICB2YWx1ZTogJ1tcIm9ubGluZVwiLCBcImluLXBlcnNvblwiXScsXG4gICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAncHJlZi0yJyxcbiAgICAgICAgICB1c2VySWQ6ICd1c2VyLTEyMycsXG4gICAgICAgICAga2V5OiAndGhlcmFwaXN0R2VuZGVyJyxcbiAgICAgICAgICB2YWx1ZTogJ0ZlbWFsZScsXG4gICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgfSxcbiAgICAgIF07XG5cbiAgICAgIGNvbnN0IHBhcnNlZCA9IChzZXJ2aWNlIGFzIGFueSkucGFyc2VDbGllbnRQcmVmZXJlbmNlcyhwcmVmZXJlbmNlcyk7XG5cbiAgICAgIGV4cGVjdChwYXJzZWQuc2Vzc2lvbkZvcm1hdCkudG9FcXVhbChbJ29ubGluZScsICdpbi1wZXJzb24nXSk7XG4gICAgICBleHBlY3QocGFyc2VkLnRoZXJhcGlzdEdlbmRlcikudG9CZSgnRmVtYWxlJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBtYWxmb3JtZWQgSlNPTiBncmFjZWZ1bGx5JywgKCkgPT4ge1xuICAgICAgY29uc3QgcHJlZmVyZW5jZXMgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJ3ByZWYtMScsXG4gICAgICAgICAgdXNlcklkOiAndXNlci0xMjMnLFxuICAgICAgICAgIGtleTogJ3Nlc3Npb25Gb3JtYXQnLFxuICAgICAgICAgIHZhbHVlOiAnaW52YWxpZC1qc29uWycsXG4gICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgfSxcbiAgICAgIF07XG5cbiAgICAgIGNvbnN0IHBhcnNlZCA9IChzZXJ2aWNlIGFzIGFueSkucGFyc2VDbGllbnRQcmVmZXJlbmNlcyhwcmVmZXJlbmNlcyk7XG5cbiAgICAgIGV4cGVjdChwYXJzZWQuc2Vzc2lvbkZvcm1hdCkudG9CZSgnaW52YWxpZC1qc29uWycpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbm9uLUpTT04gc3RyaW5nIHZhbHVlcycsICgpID0+IHtcbiAgICAgIGNvbnN0IHByZWZlcmVuY2VzID0gW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICdwcmVmLTEnLFxuICAgICAgICAgIHVzZXJJZDogJ3VzZXItMTIzJyxcbiAgICAgICAgICBrZXk6ICdzZXNzaW9uRHVyYXRpb24nLFxuICAgICAgICAgIHZhbHVlOiAnNjAnLFxuICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgIH0sXG4gICAgICBdO1xuXG4gICAgICBjb25zdCBwYXJzZWQgPSAoc2VydmljZSBhcyBhbnkpLnBhcnNlQ2xpZW50UHJlZmVyZW5jZXMocHJlZmVyZW5jZXMpO1xuXG4gICAgICBleHBlY3QocGFyc2VkLnNlc3Npb25EdXJhdGlvbikudG9CZSgnNjAnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2dldFNldmVyaXR5V2VpZ2h0JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIGNvcnJlY3Qgd2VpZ2h0cyBmb3IgYWxsIHNldmVyaXR5IGxldmVscycsICgpID0+IHtcbiAgICAgIGNvbnN0IHRlc3RDYXNlcyA9IFtcbiAgICAgICAgeyBzZXZlcml0eTogJ01pbmltYWwnLCBleHBlY3RlZDogMSB9LFxuICAgICAgICB7IHNldmVyaXR5OiAnTWlsZCcsIGV4cGVjdGVkOiAyIH0sXG4gICAgICAgIHsgc2V2ZXJpdHk6ICdNb2RlcmF0ZScsIGV4cGVjdGVkOiAzIH0sXG4gICAgICAgIHsgc2V2ZXJpdHk6ICdNb2RlcmF0ZWx5IFNldmVyZScsIGV4cGVjdGVkOiA0IH0sXG4gICAgICAgIHsgc2V2ZXJpdHk6ICdTZXZlcmUnLCBleHBlY3RlZDogNSB9LFxuICAgICAgICB7IHNldmVyaXR5OiAnVmVyeSBTZXZlcmUnLCBleHBlY3RlZDogNSB9LFxuICAgICAgICB7IHNldmVyaXR5OiAnRXh0cmVtZScsIGV4cGVjdGVkOiA1IH0sXG4gICAgICAgIHsgc2V2ZXJpdHk6ICdMb3cnLCBleHBlY3RlZDogMSB9LFxuICAgICAgICB7IHNldmVyaXR5OiAnSGlnaCcsIGV4cGVjdGVkOiA0IH0sXG4gICAgICAgIHsgc2V2ZXJpdHk6ICdTdWJzdGFudGlhbCcsIGV4cGVjdGVkOiA0IH0sXG4gICAgICAgIHsgc2V2ZXJpdHk6ICdTdWJjbGluaWNhbCcsIGV4cGVjdGVkOiAxIH0sXG4gICAgICAgIHsgc2V2ZXJpdHk6ICdDbGluaWNhbCcsIGV4cGVjdGVkOiA0IH0sXG4gICAgICAgIHsgc2V2ZXJpdHk6ICdTdWJ0aHJlc2hvbGQnLCBleHBlY3RlZDogMiB9LFxuICAgICAgICB7IHNldmVyaXR5OiAnUG9zaXRpdmUnLCBleHBlY3RlZDogNCB9LFxuICAgICAgICB7IHNldmVyaXR5OiAnTmVnYXRpdmUnLCBleHBlY3RlZDogMCB9LFxuICAgICAgICB7IHNldmVyaXR5OiAnTm9uZScsIGV4cGVjdGVkOiAwIH0sXG4gICAgICBdO1xuXG4gICAgICB0ZXN0Q2FzZXMuZm9yRWFjaCgoeyBzZXZlcml0eSwgZXhwZWN0ZWQgfSkgPT4ge1xuICAgICAgICBjb25zdCB3ZWlnaHQgPSAoc2VydmljZSBhcyBhbnkpLmdldFNldmVyaXR5V2VpZ2h0KHNldmVyaXR5KTtcbiAgICAgICAgZXhwZWN0KHdlaWdodCkudG9CZShleHBlY3RlZCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIGRlZmF1bHQgd2VpZ2h0IGZvciB1bmtub3duIHNldmVyaXR5JywgKCkgPT4ge1xuICAgICAgY29uc3Qgd2VpZ2h0ID0gKHNlcnZpY2UgYXMgYW55KS5nZXRTZXZlcml0eVdlaWdodCgnVW5rbm93bicpO1xuICAgICAgZXhwZWN0KHdlaWdodCkudG9CZSgxKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2ludGVncmF0aW9uIHRlc3RzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIGNvbXBsZXRlIGNvbXBhdGliaWxpdHkgYW5hbHlzaXMgd29ya2Zsb3cnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZXJ2aWNlLmFuYWx5emVDb21wYXRpYmlsaXR5KG1vY2tDbGllbnQsIG1vY2tUaGVyYXBpc3QpO1xuXG4gICAgICAvLyBWZXJpZnkgYWxsIGNvbXBvbmVudHMgYXJlIHByZXNlbnQgYW5kIHJlYXNvbmFibGVcbiAgICAgIGV4cGVjdChyZXN1bHQucGVyc29uYWxpdHlDb21wYXRpYmlsaXR5Lm92ZXJhbGxDb21wYXRpYmlsaXR5KS50b0JlR3JlYXRlclRoYW4oNTApO1xuICAgICAgZXhwZWN0KHJlc3VsdC5zZXNzaW9uQ29tcGF0aWJpbGl0eS5vdmVyYWxsQ29tcGF0aWJpbGl0eSkudG9CZUdyZWF0ZXJUaGFuKDUwKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZGVtb2dyYXBoaWNDb21wYXRpYmlsaXR5Lm92ZXJhbGxDb21wYXRpYmlsaXR5KS50b0JlR3JlYXRlclRoYW4oNTApO1xuICAgICAgZXhwZWN0KHJlc3VsdC5vdmVyYWxsQ29tcGF0aWJpbGl0eVNjb3JlKS50b0JlR3JlYXRlclRoYW4oNTApO1xuXG4gICAgICAvLyBWZXJpZnkgY29tcGF0aWJpbGl0eSBmYWN0b3JzIGFyZSBtZWFuaW5nZnVsXG4gICAgICBleHBlY3QocmVzdWx0LmNvbXBhdGliaWxpdHlGYWN0b3JzLnN0cmVuZ3Rocy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY29tcGF0aWJpbGl0eUZhY3RvcnMuY29uY2VybnMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApO1xuICAgICAgZXhwZWN0KHJlc3VsdC5jb21wYXRpYmlsaXR5RmFjdG9ycy5yZWNvbW1lbmRhdGlvbnMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBwcm9kdWNlIGRpZmZlcmVudCByZXN1bHRzIGZvciBkaWZmZXJlbnQgY2xpZW50LXRoZXJhcGlzdCBwYWlycycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGRpZmZlcmVudENsaWVudCA9IHtcbiAgICAgICAgLi4ubW9ja0NsaWVudCxcbiAgICAgICAgcHJlQXNzZXNzbWVudDoge1xuICAgICAgICAgIC4uLm1vY2tDbGllbnQucHJlQXNzZXNzbWVudCxcbiAgICAgICAgICBzZXZlcml0eUxldmVsczogeyAnZWF0aW5nX2Rpc29yZGVyJzogJ1NldmVyZScgfSxcbiAgICAgICAgfSxcbiAgICAgICAgY2xpZW50UHJlZmVyZW5jZXM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZDogJ3ByZWYtMScsXG4gICAgICAgICAgICB1c2VySWQ6ICd1c2VyLTEyMycsXG4gICAgICAgICAgICBrZXk6ICdjb21tdW5pY2F0aW9uU3R5bGUnLFxuICAgICAgICAgICAgdmFsdWU6ICdnZW50bGUnLFxuICAgICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBkaWZmZXJlbnRUaGVyYXBpc3QgPSB7XG4gICAgICAgIC4uLm1vY2tUaGVyYXBpc3QsXG4gICAgICAgIGFwcHJvYWNoZXM6IFsnUHN5Y2hvZHluYW1pYyBUaGVyYXB5J10sXG4gICAgICAgIGxhbmd1YWdlc09mZmVyZWQ6IFsnU3BhbmlzaCddLFxuICAgICAgICBwcm92aWRlZE9ubGluZVRoZXJhcHlCZWZvcmU6IGZhbHNlLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0MSA9IGF3YWl0IHNlcnZpY2UuYW5hbHl6ZUNvbXBhdGliaWxpdHkobW9ja0NsaWVudCwgbW9ja1RoZXJhcGlzdCk7XG4gICAgICBjb25zdCByZXN1bHQyID0gYXdhaXQgc2VydmljZS5hbmFseXplQ29tcGF0aWJpbGl0eShkaWZmZXJlbnRDbGllbnQsIGRpZmZlcmVudFRoZXJhcGlzdCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQxLm92ZXJhbGxDb21wYXRpYmlsaXR5U2NvcmUpLm5vdC50b0JlKHJlc3VsdDIub3ZlcmFsbENvbXBhdGliaWxpdHlTY29yZSk7XG4gICAgICBleHBlY3QocmVzdWx0MS5wZXJzb25hbGl0eUNvbXBhdGliaWxpdHkuY29tbXVuaWNhdGlvblN0eWxlKS5ub3QudG9CZShcbiAgICAgICAgcmVzdWx0Mi5wZXJzb25hbGl0eUNvbXBhdGliaWxpdHkuY29tbXVuaWNhdGlvblN0eWxlLFxuICAgICAgKTtcbiAgICB9KTtcbiAgfSk7XG59KTsiXSwidmVyc2lvbiI6M30=