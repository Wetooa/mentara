90f402a7c4f2b734c2661e2bd324ceb4
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const testing_1 = require("@nestjs/testing");
const prisma_client_provider_1 = require("../../providers/prisma-client.provider");
const database_test_setup_1 = require("../database-test.setup");
const enhanced_test_helpers_1 = require("../enhanced-test-helpers");
/**
 * Cross-Model Relationship Integration Tests
 *
 * Comprehensive testing of complex relationships across all 18 Prisma models
 * to ensure data integrity, referential consistency, and proper cascade behavior.
 */
describe('Cross-Model Relationships Integration', () => {
    let app;
    let prisma;
    let moduleRef;
    beforeAll(async () => {
        // Setup test database
        prisma = await database_test_setup_1.DatabaseTestSetup.setupTestDatabase();
        moduleRef = await testing_1.Test.createTestingModule({
            providers: [
                {
                    provide: prisma_client_provider_1.PrismaService,
                    useValue: prisma,
                },
            ],
        }).compile();
        app = moduleRef.createNestApplication();
        await app.init();
    });
    afterEach(async () => {
        // Clean database after each test
        await database_test_setup_1.DatabaseTestSetup.cleanupDatabase();
    });
    afterAll(async () => {
        await database_test_setup_1.DatabaseTestSetup.stopContainer();
        await app.close();
        await moduleRef.close();
    });
    describe('User â†’ Client â†’ Therapist Assignment Workflow', () => {
        it('should create complete user-client-therapist relationship chain', async () => {
            // 1. Create client user
            const clientUser = await prisma.user.create({
                data: {
                    id: 'client-user-123',
                    email: 'client@test.com',
                    firstName: 'Test',
                    lastName: 'Client',
                    role: 'client',
                    isActive: true,
                    emailVerified: true,
                },
            });
            // 2. Create client profile
            const client = await prisma.client.create({
                data: {
                    userId: clientUser.id,
                    hasSeenTherapistRecommendations: false,
                },
            });
            // 3. Create therapist user
            const therapistUser = await prisma.user.create({
                data: {
                    id: 'therapist-user-123',
                    email: 'therapist@test.com',
                    firstName: 'Dr. Test',
                    lastName: 'Therapist',
                    role: 'therapist',
                    isActive: true,
                    emailVerified: true,
                },
            });
            // 4. Create therapist profile
            const therapist = await prisma.therapist.create({
                data: {
                    userId: therapistUser.id,
                    mobile: '+1234567890',
                    province: 'Ontario',
                    providerType: 'Clinical Psychologist',
                    professionalLicenseType: 'Licensed',
                    isPRCLicensed: 'yes',
                    prcLicenseNumber: 'PRC123456',
                    practiceStartDate: new Date('2020-01-01'),
                    yearsOfExperience: 5,
                    areasOfExpertise: ['Anxiety', 'Depression'],
                    assessmentTools: ['PHQ-9', 'GAD-7'],
                    therapeuticApproachesUsedList: ['CBT', 'DBT'],
                    languagesOffered: ['English'],
                    providedOnlineTherapyBefore: true,
                    comfortableUsingVideoConferencing: true,
                    preferredSessionLength: [60],
                    acceptTypes: ['Individual'],
                    status: 'approved',
                    hourlyRate: 150,
                    expirationDateOfLicense: new Date('2025-01-01'),
                    compliesWithDataPrivacyAct: true,
                    willingToAbideByPlatformGuidelines: true,
                    treatmentSuccessRates: {},
                    sessionLength: '60 minutes',
                },
            });
            // 5. Create client-therapist assignment
            const assignment = await prisma.clientTherapist.create({
                data: {
                    clientId: client.userId,
                    therapistId: therapist.userId,
                    notes: 'Initial assignment for anxiety treatment',
                },
            });
            // 6. Verify complete relationship chain
            const completeRelationship = await prisma.user.findUnique({
                where: { id: clientUser.id },
                include: {
                    client: {
                        include: {
                            assignedTherapists: {
                                include: {
                                    therapist: {
                                        include: {
                                            user: true,
                                        },
                                    },
                                },
                            },
                        },
                    },
                },
            });
            // Assertions
            expect(completeRelationship).toBeTruthy();
            expect(completeRelationship?.client).toBeTruthy();
            expect(completeRelationship?.client?.assignedTherapists).toHaveLength(1);
            expect(completeRelationship?.client?.assignedTherapists[0].therapist.user.email).toBe('therapist@test.com');
            expect(assignment.notes).toBe('Initial assignment for anxiety treatment');
        });
        it('should handle cascade deletion properly', async () => {
            // Create test data
            const user = await prisma.user.create({
                data: enhanced_test_helpers_1.TestDataGenerator.createUser({ role: 'client' }),
            });
            const client = await prisma.client.create({
                data: {
                    userId: user.id,
                    hasSeenTherapistRecommendations: false,
                },
            });
            // Create client medical history
            const medicalHistory = await prisma.clientMedicalHistory.create({
                data: {
                    clientId: client.userId,
                    condition: 'Anxiety Disorder',
                    notes: 'Diagnosed in 2020',
                },
            });
            // Create client preferences
            const preference = await prisma.clientPreference.create({
                data: {
                    clientId: client.userId,
                    key: 'preferred_session_time',
                    value: 'morning',
                },
            });
            // Delete user - should cascade to client and related records
            await prisma.user.delete({
                where: { id: user.id },
            });
            // Verify cascade deletion
            const deletedClient = await prisma.client.findUnique({
                where: { userId: user.id },
            });
            const deletedHistory = await prisma.clientMedicalHistory.findUnique({
                where: { id: medicalHistory.id },
            });
            const deletedPreference = await prisma.clientPreference.findUnique({
                where: { id: preference.id },
            });
            expect(deletedClient).toBeNull();
            expect(deletedHistory).toBeNull();
            expect(deletedPreference).toBeNull();
        });
    });
    describe('Conversation â†’ Message â†’ Reactions Messaging Flow', () => {
        it('should create complete messaging workflow with reactions', async () => {
            // 1. Create participants
            const user1 = await prisma.user.create({
                data: enhanced_test_helpers_1.TestDataGenerator.createUser({
                    id: 'user-1',
                    email: 'user1@test.com',
                    firstName: 'Alice',
                }),
            });
            const user2 = await prisma.user.create({
                data: enhanced_test_helpers_1.TestDataGenerator.createUser({
                    id: 'user-2',
                    email: 'user2@test.com',
                    firstName: 'Bob',
                }),
            });
            // 2. Create conversation
            const conversation = await prisma.conversation.create({
                data: {
                    type: 'DIRECT',
                    isActive: true,
                },
            });
            // 3. Add participants
            await prisma.conversationParticipant.createMany({
                data: [
                    {
                        conversationId: conversation.id,
                        userId: user1.id,
                        role: 'MEMBER',
                    },
                    {
                        conversationId: conversation.id,
                        userId: user2.id,
                        role: 'MEMBER',
                    },
                ],
            });
            // 4. Create messages
            const message1 = await prisma.message.create({
                data: {
                    conversationId: conversation.id,
                    senderId: user1.id,
                    content: 'Hello, how are you today?',
                    messageType: 'TEXT',
                },
            });
            const message2 = await prisma.message.create({
                data: {
                    conversationId: conversation.id,
                    senderId: user2.id,
                    content: 'I am doing well, thank you!',
                    messageType: 'TEXT',
                    replyToId: message1.id,
                },
            });
            // 5. Add message reactions
            const reaction1 = await prisma.messageReaction.create({
                data: {
                    messageId: message1.id,
                    userId: user2.id,
                    emoji: 'ðŸ‘',
                },
            });
            const reaction2 = await prisma.messageReaction.create({
                data: {
                    messageId: message2.id,
                    userId: user1.id,
                    emoji: 'ðŸ˜Š',
                },
            });
            // 6. Add read receipts
            await prisma.messageReadReceipt.createMany({
                data: [
                    {
                        messageId: message1.id,
                        userId: user2.id,
                    },
                    {
                        messageId: message2.id,
                        userId: user1.id,
                    },
                ],
            });
            // 7. Update conversation last message time
            await prisma.conversation.update({
                where: { id: conversation.id },
                data: { lastMessageAt: new Date() },
            });
            // Verify complete messaging flow
            const completeConversation = await prisma.conversation.findUnique({
                where: { id: conversation.id },
                include: {
                    participants: {
                        include: {
                            user: true,
                        },
                    },
                    messages: {
                        include: {
                            reactions: {
                                include: {
                                    user: true,
                                },
                            },
                            readReceipts: {
                                include: {
                                    user: true,
                                },
                            },
                            replyTo: true,
                            replies: true,
                        },
                        orderBy: {
                            createdAt: 'asc',
                        },
                    },
                },
            });
            // Assertions
            expect(completeConversation).toBeTruthy();
            expect(completeConversation?.participants).toHaveLength(2);
            expect(completeConversation?.messages).toHaveLength(2);
            expect(completeConversation?.messages[0].reactions).toHaveLength(1);
            expect(completeConversation?.messages[1].reactions).toHaveLength(1);
            expect(completeConversation?.messages[0].readReceipts).toHaveLength(1);
            expect(completeConversation?.messages[1].readReceipts).toHaveLength(1);
            expect(completeConversation?.messages[1].replyToId).toBe(message1.id);
            expect(completeConversation?.lastMessageAt).toBeTruthy();
        });
        it('should handle user blocking in messaging workflow', async () => {
            // Create users
            const blocker = await prisma.user.create({
                data: enhanced_test_helpers_1.TestDataGenerator.createUser({
                    id: 'blocker-user',
                    email: 'blocker@test.com',
                }),
            });
            const blocked = await prisma.user.create({
                data: enhanced_test_helpers_1.TestDataGenerator.createUser({
                    id: 'blocked-user',
                    email: 'blocked@test.com',
                }),
            });
            // Create conversation and messages
            const conversation = await prisma.conversation.create({
                data: {
                    type: 'DIRECT',
                    participants: {
                        create: [
                            { userId: blocker.id, role: 'MEMBER' },
                            { userId: blocked.id, role: 'MEMBER' },
                        ],
                    },
                },
            });
            const message = await prisma.message.create({
                data: {
                    conversationId: conversation.id,
                    senderId: blocked.id,
                    content: 'Hello there!',
                    messageType: 'TEXT',
                },
            });
            // Block user
            const userBlock = await prisma.userBlock.create({
                data: {
                    blockerId: blocker.id,
                    blockedId: blocked.id,
                    reason: 'Inappropriate behavior',
                },
            });
            // Verify blocking relationship
            const blockingUser = await prisma.user.findUnique({
                where: { id: blocker.id },
                include: {
                    blocking: {
                        include: {
                            blocked: true,
                        },
                    },
                },
            });
            const blockedUser = await prisma.user.findUnique({
                where: { id: blocked.id },
                include: {
                    blockedBy: {
                        include: {
                            blocker: true,
                        },
                    },
                },
            });
            expect(blockingUser?.blocking).toHaveLength(1);
            expect(blockingUser?.blocking[0].blockedId).toBe(blocked.id);
            expect(blockedUser?.blockedBy).toHaveLength(1);
            expect(blockedUser?.blockedBy[0].blockerId).toBe(blocker.id);
            expect(userBlock.reason).toBe('Inappropriate behavior');
        });
    });
    describe('Meeting â†’ SessionLog â†’ Review Lifecycle', () => {
        it('should create complete session lifecycle with reviews', async () => {
            // Setup users
            const clientUser = await prisma.user.create({
                data: enhanced_test_helpers_1.TestDataGenerator.createUser({
                    id: 'session-client',
                    role: 'client',
                }),
            });
            const therapistUser = await prisma.user.create({
                data: enhanced_test_helpers_1.TestDataGenerator.createUser({
                    id: 'session-therapist',
                    role: 'therapist',
                }),
            });
            const client = await prisma.client.create({
                data: {
                    userId: clientUser.id,
                    hasSeenTherapistRecommendations: true,
                },
            });
            const therapist = await prisma.therapist.create({
                data: {
                    userId: therapistUser.id,
                    mobile: '+1234567890',
                    province: 'Ontario',
                    providerType: 'Clinical Psychologist',
                    professionalLicenseType: 'Licensed',
                    isPRCLicensed: 'yes',
                    prcLicenseNumber: 'PRC123456',
                    practiceStartDate: new Date('2020-01-01'),
                    yearsOfExperience: 5,
                    areasOfExpertise: ['Depression'],
                    assessmentTools: ['PHQ-9'],
                    therapeuticApproachesUsedList: ['CBT'],
                    languagesOffered: ['English'],
                    providedOnlineTherapyBefore: true,
                    comfortableUsingVideoConferencing: true,
                    preferredSessionLength: [60],
                    acceptTypes: ['Individual'],
                    status: 'approved',
                    hourlyRate: 150,
                    expirationDateOfLicense: new Date('2025-01-01'),
                    compliesWithDataPrivacyAct: true,
                    willingToAbideByPlatformGuidelines: true,
                    treatmentSuccessRates: {},
                    sessionLength: '60 minutes',
                },
            });
            // Create meeting
            const meeting = await prisma.meeting.create({
                data: {
                    clientId: client.userId,
                    therapistId: therapist.userId,
                    startTime: new Date('2024-12-01T10:00:00Z'),
                    duration: 60,
                    status: 'COMPLETED',
                    meetingType: 'video',
                    description: 'Initial therapy session',
                },
            });
            // Create session log
            const sessionLog = await prisma.sessionLog.create({
                data: {
                    clientId: client.userId,
                    meetingId: meeting.id,
                    sessionDate: new Date('2024-12-01T10:00:00Z'),
                    duration: 60,
                    sessionType: 'Individual',
                    notes: 'Client showed good progress with anxiety management techniques',
                    mood: 'positive',
                    progress: 'good',
                },
            });
            // Create review
            const review = await prisma.review.create({
                data: {
                    clientId: client.userId,
                    therapistId: therapist.userId,
                    rating: 5,
                    comment: 'Excellent therapist, very helpful and understanding',
                    isAnonymous: false,
                },
            });
            // Verify complete lifecycle
            const completeMeeting = await prisma.meeting.findUnique({
                where: { id: meeting.id },
                include: {
                    client: {
                        include: {
                            user: true,
                            sessionLogs: true,
                            reviews: true,
                        },
                    },
                    therapist: {
                        include: {
                            user: true,
                        },
                    },
                },
            });
            const sessionWithReview = await prisma.sessionLog.findUnique({
                where: { id: sessionLog.id },
                include: {
                    client: {
                        include: {
                            reviews: {
                                where: {
                                    therapistId: therapist.userId,
                                },
                            },
                        },
                    },
                },
            });
            // Assertions
            expect(completeMeeting).toBeTruthy();
            expect(completeMeeting?.status).toBe('COMPLETED');
            expect(completeMeeting?.client?.sessionLogs).toHaveLength(1);
            expect(completeMeeting?.client?.reviews).toHaveLength(1);
            expect(sessionWithReview?.notes).toContain('anxiety management');
            expect(sessionWithReview?.client?.reviews[0].rating).toBe(5);
        });
    });
    describe('User â†’ Notification â†’ AuditLog Activity Tracking', () => {
        it('should create complete activity tracking workflow', async () => {
            // Create user
            const user = await prisma.user.create({
                data: enhanced_test_helpers_1.TestDataGenerator.createUser({
                    id: 'activity-user',
                    email: 'activity@test.com',
                }),
            });
            // Create notification settings
            const notificationSettings = await prisma.notificationSettings.create({
                data: {
                    userId: user.id,
                    emailNotifications: true,
                    pushNotifications: true,
                    smsNotifications: false,
                    marketingEmails: false,
                },
            });
            // Create notification
            const notification = await prisma.notification.create({
                data: {
                    userId: user.id,
                    type: 'meeting_reminder',
                    title: 'Upcoming Therapy Session',
                    message: 'You have a therapy session scheduled in 1 hour',
                    isRead: false,
                    priority: 'high',
                },
            });
            // Create audit log
            const auditLog = await prisma.auditLog.create({
                data: {
                    userId: user.id,
                    action: 'USER_LOGIN',
                    entity: 'User',
                    entityId: user.id,
                    details: {
                        ip: '192.168.1.1',
                        userAgent: 'Mozilla/5.0...',
                        timestamp: new Date().toISOString(),
                    },
                    severity: 'INFO',
                },
            });
            // Create user activity
            const userActivity = await prisma.userActivity.create({
                data: {
                    userId: user.id,
                    activityType: 'page_view',
                    activityData: {
                        page: '/dashboard',
                        duration: 120,
                        interactions: ['button_click', 'scroll'],
                    },
                },
            });
            // Verify complete activity tracking
            const userWithActivities = await prisma.user.findUnique({
                where: { id: user.id },
                include: {
                    notificationSettings: true,
                    notifications: {
                        where: { isRead: false },
                    },
                    auditLogs: {
                        orderBy: { createdAt: 'desc' },
                    },
                    activities: {
                        orderBy: { createdAt: 'desc' },
                    },
                },
            });
            // Assertions
            expect(userWithActivities).toBeTruthy();
            expect(userWithActivities?.notificationSettings?.emailNotifications).toBe(true);
            expect(userWithActivities?.notifications).toHaveLength(1);
            expect(userWithActivities?.notifications[0].type).toBe('meeting_reminder');
            expect(userWithActivities?.auditLogs).toHaveLength(1);
            expect(userWithActivities?.auditLogs[0].action).toBe('USER_LOGIN');
            expect(userWithActivities?.activities).toHaveLength(1);
            expect(userWithActivities?.activities[0].activityType).toBe('page_view');
        });
    });
    describe('Community â†’ Post â†’ Comment â†’ Hearts Content Flow', () => {
        it('should create complete community content interaction flow', async () => {
            // Create users
            const author = await prisma.user.create({
                data: enhanced_test_helpers_1.TestDataGenerator.createUser({
                    id: 'content-author',
                    email: 'author@test.com',
                }),
            });
            const commenter = await prisma.user.create({
                data: enhanced_test_helpers_1.TestDataGenerator.createUser({
                    id: 'content-commenter',
                    email: 'commenter@test.com',
                }),
            });
            // Create community
            const community = await prisma.community.create({
                data: {
                    name: 'Anxiety Support',
                    description: 'A supportive community for anxiety management',
                    isPrivate: false,
                    memberLimit: 100,
                },
            });
            // Create room and room group
            const roomGroup = await prisma.roomGroup.create({
                data: {
                    communityId: community.id,
                    name: 'General Discussion',
                    description: 'General discussion topics',
                },
            });
            const room = await prisma.room.create({
                data: {
                    communityId: community.id,
                    roomGroupId: roomGroup.id,
                    name: 'Daily Check-ins',
                    description: 'Share your daily progress',
                    postingRole: 'MEMBER',
                },
            });
            // Create memberships
            await prisma.membership.createMany({
                data: [
                    {
                        userId: author.id,
                        communityId: community.id,
                        role: 'MEMBER',
                        status: 'ACTIVE',
                    },
                    {
                        userId: commenter.id,
                        communityId: community.id,
                        role: 'MEMBER',
                        status: 'ACTIVE',
                    },
                ],
            });
            // Create post
            const post = await prisma.post.create({
                data: {
                    authorId: author.id,
                    communityId: community.id,
                    roomId: room.id,
                    title: 'My anxiety journey',
                    content: 'Sharing my experience with anxiety management...',
                    type: 'TEXT',
                    isApproved: true,
                },
            });
            // Create comment
            const comment = await prisma.comment.create({
                data: {
                    authorId: commenter.id,
                    postId: post.id,
                    content: 'Thank you for sharing, this is very helpful!',
                    isApproved: true,
                },
            });
            // Create reply to comment
            const reply = await prisma.reply.create({
                data: {
                    authorId: author.id,
                    commentId: comment.id,
                    content: 'I appreciate your support!',
                    isApproved: true,
                },
            });
            // Add hearts
            const postHeart = await prisma.postHeart.create({
                data: {
                    userId: commenter.id,
                    postId: post.id,
                },
            });
            const commentHeart = await prisma.commentHeart.create({
                data: {
                    userId: author.id,
                    commentId: comment.id,
                },
            });
            const replyHeart = await prisma.replyHeart.create({
                data: {
                    userId: commenter.id,
                    replyId: reply.id,
                },
            });
            // Verify complete content flow
            const completePost = await prisma.post.findUnique({
                where: { id: post.id },
                include: {
                    author: true,
                    community: true,
                    room: {
                        include: {
                            roomGroup: true,
                        },
                    },
                    comments: {
                        include: {
                            author: true,
                            replies: {
                                include: {
                                    author: true,
                                    hearts: {
                                        include: {
                                            user: true,
                                        },
                                    },
                                },
                            },
                            hearts: {
                                include: {
                                    user: true,
                                },
                            },
                        },
                    },
                    hearts: {
                        include: {
                            user: true,
                        },
                    },
                },
            });
            // Assertions
            expect(completePost).toBeTruthy();
            expect(completePost?.hearts).toHaveLength(1);
            expect(completePost?.comments).toHaveLength(1);
            expect(completePost?.comments[0].hearts).toHaveLength(1);
            expect(completePost?.comments[0].replies).toHaveLength(1);
            expect(completePost?.comments[0].replies[0].hearts).toHaveLength(1);
            expect(completePost?.room?.roomGroup?.name).toBe('General Discussion');
        });
    });
    describe('Complex Transaction Scenarios', () => {
        it('should handle complex multi-model transaction rollback', async () => {
            const transactionTestFn = async () => {
                return await prisma.$transaction(async (tx) => {
                    // Create user
                    const user = await tx.user.create({
                        data: enhanced_test_helpers_1.TestDataGenerator.createUser({
                            email: 'transaction@test.com',
                        }),
                    });
                    // Create client
                    const client = await tx.client.create({
                        data: {
                            userId: user.id,
                            hasSeenTherapistRecommendations: false,
                        },
                    });
                    // Create notification settings
                    await tx.notificationSettings.create({
                        data: {
                            userId: user.id,
                            emailNotifications: true,
                            pushNotifications: true,
                        },
                    });
                    // Intentionally cause a constraint violation
                    await tx.user.create({
                        data: {
                            id: user.id, // Duplicate ID should cause error
                            email: 'duplicate@test.com',
                            firstName: 'Duplicate',
                            lastName: 'User',
                            role: 'client',
                        },
                    });
                    return { user, client };
                });
            };
            // Transaction should fail and rollback
            await expect(transactionTestFn()).rejects.toThrow();
            // Verify no data was committed
            const user = await prisma.user.findUnique({
                where: { email: 'transaction@test.com' },
            });
            const client = await prisma.client.findFirst({
                where: {
                    user: { email: 'transaction@test.com' },
                },
            });
            const settings = await prisma.notificationSettings.findFirst({
                where: {
                    user: { email: 'transaction@test.com' },
                },
            });
            expect(user).toBeNull();
            expect(client).toBeNull();
            expect(settings).toBeNull();
        });
        it('should handle concurrent user creation correctly', async () => {
            const concurrentUsers = Array.from({ length: 5 }, (_, i) => prisma.user.create({
                data: enhanced_test_helpers_1.TestDataGenerator.createUser({
                    email: `concurrent-${i}@test.com`,
                    firstName: `User${i}`,
                }),
            }));
            const results = await Promise.allSettled(concurrentUsers);
            const successful = results.filter(r => r.status === 'fulfilled').length;
            expect(successful).toBe(5); // All should succeed with unique emails
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvd2V0b29hL0RvY3VtZW50cy9jb2RlL3Byb2plY3RzL21lbnRhcmEvbWVudGFyYS1hcGkvc3JjL3Rlc3QtdXRpbHMvaW50ZWdyYXRpb24tdGVzdHMvY3Jvc3MtbW9kZWwtcmVsYXRpb25zaGlwcy5pbnRlZ3JhdGlvbi5zcGVjLnRzIiwibWFwcGluZ3MiOiI7O0FBQUEsNkNBQXNEO0FBRXRELG1GQUF1RTtBQUN2RSxnRUFBMkQ7QUFDM0Qsb0VBQTZEO0FBRTdEOzs7OztHQUtHO0FBQ0gsUUFBUSxDQUFDLHVDQUF1QyxFQUFFLEdBQUcsRUFBRTtJQUNyRCxJQUFJLEdBQXFCLENBQUM7SUFDMUIsSUFBSSxNQUFxQixDQUFDO0lBQzFCLElBQUksU0FBd0IsQ0FBQztJQUU3QixTQUFTLENBQUMsS0FBSyxJQUFJLEVBQUU7UUFDbkIsc0JBQXNCO1FBQ3RCLE1BQU0sR0FBRyxNQUFNLHVDQUFpQixDQUFDLGlCQUFpQixFQUFFLENBQUM7UUFFckQsU0FBUyxHQUFHLE1BQU0sY0FBSSxDQUFDLG1CQUFtQixDQUFDO1lBQ3pDLFNBQVMsRUFBRTtnQkFDVDtvQkFDRSxPQUFPLEVBQUUsc0NBQWE7b0JBQ3RCLFFBQVEsRUFBRSxNQUFNO2lCQUNqQjthQUNGO1NBQ0YsQ0FBQyxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBRWIsR0FBRyxHQUFHLFNBQVMsQ0FBQyxxQkFBcUIsRUFBRSxDQUFDO1FBQ3hDLE1BQU0sR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ25CLENBQUMsQ0FBQyxDQUFDO0lBRUgsU0FBUyxDQUFDLEtBQUssSUFBSSxFQUFFO1FBQ25CLGlDQUFpQztRQUNqQyxNQUFNLHVDQUFpQixDQUFDLGVBQWUsRUFBRSxDQUFDO0lBQzVDLENBQUMsQ0FBQyxDQUFDO0lBRUgsUUFBUSxDQUFDLEtBQUssSUFBSSxFQUFFO1FBQ2xCLE1BQU0sdUNBQWlCLENBQUMsYUFBYSxFQUFFLENBQUM7UUFDeEMsTUFBTSxHQUFHLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDbEIsTUFBTSxTQUFTLENBQUMs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QUMsZUFBZSxDQUFDLENBQUM7WUFDMUQsTUFBTSxVQUFVLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxNQUFNLEtBQUssV0FBVyxDQUFDLENBQUMsTUFBTSxDQUFDO1lBRXhFLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyx3Q0FBd0M7UUFDdEUsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9ob21lL3dldG9vYS9Eb2N1bWVudHMvY29kZS9wcm9qZWN0cy9tZW50YXJhL21lbnRhcmEtYXBpL3NyYy90ZXN0LXV0aWxzL2ludGVncmF0aW9uLXRlc3RzL2Nyb3NzLW1vZGVsLXJlbGF0aW9uc2hpcHMuaW50ZWdyYXRpb24uc3BlYy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUZXN0LCBUZXN0aW5nTW9kdWxlIH0gZnJvbSAnQG5lc3Rqcy90ZXN0aW5nJztcbmltcG9ydCB7IElOZXN0QXBwbGljYXRpb24gfSBmcm9tICdAbmVzdGpzL2NvbW1vbic7XG5pbXBvcnQgeyBQcmlzbWFTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vcHJvdmlkZXJzL3ByaXNtYS1jbGllbnQucHJvdmlkZXInO1xuaW1wb3J0IHsgRGF0YWJhc2VUZXN0U2V0dXAgfSBmcm9tICcuLi9kYXRhYmFzZS10ZXN0LnNldHVwJztcbmltcG9ydCB7IFRlc3REYXRhR2VuZXJhdG9yIH0gZnJvbSAnLi4vZW5oYW5jZWQtdGVzdC1oZWxwZXJzJztcblxuLyoqXG4gKiBDcm9zcy1Nb2RlbCBSZWxhdGlvbnNoaXAgSW50ZWdyYXRpb24gVGVzdHNcbiAqIFxuICogQ29tcHJlaGVuc2l2ZSB0ZXN0aW5nIG9mIGNvbXBsZXggcmVsYXRpb25zaGlwcyBhY3Jvc3MgYWxsIDE4IFByaXNtYSBtb2RlbHNcbiAqIHRvIGVuc3VyZSBkYXRhIGludGVncml0eSwgcmVmZXJlbnRpYWwgY29uc2lzdGVuY3ksIGFuZCBwcm9wZXIgY2FzY2FkZSBiZWhhdmlvci5cbiAqL1xuZGVzY3JpYmUoJ0Nyb3NzLU1vZGVsIFJlbGF0aW9uc2hpcHMgSW50ZWdyYXRpb24nLCAoKSA9PiB7XG4gIGxldCBhcHA6IElOZXN0QXBwbGljYXRpb247XG4gIGxldCBwcmlzbWE6IFByaXNtYVNlcnZpY2U7XG4gIGxldCBtb2R1bGVSZWY6IFRlc3RpbmdNb2R1bGU7XG5cbiAgYmVmb3JlQWxsKGFzeW5jICgpID0+IHtcbiAgICAvLyBTZXR1cCB0ZXN0IGRhdGFiYXNlXG4gICAgcHJpc21hID0gYXdhaXQgRGF0YWJhc2VUZXN0U2V0dXAuc2V0dXBUZXN0RGF0YWJhc2UoKTtcblxuICAgIG1vZHVsZVJlZiA9IGF3YWl0IFRlc3QuY3JlYXRlVGVzdGluZ01vZHVsZSh7XG4gICAgICBwcm92aWRlcnM6IFtcbiAgICAgICAge1xuICAgICAgICAgIHByb3ZpZGU6IFByaXNtYVNlcnZpY2UsXG4gICAgICAgICAgdXNlVmFsdWU6IHByaXNtYSxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfSkuY29tcGlsZSgpO1xuXG4gICAgYXBwID0gbW9kdWxlUmVmLmNyZWF0ZU5lc3RBcHBsaWNhdGlvbigpO1xuICAgIGF3YWl0IGFwcC5pbml0KCk7XG4gIH0pO1xuXG4gIGFmdGVyRWFjaChhc3luYyAoKSA9PiB7XG4gICAgLy8gQ2xlYW4gZGF0YWJhc2UgYWZ0ZXIgZWFjaCB0ZXN0XG4gICAgYXdhaXQgRGF0YWJhc2VUZXN0U2V0dXAuY2xlYW51cERhdGFiYXNlKCk7XG4gIH0pO1xuXG4gIGFmdGVyQWxsKGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCBEYXRhYmFzZVRlc3RTZXR1cC5zdG9wQ29udGFpbmVyKCk7XG4gICAgYXdhaXQgYXBwLmNsb3NlKCk7XG4gICAgYXdhaXQgbW9kdWxlUmVmLmNsb3NlKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdVc2VyIOKGkiBDbGllbnQg4oaSIFRoZXJhcGlzdCBBc3NpZ25tZW50IFdvcmtmbG93JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgY3JlYXRlIGNvbXBsZXRlIHVzZXItY2xpZW50LXRoZXJhcGlzdCByZWxhdGlvbnNoaXAgY2hhaW4nLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyAxLiBDcmVhdGUgY2xpZW50IHVzZXJcbiAgICAgIGNvbnN0IGNsaWVudFVzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgaWQ6ICdjbGllbnQtdXNlci0xMjMnLFxuICAgICAgICAgIGVtYWlsOiAnY2xpZW50QHRlc3QuY29tJyxcbiAgICAgICAgICBmaXJzdE5hbWU6ICdUZXN0JyxcbiAgICAgICAgICBsYXN0TmFtZTogJ0NsaWVudCcsXG4gICAgICAgICAgcm9sZTogJ2NsaWVudCcsXG4gICAgICAgICAgaXNBY3RpdmU6IHRydWUsXG4gICAgICAgICAgZW1haWxWZXJpZmllZDogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyAyLiBDcmVhdGUgY2xpZW50IHByb2ZpbGVcbiAgICAgIGNvbnN0IGNsaWVudCA9IGF3YWl0IHByaXNtYS5jbGllbnQuY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHVzZXJJZDogY2xpZW50VXNlci5pZCxcbiAgICAgICAgICBoYXNTZWVuVGhlcmFwaXN0UmVjb21tZW5kYXRpb25zOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyAzLiBDcmVhdGUgdGhlcmFwaXN0IHVzZXJcbiAgICAgIGNvbnN0IHRoZXJhcGlzdFVzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgaWQ6ICd0aGVyYXBpc3QtdXNlci0xMjMnLFxuICAgICAgICAgIGVtYWlsOiAndGhlcmFwaXN0QHRlc3QuY29tJyxcbiAgICAgICAgICBmaXJzdE5hbWU6ICdEci4gVGVzdCcsXG4gICAgICAgICAgbGFzdE5hbWU6ICdUaGVyYXBpc3QnLFxuICAgICAgICAgIHJvbGU6ICd0aGVyYXBpc3QnLFxuICAgICAgICAgIGlzQWN0aXZlOiB0cnVlLFxuICAgICAgICAgIGVtYWlsVmVyaWZpZWQ6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gNC4gQ3JlYXRlIHRoZXJhcGlzdCBwcm9maWxlXG4gICAgICBjb25zdCB0aGVyYXBpc3QgPSBhd2FpdCBwcmlzbWEudGhlcmFwaXN0LmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICB1c2VySWQ6IHRoZXJhcGlzdFVzZXIuaWQsXG4gICAgICAgICAgbW9iaWxlOiAnKzEyMzQ1Njc4OTAnLFxuICAgICAgICAgIHByb3ZpbmNlOiAnT250YXJpbycsXG4gICAgICAgICAgcHJvdmlkZXJUeXBlOiAnQ2xpbmljYWwgUHN5Y2hvbG9naXN0JyxcbiAgICAgICAgICBwcm9mZXNzaW9uYWxMaWNlbnNlVHlwZTogJ0xpY2Vuc2VkJyxcbiAgICAgICAgICBpc1BSQ0xpY2Vuc2VkOiAneWVzJyxcbiAgICAgICAgICBwcmNMaWNlbnNlTnVtYmVyOiAnUFJDMTIzNDU2JyxcbiAgICAgICAgICBwcmFjdGljZVN0YXJ0RGF0ZTogbmV3IERhdGUoJzIwMjAtMDEtMDEnKSxcbiAgICAgICAgICB5ZWFyc09mRXhwZXJpZW5jZTogNSxcbiAgICAgICAgICBhcmVhc09mRXhwZXJ0aXNlOiBbJ0FueGlldHknLCAnRGVwcmVzc2lvbiddLFxuICAgICAgICAgIGFzc2Vzc21lbnRUb29sczogWydQSFEtOScsICdHQUQtNyddLFxuICAgICAgICAgIHRoZXJhcGV1dGljQXBwcm9hY2hlc1VzZWRMaXN0OiBbJ0NCVCcsICdEQlQnXSxcbiAgICAgICAgICBsYW5ndWFnZXNPZmZlcmVkOiBbJ0VuZ2xpc2gnXSxcbiAgICAgICAgICBwcm92aWRlZE9ubGluZVRoZXJhcHlCZWZvcmU6IHRydWUsXG4gICAgICAgICAgY29tZm9ydGFibGVVc2luZ1ZpZGVvQ29uZmVyZW5jaW5nOiB0cnVlLFxuICAgICAgICAgIHByZWZlcnJlZFNlc3Npb25MZW5ndGg6IFs2MF0sXG4gICAgICAgICAgYWNjZXB0VHlwZXM6IFsnSW5kaXZpZHVhbCddLFxuICAgICAgICAgIHN0YXR1czogJ2FwcHJvdmVkJyxcbiAgICAgICAgICBob3VybHlSYXRlOiAxNTAsXG4gICAgICAgICAgZXhwaXJhdGlvbkRhdGVPZkxpY2Vuc2U6IG5ldyBEYXRlKCcyMDI1LTAxLTAxJyksXG4gICAgICAgICAgY29tcGxpZXNXaXRoRGF0YVByaXZhY3lBY3Q6IHRydWUsXG4gICAgICAgICAgd2lsbGluZ1RvQWJpZGVCeVBsYXRmb3JtR3VpZGVsaW5lczogdHJ1ZSxcbiAgICAgICAgICB0cmVhdG1lbnRTdWNjZXNzUmF0ZXM6IHt9LFxuICAgICAgICAgIHNlc3Npb25MZW5ndGg6ICc2MCBtaW51dGVzJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyA1LiBDcmVhdGUgY2xpZW50LXRoZXJhcGlzdCBhc3NpZ25tZW50XG4gICAgICBjb25zdCBhc3NpZ25tZW50ID0gYXdhaXQgcHJpc21hLmNsaWVudFRoZXJhcGlzdC5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgY2xpZW50SWQ6IGNsaWVudC51c2VySWQsXG4gICAgICAgICAgdGhlcmFwaXN0SWQ6IHRoZXJhcGlzdC51c2VySWQsXG4gICAgICAgICAgbm90ZXM6ICdJbml0aWFsIGFzc2lnbm1lbnQgZm9yIGFueGlldHkgdHJlYXRtZW50JyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyA2LiBWZXJpZnkgY29tcGxldGUgcmVsYXRpb25zaGlwIGNoYWluXG4gICAgICBjb25zdCBjb21wbGV0ZVJlbGF0aW9uc2hpcCA9IGF3YWl0IHByaXNtYS51c2VyLmZpbmRVbmlxdWUoe1xuICAgICAgICB3aGVyZTogeyBpZDogY2xpZW50VXNlci5pZCB9LFxuICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgY2xpZW50OiB7XG4gICAgICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgICAgIGFzc2lnbmVkVGhlcmFwaXN0czoge1xuICAgICAgICAgICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICAgICAgICAgIHRoZXJhcGlzdDoge1xuICAgICAgICAgICAgICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgdXNlcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBc3NlcnRpb25zXG4gICAgICBleHBlY3QoY29tcGxldGVSZWxhdGlvbnNoaXApLnRvQmVUcnV0aHkoKTtcbiAgICAgIGV4cGVjdChjb21wbGV0ZVJlbGF0aW9uc2hpcD8uY2xpZW50KS50b0JlVHJ1dGh5KCk7XG4gICAgICBleHBlY3QoY29tcGxldGVSZWxhdGlvbnNoaXA/LmNsaWVudD8uYXNzaWduZWRUaGVyYXBpc3RzKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICBleHBlY3QoY29tcGxldGVSZWxhdGlvbnNoaXA/LmNsaWVudD8uYXNzaWduZWRUaGVyYXBpc3RzWzBdLnRoZXJhcGlzdC51c2VyLmVtYWlsKS50b0JlKCd0aGVyYXBpc3RAdGVzdC5jb20nKTtcbiAgICAgIGV4cGVjdChhc3NpZ25tZW50Lm5vdGVzKS50b0JlKCdJbml0aWFsIGFzc2lnbm1lbnQgZm9yIGFueGlldHkgdHJlYXRtZW50Jyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBjYXNjYWRlIGRlbGV0aW9uIHByb3Blcmx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQ3JlYXRlIHRlc3QgZGF0YVxuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IHByaXNtYS51c2VyLmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IFRlc3REYXRhR2VuZXJhdG9yLmNyZWF0ZVVzZXIoeyByb2xlOiAnY2xpZW50JyB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBjbGllbnQgPSBhd2FpdCBwcmlzbWEuY2xpZW50LmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICB1c2VySWQ6IHVzZXIuaWQsXG4gICAgICAgICAgaGFzU2VlblRoZXJhcGlzdFJlY29tbWVuZGF0aW9uczogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gQ3JlYXRlIGNsaWVudCBtZWRpY2FsIGhpc3RvcnlcbiAgICAgIGNvbnN0IG1lZGljYWxIaXN0b3J5ID0gYXdhaXQgcHJpc21hLmNsaWVudE1lZGljYWxIaXN0b3J5LmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBjbGllbnRJZDogY2xpZW50LnVzZXJJZCxcbiAgICAgICAgICBjb25kaXRpb246ICdBbnhpZXR5IERpc29yZGVyJyxcbiAgICAgICAgICBub3RlczogJ0RpYWdub3NlZCBpbiAyMDIwJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBDcmVhdGUgY2xpZW50IHByZWZlcmVuY2VzXG4gICAgICBjb25zdCBwcmVmZXJlbmNlID0gYXdhaXQgcHJpc21hLmNsaWVudFByZWZlcmVuY2UuY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGNsaWVudElkOiBjbGllbnQudXNlcklkLFxuICAgICAgICAgIGtleTogJ3ByZWZlcnJlZF9zZXNzaW9uX3RpbWUnLFxuICAgICAgICAgIHZhbHVlOiAnbW9ybmluZycsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gRGVsZXRlIHVzZXIgLSBzaG91bGQgY2FzY2FkZSB0byBjbGllbnQgYW5kIHJlbGF0ZWQgcmVjb3Jkc1xuICAgICAgYXdhaXQgcHJpc21hLnVzZXIuZGVsZXRlKHtcbiAgICAgICAgd2hlcmU6IHsgaWQ6IHVzZXIuaWQgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBWZXJpZnkgY2FzY2FkZSBkZWxldGlvblxuICAgICAgY29uc3QgZGVsZXRlZENsaWVudCA9IGF3YWl0IHByaXNtYS5jbGllbnQuZmluZFVuaXF1ZSh7XG4gICAgICAgIHdoZXJlOiB7IHVzZXJJZDogdXNlci5pZCB9LFxuICAgICAgfSk7XG4gICAgICBjb25zdCBkZWxldGVkSGlzdG9yeSA9IGF3YWl0IHByaXNtYS5jbGllbnRNZWRpY2FsSGlzdG9yeS5maW5kVW5pcXVlKHtcbiAgICAgICAgd2hlcmU6IHsgaWQ6IG1lZGljYWxIaXN0b3J5LmlkIH0sXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IGRlbGV0ZWRQcmVmZXJlbmNlID0gYXdhaXQgcHJpc21hLmNsaWVudFByZWZlcmVuY2UuZmluZFVuaXF1ZSh7XG4gICAgICAgIHdoZXJlOiB7IGlkOiBwcmVmZXJlbmNlLmlkIH0sXG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KGRlbGV0ZWRDbGllbnQpLnRvQmVOdWxsKCk7XG4gICAgICBleHBlY3QoZGVsZXRlZEhpc3RvcnkpLnRvQmVOdWxsKCk7XG4gICAgICBleHBlY3QoZGVsZXRlZFByZWZlcmVuY2UpLnRvQmVOdWxsKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdDb252ZXJzYXRpb24g4oaSIE1lc3NhZ2Ug4oaSIFJlYWN0aW9ucyBNZXNzYWdpbmcgRmxvdycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGNyZWF0ZSBjb21wbGV0ZSBtZXNzYWdpbmcgd29ya2Zsb3cgd2l0aCByZWFjdGlvbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyAxLiBDcmVhdGUgcGFydGljaXBhbnRzXG4gICAgICBjb25zdCB1c2VyMSA9IGF3YWl0IHByaXNtYS51c2VyLmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IFRlc3REYXRhR2VuZXJhdG9yLmNyZWF0ZVVzZXIoe1xuICAgICAgICAgIGlkOiAndXNlci0xJyxcbiAgICAgICAgICBlbWFpbDogJ3VzZXIxQHRlc3QuY29tJyxcbiAgICAgICAgICBmaXJzdE5hbWU6ICdBbGljZScsXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHVzZXIyID0gYXdhaXQgcHJpc21hLnVzZXIuY3JlYXRlKHtcbiAgICAgICAgZGF0YTogVGVzdERhdGFHZW5lcmF0b3IuY3JlYXRlVXNlcih7XG4gICAgICAgICAgaWQ6ICd1c2VyLTInLFxuICAgICAgICAgIGVtYWlsOiAndXNlcjJAdGVzdC5jb20nLFxuICAgICAgICAgIGZpcnN0TmFtZTogJ0JvYicsXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIDIuIENyZWF0ZSBjb252ZXJzYXRpb25cbiAgICAgIGNvbnN0IGNvbnZlcnNhdGlvbiA9IGF3YWl0IHByaXNtYS5jb252ZXJzYXRpb24uY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHR5cGU6ICdESVJFQ1QnLFxuICAgICAgICAgIGlzQWN0aXZlOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIDMuIEFkZCBwYXJ0aWNpcGFudHNcbiAgICAgIGF3YWl0IHByaXNtYS5jb252ZXJzYXRpb25QYXJ0aWNpcGFudC5jcmVhdGVNYW55KHtcbiAgICAgICAgZGF0YTogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNvbnZlcnNhdGlvbklkOiBjb252ZXJzYXRpb24uaWQsXG4gICAgICAgICAgICB1c2VySWQ6IHVzZXIxLmlkLFxuICAgICAgICAgICAgcm9sZTogJ01FTUJFUicsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjb252ZXJzYXRpb25JZDogY29udmVyc2F0aW9uLmlkLFxuICAgICAgICAgICAgdXNlcklkOiB1c2VyMi5pZCxcbiAgICAgICAgICAgIHJvbGU6ICdNRU1CRVInLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICB9KTtcblxuICAgICAgLy8gNC4gQ3JlYXRlIG1lc3NhZ2VzXG4gICAgICBjb25zdCBtZXNzYWdlMSA9IGF3YWl0IHByaXNtYS5tZXNzYWdlLmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBjb252ZXJzYXRpb25JZDogY29udmVyc2F0aW9uLmlkLFxuICAgICAgICAgIHNlbmRlcklkOiB1c2VyMS5pZCxcbiAgICAgICAgICBjb250ZW50OiAnSGVsbG8sIGhvdyBhcmUgeW91IHRvZGF5PycsXG4gICAgICAgICAgbWVzc2FnZVR5cGU6ICdURVhUJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBtZXNzYWdlMiA9IGF3YWl0IHByaXNtYS5tZXNzYWdlLmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBjb252ZXJzYXRpb25JZDogY29udmVyc2F0aW9uLmlkLFxuICAgICAgICAgIHNlbmRlcklkOiB1c2VyMi5pZCxcbiAgICAgICAgICBjb250ZW50OiAnSSBhbSBkb2luZyB3ZWxsLCB0aGFuayB5b3UhJyxcbiAgICAgICAgICBtZXNzYWdlVHlwZTogJ1RFWFQnLFxuICAgICAgICAgIHJlcGx5VG9JZDogbWVzc2FnZTEuaWQsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gNS4gQWRkIG1lc3NhZ2UgcmVhY3Rpb25zXG4gICAgICBjb25zdCByZWFjdGlvbjEgPSBhd2FpdCBwcmlzbWEubWVzc2FnZVJlYWN0aW9uLmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBtZXNzYWdlSWQ6IG1lc3NhZ2UxLmlkLFxuICAgICAgICAgIHVzZXJJZDogdXNlcjIuaWQsXG4gICAgICAgICAgZW1vamk6ICfwn5GNJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZWFjdGlvbjIgPSBhd2FpdCBwcmlzbWEubWVzc2FnZVJlYWN0aW9uLmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBtZXNzYWdlSWQ6IG1lc3NhZ2UyLmlkLFxuICAgICAgICAgIHVzZXJJZDogdXNlcjEuaWQsXG4gICAgICAgICAgZW1vamk6ICfwn5iKJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyA2LiBBZGQgcmVhZCByZWNlaXB0c1xuICAgICAgYXdhaXQgcHJpc21hLm1lc3NhZ2VSZWFkUmVjZWlwdC5jcmVhdGVNYW55KHtcbiAgICAgICAgZGF0YTogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIG1lc3NhZ2VJZDogbWVzc2FnZTEuaWQsXG4gICAgICAgICAgICB1c2VySWQ6IHVzZXIyLmlkLFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgbWVzc2FnZUlkOiBtZXNzYWdlMi5pZCxcbiAgICAgICAgICAgIHVzZXJJZDogdXNlcjEuaWQsXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyA3LiBVcGRhdGUgY29udmVyc2F0aW9uIGxhc3QgbWVzc2FnZSB0aW1lXG4gICAgICBhd2FpdCBwcmlzbWEuY29udmVyc2F0aW9uLnVwZGF0ZSh7XG4gICAgICAgIHdoZXJlOiB7IGlkOiBjb252ZXJzYXRpb24uaWQgfSxcbiAgICAgICAgZGF0YTogeyBsYXN0TWVzc2FnZUF0OiBuZXcgRGF0ZSgpIH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gVmVyaWZ5IGNvbXBsZXRlIG1lc3NhZ2luZyBmbG93XG4gICAgICBjb25zdCBjb21wbGV0ZUNvbnZlcnNhdGlvbiA9IGF3YWl0IHByaXNtYS5jb252ZXJzYXRpb24uZmluZFVuaXF1ZSh7XG4gICAgICAgIHdoZXJlOiB7IGlkOiBjb252ZXJzYXRpb24uaWQgfSxcbiAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgIHBhcnRpY2lwYW50czoge1xuICAgICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgICB1c2VyOiB0cnVlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIG1lc3NhZ2VzOiB7XG4gICAgICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgICAgIHJlYWN0aW9uczoge1xuICAgICAgICAgICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICAgICAgICAgIHVzZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgcmVhZFJlY2VpcHRzOiB7XG4gICAgICAgICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgICAgICAgdXNlcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICByZXBseVRvOiB0cnVlLFxuICAgICAgICAgICAgICByZXBsaWVzOiB0cnVlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9yZGVyQnk6IHtcbiAgICAgICAgICAgICAgY3JlYXRlZEF0OiAnYXNjJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBc3NlcnRpb25zXG4gICAgICBleHBlY3QoY29tcGxldGVDb252ZXJzYXRpb24pLnRvQmVUcnV0aHkoKTtcbiAgICAgIGV4cGVjdChjb21wbGV0ZUNvbnZlcnNhdGlvbj8ucGFydGljaXBhbnRzKS50b0hhdmVMZW5ndGgoMik7XG4gICAgICBleHBlY3QoY29tcGxldGVDb252ZXJzYXRpb24/Lm1lc3NhZ2VzKS50b0hhdmVMZW5ndGgoMik7XG4gICAgICBleHBlY3QoY29tcGxldGVDb252ZXJzYXRpb24/Lm1lc3NhZ2VzWzBdLnJlYWN0aW9ucykudG9IYXZlTGVuZ3RoKDEpO1xuICAgICAgZXhwZWN0KGNvbXBsZXRlQ29udmVyc2F0aW9uPy5tZXNzYWdlc1sxXS5yZWFjdGlvbnMpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgIGV4cGVjdChjb21wbGV0ZUNvbnZlcnNhdGlvbj8ubWVzc2FnZXNbMF0ucmVhZFJlY2VpcHRzKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICBleHBlY3QoY29tcGxldGVDb252ZXJzYXRpb24/Lm1lc3NhZ2VzWzFdLnJlYWRSZWNlaXB0cykudG9IYXZlTGVuZ3RoKDEpO1xuICAgICAgZXhwZWN0KGNvbXBsZXRlQ29udmVyc2F0aW9uPy5tZXNzYWdlc1sxXS5yZXBseVRvSWQpLnRvQmUobWVzc2FnZTEuaWQpO1xuICAgICAgZXhwZWN0KGNvbXBsZXRlQ29udmVyc2F0aW9uPy5sYXN0TWVzc2FnZUF0KS50b0JlVHJ1dGh5KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSB1c2VyIGJsb2NraW5nIGluIG1lc3NhZ2luZyB3b3JrZmxvdycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIENyZWF0ZSB1c2Vyc1xuICAgICAgY29uc3QgYmxvY2tlciA9IGF3YWl0IHByaXNtYS51c2VyLmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IFRlc3REYXRhR2VuZXJhdG9yLmNyZWF0ZVVzZXIoe1xuICAgICAgICAgIGlkOiAnYmxvY2tlci11c2VyJyxcbiAgICAgICAgICBlbWFpbDogJ2Jsb2NrZXJAdGVzdC5jb20nLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBibG9ja2VkID0gYXdhaXQgcHJpc21hLnVzZXIuY3JlYXRlKHtcbiAgICAgICAgZGF0YTogVGVzdERhdGFHZW5lcmF0b3IuY3JlYXRlVXNlcih7XG4gICAgICAgICAgaWQ6ICdibG9ja2VkLXVzZXInLFxuICAgICAgICAgIGVtYWlsOiAnYmxvY2tlZEB0ZXN0LmNvbScsXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIENyZWF0ZSBjb252ZXJzYXRpb24gYW5kIG1lc3NhZ2VzXG4gICAgICBjb25zdCBjb252ZXJzYXRpb24gPSBhd2FpdCBwcmlzbWEuY29udmVyc2F0aW9uLmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICB0eXBlOiAnRElSRUNUJyxcbiAgICAgICAgICBwYXJ0aWNpcGFudHM6IHtcbiAgICAgICAgICAgIGNyZWF0ZTogW1xuICAgICAgICAgICAgICB7IHVzZXJJZDogYmxvY2tlci5pZCwgcm9sZTogJ01FTUJFUicgfSxcbiAgICAgICAgICAgICAgeyB1c2VySWQ6IGJsb2NrZWQuaWQsIHJvbGU6ICdNRU1CRVInIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgbWVzc2FnZSA9IGF3YWl0IHByaXNtYS5tZXNzYWdlLmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBjb252ZXJzYXRpb25JZDogY29udmVyc2F0aW9uLmlkLFxuICAgICAgICAgIHNlbmRlcklkOiBibG9ja2VkLmlkLFxuICAgICAgICAgIGNvbnRlbnQ6ICdIZWxsbyB0aGVyZSEnLFxuICAgICAgICAgIG1lc3NhZ2VUeXBlOiAnVEVYVCcsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gQmxvY2sgdXNlclxuICAgICAgY29uc3QgdXNlckJsb2NrID0gYXdhaXQgcHJpc21hLnVzZXJCbG9jay5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgYmxvY2tlcklkOiBibG9ja2VyLmlkLFxuICAgICAgICAgIGJsb2NrZWRJZDogYmxvY2tlZC5pZCxcbiAgICAgICAgICByZWFzb246ICdJbmFwcHJvcHJpYXRlIGJlaGF2aW9yJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBWZXJpZnkgYmxvY2tpbmcgcmVsYXRpb25zaGlwXG4gICAgICBjb25zdCBibG9ja2luZ1VzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5maW5kVW5pcXVlKHtcbiAgICAgICAgd2hlcmU6IHsgaWQ6IGJsb2NrZXIuaWQgfSxcbiAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgIGJsb2NraW5nOiB7XG4gICAgICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgICAgIGJsb2NrZWQ6IHRydWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgYmxvY2tlZFVzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5maW5kVW5pcXVlKHtcbiAgICAgICAgd2hlcmU6IHsgaWQ6IGJsb2NrZWQuaWQgfSxcbiAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgIGJsb2NrZWRCeToge1xuICAgICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgICBibG9ja2VyOiB0cnVlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChibG9ja2luZ1VzZXI/LmJsb2NraW5nKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICBleHBlY3QoYmxvY2tpbmdVc2VyPy5ibG9ja2luZ1swXS5ibG9ja2VkSWQpLnRvQmUoYmxvY2tlZC5pZCk7XG4gICAgICBleHBlY3QoYmxvY2tlZFVzZXI/LmJsb2NrZWRCeSkudG9IYXZlTGVuZ3RoKDEpO1xuICAgICAgZXhwZWN0KGJsb2NrZWRVc2VyPy5ibG9ja2VkQnlbMF0uYmxvY2tlcklkKS50b0JlKGJsb2NrZXIuaWQpO1xuICAgICAgZXhwZWN0KHVzZXJCbG9jay5yZWFzb24pLnRvQmUoJ0luYXBwcm9wcmlhdGUgYmVoYXZpb3InKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ01lZXRpbmcg4oaSIFNlc3Npb25Mb2cg4oaSIFJldmlldyBMaWZlY3ljbGUnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBjcmVhdGUgY29tcGxldGUgc2Vzc2lvbiBsaWZlY3ljbGUgd2l0aCByZXZpZXdzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gU2V0dXAgdXNlcnNcbiAgICAgIGNvbnN0IGNsaWVudFVzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5jcmVhdGUoe1xuICAgICAgICBkYXRhOiBUZXN0RGF0YUdlbmVyYXRvci5jcmVhdGVVc2VyKHtcbiAgICAgICAgICBpZDogJ3Nlc3Npb24tY2xpZW50JyxcbiAgICAgICAgICByb2xlOiAnY2xpZW50JyxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgdGhlcmFwaXN0VXNlciA9IGF3YWl0IHByaXNtYS51c2VyLmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IFRlc3REYXRhR2VuZXJhdG9yLmNyZWF0ZVVzZXIoe1xuICAgICAgICAgIGlkOiAnc2Vzc2lvbi10aGVyYXBpc3QnLFxuICAgICAgICAgIHJvbGU6ICd0aGVyYXBpc3QnLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBjbGllbnQgPSBhd2FpdCBwcmlzbWEuY2xpZW50LmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICB1c2VySWQ6IGNsaWVudFVzZXIuaWQsXG4gICAgICAgICAgaGFzU2VlblRoZXJhcGlzdFJlY29tbWVuZGF0aW9uczogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCB0aGVyYXBpc3QgPSBhd2FpdCBwcmlzbWEudGhlcmFwaXN0LmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICB1c2VySWQ6IHRoZXJhcGlzdFVzZXIuaWQsXG4gICAgICAgICAgbW9iaWxlOiAnKzEyMzQ1Njc4OTAnLFxuICAgICAgICAgIHByb3ZpbmNlOiAnT250YXJpbycsXG4gICAgICAgICAgcHJvdmlkZXJUeXBlOiAnQ2xpbmljYWwgUHN5Y2hvbG9naXN0JyxcbiAgICAgICAgICBwcm9mZXNzaW9uYWxMaWNlbnNlVHlwZTogJ0xpY2Vuc2VkJyxcbiAgICAgICAgICBpc1BSQ0xpY2Vuc2VkOiAneWVzJyxcbiAgICAgICAgICBwcmNMaWNlbnNlTnVtYmVyOiAnUFJDMTIzNDU2JyxcbiAgICAgICAgICBwcmFjdGljZVN0YXJ0RGF0ZTogbmV3IERhdGUoJzIwMjAtMDEtMDEnKSxcbiAgICAgICAgICB5ZWFyc09mRXhwZXJpZW5jZTogNSxcbiAgICAgICAgICBhcmVhc09mRXhwZXJ0aXNlOiBbJ0RlcHJlc3Npb24nXSxcbiAgICAgICAgICBhc3Nlc3NtZW50VG9vbHM6IFsnUEhRLTknXSxcbiAgICAgICAgICB0aGVyYXBldXRpY0FwcHJvYWNoZXNVc2VkTGlzdDogWydDQlQnXSxcbiAgICAgICAgICBsYW5ndWFnZXNPZmZlcmVkOiBbJ0VuZ2xpc2gnXSxcbiAgICAgICAgICBwcm92aWRlZE9ubGluZVRoZXJhcHlCZWZvcmU6IHRydWUsXG4gICAgICAgICAgY29tZm9ydGFibGVVc2luZ1ZpZGVvQ29uZmVyZW5jaW5nOiB0cnVlLFxuICAgICAgICAgIHByZWZlcnJlZFNlc3Npb25MZW5ndGg6IFs2MF0sXG4gICAgICAgICAgYWNjZXB0VHlwZXM6IFsnSW5kaXZpZHVhbCddLFxuICAgICAgICAgIHN0YXR1czogJ2FwcHJvdmVkJyxcbiAgICAgICAgICBob3VybHlSYXRlOiAxNTAsXG4gICAgICAgICAgZXhwaXJhdGlvbkRhdGVPZkxpY2Vuc2U6IG5ldyBEYXRlKCcyMDI1LTAxLTAxJyksXG4gICAgICAgICAgY29tcGxpZXNXaXRoRGF0YVByaXZhY3lBY3Q6IHRydWUsXG4gICAgICAgICAgd2lsbGluZ1RvQWJpZGVCeVBsYXRmb3JtR3VpZGVsaW5lczogdHJ1ZSxcbiAgICAgICAgICB0cmVhdG1lbnRTdWNjZXNzUmF0ZXM6IHt9LFxuICAgICAgICAgIHNlc3Npb25MZW5ndGg6ICc2MCBtaW51dGVzJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBDcmVhdGUgbWVldGluZ1xuICAgICAgY29uc3QgbWVldGluZyA9IGF3YWl0IHByaXNtYS5tZWV0aW5nLmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBjbGllbnRJZDogY2xpZW50LnVzZXJJZCxcbiAgICAgICAgICB0aGVyYXBpc3RJZDogdGhlcmFwaXN0LnVzZXJJZCxcbiAgICAgICAgICBzdGFydFRpbWU6IG5ldyBEYXRlKCcyMDI0LTEyLTAxVDEwOjAwOjAwWicpLFxuICAgICAgICAgIGR1cmF0aW9uOiA2MCxcbiAgICAgICAgICBzdGF0dXM6ICdDT01QTEVURUQnLFxuICAgICAgICAgIG1lZXRpbmdUeXBlOiAndmlkZW8nLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnSW5pdGlhbCB0aGVyYXB5IHNlc3Npb24nLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIENyZWF0ZSBzZXNzaW9uIGxvZ1xuICAgICAgY29uc3Qgc2Vzc2lvbkxvZyA9IGF3YWl0IHByaXNtYS5zZXNzaW9uTG9nLmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBjbGllbnRJZDogY2xpZW50LnVzZXJJZCxcbiAgICAgICAgICBtZWV0aW5nSWQ6IG1lZXRpbmcuaWQsXG4gICAgICAgICAgc2Vzc2lvbkRhdGU6IG5ldyBEYXRlKCcyMDI0LTEyLTAxVDEwOjAwOjAwWicpLFxuICAgICAgICAgIGR1cmF0aW9uOiA2MCxcbiAgICAgICAgICBzZXNzaW9uVHlwZTogJ0luZGl2aWR1YWwnLFxuICAgICAgICAgIG5vdGVzOiAnQ2xpZW50IHNob3dlZCBnb29kIHByb2dyZXNzIHdpdGggYW54aWV0eSBtYW5hZ2VtZW50IHRlY2huaXF1ZXMnLFxuICAgICAgICAgIG1vb2Q6ICdwb3NpdGl2ZScsXG4gICAgICAgICAgcHJvZ3Jlc3M6ICdnb29kJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBDcmVhdGUgcmV2aWV3XG4gICAgICBjb25zdCByZXZpZXcgPSBhd2FpdCBwcmlzbWEucmV2aWV3LmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBjbGllbnRJZDogY2xpZW50LnVzZXJJZCxcbiAgICAgICAgICB0aGVyYXBpc3RJZDogdGhlcmFwaXN0LnVzZXJJZCxcbiAgICAgICAgICByYXRpbmc6IDUsXG4gICAgICAgICAgY29tbWVudDogJ0V4Y2VsbGVudCB0aGVyYXBpc3QsIHZlcnkgaGVscGZ1bCBhbmQgdW5kZXJzdGFuZGluZycsXG4gICAgICAgICAgaXNBbm9ueW1vdXM6IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIFZlcmlmeSBjb21wbGV0ZSBsaWZlY3ljbGVcbiAgICAgIGNvbnN0IGNvbXBsZXRlTWVldGluZyA9IGF3YWl0IHByaXNtYS5tZWV0aW5nLmZpbmRVbmlxdWUoe1xuICAgICAgICB3aGVyZTogeyBpZDogbWVldGluZy5pZCB9LFxuICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgY2xpZW50OiB7XG4gICAgICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgICAgIHVzZXI6IHRydWUsXG4gICAgICAgICAgICAgIHNlc3Npb25Mb2dzOiB0cnVlLFxuICAgICAgICAgICAgICByZXZpZXdzOiB0cnVlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRoZXJhcGlzdDoge1xuICAgICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgICB1c2VyOiB0cnVlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHNlc3Npb25XaXRoUmV2aWV3ID0gYXdhaXQgcHJpc21hLnNlc3Npb25Mb2cuZmluZFVuaXF1ZSh7XG4gICAgICAgIHdoZXJlOiB7IGlkOiBzZXNzaW9uTG9nLmlkIH0sXG4gICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICBjbGllbnQ6IHtcbiAgICAgICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICAgICAgcmV2aWV3czoge1xuICAgICAgICAgICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgICAgICAgICB0aGVyYXBpc3RJZDogdGhlcmFwaXN0LnVzZXJJZCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIEFzc2VydGlvbnNcbiAgICAgIGV4cGVjdChjb21wbGV0ZU1lZXRpbmcpLnRvQmVUcnV0aHkoKTtcbiAgICAgIGV4cGVjdChjb21wbGV0ZU1lZXRpbmc/LnN0YXR1cykudG9CZSgnQ09NUExFVEVEJyk7XG4gICAgICBleHBlY3QoY29tcGxldGVNZWV0aW5nPy5jbGllbnQ/LnNlc3Npb25Mb2dzKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICBleHBlY3QoY29tcGxldGVNZWV0aW5nPy5jbGllbnQ/LnJldmlld3MpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgIGV4cGVjdChzZXNzaW9uV2l0aFJldmlldz8ubm90ZXMpLnRvQ29udGFpbignYW54aWV0eSBtYW5hZ2VtZW50Jyk7XG4gICAgICBleHBlY3Qoc2Vzc2lvbldpdGhSZXZpZXc/LmNsaWVudD8ucmV2aWV3c1swXS5yYXRpbmcpLnRvQmUoNSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdVc2VyIOKGkiBOb3RpZmljYXRpb24g4oaSIEF1ZGl0TG9nIEFjdGl2aXR5IFRyYWNraW5nJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgY3JlYXRlIGNvbXBsZXRlIGFjdGl2aXR5IHRyYWNraW5nIHdvcmtmbG93JywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQ3JlYXRlIHVzZXJcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5jcmVhdGUoe1xuICAgICAgICBkYXRhOiBUZXN0RGF0YUdlbmVyYXRvci5jcmVhdGVVc2VyKHtcbiAgICAgICAgICBpZDogJ2FjdGl2aXR5LXVzZXInLFxuICAgICAgICAgIGVtYWlsOiAnYWN0aXZpdHlAdGVzdC5jb20nLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBDcmVhdGUgbm90aWZpY2F0aW9uIHNldHRpbmdzXG4gICAgICBjb25zdCBub3RpZmljYXRpb25TZXR0aW5ncyA9IGF3YWl0IHByaXNtYS5ub3RpZmljYXRpb25TZXR0aW5ncy5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdXNlcklkOiB1c2VyLmlkLFxuICAgICAgICAgIGVtYWlsTm90aWZpY2F0aW9uczogdHJ1ZSxcbiAgICAgICAgICBwdXNoTm90aWZpY2F0aW9uczogdHJ1ZSxcbiAgICAgICAgICBzbXNOb3RpZmljYXRpb25zOiBmYWxzZSxcbiAgICAgICAgICBtYXJrZXRpbmdFbWFpbHM6IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIENyZWF0ZSBub3RpZmljYXRpb25cbiAgICAgIGNvbnN0IG5vdGlmaWNhdGlvbiA9IGF3YWl0IHByaXNtYS5ub3RpZmljYXRpb24uY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHVzZXJJZDogdXNlci5pZCxcbiAgICAgICAgICB0eXBlOiAnbWVldGluZ19yZW1pbmRlcicsXG4gICAgICAgICAgdGl0bGU6ICdVcGNvbWluZyBUaGVyYXB5IFNlc3Npb24nLFxuICAgICAgICAgIG1lc3NhZ2U6ICdZb3UgaGF2ZSBhIHRoZXJhcHkgc2Vzc2lvbiBzY2hlZHVsZWQgaW4gMSBob3VyJyxcbiAgICAgICAgICBpc1JlYWQ6IGZhbHNlLFxuICAgICAgICAgIHByaW9yaXR5OiAnaGlnaCcsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gQ3JlYXRlIGF1ZGl0IGxvZ1xuICAgICAgY29uc3QgYXVkaXRMb2cgPSBhd2FpdCBwcmlzbWEuYXVkaXRMb2cuY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHVzZXJJZDogdXNlci5pZCxcbiAgICAgICAgICBhY3Rpb246ICdVU0VSX0xPR0lOJyxcbiAgICAgICAgICBlbnRpdHk6ICdVc2VyJyxcbiAgICAgICAgICBlbnRpdHlJZDogdXNlci5pZCxcbiAgICAgICAgICBkZXRhaWxzOiB7XG4gICAgICAgICAgICBpcDogJzE5Mi4xNjguMS4xJyxcbiAgICAgICAgICAgIHVzZXJBZ2VudDogJ01vemlsbGEvNS4wLi4uJyxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgc2V2ZXJpdHk6ICdJTkZPJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBDcmVhdGUgdXNlciBhY3Rpdml0eVxuICAgICAgY29uc3QgdXNlckFjdGl2aXR5ID0gYXdhaXQgcHJpc21hLnVzZXJBY3Rpdml0eS5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdXNlcklkOiB1c2VyLmlkLFxuICAgICAgICAgIGFjdGl2aXR5VHlwZTogJ3BhZ2VfdmlldycsXG4gICAgICAgICAgYWN0aXZpdHlEYXRhOiB7XG4gICAgICAgICAgICBwYWdlOiAnL2Rhc2hib2FyZCcsXG4gICAgICAgICAgICBkdXJhdGlvbjogMTIwLFxuICAgICAgICAgICAgaW50ZXJhY3Rpb25zOiBbJ2J1dHRvbl9jbGljaycsICdzY3JvbGwnXSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIFZlcmlmeSBjb21wbGV0ZSBhY3Rpdml0eSB0cmFja2luZ1xuICAgICAgY29uc3QgdXNlcldpdGhBY3Rpdml0aWVzID0gYXdhaXQgcHJpc21hLnVzZXIuZmluZFVuaXF1ZSh7XG4gICAgICAgIHdoZXJlOiB7IGlkOiB1c2VyLmlkIH0sXG4gICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICBub3RpZmljYXRpb25TZXR0aW5nczogdHJ1ZSxcbiAgICAgICAgICBub3RpZmljYXRpb25zOiB7XG4gICAgICAgICAgICB3aGVyZTogeyBpc1JlYWQ6IGZhbHNlIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgICBhdWRpdExvZ3M6IHtcbiAgICAgICAgICAgIG9yZGVyQnk6IHsgY3JlYXRlZEF0OiAnZGVzYycgfSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGFjdGl2aXRpZXM6IHtcbiAgICAgICAgICAgIG9yZGVyQnk6IHsgY3JlYXRlZEF0OiAnZGVzYycgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIEFzc2VydGlvbnNcbiAgICAgIGV4cGVjdCh1c2VyV2l0aEFjdGl2aXRpZXMpLnRvQmVUcnV0aHkoKTtcbiAgICAgIGV4cGVjdCh1c2VyV2l0aEFjdGl2aXRpZXM/Lm5vdGlmaWNhdGlvblNldHRpbmdzPy5lbWFpbE5vdGlmaWNhdGlvbnMpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QodXNlcldpdGhBY3Rpdml0aWVzPy5ub3RpZmljYXRpb25zKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICBleHBlY3QodXNlcldpdGhBY3Rpdml0aWVzPy5ub3RpZmljYXRpb25zWzBdLnR5cGUpLnRvQmUoJ21lZXRpbmdfcmVtaW5kZXInKTtcbiAgICAgIGV4cGVjdCh1c2VyV2l0aEFjdGl2aXRpZXM/LmF1ZGl0TG9ncykudG9IYXZlTGVuZ3RoKDEpO1xuICAgICAgZXhwZWN0KHVzZXJXaXRoQWN0aXZpdGllcz8uYXVkaXRMb2dzWzBdLmFjdGlvbikudG9CZSgnVVNFUl9MT0dJTicpO1xuICAgICAgZXhwZWN0KHVzZXJXaXRoQWN0aXZpdGllcz8uYWN0aXZpdGllcykudG9IYXZlTGVuZ3RoKDEpO1xuICAgICAgZXhwZWN0KHVzZXJXaXRoQWN0aXZpdGllcz8uYWN0aXZpdGllc1swXS5hY3Rpdml0eVR5cGUpLnRvQmUoJ3BhZ2VfdmlldycpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQ29tbXVuaXR5IOKGkiBQb3N0IOKGkiBDb21tZW50IOKGkiBIZWFydHMgQ29udGVudCBGbG93JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgY3JlYXRlIGNvbXBsZXRlIGNvbW11bml0eSBjb250ZW50IGludGVyYWN0aW9uIGZsb3cnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBDcmVhdGUgdXNlcnNcbiAgICAgIGNvbnN0IGF1dGhvciA9IGF3YWl0IHByaXNtYS51c2VyLmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IFRlc3REYXRhR2VuZXJhdG9yLmNyZWF0ZVVzZXIoe1xuICAgICAgICAgIGlkOiAnY29udGVudC1hdXRob3InLFxuICAgICAgICAgIGVtYWlsOiAnYXV0aG9yQHRlc3QuY29tJyxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgY29tbWVudGVyID0gYXdhaXQgcHJpc21hLnVzZXIuY3JlYXRlKHtcbiAgICAgICAgZGF0YTogVGVzdERhdGFHZW5lcmF0b3IuY3JlYXRlVXNlcih7XG4gICAgICAgICAgaWQ6ICdjb250ZW50LWNvbW1lbnRlcicsXG4gICAgICAgICAgZW1haWw6ICdjb21tZW50ZXJAdGVzdC5jb20nLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBDcmVhdGUgY29tbXVuaXR5XG4gICAgICBjb25zdCBjb21tdW5pdHkgPSBhd2FpdCBwcmlzbWEuY29tbXVuaXR5LmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBuYW1lOiAnQW54aWV0eSBTdXBwb3J0JyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0Egc3VwcG9ydGl2ZSBjb21tdW5pdHkgZm9yIGFueGlldHkgbWFuYWdlbWVudCcsXG4gICAgICAgICAgaXNQcml2YXRlOiBmYWxzZSxcbiAgICAgICAgICBtZW1iZXJMaW1pdDogMTAwLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIENyZWF0ZSByb29tIGFuZCByb29tIGdyb3VwXG4gICAgICBjb25zdCByb29tR3JvdXAgPSBhd2FpdCBwcmlzbWEucm9vbUdyb3VwLmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBjb21tdW5pdHlJZDogY29tbXVuaXR5LmlkLFxuICAgICAgICAgIG5hbWU6ICdHZW5lcmFsIERpc2N1c3Npb24nLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnR2VuZXJhbCBkaXNjdXNzaW9uIHRvcGljcycsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3Qgcm9vbSA9IGF3YWl0IHByaXNtYS5yb29tLmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBjb21tdW5pdHlJZDogY29tbXVuaXR5LmlkLFxuICAgICAgICAgIHJvb21Hcm91cElkOiByb29tR3JvdXAuaWQsXG4gICAgICAgICAgbmFtZTogJ0RhaWx5IENoZWNrLWlucycsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdTaGFyZSB5b3VyIGRhaWx5IHByb2dyZXNzJyxcbiAgICAgICAgICBwb3N0aW5nUm9sZTogJ01FTUJFUicsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gQ3JlYXRlIG1lbWJlcnNoaXBzXG4gICAgICBhd2FpdCBwcmlzbWEubWVtYmVyc2hpcC5jcmVhdGVNYW55KHtcbiAgICAgICAgZGF0YTogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHVzZXJJZDogYXV0aG9yLmlkLFxuICAgICAgICAgICAgY29tbXVuaXR5SWQ6IGNvbW11bml0eS5pZCxcbiAgICAgICAgICAgIHJvbGU6ICdNRU1CRVInLFxuICAgICAgICAgICAgc3RhdHVzOiAnQUNUSVZFJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHVzZXJJZDogY29tbWVudGVyLmlkLFxuICAgICAgICAgICAgY29tbXVuaXR5SWQ6IGNvbW11bml0eS5pZCxcbiAgICAgICAgICAgIHJvbGU6ICdNRU1CRVInLFxuICAgICAgICAgICAgc3RhdHVzOiAnQUNUSVZFJyxcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIENyZWF0ZSBwb3N0XG4gICAgICBjb25zdCBwb3N0ID0gYXdhaXQgcHJpc21hLnBvc3QuY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGF1dGhvcklkOiBhdXRob3IuaWQsXG4gICAgICAgICAgY29tbXVuaXR5SWQ6IGNvbW11bml0eS5pZCxcbiAgICAgICAgICByb29tSWQ6IHJvb20uaWQsXG4gICAgICAgICAgdGl0bGU6ICdNeSBhbnhpZXR5IGpvdXJuZXknLFxuICAgICAgICAgIGNvbnRlbnQ6ICdTaGFyaW5nIG15IGV4cGVyaWVuY2Ugd2l0aCBhbnhpZXR5IG1hbmFnZW1lbnQuLi4nLFxuICAgICAgICAgIHR5cGU6ICdURVhUJyxcbiAgICAgICAgICBpc0FwcHJvdmVkOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIENyZWF0ZSBjb21tZW50XG4gICAgICBjb25zdCBjb21tZW50ID0gYXdhaXQgcHJpc21hLmNvbW1lbnQuY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGF1dGhvcklkOiBjb21tZW50ZXIuaWQsXG4gICAgICAgICAgcG9zdElkOiBwb3N0LmlkLFxuICAgICAgICAgIGNvbnRlbnQ6ICdUaGFuayB5b3UgZm9yIHNoYXJpbmcsIHRoaXMgaXMgdmVyeSBoZWxwZnVsIScsXG4gICAgICAgICAgaXNBcHByb3ZlZDogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBDcmVhdGUgcmVwbHkgdG8gY29tbWVudFxuICAgICAgY29uc3QgcmVwbHkgPSBhd2FpdCBwcmlzbWEucmVwbHkuY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGF1dGhvcklkOiBhdXRob3IuaWQsXG4gICAgICAgICAgY29tbWVudElkOiBjb21tZW50LmlkLFxuICAgICAgICAgIGNvbnRlbnQ6ICdJIGFwcHJlY2lhdGUgeW91ciBzdXBwb3J0IScsXG4gICAgICAgICAgaXNBcHByb3ZlZDogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBZGQgaGVhcnRzXG4gICAgICBjb25zdCBwb3N0SGVhcnQgPSBhd2FpdCBwcmlzbWEucG9zdEhlYXJ0LmNyZWF0ZSh7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICB1c2VySWQ6IGNvbW1lbnRlci5pZCxcbiAgICAgICAgICBwb3N0SWQ6IHBvc3QuaWQsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgY29tbWVudEhlYXJ0ID0gYXdhaXQgcHJpc21hLmNvbW1lbnRIZWFydC5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdXNlcklkOiBhdXRob3IuaWQsXG4gICAgICAgICAgY29tbWVudElkOiBjb21tZW50LmlkLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlcGx5SGVhcnQgPSBhd2FpdCBwcmlzbWEucmVwbHlIZWFydC5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdXNlcklkOiBjb21tZW50ZXIuaWQsXG4gICAgICAgICAgcmVwbHlJZDogcmVwbHkuaWQsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gVmVyaWZ5IGNvbXBsZXRlIGNvbnRlbnQgZmxvd1xuICAgICAgY29uc3QgY29tcGxldGVQb3N0ID0gYXdhaXQgcHJpc21hLnBvc3QuZmluZFVuaXF1ZSh7XG4gICAgICAgIHdoZXJlOiB7IGlkOiBwb3N0LmlkIH0sXG4gICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICBhdXRob3I6IHRydWUsXG4gICAgICAgICAgY29tbXVuaXR5OiB0cnVlLFxuICAgICAgICAgIHJvb206IHtcbiAgICAgICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICAgICAgcm9vbUdyb3VwOiB0cnVlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNvbW1lbnRzOiB7XG4gICAgICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgICAgIGF1dGhvcjogdHJ1ZSxcbiAgICAgICAgICAgICAgcmVwbGllczoge1xuICAgICAgICAgICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICAgICAgICAgIGF1dGhvcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIGhlYXJ0czoge1xuICAgICAgICAgICAgICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgdXNlcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgaGVhcnRzOiB7XG4gICAgICAgICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgICAgICAgdXNlcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGhlYXJ0czoge1xuICAgICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgICB1c2VyOiB0cnVlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIEFzc2VydGlvbnNcbiAgICAgIGV4cGVjdChjb21wbGV0ZVBvc3QpLnRvQmVUcnV0aHkoKTtcbiAgICAgIGV4cGVjdChjb21wbGV0ZVBvc3Q/LmhlYXJ0cykudG9IYXZlTGVuZ3RoKDEpO1xuICAgICAgZXhwZWN0KGNvbXBsZXRlUG9zdD8uY29tbWVudHMpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgIGV4cGVjdChjb21wbGV0ZVBvc3Q/LmNvbW1lbnRzWzBdLmhlYXJ0cykudG9IYXZlTGVuZ3RoKDEpO1xuICAgICAgZXhwZWN0KGNvbXBsZXRlUG9zdD8uY29tbWVudHNbMF0ucmVwbGllcykudG9IYXZlTGVuZ3RoKDEpO1xuICAgICAgZXhwZWN0KGNvbXBsZXRlUG9zdD8uY29tbWVudHNbMF0ucmVwbGllc1swXS5oZWFydHMpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgIGV4cGVjdChjb21wbGV0ZVBvc3Q/LnJvb20/LnJvb21Hcm91cD8ubmFtZSkudG9CZSgnR2VuZXJhbCBEaXNjdXNzaW9uJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdDb21wbGV4IFRyYW5zYWN0aW9uIFNjZW5hcmlvcycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBjb21wbGV4IG11bHRpLW1vZGVsIHRyYW5zYWN0aW9uIHJvbGxiYWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdHJhbnNhY3Rpb25UZXN0Rm4gPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIHJldHVybiBhd2FpdCBwcmlzbWEuJHRyYW5zYWN0aW9uKGFzeW5jICh0eCkgPT4ge1xuICAgICAgICAgIC8vIENyZWF0ZSB1c2VyXG4gICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IHR4LnVzZXIuY3JlYXRlKHtcbiAgICAgICAgICAgIGRhdGE6IFRlc3REYXRhR2VuZXJhdG9yLmNyZWF0ZVVzZXIoe1xuICAgICAgICAgICAgICBlbWFpbDogJ3RyYW5zYWN0aW9uQHRlc3QuY29tJyxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gQ3JlYXRlIGNsaWVudFxuICAgICAgICAgIGNvbnN0IGNsaWVudCA9IGF3YWl0IHR4LmNsaWVudC5jcmVhdGUoe1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICB1c2VySWQ6IHVzZXIuaWQsXG4gICAgICAgICAgICAgIGhhc1NlZW5UaGVyYXBpc3RSZWNvbW1lbmRhdGlvbnM6IGZhbHNlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIC8vIENyZWF0ZSBub3RpZmljYXRpb24gc2V0dGluZ3NcbiAgICAgICAgICBhd2FpdCB0eC5ub3RpZmljYXRpb25TZXR0aW5ncy5jcmVhdGUoe1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICB1c2VySWQ6IHVzZXIuaWQsXG4gICAgICAgICAgICAgIGVtYWlsTm90aWZpY2F0aW9uczogdHJ1ZSxcbiAgICAgICAgICAgICAgcHVzaE5vdGlmaWNhdGlvbnM6IHRydWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gSW50ZW50aW9uYWxseSBjYXVzZSBhIGNvbnN0cmFpbnQgdmlvbGF0aW9uXG4gICAgICAgICAgYXdhaXQgdHgudXNlci5jcmVhdGUoe1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICBpZDogdXNlci5pZCwgLy8gRHVwbGljYXRlIElEIHNob3VsZCBjYXVzZSBlcnJvclxuICAgICAgICAgICAgICBlbWFpbDogJ2R1cGxpY2F0ZUB0ZXN0LmNvbScsXG4gICAgICAgICAgICAgIGZpcnN0TmFtZTogJ0R1cGxpY2F0ZScsXG4gICAgICAgICAgICAgIGxhc3ROYW1lOiAnVXNlcicsXG4gICAgICAgICAgICAgIHJvbGU6ICdjbGllbnQnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJldHVybiB7IHVzZXIsIGNsaWVudCB9O1xuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIC8vIFRyYW5zYWN0aW9uIHNob3VsZCBmYWlsIGFuZCByb2xsYmFja1xuICAgICAgYXdhaXQgZXhwZWN0KHRyYW5zYWN0aW9uVGVzdEZuKCkpLnJlamVjdHMudG9UaHJvdygpO1xuXG4gICAgICAvLyBWZXJpZnkgbm8gZGF0YSB3YXMgY29tbWl0dGVkXG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgcHJpc21hLnVzZXIuZmluZFVuaXF1ZSh7XG4gICAgICAgIHdoZXJlOiB7IGVtYWlsOiAndHJhbnNhY3Rpb25AdGVzdC5jb20nIH0sXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IGNsaWVudCA9IGF3YWl0IHByaXNtYS5jbGllbnQuZmluZEZpcnN0KHtcbiAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICB1c2VyOiB7IGVtYWlsOiAndHJhbnNhY3Rpb25AdGVzdC5jb20nIH0sXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHNldHRpbmdzID0gYXdhaXQgcHJpc21hLm5vdGlmaWNhdGlvblNldHRpbmdzLmZpbmRGaXJzdCh7XG4gICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgdXNlcjogeyBlbWFpbDogJ3RyYW5zYWN0aW9uQHRlc3QuY29tJyB9LFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdCh1c2VyKS50b0JlTnVsbCgpO1xuICAgICAgZXhwZWN0KGNsaWVudCkudG9CZU51bGwoKTtcbiAgICAgIGV4cGVjdChzZXR0aW5ncykudG9CZU51bGwoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGNvbmN1cnJlbnQgdXNlciBjcmVhdGlvbiBjb3JyZWN0bHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBjb25jdXJyZW50VXNlcnMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiA1IH0sIChfLCBpKSA9PiBcbiAgICAgICAgcHJpc21hLnVzZXIuY3JlYXRlKHtcbiAgICAgICAgICBkYXRhOiBUZXN0RGF0YUdlbmVyYXRvci5jcmVhdGVVc2VyKHtcbiAgICAgICAgICAgIGVtYWlsOiBgY29uY3VycmVudC0ke2l9QHRlc3QuY29tYCxcbiAgICAgICAgICAgIGZpcnN0TmFtZTogYFVzZXIke2l9YCxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQoY29uY3VycmVudFVzZXJzKTtcbiAgICAgIGNvbnN0IHN1Y2Nlc3NmdWwgPSByZXN1bHRzLmZpbHRlcihyID0+IHIuc3RhdHVzID09PSAnZnVsZmlsbGVkJykubGVuZ3RoO1xuXG4gICAgICBleHBlY3Qoc3VjY2Vzc2Z1bCkudG9CZSg1KTsgLy8gQWxsIHNob3VsZCBzdWNjZWVkIHdpdGggdW5pcXVlIGVtYWlsc1xuICAgIH0pO1xuICB9KTtcbn0pOyJdLCJ2ZXJzaW9uIjozfQ==