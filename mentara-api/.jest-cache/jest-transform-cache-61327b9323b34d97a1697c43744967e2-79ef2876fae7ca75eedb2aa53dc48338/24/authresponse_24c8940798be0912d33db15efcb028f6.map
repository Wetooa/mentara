{"version":3,"names":["cov_squ2b96oq","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","branchMap","s","f","b","inputSourceMap","file","mappings","names","sources","sourcesContent","version","_coverageSchema","coverage","actualCoverage"],"sources":["/home/wetooa/Documents/code/projects/mentara/mentara-api/src/auth/types/auth.response.ts"],"sourcesContent":["/**\n * Auth Response Types - API response structures for authentication\n */\n\nimport { UserRole } from '../../types/global';\n\n// Token pair\nexport interface TokenPair {\n  accessToken: string;\n  refreshToken: string;\n}\n\n// Base auth user\nexport interface AuthUser {\n  id: string;\n  email: string;\n  firstName: string;\n  lastName: string;\n  role: UserRole;\n  isEmailVerified: boolean;\n  createdAt: Date;\n  updatedAt: Date;\n  client?: any; // Optional client data for client role users\n}\n\n// Auth response wrapper\nexport interface AuthResponse<T = AuthUser> {\n  user: T;\n  token: string; // Simplified single token approach\n  tokens?: TokenPair; // Optional for backward compatibility\n  isFirstLogin?: boolean;\n  message?: string;\n}\n\n// Role-specific auth responses\nexport interface ClientAuthResponse extends AuthResponse {\n  user: AuthUser & {\n    role: UserRole.CLIENT;\n    client?: {\n      hasSeenTherapistRecommendations: boolean;\n    };\n  };\n}\n\nexport interface TherapistAuthResponse extends AuthResponse {\n  user: AuthUser & {\n    role: UserRole.THERAPIST;\n    therapist?: {\n      isApproved: boolean;\n      approvalStatus: string;\n    };\n  };\n}\n\nexport interface AdminAuthResponse extends AuthResponse {\n  user: AuthUser & {\n    role: UserRole.ADMIN;\n    admin?: {\n      permissions: string[];\n    };\n  };\n}\n\nexport interface ModeratorAuthResponse extends AuthResponse {\n  user: AuthUser & {\n    role: UserRole.MODERATOR;\n    moderator?: {\n      permissions: string[];\n      assignedCommunities: string[];\n    };\n  };\n}\n\n// Profile responses\nexport interface ClientProfileResponse {\n  id: string;\n  email: string;\n  firstName: string;\n  lastName: string;\n  role: 'client';\n  dateOfBirth?: string;\n  phoneNumber?: string;\n  profileComplete: boolean;\n  therapistId?: string;\n  createdAt: string;\n  hasSeenTherapistRecommendations: boolean;\n}\n\n// Email responses\nexport interface EmailResponse {\n  success: boolean;\n  status?: 'success' | 'error'; // Optional status for compatibility\n  message: string;\n  sentTo?: string;\n}\n\nexport interface EmailStatusResponse {\n  emailVerified: boolean;\n  verificationSentAt?: Date;\n  canResend: boolean;\n}\n\n// OTP responses\nexport interface OtpEmailData {\n  email: string;\n  otpCode: string;\n  expiresAt: Date;\n}\n\nexport interface AutoOtpEmailRequest {\n  email: string;\n  otpCode: string;\n  type: 'registration' | 'password_reset' | 'login_verification';\n}\n\n// Session responses\nexport interface SessionInfoResponse {\n  sessionId: string;\n  userId: string;\n  createdAt: Date;\n  lastUsedAt: Date;\n  ipAddress?: string;\n  userAgent?: string;\n}\n\nexport interface ActiveSessionsResponse {\n  sessions: SessionInfoResponse[];\n  currentSessionId: string;\n}\n\nexport interface TerminateSessionResponse {\n  success: boolean;\n  message: string;\n  terminatedSessionId: string;\n}\n\nexport interface TerminateOtherSessionsResponse {\n  success: boolean;\n  message: string;\n  terminatedCount: number;\n}\n\nexport interface UniversalLogoutResponse {\n  success: boolean;\n  message: string;\n}\n\nexport interface CheckUserExistsResponse {\n  exists: boolean;\n  email?: string;\n}\n\n// Onboarding response\nexport interface OnboardingStatusResponse {\n  isFirstSignIn: boolean;\n  hasSeenRecommendations: boolean;\n  profileCompleted: boolean;\n  assessmentCompleted: boolean;\n  isOnboardingComplete: boolean;\n  completedSteps: string[];\n  nextStep?: string;\n}\n\n// User response (for user data without tokens)\nexport interface UserResponse {\n  user: AuthUser;\n}"],"mappings":";;AAAA;;;AAAA;AAAA,SAAAA,cAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,MAAA,OAAAC,QAAA;EAAA,IAAAC,GAAA;EAAA,IAAAC,YAAA;IAAAL,IAAA;IAAAM,YAAA;MAAA;QAAAC,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;IAAA;IAAAE,KAAA;IAAAC,SAAA;IAAAC,CAAA;MAAA;IAAA;IAAAC,CAAA;IAAAC,CAAA;IAAAC,cAAA;MAAAC,IAAA;MAAAC,QAAA;MAAAC,KAAA;MAAAC,OAAA;MAAAC,cAAA;MAAAC,OAAA;IAAA;IAAAC,eAAA;IAAAtB,IAAA;EAAA;EAAA,IAAAuB,QAAA,GAAAtB,MAAA,CAAAE,GAAA,MAAAF,MAAA,CAAAE,GAAA;EAAA,KAAAoB,QAAA,CAAAxB,IAAA,KAAAwB,QAAA,CAAAxB,IAAA,EAAAC,IAAA,KAAAA,IAAA;IAAAuB,QAAA,CAAAxB,IAAA,IAAAK,YAAA;EAAA;EAAA,IAAAoB,cAAA,GAAAD,QAAA,CAAAxB,IAAA;EAAA","ignoreList":[]}