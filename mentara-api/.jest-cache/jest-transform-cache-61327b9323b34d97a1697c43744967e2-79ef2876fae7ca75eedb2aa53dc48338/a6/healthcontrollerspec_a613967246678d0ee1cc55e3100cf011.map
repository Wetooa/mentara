{"file":"/home/wetooa/Documents/code/projects/mentara/mentara-api/src/health/health.controller.spec.ts","mappings":"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","names":[],"sources":["/home/wetooa/Documents/code/projects/mentara/mentara-api/src/health/health.controller.spec.ts"],"sourcesContent":["/**\n * Comprehensive Test Suite for HealthController\n * Tests health check endpoints for monitoring system status\n */\n\nimport { Test, TestingModule } from '@nestjs/testing';\nimport { HttpException, HttpStatus } from '@nestjs/common';\nimport { HealthController } from './health.controller';\nimport { HealthService } from './health.service';\nimport { SecurityGuardTestUtils, RoleBasedTestUtils } from '../test-utils/auth-testing-helpers';\nimport { MockBuilder, TestDataGenerator, TestAssertions } from '../test-utils/enhanced-test-helpers';\nimport { TEST_USER_IDS, TEST_EMAILS } from '../test-utils/index';\n\ndescribe('HealthController', () => {\n  let controller: HealthController;\n  let healthService: HealthService;\n  let module: TestingModule;\n\n  // Mock HealthService\n  const mockHealthService = {\n    getBasicHealth: jest.fn(),\n    getDetailedHealth: jest.fn(),\n    getDatabaseHealth: jest.fn(),\n    getServicesHealth: jest.fn(),\n    getSystemMetrics: jest.fn(),\n    getAdminHealthDashboard: jest.fn(),\n  };\n\n  // Test data\n  const mockBasicHealth = {\n    status: 'ok',\n    timestamp: '2024-02-14T10:00:00Z',\n    uptime: 86400, // 24 hours in seconds\n    version: '1.0.0',\n  };\n\n  const mockDetailedHealth = {\n    status: 'ok',\n    timestamp: '2024-02-14T10:00:00Z',\n    uptime: 86400,\n    version: '1.0.0',\n    database: {\n      status: 'connected',\n      responseTime: 45,\n      connections: 12,\n    },\n    services: {\n      supabase: 'ok',\n      stripe: 'ok',\n      emailService: 'ok',\n    },\n    system: {\n      memory: {\n        used: 2147483648, // 2GB\n        total: 8589934592, // 8GB\n        percentage: 25,\n      },\n      cpu: {\n        usage: 15.5,\n        loadAverage: [0.8, 0.9, 1.1],\n      },\n    },\n  };\n\n  const mockUnhealthyDetailed = {\n    status: 'error',\n    timestamp: '2024-02-14T10:00:00Z',\n    errors: ['Database connection failed', 'Email service unreachable'],\n  };\n\n  const mockDatabaseHealth = {\n    status: 'connected',\n    responseTime: 32,\n    connections: {\n      active: 8,\n      idle: 4,\n      total: 12,\n    },\n    queryStats: {\n      totalQueries: 15847,\n      averageQueryTime: 23.5,\n      slowQueries: 12,\n    },\n    lastBackup: '2024-02-14T03:00:00Z',\n  };\n\n  const mockDatabaseUnhealthy = {\n    status: 'disconnected',\n    error: 'Connection timeout',\n    timestamp: '2024-02-14T10:00:00Z',\n  };\n\n  const mockServicesHealth = {\n    supabase: {\n      status: 'ok',\n      responseTime: 156,\n      region: 'us-east-1',\n    },\n    stripe: {\n      status: 'ok',\n      responseTime: 234,\n      webhooksProcessed: 1247,\n    },\n    emailService: {\n      status: 'ok',\n      responseTime: 89,\n      emailsSent: 5623,\n      failureRate: 0.02,\n    },\n    aiService: {\n      status: 'ok',\n      responseTime: 456,\n      assessmentsProcessed: 234,\n    },\n  };\n\n  const mockSystemMetrics = {\n    memory: {\n      used: 2147483648,\n      free: 6442450944,\n      total: 8589934592,\n      percentage: 25,\n    },\n    cpu: {\n      usage: 15.5,\n      loadAverage: [0.8, 0.9, 1.1],\n      cores: 4,\n    },\n    disk: {\n      used: 107374182400, // 100GB\n      free: 429496729600, // 400GB\n      total: 536870912000, // 500GB\n      percentage: 20,\n    },\n    network: {\n      bytesReceived: 1073741824,\n      bytesSent: 536870912,\n      packetsReceived: 1000000,\n      packetsSent: 750000,\n    },\n    nodejs: {\n      version: 'v18.17.0',\n      uptime: 86400,\n      pid: 12345,\n    },\n  };\n\n  const mockAdminHealth = {\n    overview: {\n      status: 'healthy',\n      uptime: 86400,\n      lastRestart: '2024-02-13T10:00:00Z',\n      errorRate: 0.01,\n    },\n    alerts: [\n      {\n        severity: 'medium',\n        message: 'High memory usage detected',\n        timestamp: '2024-02-14T09:30:00Z',\n        resolved: false,\n      },\n      {\n        severity: 'low',\n        message: 'Slow query detected',\n        timestamp: '2024-02-14T08:15:00Z',\n        resolved: true,\n      },\n    ],\n    performance: {\n      averageResponseTime: 156,\n      requestsPerMinute: 234,\n      activeConnections: 89,\n      errorCount: 12,\n    },\n    resources: {\n      memory: mockSystemMetrics.memory,\n      cpu: mockSystemMetrics.cpu,\n      database: mockDatabaseHealth,\n      storage: mockSystemMetrics.disk,\n    },\n  };\n\n  beforeEach(async () => {\n    module = await Test.createTestingModule({\n      controllers: [HealthController],\n      providers: [\n        {\n          provide: HealthService,\n          useValue: mockHealthService,\n        },\n      ],\n    }).compile();\n\n    controller = module.get<HealthController>(HealthController);\n    healthService = module.get<HealthService>(HealthService);\n  });\n\n  afterEach(() => {\n    jest.clearAllMocks();\n  });\n\n  describe('Controller Initialization', () => {\n    it('should be defined', () => {\n      expect(controller).toBeDefined();\n    });\n\n    it('should have healthService injected', () => {\n      expect(healthService).toBeDefined();\n    });\n  });\n\n  describe('Security Configuration', () => {\n    it('should have proper route decorators', () => {\n      const controllerMetadata = Reflect.getMetadata('path', HealthController);\n      expect(controllerMetadata).toBe('health');\n    });\n\n    it('should have public endpoints for basic health checks', () => {\n      const publicMethods = ['getHealth', 'getDetailedHealth', 'getDatabaseHealth', 'getServicesHealth', 'getSystemMetrics'];\n      publicMethods.forEach(method => {\n        const isPublic = Reflect.getMetadata('isPublic', controller[method]);\n        expect(isPublic).toBe(true);\n      });\n    });\n\n    it('should have protected admin endpoint', () => {\n      const isPublic = Reflect.getMetadata('isPublic', controller.getAdminHealth);\n      expect(isPublic).toBeFalsy();\n    });\n  });\n\n  describe('GET /health', () => {\n    it('should return basic health status successfully', async () => {\n      mockHealthService.getBasicHealth.mockResolvedValue(mockBasicHealth);\n\n      const result = await controller.getHealth();\n\n      expect(result).toEqual(mockBasicHealth);\n      expect(healthService.getBasicHealth).toHaveBeenCalled();\n    });\n\n    it('should return proper health structure', async () => {\n      mockHealthService.getBasicHealth.mockResolvedValue(mockBasicHealth);\n\n      const result = await controller.getHealth();\n\n      expect(result).toHaveProperty('status');\n      expect(result).toHaveProperty('timestamp');\n      expect(result).toHaveProperty('uptime');\n      expect(result).toHaveProperty('version');\n      expect(result.status).toBe('ok');\n      expect(typeof result.uptime).toBe('number');\n    });\n\n    it('should handle service errors gracefully', async () => {\n      const serviceError = new Error('Health service unavailable');\n      mockHealthService.getBasicHealth.mockRejectedValue(serviceError);\n\n      await expect(controller.getHealth()).rejects.toThrow(serviceError);\n    });\n  });\n\n  describe('GET /health/detailed', () => {\n    it('should return detailed health status successfully', async () => {\n      mockHealthService.getDetailedHealth.mockResolvedValue(mockDetailedHealth);\n\n      const result = await controller.getDetailedHealth();\n\n      expect(result).toEqual(mockDetailedHealth);\n      expect(healthService.getDetailedHealth).toHaveBeenCalled();\n    });\n\n    it('should return comprehensive health structure', async () => {\n      mockHealthService.getDetailedHealth.mockResolvedValue(mockDetailedHealth);\n\n      const result = await controller.getDetailedHealth();\n\n      expect(result).toHaveProperty('status');\n      expect(result).toHaveProperty('database');\n      expect(result).toHaveProperty('services');\n      expect(result).toHaveProperty('system');\n      expect(result.database).toHaveProperty('status');\n      expect(result.database).toHaveProperty('responseTime');\n      expect(result.system).toHaveProperty('memory');\n      expect(result.system).toHaveProperty('cpu');\n    });\n\n    it('should throw SERVICE_UNAVAILABLE when status is error', async () => {\n      mockHealthService.getDetailedHealth.mockResolvedValue(mockUnhealthyDetailed);\n\n      await expect(controller.getDetailedHealth()).rejects.toThrow(HttpException);\n\n      try {\n        await controller.getDetailedHealth();\n      } catch (error) {\n        expect(error).toBeInstanceOf(HttpException);\n        expect(error.getStatus()).toBe(HttpStatus.SERVICE_UNAVAILABLE);\n        expect(error.getResponse()).toEqual(mockUnhealthyDetailed);\n      }\n    });\n\n    it('should validate error response structure', async () => {\n      mockHealthService.getDetailedHealth.mockResolvedValue(mockUnhealthyDetailed);\n\n      try {\n        await controller.getDetailedHealth();\n      } catch (error) {\n        const response = error.getResponse();\n        expect(response).toHaveProperty('status');\n        expect(response).toHaveProperty('errors');\n        expect(response).toHaveProperty('timestamp');\n        expect(response.status).toBe('error');\n        expect(Array.isArray(response.errors)).toBe(true);\n      }\n    });\n  });\n\n  describe('GET /health/database', () => {\n    it('should return database health status successfully', async () => {\n      mockHealthService.getDatabaseHealth.mockResolvedValue(mockDatabaseHealth);\n\n      const result = await controller.getDatabaseHealth();\n\n      expect(result).toEqual(mockDatabaseHealth);\n      expect(healthService.getDatabaseHealth).toHaveBeenCalled();\n    });\n\n    it('should return database metrics structure', async () => {\n      mockHealthService.getDatabaseHealth.mockResolvedValue(mockDatabaseHealth);\n\n      const result = await controller.getDatabaseHealth();\n\n      expect(result).toHaveProperty('status');\n      expect(result).toHaveProperty('responseTime');\n      expect(result).toHaveProperty('connections');\n      expect(result).toHaveProperty('queryStats');\n      expect(result.connections).toHaveProperty('active');\n      expect(result.connections).toHaveProperty('idle');\n      expect(result.connections).toHaveProperty('total');\n      expect(result.queryStats).toHaveProperty('totalQueries');\n      expect(result.queryStats).toHaveProperty('averageQueryTime');\n    });\n\n    it('should throw SERVICE_UNAVAILABLE when database is disconnected', async () => {\n      mockHealthService.getDatabaseHealth.mockResolvedValue(mockDatabaseUnhealthy);\n\n      await expect(controller.getDatabaseHealth()).rejects.toThrow(HttpException);\n\n      try {\n        await controller.getDatabaseHealth();\n      } catch (error) {\n        expect(error).toBeInstanceOf(HttpException);\n        expect(error.getStatus()).toBe(HttpStatus.SERVICE_UNAVAILABLE);\n        expect(error.getResponse()).toEqual(mockDatabaseUnhealthy);\n      }\n    });\n\n    it('should handle database connection timeouts', async () => {\n      const timeoutResponse = {\n        status: 'disconnected',\n        error: 'Connection timeout after 5000ms',\n        timestamp: '2024-02-14T10:00:00Z',\n      };\n      mockHealthService.getDatabaseHealth.mockResolvedValue(timeoutResponse);\n\n      try {\n        await controller.getDatabaseHealth();\n      } catch (error) {\n        expect(error.getResponse().error).toContain('timeout');\n      }\n    });\n  });\n\n  describe('GET /health/services', () => {\n    it('should return services health status successfully', async () => {\n      mockHealthService.getServicesHealth.mockResolvedValue(mockServicesHealth);\n\n      const result = await controller.getServicesHealth();\n\n      expect(result).toEqual(mockServicesHealth);\n      expect(healthService.getServicesHealth).toHaveBeenCalled();\n    });\n\n    it('should return services metrics structure', async () => {\n      mockHealthService.getServicesHealth.mockResolvedValue(mockServicesHealth);\n\n      const result = await controller.getServicesHealth();\n\n      expect(result).toHaveProperty('supabase');\n      expect(result).toHaveProperty('stripe');\n      expect(result).toHaveProperty('emailService');\n      expect(result).toHaveProperty('aiService');\n\n      // Validate supabase metrics\n      expect(result.supabase).toHaveProperty('status');\n      expect(result.supabase).toHaveProperty('responseTime');\n      expect(result.supabase).toHaveProperty('region');\n\n      // Validate stripe metrics\n      expect(result.stripe).toHaveProperty('status');\n      expect(result.stripe).toHaveProperty('responseTime');\n      expect(result.stripe).toHaveProperty('webhooksProcessed');\n\n      // Validate email service metrics\n      expect(result.emailService).toHaveProperty('status');\n      expect(result.emailService).toHaveProperty('emailsSent');\n      expect(result.emailService).toHaveProperty('failureRate');\n    });\n\n    it('should handle mixed service status', async () => {\n      const mixedServicesHealth = {\n        ...mockServicesHealth,\n        emailService: {\n          status: 'error',\n          responseTime: 5000,\n          emailsSent: 5623,\n          failureRate: 0.15,\n          error: 'SMTP server unreachable',\n        },\n      };\n      mockHealthService.getServicesHealth.mockResolvedValue(mixedServicesHealth);\n\n      const result = await controller.getServicesHealth();\n\n      expect(result.supabase.status).toBe('ok');\n      expect(result.emailService.status).toBe('error');\n      expect(result.emailService.failureRate).toBeGreaterThan(0.1);\n    });\n\n    it('should validate response time metrics', async () => {\n      mockHealthService.getServicesHealth.mockResolvedValue(mockServicesHealth);\n\n      const result = await controller.getServicesHealth();\n\n      Object.values(result).forEach((service: any) => {\n        expect(service).toHaveProperty('responseTime');\n        expect(typeof service.responseTime).toBe('number');\n        expect(service.responseTime).toBeGreaterThan(0);\n      });\n    });\n  });\n\n  describe('GET /health/system', () => {\n    it('should return system metrics successfully', async () => {\n      mockHealthService.getSystemMetrics.mockResolvedValue(mockSystemMetrics);\n\n      const result = await controller.getSystemMetrics();\n\n      expect(result).toEqual(mockSystemMetrics);\n      expect(healthService.getSystemMetrics).toHaveBeenCalled();\n    });\n\n    it('should return system metrics structure', async () => {\n      mockHealthService.getSystemMetrics.mockResolvedValue(mockSystemMetrics);\n\n      const result = await controller.getSystemMetrics();\n\n      expect(result).toHaveProperty('memory');\n      expect(result).toHaveProperty('cpu');\n      expect(result).toHaveProperty('disk');\n      expect(result).toHaveProperty('network');\n      expect(result).toHaveProperty('nodejs');\n\n      // Validate memory metrics\n      expect(result.memory).toHaveProperty('used');\n      expect(result.memory).toHaveProperty('free');\n      expect(result.memory).toHaveProperty('total');\n      expect(result.memory).toHaveProperty('percentage');\n\n      // Validate CPU metrics\n      expect(result.cpu).toHaveProperty('usage');\n      expect(result.cpu).toHaveProperty('loadAverage');\n      expect(result.cpu).toHaveProperty('cores');\n      expect(Array.isArray(result.cpu.loadAverage)).toBe(true);\n\n      // Validate Node.js metrics\n      expect(result.nodejs).toHaveProperty('version');\n      expect(result.nodejs).toHaveProperty('uptime');\n      expect(result.nodejs).toHaveProperty('pid');\n    });\n\n    it('should validate memory calculations', async () => {\n      mockHealthService.getSystemMetrics.mockResolvedValue(mockSystemMetrics);\n\n      const result = await controller.getSystemMetrics();\n\n      expect(result.memory.used + result.memory.free).toBe(result.memory.total);\n      expect(result.memory.percentage).toBeGreaterThanOrEqual(0);\n      expect(result.memory.percentage).toBeLessThanOrEqual(100);\n    });\n\n    it('should validate disk calculations', async () => {\n      mockHealthService.getSystemMetrics.mockResolvedValue(mockSystemMetrics);\n\n      const result = await controller.getSystemMetrics();\n\n      expect(result.disk.used + result.disk.free).toBe(result.disk.total);\n      expect(result.disk.percentage).toBeGreaterThanOrEqual(0);\n      expect(result.disk.percentage).toBeLessThanOrEqual(100);\n    });\n\n    it('should validate network metrics', async () => {\n      mockHealthService.getSystemMetrics.mockResolvedValue(mockSystemMetrics);\n\n      const result = await controller.getSystemMetrics();\n\n      expect(typeof result.network.bytesReceived).toBe('number');\n      expect(typeof result.network.bytesSent).toBe('number');\n      expect(typeof result.network.packetsReceived).toBe('number');\n      expect(typeof result.network.packetsSent).toBe('number');\n      expect(result.network.bytesReceived).toBeGreaterThanOrEqual(0);\n      expect(result.network.bytesSent).toBeGreaterThanOrEqual(0);\n    });\n  });\n\n  describe('GET /health/admin', () => {\n    it('should return admin health dashboard successfully', async () => {\n      mockHealthService.getAdminHealthDashboard.mockResolvedValue(mockAdminHealth);\n\n      const result = await controller.getAdminHealth();\n\n      expect(result).toEqual(mockAdminHealth);\n      expect(healthService.getAdminHealthDashboard).toHaveBeenCalled();\n    });\n\n    it('should return admin dashboard structure', async () => {\n      mockHealthService.getAdminHealthDashboard.mockResolvedValue(mockAdminHealth);\n\n      const result = await controller.getAdminHealth();\n\n      expect(result).toHaveProperty('overview');\n      expect(result).toHaveProperty('alerts');\n      expect(result).toHaveProperty('performance');\n      expect(result).toHaveProperty('resources');\n\n      // Validate overview\n      expect(result.overview).toHaveProperty('status');\n      expect(result.overview).toHaveProperty('uptime');\n      expect(result.overview).toHaveProperty('errorRate');\n\n      // Validate alerts\n      expect(Array.isArray(result.alerts)).toBe(true);\n      if (result.alerts.length > 0) {\n        result.alerts.forEach(alert => {\n          expect(alert).toHaveProperty('severity');\n          expect(alert).toHaveProperty('message');\n          expect(alert).toHaveProperty('timestamp');\n          expect(alert).toHaveProperty('resolved');\n          expect(['low', 'medium', 'high', 'critical']).toContain(alert.severity);\n        });\n      }\n\n      // Validate performance\n      expect(result.performance).toHaveProperty('averageResponseTime');\n      expect(result.performance).toHaveProperty('requestsPerMinute');\n      expect(result.performance).toHaveProperty('activeConnections');\n    });\n\n    it('should handle critical alerts', async () => {\n      const criticalAlertsHealth = {\n        ...mockAdminHealth,\n        alerts: [\n          {\n            severity: 'critical',\n            message: 'Database connection pool exhausted',\n            timestamp: '2024-02-14T10:00:00Z',\n            resolved: false,\n          },\n          {\n            severity: 'critical',\n            message: 'Memory usage above 90%',\n            timestamp: '2024-02-14T09:45:00Z',\n            resolved: false,\n          },\n        ],\n      };\n      mockHealthService.getAdminHealthDashboard.mockResolvedValue(criticalAlertsHealth);\n\n      const result = await controller.getAdminHealth();\n\n      const criticalAlerts = result.alerts.filter(alert => alert.severity === 'critical');\n      expect(criticalAlerts.length).toBe(2);\n      expect(criticalAlerts.every(alert => !alert.resolved)).toBe(true);\n    });\n\n    it('should validate performance metrics ranges', async () => {\n      mockHealthService.getAdminHealthDashboard.mockResolvedValue(mockAdminHealth);\n\n      const result = await controller.getAdminHealth();\n\n      expect(result.performance.averageResponseTime).toBeGreaterThan(0);\n      expect(result.performance.requestsPerMinute).toBeGreaterThanOrEqual(0);\n      expect(result.performance.activeConnections).toBeGreaterThanOrEqual(0);\n      expect(result.performance.errorCount).toBeGreaterThanOrEqual(0);\n      expect(result.overview.errorRate).toBeGreaterThanOrEqual(0);\n      expect(result.overview.errorRate).toBeLessThanOrEqual(1);\n    });\n  });\n\n  describe('Response Format Validation', () => {\n    it('should return properly formatted basic health response', async () => {\n      mockHealthService.getBasicHealth.mockResolvedValue(mockBasicHealth);\n\n      const result = await controller.getHealth();\n\n      TestAssertions.expectValidEntity(result, ['status', 'timestamp', 'uptime', 'version']);\n      expect(typeof result.status).toBe('string');\n      expect(typeof result.timestamp).toBe('string');\n      expect(typeof result.uptime).toBe('number');\n      expect(typeof result.version).toBe('string');\n    });\n\n    it('should return properly formatted detailed health response', async () => {\n      mockHealthService.getDetailedHealth.mockResolvedValue(mockDetailedHealth);\n\n      const result = await controller.getDetailedHealth();\n\n      TestAssertions.expectValidEntity(result, ['status', 'database', 'services', 'system']);\n      expect(typeof result.database.responseTime).toBe('number');\n      expect(typeof result.system.memory.percentage).toBe('number');\n      expect(Array.isArray(result.system.cpu.loadAverage)).toBe(true);\n    });\n\n    it('should return properly formatted system metrics', async () => {\n      mockHealthService.getSystemMetrics.mockResolvedValue(mockSystemMetrics);\n\n      const result = await controller.getSystemMetrics();\n\n      TestAssertions.expectValidEntity(result, ['memory', 'cpu', 'disk', 'network', 'nodejs']);\n      expect(typeof result.nodejs.version).toBe('string');\n      expect(typeof result.nodejs.pid).toBe('number');\n      expect(result.nodejs.version).toMatch(/^v\\d+\\.\\d+\\.\\d+$/);\n    });\n  });\n\n  describe('Error Handling', () => {\n    it('should handle service unavailable scenarios', async () => {\n      const serviceError = new Error('Health service temporarily unavailable');\n      mockHealthService.getBasicHealth.mockRejectedValue(serviceError);\n\n      await expect(controller.getHealth()).rejects.toThrow(serviceError);\n    });\n\n    it('should handle database connection errors gracefully', async () => {\n      const dbError = new Error('Database connection timeout');\n      mockHealthService.getDatabaseHealth.mockRejectedValue(dbError);\n\n      await expect(controller.getDatabaseHealth()).rejects.toThrow(dbError);\n    });\n\n    it('should handle system metrics collection errors', async () => {\n      const metricsError = new Error('Failed to collect system metrics');\n      mockHealthService.getSystemMetrics.mockRejectedValue(metricsError);\n\n      await expect(controller.getSystemMetrics()).rejects.toThrow(metricsError);\n    });\n\n    it('should properly format error responses', async () => {\n      mockHealthService.getDetailedHealth.mockResolvedValue(mockUnhealthyDetailed);\n\n      try {\n        await controller.getDetailedHealth();\n      } catch (error) {\n        expect(error).toBeInstanceOf(HttpException);\n        expect(error.getStatus()).toBe(HttpStatus.SERVICE_UNAVAILABLE);\n        \n        const response = error.getResponse();\n        expect(response).toHaveProperty('status');\n        expect(response).toHaveProperty('errors');\n        expect(response.status).toBe('error');\n        expect(Array.isArray(response.errors)).toBe(true);\n      }\n    });\n  });\n\n  describe('Integration Tests', () => {\n    it('should handle complete health monitoring workflow', async () => {\n      // Basic health check\n      mockHealthService.getBasicHealth.mockResolvedValue(mockBasicHealth);\n      const basicResult = await controller.getHealth();\n      expect(basicResult.status).toBe('ok');\n\n      // Detailed health check\n      mockHealthService.getDetailedHealth.mockResolvedValue(mockDetailedHealth);\n      const detailedResult = await controller.getDetailedHealth();\n      expect(detailedResult.database.status).toBe('connected');\n\n      // System metrics\n      mockHealthService.getSystemMetrics.mockResolvedValue(mockSystemMetrics);\n      const metricsResult = await controller.getSystemMetrics();\n      expect(metricsResult.memory.percentage).toBeLessThan(100);\n\n      // Services health\n      mockHealthService.getServicesHealth.mockResolvedValue(mockServicesHealth);\n      const servicesResult = await controller.getServicesHealth();\n      expect(servicesResult.supabase.status).toBe('ok');\n    });\n\n    it('should handle degraded system performance scenarios', async () => {\n      const degradedHealth = {\n        ...mockDetailedHealth,\n        system: {\n          memory: { ...mockDetailedHealth.system.memory, percentage: 85 },\n          cpu: { ...mockDetailedHealth.system.cpu, usage: 90 },\n        },\n      };\n      mockHealthService.getDetailedHealth.mockResolvedValue(degradedHealth);\n\n      const result = await controller.getDetailedHealth();\n\n      expect(result.system.memory.percentage).toBeGreaterThan(80);\n      expect(result.system.cpu.usage).toBeGreaterThan(80);\n    });\n\n    it('should validate cross-service consistency', async () => {\n      // Get system metrics\n      mockHealthService.getSystemMetrics.mockResolvedValue(mockSystemMetrics);\n      const systemResult = await controller.getSystemMetrics();\n\n      // Get admin dashboard\n      const adminHealthWithConsistentData = {\n        ...mockAdminHealth,\n        resources: {\n          memory: systemResult.memory,\n          cpu: systemResult.cpu,\n          database: mockDatabaseHealth,\n          storage: systemResult.disk,\n        },\n      };\n      mockHealthService.getAdminHealthDashboard.mockResolvedValue(adminHealthWithConsistentData);\n      const adminResult = await controller.getAdminHealth();\n\n      // Verify consistency between system metrics and admin dashboard\n      expect(adminResult.resources.memory).toEqual(systemResult.memory);\n      expect(adminResult.resources.cpu).toEqual(systemResult.cpu);\n    });\n  });\n});"],"version":3}