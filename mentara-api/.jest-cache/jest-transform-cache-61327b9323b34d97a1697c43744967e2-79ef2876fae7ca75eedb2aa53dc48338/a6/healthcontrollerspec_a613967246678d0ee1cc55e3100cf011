0c0c06809c743457fa3e5e9c90380399
"use strict";
/**
 * Comprehensive Test Suite for HealthController
 * Tests health check endpoints for monitoring system status
 */
Object.defineProperty(exports, "__esModule", { value: true });
const testing_1 = require("@nestjs/testing");
const common_1 = require("@nestjs/common");
const health_controller_1 = require("./health.controller");
const health_service_1 = require("./health.service");
const enhanced_test_helpers_1 = require("../test-utils/enhanced-test-helpers");
describe('HealthController', () => {
    let controller;
    let healthService;
    let module;
    // Mock HealthService
    const mockHealthService = {
        getBasicHealth: jest.fn(),
        getDetailedHealth: jest.fn(),
        getDatabaseHealth: jest.fn(),
        getServicesHealth: jest.fn(),
        getSystemMetrics: jest.fn(),
        getAdminHealthDashboard: jest.fn(),
    };
    // Test data
    const mockBasicHealth = {
        status: 'ok',
        timestamp: '2024-02-14T10:00:00Z',
        uptime: 86400, // 24 hours in seconds
        version: '1.0.0',
    };
    const mockDetailedHealth = {
        status: 'ok',
        timestamp: '2024-02-14T10:00:00Z',
        uptime: 86400,
        version: '1.0.0',
        database: {
            status: 'connected',
            responseTime: 45,
            connections: 12,
        },
        services: {
            supabase: 'ok',
            stripe: 'ok',
            emailService: 'ok',
        },
        system: {
            memory: {
                used: 2147483648, // 2GB
                total: 8589934592, // 8GB
                percentage: 25,
            },
            cpu: {
                usage: 15.5,
                loadAverage: [0.8, 0.9, 1.1],
            },
        },
    };
    const mockUnhealthyDetailed = {
        status: 'error',
        timestamp: '2024-02-14T10:00:00Z',
        errors: ['Database connection failed', 'Email service unreachable'],
    };
    const mockDatabaseHealth = {
        status: 'connected',
        responseTime: 32,
        connections: {
            active: 8,
            idle: 4,
            total: 12,
        },
        queryStats: {
            totalQueries: 15847,
            averageQueryTime: 23.5,
            slowQueries: 12,
        },
        lastBackup: '2024-02-14T03:00:00Z',
    };
    const mockDatabaseUnhealthy = {
        status: 'disconnected',
        error: 'Connection timeout',
        timestamp: '2024-02-14T10:00:00Z',
    };
    const mockServicesHealth = {
        supabase: {
            status: 'ok',
            responseTime: 156,
            region: 'us-east-1',
        },
        stripe: {
            status: 'ok',
            responseTime: 234,
            webhooksProcessed: 1247,
        },
        emailService: {
            status: 'ok',
            responseTime: 89,
            emailsSent: 5623,
            failureRate: 0.02,
        },
        aiService: {
            status: 'ok',
            responseTime: 456,
            assessmentsProcessed: 234,
        },
    };
    const mockSystemMetrics = {
        memory: {
            used: 2147483648,
            free: 6442450944,
            total: 8589934592,
            percentage: 25,
        },
        cpu: {
            usage: 15.5,
            loadAverage: [0.8, 0.9, 1.1],
            cores: 4,
        },
        disk: {
            used: 107374182400, // 100GB
            free: 429496729600, // 400GB
            total: 536870912000, // 500GB
            percentage: 20,
        },
        network: {
            bytesReceived: 1073741824,
            bytesSent: 536870912,
            packetsReceived: 1000000,
            packetsSent: 750000,
        },
        nodejs: {
            version: 'v18.17.0',
            uptime: 86400,
            pid: 12345,
        },
    };
    const mockAdminHealth = {
        overview: {
            status: 'healthy',
            uptime: 86400,
            lastRestart: '2024-02-13T10:00:00Z',
            errorRate: 0.01,
        },
        alerts: [
            {
                severity: 'medium',
                message: 'High memory usage detected',
                timestamp: '2024-02-14T09:30:00Z',
                resolved: false,
            },
            {
                severity: 'low',
                message: 'Slow query detected',
                timestamp: '2024-02-14T08:15:00Z',
                resolved: true,
            },
        ],
        performance: {
            averageResponseTime: 156,
            requestsPerMinute: 234,
            activeConnections: 89,
            errorCount: 12,
        },
        resources: {
            memory: mockSystemMetrics.memory,
            cpu: mockSystemMetrics.cpu,
            database: mockDatabaseHealth,
            storage: mockSystemMetrics.disk,
        },
    };
    beforeEach(async () => {
        module = await testing_1.Test.createTestingModule({
            controllers: [health_controller_1.HealthController],
            providers: [
                {
                    provide: health_service_1.HealthService,
                    useValue: mockHealthService,
                },
            ],
        }).compile();
        controller = module.get(health_controller_1.HealthController);
        healthService = module.get(health_service_1.HealthService);
    });
    afterEach(() => {
        jest.clearAllMocks();
    });
    describe('Controller Initialization', () => {
        it('should be defined', () => {
            expect(controller).toBeDefined();
        });
        it('should have healthService injected', () => {
            expect(healthService).toBeDefined();
        });
    });
    describe('Security Configuration', () => {
        it('should have proper route decorators', () => {
            const controllerMetadata = Reflect.getMetadata('path', health_controller_1.HealthController);
            expect(controllerMetadata).toBe('health');
        });
        it('should have public endpoints for basic health checks', () => {
            const publicMethods = ['getHealth', 'getDetailedHealth', 'getDatabaseHealth', 'getServicesHealth', 'getSystemMetrics'];
            publicMethods.forEach(method => {
                const isPublic = Reflect.getMetadata('isPublic', controller[method]);
                expect(isPublic).toBe(true);
            });
        });
        it('should have protected admin endpoint', () => {
            const isPublic = Reflect.getMetadata('isPublic', controller.getAdminHealth);
            expect(isPublic).toBeFalsy();
        });
    });
    describe('GET /health', () => {
        it('should return basic health status successfully', async () => {
            mockHealthService.getBasicHealth.mockResolvedValue(mockBasicHealth);
            const result = await controller.getHealth();
            expect(result).toEqual(mockBasicHealth);
            expect(healthService.getBasicHealth).toHaveBeenCalled();
        });
        it('should return proper health structure', async () => {
            mockHealthService.getBasicHealth.mockResolvedValue(mockBasicHealth);
            const result = await controller.getHealth();
            expect(result).toHaveProperty('status');
            expect(result).toHaveProperty('timestamp');
            expect(result).toHaveProperty('uptime');
            expect(result).toHaveProperty('version');
            expect(result.status).toBe('ok');
            expect(typeof result.uptime).toBe('number');
        });
        it('should handle service errors gracefully', async () => {
            const serviceError = new Error('Health service unavailable');
            mockHealthService.getBasicHealth.mockRejectedValue(serviceError);
            await expect(controller.getHealth()).rejects.toThrow(serviceError);
        });
    });
    describe('GET /health/detailed', () => {
        it('should return detailed health status successfully', async () => {
            mockHealthService.getDetailedHealth.mockResolvedValue(mockDetailedHealth);
            const result = await controller.getDetailedHealth();
            expect(result).toEqual(mockDetailedHealth);
            expect(healthService.getDetailedHealth).toHaveBeenCalled();
        });
        it('should return comprehensive health structure', async () => {
            mockHealthService.getDetailedHealth.mockResolvedValue(mockDetailedHealth);
            const result = await controller.getDetailedHealth();
            expect(result).toHaveProperty('status');
            expect(result).toHaveProperty('database');
            expect(result).toHaveProperty('services');
            expect(result).toHaveProperty('system');
            expect(result.database).toHaveProperty('status');
            expect(result.database).toHaveProperty('responseTime');
            expect(result.system).toHaveProperty('memory');
            expect(result.system).toHaveProperty('cpu');
        });
        it('should throw SERVICE_UNAVAILABLE when status is error', async () => {
            mockHealthService.getDetailedHealth.mockResolvedValue(mockUnhealthyDetailed);
            await expect(controller.getDetailedHealth()).rejects.toThrow(common_1.HttpException);
            try {
                await controller.getDetailedHealth();
            }
            catch (error) {
                expect(error).toBeInstanceOf(common_1.HttpException);
                expect(error.getStatus()).toBe(common_1.HttpStatus.SERVICE_UNAVAILABLE);
                expect(error.getResponse()).toEqual(mockUnhealthyDetailed);
            }
        });
        it('should validate error response structure', async () => {
            mockHealthService.getDetailedHealth.mockResolvedValue(mockUnhealthyDetailed);
            try {
                await controller.getDetailedHealth();
            }
            catch (error) {
                const response = error.getResponse();
                expect(response).toHaveProperty('status');
                expect(response).toHaveProperty('errors');
                expect(response).toHaveProperty('timestamp');
                expect(response.status).toBe('error');
                expect(Array.isArray(response.errors)).toBe(true);
            }
        });
    });
    describe('GET /health/database', () => {
        it('should return database health status successfully', async () => {
            mockHealthService.getDatabaseHealth.mockResolvedValue(mockDatabaseHealth);
            const result = await controller.getDatabaseHealth();
            expect(result).toEqual(mockDatabaseHealth);
            expect(healthService.getDatabaseHealth).toHaveBeenCalled();
        });
        it('should return database metrics structure', async () => {
            mockHealthService.getDatabaseHealth.mockResolvedValue(mockDatabaseHealth);
            const result = await controller.getDatabaseHealth();
            expect(result).toHaveProperty('status');
            expect(result).toHaveProperty('responseTime');
            expect(result).toHaveProperty('connections');
            expect(result).toHaveProperty('queryStats');
            expect(result.connections).toHaveProperty('active');
            expect(result.connections).toHaveProperty('idle');
            expect(result.connections).toHaveProperty('total');
            expect(result.queryStats).toHaveProperty('totalQueries');
            expect(result.queryStats).toHaveProperty('averageQueryTime');
        });
        it('should throw SERVICE_UNAVAILABLE when database is disconnected', async () => {
            mockHealthService.getDatabaseHealth.mockResolvedValue(mockDatabaseUnhealthy);
            await expect(controller.getDatabaseHealth()).rejects.toThrow(common_1.HttpException);
            try {
                await controller.getDatabaseHealth();
            }
            catch (error) {
                expect(error).toBeInstanceOf(common_1.HttpException);
                expect(error.getStatus()).toBe(common_1.HttpStatus.SERVICE_UNAVAILABLE);
                expect(error.getResponse()).toEqual(mockDatabaseUnhealthy);
            }
        });
        it('should handle database connection timeouts', async () => {
            const timeoutResponse = {
                status: 'disconnected',
                error: 'Connection timeout after 5000ms',
                timestamp: '2024-02-14T10:00:00Z',
            };
            mockHealthService.getDatabaseHealth.mockResolvedValue(timeoutResponse);
            try {
                await controller.getDatabaseHealth();
            }
            catch (error) {
                expect(error.getResponse().error).toContain('timeout');
            }
        });
    });
    describe('GET /health/services', () => {
        it('should return services health status successfully', async () => {
            mockHealthService.getServicesHealth.mockResolvedValue(mockServicesHealth);
            const result = await controller.getServicesHealth();
            expect(result).toEqual(mockServicesHealth);
            expect(healthService.getServicesHealth).toHaveBeenCalled();
        });
        it('should return services metrics structure', async () => {
            mockHealthService.getServicesHealth.mockResolvedValue(mockServicesHealth);
            const result = await controller.getServicesHealth();
            expect(result).toHaveProperty('supabase');
            expect(result).toHaveProperty('stripe');
            expect(result).toHaveProperty('emailService');
            expect(result).toHaveProperty('aiService');
            // Validate supabase metrics
            expect(result.supabase).toHaveProperty('status');
            expect(result.supabase).toHaveProperty('responseTime');
            expect(result.supabase).toHaveProperty('region');
            // Validate stripe metrics
            expect(result.stripe).toHaveProperty('status');
            expect(result.stripe).toHaveProperty('responseTime');
            expect(result.stripe).toHaveProperty('webhooksProcessed');
            // Validate email service metrics
            expect(result.emailService).toHaveProperty('status');
            expect(result.emailService).toHaveProperty('emailsSent');
            expect(result.emailService).toHaveProperty('failureRate');
        });
        it('should handle mixed service status', async () => {
            const mixedServicesHealth = {
                ...mockServicesHealth,
                emailService: {
                    status: 'error',
                    responseTime: 5000,
                    emailsSent: 5623,
                    failureRate: 0.15,
                    error: 'SMTP server unreachable',
                },
            };
            mockHealthService.getServicesHealth.mockResolvedValue(mixedServicesHealth);
            const result = await controller.getServicesHealth();
            expect(result.supabase.status).toBe('ok');
            expect(result.emailService.status).toBe('error');
            expect(result.emailService.failureRate).toBeGreaterThan(0.1);
        });
        it('should validate response time metrics', async () => {
            mockHealthService.getServicesHealth.mockResolvedValue(mockServicesHealth);
            const result = await controller.getServicesHealth();
            Object.values(result).forEach((service) => {
                expect(service).toHaveProperty('responseTime');
                expect(typeof service.responseTime).toBe('number');
                expect(service.responseTime).toBeGreaterThan(0);
            });
        });
    });
    describe('GET /health/system', () => {
        it('should return system metrics successfully', async () => {
            mockHealthService.getSystemMetrics.mockResolvedValue(mockSystemMetrics);
            const result = await controller.getSystemMetrics();
            expect(result).toEqual(mockSystemMetrics);
            expect(healthService.getSystemMetrics).toHaveBeenCalled();
        });
        it('should return system metrics structure', async () => {
            mockHealthService.getSystemMetrics.mockResolvedValue(mockSystemMetrics);
            const result = await controller.getSystemMetrics();
            expect(result).toHaveProperty('memory');
            expect(result).toHaveProperty('cpu');
            expect(result).toHaveProperty('disk');
            expect(result).toHaveProperty('network');
            expect(result).toHaveProperty('nodejs');
            // Validate memory metrics
            expect(result.memory).toHaveProperty('used');
            expect(result.memory).toHaveProperty('free');
            expect(result.memory).toHaveProperty('total');
            expect(result.memory).toHaveProperty('percentage');
            // Validate CPU metrics
            expect(result.cpu).toHaveProperty('usage');
            expect(result.cpu).toHaveProperty('loadAverage');
            expect(result.cpu).toHaveProperty('cores');
            expect(Array.isArray(result.cpu.loadAverage)).toBe(true);
            // Validate Node.js metrics
            expect(result.nodejs).toHaveProperty('version');
            expect(result.nodejs).toHaveProperty('uptime');
            expect(result.nodejs).toHaveProperty('pid');
        });
        it('should validate memory calculations', async () => {
            mockHealthService.getSystemMetrics.mockResolvedValue(mockSystemMetrics);
            const result = await controller.getSystemMetrics();
            expect(result.memory.used + result.memory.free).toBe(result.memory.total);
            expect(result.memory.percentage).toBeGreaterThanOrEqual(0);
            expect(result.memory.percentage).toBeLessThanOrEqual(100);
        });
        it('should validate disk calculations', async () => {
            mockHealthService.getSystemMetrics.mockResolvedValue(mockSystemMetrics);
            const result = await controller.getSystemMetrics();
            expect(result.disk.used + result.disk.free).toBe(result.disk.total);
            expect(result.disk.percentage).toBeGreaterThanOrEqual(0);
            expect(result.disk.percentage).toBeLessThanOrEqual(100);
        });
        it('should validate network metrics', async () => {
            mockHealthService.getSystemMetrics.mockResolvedValue(mockSystemMetrics);
            const result = await controller.getSystemMetrics();
            expect(typeof result.network.bytesReceived).toBe('number');
            expect(typeof result.network.bytesSent).toBe('number');
            expect(typeof result.network.packetsReceived).toBe('number');
            expect(typeof result.network.packetsSent).toBe('number');
            expect(result.network.bytesReceived).toBeGreaterThanOrEqual(0);
            expect(result.network.bytesSent).toBeGreaterThanOrEqual(0);
        });
    });
    describe('GET /health/admin', () => {
        it('should return admin health dashboard successfully', async () => {
            mockHealthService.getAdminHealthDashboard.mockResolvedValue(mockAdminHealth);
            const result = await controller.getAdminHealth();
            expect(result).toEqual(mockAdminHealth);
            expect(healthService.getAdminHealthDashboard).toHaveBeenCalled();
        });
        it('should return admin dashboard structure', async () => {
            mockHealthService.getAdminHealthDashboard.mockResolvedValue(mockAdminHealth);
            const result = await controller.getAdminHealth();
            expect(result).toHaveProperty('overview');
            expect(result).toHaveProperty('alerts');
            expect(result).toHaveProperty('performance');
            expect(result).toHaveProperty('resources');
            // Validate overview
            expect(result.overview).toHaveProperty('status');
            expect(result.overview).toHaveProperty('uptime');
            expect(result.overview).toHaveProperty('errorRate');
            // Validate alerts
            expect(Array.isArray(result.alerts)).toBe(true);
            if (result.alerts.length > 0) {
                result.alerts.forEach(alert => {
                    expect(alert).toHaveProperty('severity');
                    expect(alert).toHaveProperty('message');
                    expect(alert).toHaveProperty('timestamp');
                    expect(alert).toHaveProperty('resolved');
                    expect(['low', 'medium', 'high', 'critical']).toContain(alert.severity);
                });
            }
            // Validate performance
            expect(result.performance).toHaveProperty('averageResponseTime');
            expect(result.performance).toHaveProperty('requestsPerMinute');
            expect(result.performance).toHaveProperty('activeConnections');
        });
        it('should handle critical alerts', async () => {
            const criticalAlertsHealth = {
                ...mockAdminHealth,
                alerts: [
                    {
                        severity: 'critical',
                        message: 'Database connection pool exhausted',
                        timestamp: '2024-02-14T10:00:00Z',
                        resolved: false,
                    },
                    {
                        severity: 'critical',
                        message: 'Memory usage above 90%',
                        timestamp: '2024-02-14T09:45:00Z',
                        resolved: false,
                    },
                ],
            };
            mockHealthService.getAdminHealthDashboard.mockResolvedValue(criticalAlertsHealth);
            const result = await controller.getAdminHealth();
            const criticalAlerts = result.alerts.filter(alert => alert.severity === 'critical');
            expect(criticalAlerts.length).toBe(2);
            expect(criticalAlerts.every(alert => !alert.resolved)).toBe(true);
        });
        it('should validate performance metrics ranges', async () => {
            mockHealthService.getAdminHealthDashboard.mockResolvedValue(mockAdminHealth);
            const result = await controller.getAdminHealth();
            expect(result.performance.averageResponseTime).toBeGreaterThan(0);
            expect(result.performance.requestsPerMinute).toBeGreaterThanOrEqual(0);
            expect(result.performance.activeConnections).toBeGreaterThanOrEqual(0);
            expect(result.performance.errorCount).toBeGreaterThanOrEqual(0);
            expect(result.overview.errorRate).toBeGreaterThanOrEqual(0);
            expect(result.overview.errorRate).toBeLessThanOrEqual(1);
        });
    });
    describe('Response Format Validation', () => {
        it('should return properly formatted basic health response', async () => {
            mockHealthService.getBasicHealth.mockResolvedValue(mockBasicHealth);
            const result = await controller.getHealth();
            enhanced_test_helpers_1.TestAssertions.expectValidEntity(result, ['status', 'timestamp', 'uptime', 'version']);
            expect(typeof result.status).toBe('string');
            expect(typeof result.timestamp).toBe('string');
            expect(typeof result.uptime).toBe('number');
            expect(typeof result.version).toBe('string');
        });
        it('should return properly formatted detailed health response', async () => {
            mockHealthService.getDetailedHealth.mockResolvedValue(mockDetailedHealth);
            const result = await controller.getDetailedHealth();
            enhanced_test_helpers_1.TestAssertions.expectValidEntity(result, ['status', 'database', 'services', 'system']);
            expect(typeof result.database.responseTime).toBe('number');
            expect(typeof result.system.memory.percentage).toBe('number');
            expect(Array.isArray(result.system.cpu.loadAverage)).toBe(true);
        });
        it('should return properly formatted system metrics', async () => {
            mockHealthService.getSystemMetrics.mockResolvedValue(mockSystemMetrics);
            const result = await controller.getSystemMetrics();
            enhanced_test_helpers_1.TestAssertions.expectValidEntity(result, ['memory', 'cpu', 'disk', 'network', 'nodejs']);
            expect(typeof result.nodejs.version).toBe('string');
            expect(typeof result.nodejs.pid).toBe('number');
            expect(result.nodejs.version).toMatch(/^v\d+\.\d+\.\d+$/);
        });
    });
    describe('Error Handling', () => {
        it('should handle service unavailable scenarios', async () => {
            const serviceError = new Error('Health service temporarily unavailable');
            mockHealthService.getBasicHealth.mockRejectedValue(serviceError);
            await expect(controller.getHealth()).rejects.toThrow(serviceError);
        });
        it('should handle database connection errors gracefully', async () => {
            const dbError = new Error('Database connection timeout');
            mockHealthService.getDatabaseHealth.mockRejectedValue(dbError);
            await expect(controller.getDatabaseHealth()).rejects.toThrow(dbError);
        });
        it('should handle system metrics collection errors', async () => {
            const metricsError = new Error('Failed to collect system metrics');
            mockHealthService.getSystemMetrics.mockRejectedValue(metricsError);
            await expect(controller.getSystemMetrics()).rejects.toThrow(metricsError);
        });
        it('should properly format error responses', async () => {
            mockHealthService.getDetailedHealth.mockResolvedValue(mockUnhealthyDetailed);
            try {
                await controller.getDetailedHealth();
            }
            catch (error) {
                expect(error).toBeInstanceOf(common_1.HttpException);
                expect(error.getStatus()).toBe(common_1.HttpStatus.SERVICE_UNAVAILABLE);
                const response = error.getResponse();
                expect(response).toHaveProperty('status');
                expect(response).toHaveProperty('errors');
                expect(response.status).toBe('error');
                expect(Array.isArray(response.errors)).toBe(true);
            }
        });
    });
    describe('Integration Tests', () => {
        it('should handle complete health monitoring workflow', async () => {
            // Basic health check
            mockHealthService.getBasicHealth.mockResolvedValue(mockBasicHealth);
            const basicResult = await controller.getHealth();
            expect(basicResult.status).toBe('ok');
            // Detailed health check
            mockHealthService.getDetailedHealth.mockResolvedValue(mockDetailedHealth);
            const detailedResult = await controller.getDetailedHealth();
            expect(detailedResult.database.status).toBe('connected');
            // System metrics
            mockHealthService.getSystemMetrics.mockResolvedValue(mockSystemMetrics);
            const metricsResult = await controller.getSystemMetrics();
            expect(metricsResult.memory.percentage).toBeLessThan(100);
            // Services health
            mockHealthService.getServicesHealth.mockResolvedValue(mockServicesHealth);
            const servicesResult = await controller.getServicesHealth();
            expect(servicesResult.supabase.status).toBe('ok');
        });
        it('should handle degraded system performance scenarios', async () => {
            const degradedHealth = {
                ...mockDetailedHealth,
                system: {
                    memory: { ...mockDetailedHealth.system.memory, percentage: 85 },
                    cpu: { ...mockDetailedHealth.system.cpu, usage: 90 },
                },
            };
            mockHealthService.getDetailedHealth.mockResolvedValue(degradedHealth);
            const result = await controller.getDetailedHealth();
            expect(result.system.memory.percentage).toBeGreaterThan(80);
            expect(result.system.cpu.usage).toBeGreaterThan(80);
        });
        it('should validate cross-service consistency', async () => {
            // Get system metrics
            mockHealthService.getSystemMetrics.mockResolvedValue(mockSystemMetrics);
            const systemResult = await controller.getSystemMetrics();
            // Get admin dashboard
            const adminHealthWithConsistentData = {
                ...mockAdminHealth,
                resources: {
                    memory: systemResult.memory,
                    cpu: systemResult.cpu,
                    database: mockDatabaseHealth,
                    storage: systemResult.disk,
                },
            };
            mockHealthService.getAdminHealthDashboard.mockResolvedValue(adminHealthWithConsistentData);
            const adminResult = await controller.getAdminHealth();
            // Verify consistency between system metrics and admin dashboard
            expect(adminResult.resources.memory).toEqual(systemResult.memory);
            expect(adminResult.resources.cpu).toEqual(systemResult.cpu);
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvd2V0b29hL0RvY3VtZW50cy9jb2RlL3Byb2plY3RzL21lbnRhcmEvbWVudGFyYS1hcGkvc3JjL2hlYWx0aC9oZWFsdGguY29udHJvbGxlci5zcGVjLnRzIiwibWFwcGluZ3MiOiI7QUFBQTs7O0dBR0c7O0FBRUgsNkNBQXNEO0FBQ3RELDJDQUEyRDtBQUMzRCwyREFBdUQ7QUFDdkQscURBQWlEO0FBRWpELCtFQUFxRztBQUdyRyxRQUFRLENBQUMsa0JBQWtCLEVBQUUsR0FBRyxFQUFFO0lBQ2hDLElBQUksVUFBNEIsQ0FBQztJQUNqQyxJQUFJLGFBQTRCLENBQUM7SUFDakMsSUFBSSxNQUFxQixDQUFDO0lBRTFCLHFCQUFxQjtJQUNyQixNQUFNLGlCQUFpQixHQUFHO1FBQ3hCLGNBQWMsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO1FBQ3pCLGlCQUFpQixFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7UUFDNUIsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtRQUM1QixpQkFBaUIsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO1FBQzVCLGdCQUFnQixFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7UUFDM0IsdUJBQXVCLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtLQUNuQyxDQUFDO0lBRUYsWUFBWTtJQUNaLE1BQU0sZUFBZSxHQUFHO1FBQ3RCLE1BQU0sRUFBRSxJQUFJO1FBQ1osU0FBUyxFQUFFLHNCQUFzQjtRQUNqQyxNQUFNLEVBQUUsS0FBSyxFQUFFLHNCQUFzQjtRQUNyQyxPQUFPLEVBQUUsT0FBTztLQUNqQixDQUFDO0lBRUYsTUFBTSxrQkFBa0IsR0FBRztRQUN6QixNQUFNLEVBQUUsSUFBSTtRQUNaLFNBQVMsRUFBRSxzQkFBc0I7UUFDakMsTUFBTSxFQUFFLEtBQUs7UUFDYixPQUFPLEVBQUUsT0FBTztRQUNoQixRQUFRLEVBQUU7WUFDUixNQUFNLEVBQUUsV0FBVztZQUNuQixZQUFZLEVBQUUsRUFBRTtZQUNoQixXQUFXLEVBQUUsRUFBRTtTQUNoQjtR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MkNBQTJDLEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFDekQscUJBQXFCO1lBQ3JCLGlCQUFpQixDQUFDLGdCQUFnQixDQUFDLGlCQUFpQixDQUFDLGlCQUFpQixDQUFDLENBQUM7WUFDeEUsTUFBTSxZQUFZLEdBQUcsTUFBTSxVQUFVLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztZQUV6RCxzQkFBc0I7WUFDdEIsTUFBTSw2QkFBNkIsR0FBRztnQkFDcEMsR0FBRyxlQUFlO2dCQUNsQixTQUFTLEVBQUU7b0JBQ1QsTUFBTSxFQUFFLFlBQVksQ0FBQyxNQUFNO29CQUMzQixHQUFHLEVBQUUsWUFBWSxDQUFDLEdBQUc7b0JBQ3JCLFFBQVEsRUFBRSxrQkFBa0I7b0JBQzVCLE9BQU8sRUFBRSxZQUFZLENBQUMsSUFBSTtpQkFDM0I7YUFDRixDQUFDO1lBQ0YsaUJBQWlCLENBQUMsdUJBQXVCLENBQUMsaUJBQWlCLENBQUMsNkJBQTZCLENBQUMsQ0FBQztZQUMzRixNQUFNLFdBQVcsR0FBRyxNQUFNLFVBQVUsQ0FBQyxjQUFjLEVBQUUsQ0FBQztZQUV0RCxnRUFBZ0U7WUFDaEUsTUFBTSxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUNsRSxNQUFNLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzlELENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvaG9tZS93ZXRvb2EvRG9jdW1lbnRzL2NvZGUvcHJvamVjdHMvbWVudGFyYS9tZW50YXJhLWFwaS9zcmMvaGVhbHRoL2hlYWx0aC5jb250cm9sbGVyLnNwZWMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb21wcmVoZW5zaXZlIFRlc3QgU3VpdGUgZm9yIEhlYWx0aENvbnRyb2xsZXJcbiAqIFRlc3RzIGhlYWx0aCBjaGVjayBlbmRwb2ludHMgZm9yIG1vbml0b3Jpbmcgc3lzdGVtIHN0YXR1c1xuICovXG5cbmltcG9ydCB7IFRlc3QsIFRlc3RpbmdNb2R1bGUgfSBmcm9tICdAbmVzdGpzL3Rlc3RpbmcnO1xuaW1wb3J0IHsgSHR0cEV4Y2VwdGlvbiwgSHR0cFN0YXR1cyB9IGZyb20gJ0BuZXN0anMvY29tbW9uJztcbmltcG9ydCB7IEhlYWx0aENvbnRyb2xsZXIgfSBmcm9tICcuL2hlYWx0aC5jb250cm9sbGVyJztcbmltcG9ydCB7IEhlYWx0aFNlcnZpY2UgfSBmcm9tICcuL2hlYWx0aC5zZXJ2aWNlJztcbmltcG9ydCB7IFNlY3VyaXR5R3VhcmRUZXN0VXRpbHMsIFJvbGVCYXNlZFRlc3RVdGlscyB9IGZyb20gJy4uL3Rlc3QtdXRpbHMvYXV0aC10ZXN0aW5nLWhlbHBlcnMnO1xuaW1wb3J0IHsgTW9ja0J1aWxkZXIsIFRlc3REYXRhR2VuZXJhdG9yLCBUZXN0QXNzZXJ0aW9ucyB9IGZyb20gJy4uL3Rlc3QtdXRpbHMvZW5oYW5jZWQtdGVzdC1oZWxwZXJzJztcbmltcG9ydCB7IFRFU1RfVVNFUl9JRFMsIFRFU1RfRU1BSUxTIH0gZnJvbSAnLi4vdGVzdC11dGlscy9pbmRleCc7XG5cbmRlc2NyaWJlKCdIZWFsdGhDb250cm9sbGVyJywgKCkgPT4ge1xuICBsZXQgY29udHJvbGxlcjogSGVhbHRoQ29udHJvbGxlcjtcbiAgbGV0IGhlYWx0aFNlcnZpY2U6IEhlYWx0aFNlcnZpY2U7XG4gIGxldCBtb2R1bGU6IFRlc3RpbmdNb2R1bGU7XG5cbiAgLy8gTW9jayBIZWFsdGhTZXJ2aWNlXG4gIGNvbnN0IG1vY2tIZWFsdGhTZXJ2aWNlID0ge1xuICAgIGdldEJhc2ljSGVhbHRoOiBqZXN0LmZuKCksXG4gICAgZ2V0RGV0YWlsZWRIZWFsdGg6IGplc3QuZm4oKSxcbiAgICBnZXREYXRhYmFzZUhlYWx0aDogamVzdC5mbigpLFxuICAgIGdldFNlcnZpY2VzSGVhbHRoOiBqZXN0LmZuKCksXG4gICAgZ2V0U3lzdGVtTWV0cmljczogamVzdC5mbigpLFxuICAgIGdldEFkbWluSGVhbHRoRGFzaGJvYXJkOiBqZXN0LmZuKCksXG4gIH07XG5cbiAgLy8gVGVzdCBkYXRhXG4gIGNvbnN0IG1vY2tCYXNpY0hlYWx0aCA9IHtcbiAgICBzdGF0dXM6ICdvaycsXG4gICAgdGltZXN0YW1wOiAnMjAyNC0wMi0xNFQxMDowMDowMFonLFxuICAgIHVwdGltZTogODY0MDAsIC8vIDI0IGhvdXJzIGluIHNlY29uZHNcbiAgICB2ZXJzaW9uOiAnMS4wLjAnLFxuICB9O1xuXG4gIGNvbnN0IG1vY2tEZXRhaWxlZEhlYWx0aCA9IHtcbiAgICBzdGF0dXM6ICdvaycsXG4gICAgdGltZXN0YW1wOiAnMjAyNC0wMi0xNFQxMDowMDowMFonLFxuICAgIHVwdGltZTogODY0MDAsXG4gICAgdmVyc2lvbjogJzEuMC4wJyxcbiAgICBkYXRhYmFzZToge1xuICAgICAgc3RhdHVzOiAnY29ubmVjdGVkJyxcbiAgICAgIHJlc3BvbnNlVGltZTogNDUsXG4gICAgICBjb25uZWN0aW9uczogMTIsXG4gICAgfSxcbiAgICBzZXJ2aWNlczoge1xuICAgICAgc3VwYWJhc2U6ICdvaycsXG4gICAgICBzdHJpcGU6ICdvaycsXG4gICAgICBlbWFpbFNlcnZpY2U6ICdvaycsXG4gICAgfSxcbiAgICBzeXN0ZW06IHtcbiAgICAgIG1lbW9yeToge1xuICAgICAgICB1c2VkOiAyMTQ3NDgzNjQ4LCAvLyAyR0JcbiAgICAgICAgdG90YWw6IDg1ODk5MzQ1OTIsIC8vIDhHQlxuICAgICAgICBwZXJjZW50YWdlOiAyNSxcbiAgICAgIH0sXG4gICAgICBjcHU6IHtcbiAgICAgICAgdXNhZ2U6IDE1LjUsXG4gICAgICAgIGxvYWRBdmVyYWdlOiBbMC44LCAwLjksIDEuMV0sXG4gICAgICB9LFxuICAgIH0sXG4gIH07XG5cbiAgY29uc3QgbW9ja1VuaGVhbHRoeURldGFpbGVkID0ge1xuICAgIHN0YXR1czogJ2Vycm9yJyxcbiAgICB0aW1lc3RhbXA6ICcyMDI0LTAyLTE0VDEwOjAwOjAwWicsXG4gICAgZXJyb3JzOiBbJ0RhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkJywgJ0VtYWlsIHNlcnZpY2UgdW5yZWFjaGFibGUnXSxcbiAgfTtcblxuICBjb25zdCBtb2NrRGF0YWJhc2VIZWFsdGggPSB7XG4gICAgc3RhdHVzOiAnY29ubmVjdGVkJyxcbiAgICByZXNwb25zZVRpbWU6IDMyLFxuICAgIGNvbm5lY3Rpb25zOiB7XG4gICAgICBhY3RpdmU6IDgsXG4gICAgICBpZGxlOiA0LFxuICAgICAgdG90YWw6IDEyLFxuICAgIH0sXG4gICAgcXVlcnlTdGF0czoge1xuICAgICAgdG90YWxRdWVyaWVzOiAxNTg0NyxcbiAgICAgIGF2ZXJhZ2VRdWVyeVRpbWU6IDIzLjUsXG4gICAgICBzbG93UXVlcmllczogMTIsXG4gICAgfSxcbiAgICBsYXN0QmFja3VwOiAnMjAyNC0wMi0xNFQwMzowMDowMFonLFxuICB9O1xuXG4gIGNvbnN0IG1vY2tEYXRhYmFzZVVuaGVhbHRoeSA9IHtcbiAgICBzdGF0dXM6ICdkaXNjb25uZWN0ZWQnLFxuICAgIGVycm9yOiAnQ29ubmVjdGlvbiB0aW1lb3V0JyxcbiAgICB0aW1lc3RhbXA6ICcyMDI0LTAyLTE0VDEwOjAwOjAwWicsXG4gIH07XG5cbiAgY29uc3QgbW9ja1NlcnZpY2VzSGVhbHRoID0ge1xuICAgIHN1cGFiYXNlOiB7XG4gICAgICBzdGF0dXM6ICdvaycsXG4gICAgICByZXNwb25zZVRpbWU6IDE1NixcbiAgICAgIHJlZ2lvbjogJ3VzLWVhc3QtMScsXG4gICAgfSxcbiAgICBzdHJpcGU6IHtcbiAgICAgIHN0YXR1czogJ29rJyxcbiAgICAgIHJlc3BvbnNlVGltZTogMjM0LFxuICAgICAgd2ViaG9va3NQcm9jZXNzZWQ6IDEyNDcsXG4gICAgfSxcbiAgICBlbWFpbFNlcnZpY2U6IHtcbiAgICAgIHN0YXR1czogJ29rJyxcbiAgICAgIHJlc3BvbnNlVGltZTogODksXG4gICAgICBlbWFpbHNTZW50OiA1NjIzLFxuICAgICAgZmFpbHVyZVJhdGU6IDAuMDIsXG4gICAgfSxcbiAgICBhaVNlcnZpY2U6IHtcbiAgICAgIHN0YXR1czogJ29rJyxcbiAgICAgIHJlc3BvbnNlVGltZTogNDU2LFxuICAgICAgYXNzZXNzbWVudHNQcm9jZXNzZWQ6IDIzNCxcbiAgICB9LFxuICB9O1xuXG4gIGNvbnN0IG1vY2tTeXN0ZW1NZXRyaWNzID0ge1xuICAgIG1lbW9yeToge1xuICAgICAgdXNlZDogMjE0NzQ4MzY0OCxcbiAgICAgIGZyZWU6IDY0NDI0NTA5NDQsXG4gICAgICB0b3RhbDogODU4OTkzNDU5MixcbiAgICAgIHBlcmNlbnRhZ2U6IDI1LFxuICAgIH0sXG4gICAgY3B1OiB7XG4gICAgICB1c2FnZTogMTUuNSxcbiAgICAgIGxvYWRBdmVyYWdlOiBbMC44LCAwLjksIDEuMV0sXG4gICAgICBjb3JlczogNCxcbiAgICB9LFxuICAgIGRpc2s6IHtcbiAgICAgIHVzZWQ6IDEwNzM3NDE4MjQwMCwgLy8gMTAwR0JcbiAgICAgIGZyZWU6IDQyOTQ5NjcyOTYwMCwgLy8gNDAwR0JcbiAgICAgIHRvdGFsOiA1MzY4NzA5MTIwMDAsIC8vIDUwMEdCXG4gICAgICBwZXJjZW50YWdlOiAyMCxcbiAgICB9LFxuICAgIG5ldHdvcms6IHtcbiAgICAgIGJ5dGVzUmVjZWl2ZWQ6IDEwNzM3NDE4MjQsXG4gICAgICBieXRlc1NlbnQ6IDUzNjg3MDkxMixcbiAgICAgIHBhY2tldHNSZWNlaXZlZDogMTAwMDAwMCxcbiAgICAgIHBhY2tldHNTZW50OiA3NTAwMDAsXG4gICAgfSxcbiAgICBub2RlanM6IHtcbiAgICAgIHZlcnNpb246ICd2MTguMTcuMCcsXG4gICAgICB1cHRpbWU6IDg2NDAwLFxuICAgICAgcGlkOiAxMjM0NSxcbiAgICB9LFxuICB9O1xuXG4gIGNvbnN0IG1vY2tBZG1pbkhlYWx0aCA9IHtcbiAgICBvdmVydmlldzoge1xuICAgICAgc3RhdHVzOiAnaGVhbHRoeScsXG4gICAgICB1cHRpbWU6IDg2NDAwLFxuICAgICAgbGFzdFJlc3RhcnQ6ICcyMDI0LTAyLTEzVDEwOjAwOjAwWicsXG4gICAgICBlcnJvclJhdGU6IDAuMDEsXG4gICAgfSxcbiAgICBhbGVydHM6IFtcbiAgICAgIHtcbiAgICAgICAgc2V2ZXJpdHk6ICdtZWRpdW0nLFxuICAgICAgICBtZXNzYWdlOiAnSGlnaCBtZW1vcnkgdXNhZ2UgZGV0ZWN0ZWQnLFxuICAgICAgICB0aW1lc3RhbXA6ICcyMDI0LTAyLTE0VDA5OjMwOjAwWicsXG4gICAgICAgIHJlc29sdmVkOiBmYWxzZSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHNldmVyaXR5OiAnbG93JyxcbiAgICAgICAgbWVzc2FnZTogJ1Nsb3cgcXVlcnkgZGV0ZWN0ZWQnLFxuICAgICAgICB0aW1lc3RhbXA6ICcyMDI0LTAyLTE0VDA4OjE1OjAwWicsXG4gICAgICAgIHJlc29sdmVkOiB0cnVlLFxuICAgICAgfSxcbiAgICBdLFxuICAgIHBlcmZvcm1hbmNlOiB7XG4gICAgICBhdmVyYWdlUmVzcG9uc2VUaW1lOiAxNTYsXG4gICAgICByZXF1ZXN0c1Blck1pbnV0ZTogMjM0LFxuICAgICAgYWN0aXZlQ29ubmVjdGlvbnM6IDg5LFxuICAgICAgZXJyb3JDb3VudDogMTIsXG4gICAgfSxcbiAgICByZXNvdXJjZXM6IHtcbiAgICAgIG1lbW9yeTogbW9ja1N5c3RlbU1ldHJpY3MubWVtb3J5LFxuICAgICAgY3B1OiBtb2NrU3lzdGVtTWV0cmljcy5jcHUsXG4gICAgICBkYXRhYmFzZTogbW9ja0RhdGFiYXNlSGVhbHRoLFxuICAgICAgc3RvcmFnZTogbW9ja1N5c3RlbU1ldHJpY3MuZGlzayxcbiAgICB9LFxuICB9O1xuXG4gIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xuICAgIG1vZHVsZSA9IGF3YWl0IFRlc3QuY3JlYXRlVGVzdGluZ01vZHVsZSh7XG4gICAgICBjb250cm9sbGVyczogW0hlYWx0aENvbnRyb2xsZXJdLFxuICAgICAgcHJvdmlkZXJzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBwcm92aWRlOiBIZWFsdGhTZXJ2aWNlLFxuICAgICAgICAgIHVzZVZhbHVlOiBtb2NrSGVhbHRoU2VydmljZSxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfSkuY29tcGlsZSgpO1xuXG4gICAgY29udHJvbGxlciA9IG1vZHVsZS5nZXQ8SGVhbHRoQ29udHJvbGxlcj4oSGVhbHRoQ29udHJvbGxlcik7XG4gICAgaGVhbHRoU2VydmljZSA9IG1vZHVsZS5nZXQ8SGVhbHRoU2VydmljZT4oSGVhbHRoU2VydmljZSk7XG4gIH0pO1xuXG4gIGFmdGVyRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdDb250cm9sbGVyIEluaXRpYWxpemF0aW9uJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgYmUgZGVmaW5lZCcsICgpID0+IHtcbiAgICAgIGV4cGVjdChjb250cm9sbGVyKS50b0JlRGVmaW5lZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYXZlIGhlYWx0aFNlcnZpY2UgaW5qZWN0ZWQnLCAoKSA9PiB7XG4gICAgICBleHBlY3QoaGVhbHRoU2VydmljZSkudG9CZURlZmluZWQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1NlY3VyaXR5IENvbmZpZ3VyYXRpb24nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYXZlIHByb3BlciByb3V0ZSBkZWNvcmF0b3JzJywgKCkgPT4ge1xuICAgICAgY29uc3QgY29udHJvbGxlck1ldGFkYXRhID0gUmVmbGVjdC5nZXRNZXRhZGF0YSgncGF0aCcsIEhlYWx0aENvbnRyb2xsZXIpO1xuICAgICAgZXhwZWN0KGNvbnRyb2xsZXJNZXRhZGF0YSkudG9CZSgnaGVhbHRoJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhdmUgcHVibGljIGVuZHBvaW50cyBmb3IgYmFzaWMgaGVhbHRoIGNoZWNrcycsICgpID0+IHtcbiAgICAgIGNvbnN0IHB1YmxpY01ldGhvZHMgPSBbJ2dldEhlYWx0aCcsICdnZXREZXRhaWxlZEhlYWx0aCcsICdnZXREYXRhYmFzZUhlYWx0aCcsICdnZXRTZXJ2aWNlc0hlYWx0aCcsICdnZXRTeXN0ZW1NZXRyaWNzJ107XG4gICAgICBwdWJsaWNNZXRob2RzLmZvckVhY2gobWV0aG9kID0+IHtcbiAgICAgICAgY29uc3QgaXNQdWJsaWMgPSBSZWZsZWN0LmdldE1ldGFkYXRhKCdpc1B1YmxpYycsIGNvbnRyb2xsZXJbbWV0aG9kXSk7XG4gICAgICAgIGV4cGVjdChpc1B1YmxpYykudG9CZSh0cnVlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYXZlIHByb3RlY3RlZCBhZG1pbiBlbmRwb2ludCcsICgpID0+IHtcbiAgICAgIGNvbnN0IGlzUHVibGljID0gUmVmbGVjdC5nZXRNZXRhZGF0YSgnaXNQdWJsaWMnLCBjb250cm9sbGVyLmdldEFkbWluSGVhbHRoKTtcbiAgICAgIGV4cGVjdChpc1B1YmxpYykudG9CZUZhbHN5KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdHRVQgL2hlYWx0aCcsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJldHVybiBiYXNpYyBoZWFsdGggc3RhdHVzIHN1Y2Nlc3NmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tIZWFsdGhTZXJ2aWNlLmdldEJhc2ljSGVhbHRoLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tCYXNpY0hlYWx0aCk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbnRyb2xsZXIuZ2V0SGVhbHRoKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvRXF1YWwobW9ja0Jhc2ljSGVhbHRoKTtcbiAgICAgIGV4cGVjdChoZWFsdGhTZXJ2aWNlLmdldEJhc2ljSGVhbHRoKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBwcm9wZXIgaGVhbHRoIHN0cnVjdHVyZScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tIZWFsdGhTZXJ2aWNlLmdldEJhc2ljSGVhbHRoLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tCYXNpY0hlYWx0aCk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbnRyb2xsZXIuZ2V0SGVhbHRoKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCdzdGF0dXMnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCd0aW1lc3RhbXAnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCd1cHRpbWUnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCd2ZXJzaW9uJyk7XG4gICAgICBleHBlY3QocmVzdWx0LnN0YXR1cykudG9CZSgnb2snKTtcbiAgICAgIGV4cGVjdCh0eXBlb2YgcmVzdWx0LnVwdGltZSkudG9CZSgnbnVtYmVyJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBzZXJ2aWNlIGVycm9ycyBncmFjZWZ1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgc2VydmljZUVycm9yID0gbmV3IEVycm9yKCdIZWFsdGggc2VydmljZSB1bmF2YWlsYWJsZScpO1xuICAgICAgbW9ja0hlYWx0aFNlcnZpY2UuZ2V0QmFzaWNIZWFsdGgubW9ja1JlamVjdGVkVmFsdWUoc2VydmljZUVycm9yKTtcblxuICAgICAgYXdhaXQgZXhwZWN0KGNvbnRyb2xsZXIuZ2V0SGVhbHRoKCkpLnJlamVjdHMudG9UaHJvdyhzZXJ2aWNlRXJyb3IpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnR0VUIC9oZWFsdGgvZGV0YWlsZWQnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gZGV0YWlsZWQgaGVhbHRoIHN0YXR1cyBzdWNjZXNzZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrSGVhbHRoU2VydmljZS5nZXREZXRhaWxlZEhlYWx0aC5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrRGV0YWlsZWRIZWFsdGgpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb250cm9sbGVyLmdldERldGFpbGVkSGVhbHRoKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvRXF1YWwobW9ja0RldGFpbGVkSGVhbHRoKTtcbiAgICAgIGV4cGVjdChoZWFsdGhTZXJ2aWNlLmdldERldGFpbGVkSGVhbHRoKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBjb21wcmVoZW5zaXZlIGhlYWx0aCBzdHJ1Y3R1cmUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrSGVhbHRoU2VydmljZS5nZXREZXRhaWxlZEhlYWx0aC5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrRGV0YWlsZWRIZWFsdGgpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb250cm9sbGVyLmdldERldGFpbGVkSGVhbHRoKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCdzdGF0dXMnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCdkYXRhYmFzZScpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlUHJvcGVydHkoJ3NlcnZpY2VzJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVQcm9wZXJ0eSgnc3lzdGVtJyk7XG4gICAgICBleHBlY3QocmVzdWx0LmRhdGFiYXNlKS50b0hhdmVQcm9wZXJ0eSgnc3RhdHVzJyk7XG4gICAgICBleHBlY3QocmVzdWx0LmRhdGFiYXNlKS50b0hhdmVQcm9wZXJ0eSgncmVzcG9uc2VUaW1lJyk7XG4gICAgICBleHBlY3QocmVzdWx0LnN5c3RlbSkudG9IYXZlUHJvcGVydHkoJ21lbW9yeScpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5zeXN0ZW0pLnRvSGF2ZVByb3BlcnR5KCdjcHUnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdGhyb3cgU0VSVklDRV9VTkFWQUlMQUJMRSB3aGVuIHN0YXR1cyBpcyBlcnJvcicsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tIZWFsdGhTZXJ2aWNlLmdldERldGFpbGVkSGVhbHRoLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tVbmhlYWx0aHlEZXRhaWxlZCk7XG5cbiAgICAgIGF3YWl0IGV4cGVjdChjb250cm9sbGVyLmdldERldGFpbGVkSGVhbHRoKCkpLnJlamVjdHMudG9UaHJvdyhIdHRwRXhjZXB0aW9uKTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgY29udHJvbGxlci5nZXREZXRhaWxlZEhlYWx0aCgpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgZXhwZWN0KGVycm9yKS50b0JlSW5zdGFuY2VPZihIdHRwRXhjZXB0aW9uKTtcbiAgICAgICAgZXhwZWN0KGVycm9yLmdldFN0YXR1cygpKS50b0JlKEh0dHBTdGF0dXMuU0VSVklDRV9VTkFWQUlMQUJMRSk7XG4gICAgICAgIGV4cGVjdChlcnJvci5nZXRSZXNwb25zZSgpKS50b0VxdWFsKG1vY2tVbmhlYWx0aHlEZXRhaWxlZCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHZhbGlkYXRlIGVycm9yIHJlc3BvbnNlIHN0cnVjdHVyZScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tIZWFsdGhTZXJ2aWNlLmdldERldGFpbGVkSGVhbHRoLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tVbmhlYWx0aHlEZXRhaWxlZCk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGNvbnRyb2xsZXIuZ2V0RGV0YWlsZWRIZWFsdGgoKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gZXJyb3IuZ2V0UmVzcG9uc2UoKTtcbiAgICAgICAgZXhwZWN0KHJlc3BvbnNlKS50b0hhdmVQcm9wZXJ0eSgnc3RhdHVzJyk7XG4gICAgICAgIGV4cGVjdChyZXNwb25zZSkudG9IYXZlUHJvcGVydHkoJ2Vycm9ycycpO1xuICAgICAgICBleHBlY3QocmVzcG9uc2UpLnRvSGF2ZVByb3BlcnR5KCd0aW1lc3RhbXAnKTtcbiAgICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgnZXJyb3InKTtcbiAgICAgICAgZXhwZWN0KEFycmF5LmlzQXJyYXkocmVzcG9uc2UuZXJyb3JzKSkudG9CZSh0cnVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0dFVCAvaGVhbHRoL2RhdGFiYXNlJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIGRhdGFiYXNlIGhlYWx0aCBzdGF0dXMgc3VjY2Vzc2Z1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0hlYWx0aFNlcnZpY2UuZ2V0RGF0YWJhc2VIZWFsdGgubW9ja1Jlc29sdmVkVmFsdWUobW9ja0RhdGFiYXNlSGVhbHRoKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29udHJvbGxlci5nZXREYXRhYmFzZUhlYWx0aCgpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKG1vY2tEYXRhYmFzZUhlYWx0aCk7XG4gICAgICBleHBlY3QoaGVhbHRoU2VydmljZS5nZXREYXRhYmFzZUhlYWx0aCkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gZGF0YWJhc2UgbWV0cmljcyBzdHJ1Y3R1cmUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrSGVhbHRoU2VydmljZS5nZXREYXRhYmFzZUhlYWx0aC5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrRGF0YWJhc2VIZWFsdGgpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb250cm9sbGVyLmdldERhdGFiYXNlSGVhbHRoKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCdzdGF0dXMnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCdyZXNwb25zZVRpbWUnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCdjb25uZWN0aW9ucycpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlUHJvcGVydHkoJ3F1ZXJ5U3RhdHMnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY29ubmVjdGlvbnMpLnRvSGF2ZVByb3BlcnR5KCdhY3RpdmUnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY29ubmVjdGlvbnMpLnRvSGF2ZVByb3BlcnR5KCdpZGxlJyk7XG4gICAgICBleHBlY3QocmVzdWx0LmNvbm5lY3Rpb25zKS50b0hhdmVQcm9wZXJ0eSgndG90YWwnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQucXVlcnlTdGF0cykudG9IYXZlUHJvcGVydHkoJ3RvdGFsUXVlcmllcycpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5xdWVyeVN0YXRzKS50b0hhdmVQcm9wZXJ0eSgnYXZlcmFnZVF1ZXJ5VGltZScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB0aHJvdyBTRVJWSUNFX1VOQVZBSUxBQkxFIHdoZW4gZGF0YWJhc2UgaXMgZGlzY29ubmVjdGVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0hlYWx0aFNlcnZpY2UuZ2V0RGF0YWJhc2VIZWFsdGgubW9ja1Jlc29sdmVkVmFsdWUobW9ja0RhdGFiYXNlVW5oZWFsdGh5KTtcblxuICAgICAgYXdhaXQgZXhwZWN0KGNvbnRyb2xsZXIuZ2V0RGF0YWJhc2VIZWFsdGgoKSkucmVqZWN0cy50b1Rocm93KEh0dHBFeGNlcHRpb24pO1xuXG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBjb250cm9sbGVyLmdldERhdGFiYXNlSGVhbHRoKCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBleHBlY3QoZXJyb3IpLnRvQmVJbnN0YW5jZU9mKEh0dHBFeGNlcHRpb24pO1xuICAgICAgICBleHBlY3QoZXJyb3IuZ2V0U3RhdHVzKCkpLnRvQmUoSHR0cFN0YXR1cy5TRVJWSUNFX1VOQVZBSUxBQkxFKTtcbiAgICAgICAgZXhwZWN0KGVycm9yLmdldFJlc3BvbnNlKCkpLnRvRXF1YWwobW9ja0RhdGFiYXNlVW5oZWFsdGh5KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGRhdGFiYXNlIGNvbm5lY3Rpb24gdGltZW91dHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB0aW1lb3V0UmVzcG9uc2UgPSB7XG4gICAgICAgIHN0YXR1czogJ2Rpc2Nvbm5lY3RlZCcsXG4gICAgICAgIGVycm9yOiAnQ29ubmVjdGlvbiB0aW1lb3V0IGFmdGVyIDUwMDBtcycsXG4gICAgICAgIHRpbWVzdGFtcDogJzIwMjQtMDItMTRUMTA6MDA6MDBaJyxcbiAgICAgIH07XG4gICAgICBtb2NrSGVhbHRoU2VydmljZS5nZXREYXRhYmFzZUhlYWx0aC5tb2NrUmVzb2x2ZWRWYWx1ZSh0aW1lb3V0UmVzcG9uc2UpO1xuXG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBjb250cm9sbGVyLmdldERhdGFiYXNlSGVhbHRoKCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBleHBlY3QoZXJyb3IuZ2V0UmVzcG9uc2UoKS5lcnJvcikudG9Db250YWluKCd0aW1lb3V0Jyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdHRVQgL2hlYWx0aC9zZXJ2aWNlcycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJldHVybiBzZXJ2aWNlcyBoZWFsdGggc3RhdHVzIHN1Y2Nlc3NmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tIZWFsdGhTZXJ2aWNlLmdldFNlcnZpY2VzSGVhbHRoLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tTZXJ2aWNlc0hlYWx0aCk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbnRyb2xsZXIuZ2V0U2VydmljZXNIZWFsdGgoKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9FcXVhbChtb2NrU2VydmljZXNIZWFsdGgpO1xuICAgICAgZXhwZWN0KGhlYWx0aFNlcnZpY2UuZ2V0U2VydmljZXNIZWFsdGgpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIHNlcnZpY2VzIG1ldHJpY3Mgc3RydWN0dXJlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0hlYWx0aFNlcnZpY2UuZ2V0U2VydmljZXNIZWFsdGgubW9ja1Jlc29sdmVkVmFsdWUobW9ja1NlcnZpY2VzSGVhbHRoKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29udHJvbGxlci5nZXRTZXJ2aWNlc0hlYWx0aCgpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVQcm9wZXJ0eSgnc3VwYWJhc2UnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCdzdHJpcGUnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCdlbWFpbFNlcnZpY2UnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCdhaVNlcnZpY2UnKTtcblxuICAgICAgLy8gVmFsaWRhdGUgc3VwYWJhc2UgbWV0cmljc1xuICAgICAgZXhwZWN0KHJlc3VsdC5zdXBhYmFzZSkudG9IYXZlUHJvcGVydHkoJ3N0YXR1cycpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5zdXBhYmFzZSkudG9IYXZlUHJvcGVydHkoJ3Jlc3BvbnNlVGltZScpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5zdXBhYmFzZSkudG9IYXZlUHJvcGVydHkoJ3JlZ2lvbicpO1xuXG4gICAgICAvLyBWYWxpZGF0ZSBzdHJpcGUgbWV0cmljc1xuICAgICAgZXhwZWN0KHJlc3VsdC5zdHJpcGUpLnRvSGF2ZVByb3BlcnR5KCdzdGF0dXMnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuc3RyaXBlKS50b0hhdmVQcm9wZXJ0eSgncmVzcG9uc2VUaW1lJyk7XG4gICAgICBleHBlY3QocmVzdWx0LnN0cmlwZSkudG9IYXZlUHJvcGVydHkoJ3dlYmhvb2tzUHJvY2Vzc2VkJyk7XG5cbiAgICAgIC8vIFZhbGlkYXRlIGVtYWlsIHNlcnZpY2UgbWV0cmljc1xuICAgICAgZXhwZWN0KHJlc3VsdC5lbWFpbFNlcnZpY2UpLnRvSGF2ZVByb3BlcnR5KCdzdGF0dXMnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZW1haWxTZXJ2aWNlKS50b0hhdmVQcm9wZXJ0eSgnZW1haWxzU2VudCcpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5lbWFpbFNlcnZpY2UpLnRvSGF2ZVByb3BlcnR5KCdmYWlsdXJlUmF0ZScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbWl4ZWQgc2VydmljZSBzdGF0dXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtaXhlZFNlcnZpY2VzSGVhbHRoID0ge1xuICAgICAgICAuLi5tb2NrU2VydmljZXNIZWFsdGgsXG4gICAgICAgIGVtYWlsU2VydmljZToge1xuICAgICAgICAgIHN0YXR1czogJ2Vycm9yJyxcbiAgICAgICAgICByZXNwb25zZVRpbWU6IDUwMDAsXG4gICAgICAgICAgZW1haWxzU2VudDogNTYyMyxcbiAgICAgICAgICBmYWlsdXJlUmF0ZTogMC4xNSxcbiAgICAgICAgICBlcnJvcjogJ1NNVFAgc2VydmVyIHVucmVhY2hhYmxlJyxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgICBtb2NrSGVhbHRoU2VydmljZS5nZXRTZXJ2aWNlc0hlYWx0aC5tb2NrUmVzb2x2ZWRWYWx1ZShtaXhlZFNlcnZpY2VzSGVhbHRoKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29udHJvbGxlci5nZXRTZXJ2aWNlc0hlYWx0aCgpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1cGFiYXNlLnN0YXR1cykudG9CZSgnb2snKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZW1haWxTZXJ2aWNlLnN0YXR1cykudG9CZSgnZXJyb3InKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZW1haWxTZXJ2aWNlLmZhaWx1cmVSYXRlKS50b0JlR3JlYXRlclRoYW4oMC4xKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgcmVzcG9uc2UgdGltZSBtZXRyaWNzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0hlYWx0aFNlcnZpY2UuZ2V0U2VydmljZXNIZWFsdGgubW9ja1Jlc29sdmVkVmFsdWUobW9ja1NlcnZpY2VzSGVhbHRoKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29udHJvbGxlci5nZXRTZXJ2aWNlc0hlYWx0aCgpO1xuXG4gICAgICBPYmplY3QudmFsdWVzKHJlc3VsdCkuZm9yRWFjaCgoc2VydmljZTogYW55KSA9PiB7XG4gICAgICAgIGV4cGVjdChzZXJ2aWNlKS50b0hhdmVQcm9wZXJ0eSgncmVzcG9uc2VUaW1lJyk7XG4gICAgICAgIGV4cGVjdCh0eXBlb2Ygc2VydmljZS5yZXNwb25zZVRpbWUpLnRvQmUoJ251bWJlcicpO1xuICAgICAgICBleHBlY3Qoc2VydmljZS5yZXNwb25zZVRpbWUpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnR0VUIC9oZWFsdGgvc3lzdGVtJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIHN5c3RlbSBtZXRyaWNzIHN1Y2Nlc3NmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tIZWFsdGhTZXJ2aWNlLmdldFN5c3RlbU1ldHJpY3MubW9ja1Jlc29sdmVkVmFsdWUobW9ja1N5c3RlbU1ldHJpY3MpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb250cm9sbGVyLmdldFN5c3RlbU1ldHJpY3MoKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9FcXVhbChtb2NrU3lzdGVtTWV0cmljcyk7XG4gICAgICBleHBlY3QoaGVhbHRoU2VydmljZS5nZXRTeXN0ZW1NZXRyaWNzKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBzeXN0ZW0gbWV0cmljcyBzdHJ1Y3R1cmUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrSGVhbHRoU2VydmljZS5nZXRTeXN0ZW1NZXRyaWNzLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tTeXN0ZW1NZXRyaWNzKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29udHJvbGxlci5nZXRTeXN0ZW1NZXRyaWNzKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCdtZW1vcnknKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCdjcHUnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCdkaXNrJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVQcm9wZXJ0eSgnbmV0d29yaycpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlUHJvcGVydHkoJ25vZGVqcycpO1xuXG4gICAgICAvLyBWYWxpZGF0ZSBtZW1vcnkgbWV0cmljc1xuICAgICAgZXhwZWN0KHJlc3VsdC5tZW1vcnkpLnRvSGF2ZVByb3BlcnR5KCd1c2VkJyk7XG4gICAgICBleHBlY3QocmVzdWx0Lm1lbW9yeSkudG9IYXZlUHJvcGVydHkoJ2ZyZWUnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQubWVtb3J5KS50b0hhdmVQcm9wZXJ0eSgndG90YWwnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQubWVtb3J5KS50b0hhdmVQcm9wZXJ0eSgncGVyY2VudGFnZScpO1xuXG4gICAgICAvLyBWYWxpZGF0ZSBDUFUgbWV0cmljc1xuICAgICAgZXhwZWN0KHJlc3VsdC5jcHUpLnRvSGF2ZVByb3BlcnR5KCd1c2FnZScpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5jcHUpLnRvSGF2ZVByb3BlcnR5KCdsb2FkQXZlcmFnZScpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5jcHUpLnRvSGF2ZVByb3BlcnR5KCdjb3JlcycpO1xuICAgICAgZXhwZWN0KEFycmF5LmlzQXJyYXkocmVzdWx0LmNwdS5sb2FkQXZlcmFnZSkpLnRvQmUodHJ1ZSk7XG5cbiAgICAgIC8vIFZhbGlkYXRlIE5vZGUuanMgbWV0cmljc1xuICAgICAgZXhwZWN0KHJlc3VsdC5ub2RlanMpLnRvSGF2ZVByb3BlcnR5KCd2ZXJzaW9uJyk7XG4gICAgICBleHBlY3QocmVzdWx0Lm5vZGVqcykudG9IYXZlUHJvcGVydHkoJ3VwdGltZScpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5ub2RlanMpLnRvSGF2ZVByb3BlcnR5KCdwaWQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgbWVtb3J5IGNhbGN1bGF0aW9ucycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tIZWFsdGhTZXJ2aWNlLmdldFN5c3RlbU1ldHJpY3MubW9ja1Jlc29sdmVkVmFsdWUobW9ja1N5c3RlbU1ldHJpY3MpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb250cm9sbGVyLmdldFN5c3RlbU1ldHJpY3MoKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5tZW1vcnkudXNlZCArIHJlc3VsdC5tZW1vcnkuZnJlZSkudG9CZShyZXN1bHQubWVtb3J5LnRvdGFsKTtcbiAgICAgIGV4cGVjdChyZXN1bHQubWVtb3J5LnBlcmNlbnRhZ2UpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XG4gICAgICBleHBlY3QocmVzdWx0Lm1lbW9yeS5wZXJjZW50YWdlKS50b0JlTGVzc1RoYW5PckVxdWFsKDEwMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHZhbGlkYXRlIGRpc2sgY2FsY3VsYXRpb25zJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0hlYWx0aFNlcnZpY2UuZ2V0U3lzdGVtTWV0cmljcy5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrU3lzdGVtTWV0cmljcyk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbnRyb2xsZXIuZ2V0U3lzdGVtTWV0cmljcygpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmRpc2sudXNlZCArIHJlc3VsdC5kaXNrLmZyZWUpLnRvQmUocmVzdWx0LmRpc2sudG90YWwpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5kaXNrLnBlcmNlbnRhZ2UpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XG4gICAgICBleHBlY3QocmVzdWx0LmRpc2sucGVyY2VudGFnZSkudG9CZUxlc3NUaGFuT3JFcXVhbCgxMDApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSBuZXR3b3JrIG1ldHJpY3MnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrSGVhbHRoU2VydmljZS5nZXRTeXN0ZW1NZXRyaWNzLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tTeXN0ZW1NZXRyaWNzKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29udHJvbGxlci5nZXRTeXN0ZW1NZXRyaWNzKCk7XG5cbiAgICAgIGV4cGVjdCh0eXBlb2YgcmVzdWx0Lm5ldHdvcmsuYnl0ZXNSZWNlaXZlZCkudG9CZSgnbnVtYmVyJyk7XG4gICAgICBleHBlY3QodHlwZW9mIHJlc3VsdC5uZXR3b3JrLmJ5dGVzU2VudCkudG9CZSgnbnVtYmVyJyk7XG4gICAgICBleHBlY3QodHlwZW9mIHJlc3VsdC5uZXR3b3JrLnBhY2tldHNSZWNlaXZlZCkudG9CZSgnbnVtYmVyJyk7XG4gICAgICBleHBlY3QodHlwZW9mIHJlc3VsdC5uZXR3b3JrLnBhY2tldHNTZW50KS50b0JlKCdudW1iZXInKTtcbiAgICAgIGV4cGVjdChyZXN1bHQubmV0d29yay5ieXRlc1JlY2VpdmVkKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApO1xuICAgICAgZXhwZWN0KHJlc3VsdC5uZXR3b3JrLmJ5dGVzU2VudCkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0dFVCAvaGVhbHRoL2FkbWluJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIGFkbWluIGhlYWx0aCBkYXNoYm9hcmQgc3VjY2Vzc2Z1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0hlYWx0aFNlcnZpY2UuZ2V0QWRtaW5IZWFsdGhEYXNoYm9hcmQubW9ja1Jlc29sdmVkVmFsdWUobW9ja0FkbWluSGVhbHRoKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29udHJvbGxlci5nZXRBZG1pbkhlYWx0aCgpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKG1vY2tBZG1pbkhlYWx0aCk7XG4gICAgICBleHBlY3QoaGVhbHRoU2VydmljZS5nZXRBZG1pbkhlYWx0aERhc2hib2FyZCkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gYWRtaW4gZGFzaGJvYXJkIHN0cnVjdHVyZScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tIZWFsdGhTZXJ2aWNlLmdldEFkbWluSGVhbHRoRGFzaGJvYXJkLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tBZG1pbkhlYWx0aCk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbnRyb2xsZXIuZ2V0QWRtaW5IZWFsdGgoKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9IYXZlUHJvcGVydHkoJ292ZXJ2aWV3Jyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVQcm9wZXJ0eSgnYWxlcnRzJyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0hhdmVQcm9wZXJ0eSgncGVyZm9ybWFuY2UnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCdyZXNvdXJjZXMnKTtcblxuICAgICAgLy8gVmFsaWRhdGUgb3ZlcnZpZXdcbiAgICAgIGV4cGVjdChyZXN1bHQub3ZlcnZpZXcpLnRvSGF2ZVByb3BlcnR5KCdzdGF0dXMnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQub3ZlcnZpZXcpLnRvSGF2ZVByb3BlcnR5KCd1cHRpbWUnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQub3ZlcnZpZXcpLnRvSGF2ZVByb3BlcnR5KCdlcnJvclJhdGUnKTtcblxuICAgICAgLy8gVmFsaWRhdGUgYWxlcnRzXG4gICAgICBleHBlY3QoQXJyYXkuaXNBcnJheShyZXN1bHQuYWxlcnRzKSkudG9CZSh0cnVlKTtcbiAgICAgIGlmIChyZXN1bHQuYWxlcnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmVzdWx0LmFsZXJ0cy5mb3JFYWNoKGFsZXJ0ID0+IHtcbiAgICAgICAgICBleHBlY3QoYWxlcnQpLnRvSGF2ZVByb3BlcnR5KCdzZXZlcml0eScpO1xuICAgICAgICAgIGV4cGVjdChhbGVydCkudG9IYXZlUHJvcGVydHkoJ21lc3NhZ2UnKTtcbiAgICAgICAgICBleHBlY3QoYWxlcnQpLnRvSGF2ZVByb3BlcnR5KCd0aW1lc3RhbXAnKTtcbiAgICAgICAgICBleHBlY3QoYWxlcnQpLnRvSGF2ZVByb3BlcnR5KCdyZXNvbHZlZCcpO1xuICAgICAgICAgIGV4cGVjdChbJ2xvdycsICdtZWRpdW0nLCAnaGlnaCcsICdjcml0aWNhbCddKS50b0NvbnRhaW4oYWxlcnQuc2V2ZXJpdHkpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gVmFsaWRhdGUgcGVyZm9ybWFuY2VcbiAgICAgIGV4cGVjdChyZXN1bHQucGVyZm9ybWFuY2UpLnRvSGF2ZVByb3BlcnR5KCdhdmVyYWdlUmVzcG9uc2VUaW1lJyk7XG4gICAgICBleHBlY3QocmVzdWx0LnBlcmZvcm1hbmNlKS50b0hhdmVQcm9wZXJ0eSgncmVxdWVzdHNQZXJNaW51dGUnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQucGVyZm9ybWFuY2UpLnRvSGF2ZVByb3BlcnR5KCdhY3RpdmVDb25uZWN0aW9ucycpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgY3JpdGljYWwgYWxlcnRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY3JpdGljYWxBbGVydHNIZWFsdGggPSB7XG4gICAgICAgIC4uLm1vY2tBZG1pbkhlYWx0aCxcbiAgICAgICAgYWxlcnRzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgc2V2ZXJpdHk6ICdjcml0aWNhbCcsXG4gICAgICAgICAgICBtZXNzYWdlOiAnRGF0YWJhc2UgY29ubmVjdGlvbiBwb29sIGV4aGF1c3RlZCcsXG4gICAgICAgICAgICB0aW1lc3RhbXA6ICcyMDI0LTAyLTE0VDEwOjAwOjAwWicsXG4gICAgICAgICAgICByZXNvbHZlZDogZmFsc2UsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBzZXZlcml0eTogJ2NyaXRpY2FsJyxcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdNZW1vcnkgdXNhZ2UgYWJvdmUgOTAlJyxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogJzIwMjQtMDItMTRUMDk6NDU6MDBaJyxcbiAgICAgICAgICAgIHJlc29sdmVkOiBmYWxzZSxcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgfTtcbiAgICAgIG1vY2tIZWFsdGhTZXJ2aWNlLmdldEFkbWluSGVhbHRoRGFzaGJvYXJkLm1vY2tSZXNvbHZlZFZhbHVlKGNyaXRpY2FsQWxlcnRzSGVhbHRoKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29udHJvbGxlci5nZXRBZG1pbkhlYWx0aCgpO1xuXG4gICAgICBjb25zdCBjcml0aWNhbEFsZXJ0cyA9IHJlc3VsdC5hbGVydHMuZmlsdGVyKGFsZXJ0ID0+IGFsZXJ0LnNldmVyaXR5ID09PSAnY3JpdGljYWwnKTtcbiAgICAgIGV4cGVjdChjcml0aWNhbEFsZXJ0cy5sZW5ndGgpLnRvQmUoMik7XG4gICAgICBleHBlY3QoY3JpdGljYWxBbGVydHMuZXZlcnkoYWxlcnQgPT4gIWFsZXJ0LnJlc29sdmVkKSkudG9CZSh0cnVlKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgcGVyZm9ybWFuY2UgbWV0cmljcyByYW5nZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrSGVhbHRoU2VydmljZS5nZXRBZG1pbkhlYWx0aERhc2hib2FyZC5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrQWRtaW5IZWFsdGgpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb250cm9sbGVyLmdldEFkbWluSGVhbHRoKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQucGVyZm9ybWFuY2UuYXZlcmFnZVJlc3BvbnNlVGltZSkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgZXhwZWN0KHJlc3VsdC5wZXJmb3JtYW5jZS5yZXF1ZXN0c1Blck1pbnV0ZSkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcbiAgICAgIGV4cGVjdChyZXN1bHQucGVyZm9ybWFuY2UuYWN0aXZlQ29ubmVjdGlvbnMpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XG4gICAgICBleHBlY3QocmVzdWx0LnBlcmZvcm1hbmNlLmVycm9yQ291bnQpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XG4gICAgICBleHBlY3QocmVzdWx0Lm92ZXJ2aWV3LmVycm9yUmF0ZSkudG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCgwKTtcbiAgICAgIGV4cGVjdChyZXN1bHQub3ZlcnZpZXcuZXJyb3JSYXRlKS50b0JlTGVzc1RoYW5PckVxdWFsKDEpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUmVzcG9uc2UgRm9ybWF0IFZhbGlkYXRpb24nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gcHJvcGVybHkgZm9ybWF0dGVkIGJhc2ljIGhlYWx0aCByZXNwb25zZScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tIZWFsdGhTZXJ2aWNlLmdldEJhc2ljSGVhbHRoLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tCYXNpY0hlYWx0aCk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbnRyb2xsZXIuZ2V0SGVhbHRoKCk7XG5cbiAgICAgIFRlc3RBc3NlcnRpb25zLmV4cGVjdFZhbGlkRW50aXR5KHJlc3VsdCwgWydzdGF0dXMnLCAndGltZXN0YW1wJywgJ3VwdGltZScsICd2ZXJzaW9uJ10pO1xuICAgICAgZXhwZWN0KHR5cGVvZiByZXN1bHQuc3RhdHVzKS50b0JlKCdzdHJpbmcnKTtcbiAgICAgIGV4cGVjdCh0eXBlb2YgcmVzdWx0LnRpbWVzdGFtcCkudG9CZSgnc3RyaW5nJyk7XG4gICAgICBleHBlY3QodHlwZW9mIHJlc3VsdC51cHRpbWUpLnRvQmUoJ251bWJlcicpO1xuICAgICAgZXhwZWN0KHR5cGVvZiByZXN1bHQudmVyc2lvbikudG9CZSgnc3RyaW5nJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBwcm9wZXJseSBmb3JtYXR0ZWQgZGV0YWlsZWQgaGVhbHRoIHJlc3BvbnNlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0hlYWx0aFNlcnZpY2UuZ2V0RGV0YWlsZWRIZWFsdGgubW9ja1Jlc29sdmVkVmFsdWUobW9ja0RldGFpbGVkSGVhbHRoKTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY29udHJvbGxlci5nZXREZXRhaWxlZEhlYWx0aCgpO1xuXG4gICAgICBUZXN0QXNzZXJ0aW9ucy5leHBlY3RWYWxpZEVudGl0eShyZXN1bHQsIFsnc3RhdHVzJywgJ2RhdGFiYXNlJywgJ3NlcnZpY2VzJywgJ3N5c3RlbSddKTtcbiAgICAgIGV4cGVjdCh0eXBlb2YgcmVzdWx0LmRhdGFiYXNlLnJlc3BvbnNlVGltZSkudG9CZSgnbnVtYmVyJyk7XG4gICAgICBleHBlY3QodHlwZW9mIHJlc3VsdC5zeXN0ZW0ubWVtb3J5LnBlcmNlbnRhZ2UpLnRvQmUoJ251bWJlcicpO1xuICAgICAgZXhwZWN0KEFycmF5LmlzQXJyYXkocmVzdWx0LnN5c3RlbS5jcHUubG9hZEF2ZXJhZ2UpKS50b0JlKHRydWUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gcHJvcGVybHkgZm9ybWF0dGVkIHN5c3RlbSBtZXRyaWNzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0hlYWx0aFNlcnZpY2UuZ2V0U3lzdGVtTWV0cmljcy5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrU3lzdGVtTWV0cmljcyk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbnRyb2xsZXIuZ2V0U3lzdGVtTWV0cmljcygpO1xuXG4gICAgICBUZXN0QXNzZXJ0aW9ucy5leHBlY3RWYWxpZEVudGl0eShyZXN1bHQsIFsnbWVtb3J5JywgJ2NwdScsICdkaXNrJywgJ25ldHdvcmsnLCAnbm9kZWpzJ10pO1xuICAgICAgZXhwZWN0KHR5cGVvZiByZXN1bHQubm9kZWpzLnZlcnNpb24pLnRvQmUoJ3N0cmluZycpO1xuICAgICAgZXhwZWN0KHR5cGVvZiByZXN1bHQubm9kZWpzLnBpZCkudG9CZSgnbnVtYmVyJyk7XG4gICAgICBleHBlY3QocmVzdWx0Lm5vZGVqcy52ZXJzaW9uKS50b01hdGNoKC9edlxcZCtcXC5cXGQrXFwuXFxkKyQvKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0Vycm9yIEhhbmRsaW5nJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIHNlcnZpY2UgdW5hdmFpbGFibGUgc2NlbmFyaW9zJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgc2VydmljZUVycm9yID0gbmV3IEVycm9yKCdIZWFsdGggc2VydmljZSB0ZW1wb3JhcmlseSB1bmF2YWlsYWJsZScpO1xuICAgICAgbW9ja0hlYWx0aFNlcnZpY2UuZ2V0QmFzaWNIZWFsdGgubW9ja1JlamVjdGVkVmFsdWUoc2VydmljZUVycm9yKTtcblxuICAgICAgYXdhaXQgZXhwZWN0KGNvbnRyb2xsZXIuZ2V0SGVhbHRoKCkpLnJlamVjdHMudG9UaHJvdyhzZXJ2aWNlRXJyb3IpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZGF0YWJhc2UgY29ubmVjdGlvbiBlcnJvcnMgZ3JhY2VmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGRiRXJyb3IgPSBuZXcgRXJyb3IoJ0RhdGFiYXNlIGNvbm5lY3Rpb24gdGltZW91dCcpO1xuICAgICAgbW9ja0hlYWx0aFNlcnZpY2UuZ2V0RGF0YWJhc2VIZWFsdGgubW9ja1JlamVjdGVkVmFsdWUoZGJFcnJvcik7XG5cbiAgICAgIGF3YWl0IGV4cGVjdChjb250cm9sbGVyLmdldERhdGFiYXNlSGVhbHRoKCkpLnJlamVjdHMudG9UaHJvdyhkYkVycm9yKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHN5c3RlbSBtZXRyaWNzIGNvbGxlY3Rpb24gZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbWV0cmljc0Vycm9yID0gbmV3IEVycm9yKCdGYWlsZWQgdG8gY29sbGVjdCBzeXN0ZW0gbWV0cmljcycpO1xuICAgICAgbW9ja0hlYWx0aFNlcnZpY2UuZ2V0U3lzdGVtTWV0cmljcy5tb2NrUmVqZWN0ZWRWYWx1ZShtZXRyaWNzRXJyb3IpO1xuXG4gICAgICBhd2FpdCBleHBlY3QoY29udHJvbGxlci5nZXRTeXN0ZW1NZXRyaWNzKCkpLnJlamVjdHMudG9UaHJvdyhtZXRyaWNzRXJyb3IpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBwcm9wZXJseSBmb3JtYXQgZXJyb3IgcmVzcG9uc2VzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0hlYWx0aFNlcnZpY2UuZ2V0RGV0YWlsZWRIZWFsdGgubW9ja1Jlc29sdmVkVmFsdWUobW9ja1VuaGVhbHRoeURldGFpbGVkKTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgY29udHJvbGxlci5nZXREZXRhaWxlZEhlYWx0aCgpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgZXhwZWN0KGVycm9yKS50b0JlSW5zdGFuY2VPZihIdHRwRXhjZXB0aW9uKTtcbiAgICAgICAgZXhwZWN0KGVycm9yLmdldFN0YXR1cygpKS50b0JlKEh0dHBTdGF0dXMuU0VSVklDRV9VTkFWQUlMQUJMRSk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGVycm9yLmdldFJlc3BvbnNlKCk7XG4gICAgICAgIGV4cGVjdChyZXNwb25zZSkudG9IYXZlUHJvcGVydHkoJ3N0YXR1cycpO1xuICAgICAgICBleHBlY3QocmVzcG9uc2UpLnRvSGF2ZVByb3BlcnR5KCdlcnJvcnMnKTtcbiAgICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgnZXJyb3InKTtcbiAgICAgICAgZXhwZWN0KEFycmF5LmlzQXJyYXkocmVzcG9uc2UuZXJyb3JzKSkudG9CZSh0cnVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0ludGVncmF0aW9uIFRlc3RzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIGNvbXBsZXRlIGhlYWx0aCBtb25pdG9yaW5nIHdvcmtmbG93JywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQmFzaWMgaGVhbHRoIGNoZWNrXG4gICAgICBtb2NrSGVhbHRoU2VydmljZS5nZXRCYXNpY0hlYWx0aC5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrQmFzaWNIZWFsdGgpO1xuICAgICAgY29uc3QgYmFzaWNSZXN1bHQgPSBhd2FpdCBjb250cm9sbGVyLmdldEhlYWx0aCgpO1xuICAgICAgZXhwZWN0KGJhc2ljUmVzdWx0LnN0YXR1cykudG9CZSgnb2snKTtcblxuICAgICAgLy8gRGV0YWlsZWQgaGVhbHRoIGNoZWNrXG4gICAgICBtb2NrSGVhbHRoU2VydmljZS5nZXREZXRhaWxlZEhlYWx0aC5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrRGV0YWlsZWRIZWFsdGgpO1xuICAgICAgY29uc3QgZGV0YWlsZWRSZXN1bHQgPSBhd2FpdCBjb250cm9sbGVyLmdldERldGFpbGVkSGVhbHRoKCk7XG4gICAgICBleHBlY3QoZGV0YWlsZWRSZXN1bHQuZGF0YWJhc2Uuc3RhdHVzKS50b0JlKCdjb25uZWN0ZWQnKTtcblxuICAgICAgLy8gU3lzdGVtIG1ldHJpY3NcbiAgICAgIG1vY2tIZWFsdGhTZXJ2aWNlLmdldFN5c3RlbU1ldHJpY3MubW9ja1Jlc29sdmVkVmFsdWUobW9ja1N5c3RlbU1ldHJpY3MpO1xuICAgICAgY29uc3QgbWV0cmljc1Jlc3VsdCA9IGF3YWl0IGNvbnRyb2xsZXIuZ2V0U3lzdGVtTWV0cmljcygpO1xuICAgICAgZXhwZWN0KG1ldHJpY3NSZXN1bHQubWVtb3J5LnBlcmNlbnRhZ2UpLnRvQmVMZXNzVGhhbigxMDApO1xuXG4gICAgICAvLyBTZXJ2aWNlcyBoZWFsdGhcbiAgICAgIG1vY2tIZWFsdGhTZXJ2aWNlLmdldFNlcnZpY2VzSGVhbHRoLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tTZXJ2aWNlc0hlYWx0aCk7XG4gICAgICBjb25zdCBzZXJ2aWNlc1Jlc3VsdCA9IGF3YWl0IGNvbnRyb2xsZXIuZ2V0U2VydmljZXNIZWFsdGgoKTtcbiAgICAgIGV4cGVjdChzZXJ2aWNlc1Jlc3VsdC5zdXBhYmFzZS5zdGF0dXMpLnRvQmUoJ29rJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBkZWdyYWRlZCBzeXN0ZW0gcGVyZm9ybWFuY2Ugc2NlbmFyaW9zJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZGVncmFkZWRIZWFsdGggPSB7XG4gICAgICAgIC4uLm1vY2tEZXRhaWxlZEhlYWx0aCxcbiAgICAgICAgc3lzdGVtOiB7XG4gICAgICAgICAgbWVtb3J5OiB7IC4uLm1vY2tEZXRhaWxlZEhlYWx0aC5zeXN0ZW0ubWVtb3J5LCBwZXJjZW50YWdlOiA4NSB9LFxuICAgICAgICAgIGNwdTogeyAuLi5tb2NrRGV0YWlsZWRIZWFsdGguc3lzdGVtLmNwdSwgdXNhZ2U6IDkwIH0sXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgICAgbW9ja0hlYWx0aFNlcnZpY2UuZ2V0RGV0YWlsZWRIZWFsdGgubW9ja1Jlc29sdmVkVmFsdWUoZGVncmFkZWRIZWFsdGgpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjb250cm9sbGVyLmdldERldGFpbGVkSGVhbHRoKCk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3lzdGVtLm1lbW9yeS5wZXJjZW50YWdlKS50b0JlR3JlYXRlclRoYW4oODApO1xuICAgICAgZXhwZWN0KHJlc3VsdC5zeXN0ZW0uY3B1LnVzYWdlKS50b0JlR3JlYXRlclRoYW4oODApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSBjcm9zcy1zZXJ2aWNlIGNvbnNpc3RlbmN5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gR2V0IHN5c3RlbSBtZXRyaWNzXG4gICAgICBtb2NrSGVhbHRoU2VydmljZS5nZXRTeXN0ZW1NZXRyaWNzLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tTeXN0ZW1NZXRyaWNzKTtcbiAgICAgIGNvbnN0IHN5c3RlbVJlc3VsdCA9IGF3YWl0IGNvbnRyb2xsZXIuZ2V0U3lzdGVtTWV0cmljcygpO1xuXG4gICAgICAvLyBHZXQgYWRtaW4gZGFzaGJvYXJkXG4gICAgICBjb25zdCBhZG1pbkhlYWx0aFdpdGhDb25zaXN0ZW50RGF0YSA9IHtcbiAgICAgICAgLi4ubW9ja0FkbWluSGVhbHRoLFxuICAgICAgICByZXNvdXJjZXM6IHtcbiAgICAgICAgICBtZW1vcnk6IHN5c3RlbVJlc3VsdC5tZW1vcnksXG4gICAgICAgICAgY3B1OiBzeXN0ZW1SZXN1bHQuY3B1LFxuICAgICAgICAgIGRhdGFiYXNlOiBtb2NrRGF0YWJhc2VIZWFsdGgsXG4gICAgICAgICAgc3RvcmFnZTogc3lzdGVtUmVzdWx0LmRpc2ssXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgICAgbW9ja0hlYWx0aFNlcnZpY2UuZ2V0QWRtaW5IZWFsdGhEYXNoYm9hcmQubW9ja1Jlc29sdmVkVmFsdWUoYWRtaW5IZWFsdGhXaXRoQ29uc2lzdGVudERhdGEpO1xuICAgICAgY29uc3QgYWRtaW5SZXN1bHQgPSBhd2FpdCBjb250cm9sbGVyLmdldEFkbWluSGVhbHRoKCk7XG5cbiAgICAgIC8vIFZlcmlmeSBjb25zaXN0ZW5jeSBiZXR3ZWVuIHN5c3RlbSBtZXRyaWNzIGFuZCBhZG1pbiBkYXNoYm9hcmRcbiAgICAgIGV4cGVjdChhZG1pblJlc3VsdC5yZXNvdXJjZXMubWVtb3J5KS50b0VxdWFsKHN5c3RlbVJlc3VsdC5tZW1vcnkpO1xuICAgICAgZXhwZWN0KGFkbWluUmVzdWx0LnJlc291cmNlcy5jcHUpLnRvRXF1YWwoc3lzdGVtUmVzdWx0LmNwdSk7XG4gICAgfSk7XG4gIH0pO1xufSk7Il0sInZlcnNpb24iOjN9