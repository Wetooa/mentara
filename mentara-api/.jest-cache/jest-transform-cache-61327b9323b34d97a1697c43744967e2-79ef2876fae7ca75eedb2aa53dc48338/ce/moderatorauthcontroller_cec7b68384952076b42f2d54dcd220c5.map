{"version":3,"names":["common_1","cov_1t1eo2y7zy","s","require","throttler_1","swagger_1","jwt_auth_guard_1","current_user_id_decorator_1","current_user_role_decorator_1","public_decorator_1","zod_validation_pipe_1","mentara_commons_1","moderator_auth_service_1","express_1","ModeratorAuthController","moderatorAuthService","constructor","f","createModeratorAccount","currentUserRole","registerDto","b","ForbiddenException","result","email","password","firstName","lastName","permissions","assignedCommunities","user","id","role","emailVerified","message","login","loginDto","req","ipAddress","ip","userAgent","get","loginModerator","accessToken","tokens","refreshToken","expiresIn","getProfile","userId","getModeratorProfile","getPermissions","getModeratorPermissions","getAssignedCommunities","getDashboardStats","getModeratorDashboardStats","exports","__decorate","Post","ApiOperation","summary","description","ApiBody","type","schema","required","properties","format","example","minLength","items","ApiResponse","status","ApiUnauthorizedResponse","ApiForbiddenResponse","ApiTooManyRequestsResponse","UseGuards","JwtAuthGuard","Throttle","default","limit","ttl","HttpCode","HttpStatus","CREATED","__param","CurrentUserRole","Body","ZodValidationPipe","RegisterModeratorDtoSchema","Public","OK","LoginDtoSchema","Req","Request","_b","Object","createdAt","lastLoginAt","Get","CurrentUserId","canModeratePosts","canBanUsers","canDeleteComments","canAccessReports","name","memberCount","pendingPosts","totalPostsModerated","pendingReports","communitiesManaged","usersModerated","recentActivity","action","timestamp","communityId","ApiTags","ApiBearerAuth","Controller","ModeratorAuthService","_a"],"sources":["/home/wetooa/Documents/code/projects/mentara/mentara-api/src/auth/controllers/moderator-auth.controller.ts"],"sourcesContent":["import {\n  Body,\n  Controller,\n  Get,\n  Post,\n  UseGuards,\n  HttpCode,\n  HttpStatus,\n  Req,\n  ForbiddenException,\n} from '@nestjs/common';\nimport { Throttle } from '@nestjs/throttler';\nimport {\n  ApiTags,\n  ApiOperation,\n  ApiResponse,\n  ApiBody,\n  ApiBearerAuth,\n  ApiUnauthorizedResponse,\n  ApiForbiddenResponse,\n  ApiTooManyRequestsResponse,\n} from '@nestjs/swagger';\nimport { JwtAuthGuard } from '../guards/jwt-auth.guard';\nimport { CurrentUserId } from '../decorators/current-user-id.decorator';\nimport { CurrentUserRole } from '../decorators/current-user-role.decorator';\nimport { Public } from '../decorators/public.decorator';\nimport { ZodValidationPipe } from '../../common/pipes/zod-validation.pipe';\nimport {\n  RegisterModeratorDtoSchema,\n  LoginDtoSchema,\n  type RegisterModeratorDto,\n  type LoginDto,\n} from 'mentara-commons';\nimport { ModeratorAuthService } from '../services/moderator-auth.service';\nimport { Request } from 'express';\n\n@ApiTags('moderator-auth')\n@ApiBearerAuth('JWT-auth')\n@Controller('auth/moderator')\nexport class ModeratorAuthController {\n  constructor(private readonly moderatorAuthService: ModeratorAuthService) {}\n\n  @Post('create-account')\n  @ApiOperation({\n    summary: 'Create new moderator account',\n    description:\n      'Create a new moderator account. Only admins can create moderator accounts.',\n  })\n  @ApiBody({\n    type: 'object',\n    description: 'Moderator registration data',\n    schema: {\n      type: 'object',\n      required: ['email', 'password', 'firstName', 'lastName'],\n      properties: {\n        email: {\n          type: 'string',\n          format: 'email',\n          example: 'moderator@mentara.com',\n        },\n        password: { type: 'string', minLength: 8, example: 'SecurePass123!' },\n        firstName: { type: 'string', example: 'Jane' },\n        lastName: { type: 'string', example: 'Smith' },\n        permissions: {\n          type: 'array',\n          items: { type: 'string' },\n          example: ['moderate_posts', 'ban_users'],\n        },\n        assignedCommunities: {\n          type: 'array',\n          items: { type: 'string' },\n          example: ['community1', 'community2'],\n        },\n      },\n    },\n  })\n  @ApiResponse({\n    status: 201,\n    description: 'Moderator account created successfully',\n    schema: {\n      type: 'object',\n      properties: {\n        user: {\n          type: 'object',\n          properties: {\n            id: { type: 'string' },\n            email: { type: 'string' },\n            firstName: { type: 'string' },\n            lastName: { type: 'string' },\n            role: { type: 'string' },\n            emailVerified: { type: 'boolean' },\n          },\n        },\n        message: { type: 'string' },\n      },\n    },\n  })\n  @ApiUnauthorizedResponse({\n    description: 'Invalid or missing authentication token',\n  })\n  @ApiForbiddenResponse({\n    description: 'Only admins can create moderator accounts',\n  })\n  @ApiTooManyRequestsResponse({\n    description: 'Too many moderator creation attempts',\n  })\n  @UseGuards(JwtAuthGuard)\n  @Throttle({ default: { limit: 5, ttl: 600000 } }) // 5 moderator creations per 10 minutes\n  @HttpCode(HttpStatus.CREATED)\n  async createModeratorAccount(\n    @CurrentUserRole() currentUserRole: string,\n    @Body(new ZodValidationPipe(RegisterModeratorDtoSchema))\n    registerDto: RegisterModeratorDto,\n  ) {\n    // Only admins can create moderators\n    if (currentUserRole !== 'admin') {\n      throw new ForbiddenException('Only admins can create moderator accounts');\n    }\n\n    const result = await this.moderatorAuthService.createModeratorAccount(\n      registerDto.email,\n      registerDto.password,\n      registerDto.firstName,\n      registerDto.lastName,\n      registerDto.permissions || [],\n      registerDto.assignedCommunities || [],\n    );\n\n    return {\n      user: {\n        id: result.user.id,\n        email: result.user.email,\n        firstName: result.user.firstName,\n        lastName: result.user.lastName,\n        role: result.user.role,\n        emailVerified: result.user.emailVerified,\n      },\n      message: result.message,\n    };\n  }\n\n  @Public()\n  @ApiOperation({\n    summary: 'Moderator login',\n    description: 'Authenticate moderator user and return access tokens',\n  })\n  @ApiBody({\n    type: 'object',\n    description: 'Moderator login credentials',\n    schema: {\n      type: 'object',\n      required: ['email', 'password'],\n      properties: {\n        email: {\n          type: 'string',\n          format: 'email',\n          example: 'moderator@mentara.com',\n        },\n        password: { type: 'string', example: 'SecurePass123!' },\n      },\n    },\n  })\n  @ApiResponse({\n    status: 200,\n    description: 'Login successful',\n    schema: {\n      type: 'object',\n      properties: {\n        user: {\n          type: 'object',\n          properties: {\n            id: { type: 'string' },\n            email: { type: 'string' },\n            firstName: { type: 'string' },\n            lastName: { type: 'string' },\n            role: { type: 'string' },\n            emailVerified: { type: 'boolean' },\n          },\n        },\n        accessToken: { type: 'string' },\n        refreshToken: { type: 'string' },\n        expiresIn: { type: 'number' },\n      },\n    },\n  })\n  @ApiUnauthorizedResponse({ description: 'Invalid credentials' })\n  @ApiTooManyRequestsResponse({ description: 'Too many login attempts' })\n  @Throttle({ default: { limit: 10, ttl: 300000 } }) // 10 login attempts per 5 minutes\n  @Post('login')\n  @HttpCode(HttpStatus.OK)\n  async login(\n    @Body(new ZodValidationPipe(LoginDtoSchema)) loginDto: LoginDto,\n    @Req() req: Request,\n  ) {\n    const ipAddress = req.ip;\n    const userAgent = req.get('User-Agent');\n\n    const result = await this.moderatorAuthService.loginModerator(\n      loginDto.email,\n      loginDto.password,\n      ipAddress,\n      userAgent,\n    );\n\n    return {\n      user: {\n        id: result.user.id,\n        email: result.user.email,\n        firstName: result.user.firstName,\n        lastName: result.user.lastName,\n        role: result.user.role,\n        emailVerified: result.user.emailVerified,\n      },\n      accessToken: result.tokens.accessToken,\n      refreshToken: result.tokens.refreshToken,\n      expiresIn: result.tokens.expiresIn,\n    };\n  }\n\n  @UseGuards(JwtAuthGuard)\n  @ApiOperation({\n    summary: 'Get moderator profile',\n    description:\n      'Retrieve the authenticated moderator user profile information',\n  })\n  @ApiResponse({\n    status: 200,\n    description: 'Moderator profile retrieved successfully',\n    schema: {\n      type: 'object',\n      properties: {\n        id: { type: 'string' },\n        email: { type: 'string' },\n        firstName: { type: 'string' },\n        lastName: { type: 'string' },\n        role: { type: 'string' },\n        permissions: { type: 'array', items: { type: 'string' } },\n        assignedCommunities: { type: 'array', items: { type: 'string' } },\n        createdAt: { type: 'string', format: 'date-time' },\n        lastLoginAt: { type: 'string', format: 'date-time' },\n      },\n    },\n  })\n  @ApiUnauthorizedResponse({\n    description: 'Invalid or missing authentication token',\n  })\n  @Get('profile')\n  async getProfile(@CurrentUserId() userId: string) {\n    return this.moderatorAuthService.getModeratorProfile(userId);\n  }\n\n  @UseGuards(JwtAuthGuard)\n  @ApiOperation({\n    summary: 'Get moderator permissions',\n    description:\n      'Retrieve the permissions for the authenticated moderator user',\n  })\n  @ApiResponse({\n    status: 200,\n    description: 'Moderator permissions retrieved successfully',\n    schema: {\n      type: 'object',\n      properties: {\n        permissions: { type: 'array', items: { type: 'string' } },\n        canModeratePosts: { type: 'boolean' },\n        canBanUsers: { type: 'boolean' },\n        canDeleteComments: { type: 'boolean' },\n        canAccessReports: { type: 'boolean' },\n      },\n    },\n  })\n  @ApiUnauthorizedResponse({\n    description: 'Invalid or missing authentication token',\n  })\n  @Get('permissions')\n  async getPermissions(@CurrentUserId() userId: string) {\n    return this.moderatorAuthService.getModeratorPermissions(userId);\n  }\n\n  @UseGuards(JwtAuthGuard)\n  @ApiOperation({\n    summary: 'Get assigned communities',\n    description:\n      'Retrieve the communities assigned to the authenticated moderator',\n  })\n  @ApiResponse({\n    status: 200,\n    description: 'Assigned communities retrieved successfully',\n    schema: {\n      type: 'object',\n      properties: {\n        assignedCommunities: {\n          type: 'array',\n          items: {\n            type: 'object',\n            properties: {\n              id: { type: 'string' },\n              name: { type: 'string' },\n              description: { type: 'string' },\n              memberCount: { type: 'number' },\n              pendingPosts: { type: 'number' },\n            },\n          },\n        },\n      },\n    },\n  })\n  @ApiUnauthorizedResponse({\n    description: 'Invalid or missing authentication token',\n  })\n  @Get('assigned-communities')\n  async getAssignedCommunities(@CurrentUserId() userId: string) {\n    return this.moderatorAuthService.getAssignedCommunities(userId);\n  }\n\n  @UseGuards(JwtAuthGuard)\n  @ApiOperation({\n    summary: 'Get moderator dashboard statistics',\n    description:\n      'Retrieve dashboard statistics and metrics for the moderator panel',\n  })\n  @ApiResponse({\n    status: 200,\n    description: 'Dashboard statistics retrieved successfully',\n    schema: {\n      type: 'object',\n      properties: {\n        totalPostsModerated: { type: 'number' },\n        pendingReports: { type: 'number' },\n        communitiesManaged: { type: 'number' },\n        usersModerated: { type: 'number' },\n        recentActivity: {\n          type: 'array',\n          items: {\n            type: 'object',\n            properties: {\n              action: { type: 'string' },\n              timestamp: { type: 'string', format: 'date-time' },\n              communityId: { type: 'string' },\n            },\n          },\n        },\n      },\n    },\n  })\n  @ApiUnauthorizedResponse({\n    description: 'Invalid or missing authentication token',\n  })\n  @Get('dashboard-stats')\n  async getDashboardStats(@CurrentUserId() userId: string) {\n    return this.moderatorAuthService.getModeratorDashboardStats(userId);\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}