{"file":"/home/wetooa/Documents/code/projects/mentara/mentara-api/src/communities/controllers/moderation.controller.spec.ts","mappings":"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","names":[],"sources":["/home/wetooa/Documents/code/projects/mentara/mentara-api/src/communities/controllers/moderation.controller.spec.ts"],"sourcesContent":["/**\n * Comprehensive Test Suite for ModerationController\n * Tests disabled join requests functionality and API compatibility\n */\n\nimport { Test, TestingModule } from '@nestjs/testing';\nimport { BadRequestException } from '@nestjs/common';\nimport { ModerationController } from './moderation.controller';\nimport { JwtAuthGuard } from '../../auth/guards/jwt-auth.guard';\nimport { RoleBasedAccessGuard } from '../../auth/guards/role-based-access.guard';\nimport { SecurityGuardTestUtils, RoleBasedTestUtils } from '../../test-utils/auth-testing-helpers';\nimport { MockBuilder, TestDataGenerator, TestAssertions } from '../../test-utils/enhanced-test-helpers';\nimport { TEST_USER_IDS, TEST_EMAILS } from '../../test-utils/index';\n\ndescribe('ModerationController', () => {\n  let controller: ModerationController;\n  let module: TestingModule;\n\n  // Mock Guards\n  const mockJwtAuthGuard = {\n    canActivate: jest.fn().mockReturnValue(true),\n  };\n\n  const mockRoleBasedAccessGuard = {\n    canActivate: jest.fn().mockReturnValue(true),\n  };\n\n  // Test data\n  const mockUser = {\n    id: TEST_USER_IDS.MODERATOR,\n    email: TEST_EMAILS.MODERATOR,\n    role: 'moderator',\n  };\n\n  const mockJoinRequestDto = {\n    communityId: 'community_123456789',\n    reason: 'I would like to join this community for support',\n  };\n\n  const mockProcessDto = {\n    action: 'approve',\n    reason: 'User meets community guidelines',\n  };\n\n  beforeEach(async () => {\n    module = await Test.createTestingModule({\n      controllers: [ModerationController],\n      providers: [],\n    })\n      .overrideGuard(JwtAuthGuard)\n      .useValue(mockJwtAuthGuard)\n      .overrideGuard(RoleBasedAccessGuard)\n      .useValue(mockRoleBasedAccessGuard)\n      .compile();\n\n    controller = module.get<ModerationController>(ModerationController);\n  });\n\n  afterEach(() => {\n    jest.clearAllMocks();\n  });\n\n  describe('Controller Initialization', () => {\n    it('should be defined', () => {\n      expect(controller).toBeDefined();\n    });\n  });\n\n  describe('Security Guards', () => {\n    it('should be protected by JwtAuthGuard and RoleBasedAccessGuard', () => {\n      const guards = Reflect.getMetadata('__guards__', ModerationController);\n      expect(guards).toContain(JwtAuthGuard);\n      expect(guards).toContain(RoleBasedAccessGuard);\n    });\n\n    it('should have proper route decorators', () => {\n      const controllerMetadata = Reflect.getMetadata('path', ModerationController);\n      expect(controllerMetadata).toBe('communities/moderation');\n    });\n\n    it('should require moderator or admin role', () => {\n      const expectedRoles = ['moderator', 'admin'];\n      const metadata = Reflect.getMetadata('roles', ModerationController);\n      expect(metadata).toEqual(expectedRoles);\n    });\n  });\n\n  describe('POST /communities/moderation/join-requests (Disabled)', () => {\n    it('should throw BadRequestException when creating join request', async () => {\n      await expect(\n        controller.createJoinRequest(mockJoinRequestDto)\n      ).rejects.toThrow(BadRequestException);\n\n      try {\n        await controller.createJoinRequest(mockJoinRequestDto);\n      } catch (error) {\n        expect(error).toBeInstanceOf(BadRequestException);\n        expect(error.message).toContain('Join requests feature has been disabled');\n      }\n    });\n\n    it('should handle any DTO input gracefully', async () => {\n      const invalidDto = { invalid: 'data' };\n      \n      await expect(\n        controller.createJoinRequest(invalidDto)\n      ).rejects.toThrow(BadRequestException);\n    });\n\n    it('should always throw the same error message', async () => {\n      const dto1 = { communityId: 'test1' };\n      const dto2 = { communityId: 'test2', reason: 'different reason' };\n\n      const error1 = await controller.createJoinRequest(dto1).catch(e => e);\n      const error2 = await controller.createJoinRequest(dto2).catch(e => e);\n\n      expect(error1.message).toBe(error2.message);\n      expect(error1.message).toContain('disabled');\n    });\n  });\n\n  describe('GET /communities/moderation/join-requests (Disabled)', () => {\n    it('should return empty list for join requests', async () => {\n      const result = await controller.getJoinRequests({});\n\n      expect(result).toEqual({\n        requests: [],\n        pagination: { page: 1, limit: 20, total: 0, totalPages: 0 },\n        filters: {},\n      });\n    });\n\n    it('should handle query parameters gracefully', async () => {\n      const query = {\n        status: 'pending',\n        communityId: 'community_123',\n        page: 2,\n        limit: 50,\n      };\n\n      const result = await controller.getJoinRequests(query);\n\n      expect(result.requests).toEqual([]);\n      expect(result.pagination.total).toBe(0);\n      expect(result.pagination.totalPages).toBe(0);\n    });\n\n    it('should always return consistent empty structure', async () => {\n      const result1 = await controller.getJoinRequests({});\n      const result2 = await controller.getJoinRequests({ any: 'parameter' });\n\n      expect(result1).toEqual(result2);\n      expect(result1.requests).toHaveLength(0);\n      expect(result2.requests).toHaveLength(0);\n    });\n  });\n\n  describe('GET /communities/moderation/join-requests/user/:userId (Disabled)', () => {\n    it('should return empty array for user join requests', async () => {\n      const result = await controller.getUserJoinRequests(TEST_USER_IDS.CLIENT);\n\n      expect(result).toEqual([]);\n      expect(Array.isArray(result)).toBe(true);\n    });\n\n    it('should handle any userId input', async () => {\n      const userIds = [\n        TEST_USER_IDS.CLIENT,\n        TEST_USER_IDS.THERAPIST,\n        'nonexistent_user',\n        'invalid-format',\n        '',\n      ];\n\n      for (const userId of userIds) {\n        const result = await controller.getUserJoinRequests(userId);\n        expect(result).toEqual([]);\n      }\n    });\n\n    it('should be consistent across multiple calls', async () => {\n      const result1 = await controller.getUserJoinRequests(TEST_USER_IDS.CLIENT);\n      const result2 = await controller.getUserJoinRequests(TEST_USER_IDS.CLIENT);\n\n      expect(result1).toEqual(result2);\n      expect(result1).toEqual([]);\n    });\n  });\n\n  describe('GET /communities/moderation/join-requests/pending (Disabled)', () => {\n    it('should return empty array for pending requests', async () => {\n      const result = await controller.getPendingRequests(mockUser);\n\n      expect(result).toEqual([]);\n      expect(Array.isArray(result)).toBe(true);\n    });\n\n    it('should handle different user contexts', async () => {\n      const users = [\n        { id: TEST_USER_IDS.MODERATOR, role: 'moderator' },\n        { id: TEST_USER_IDS.ADMIN, role: 'admin' },\n        { id: TEST_USER_IDS.CLIENT, role: 'client' },\n      ];\n\n      for (const user of users) {\n        const result = await controller.getPendingRequests(user);\n        expect(result).toEqual([]);\n      }\n    });\n  });\n\n  describe('PUT /communities/moderation/join-requests/:requestId/process (Disabled)', () => {\n    it('should throw BadRequestException when processing request', async () => {\n      await expect(\n        controller.processJoinRequest('request_123', mockProcessDto, mockUser)\n      ).rejects.toThrow(BadRequestException);\n\n      try {\n        await controller.processJoinRequest('request_123', mockProcessDto, mockUser);\n      } catch (error) {\n        expect(error).toBeInstanceOf(BadRequestException);\n        expect(error.message).toContain('Join requests feature has been disabled');\n      }\n    });\n\n    it('should handle any request ID format', async () => {\n      const requestIds = [\n        'valid_uuid_format',\n        'invalid-format',\n        '',\n        '123',\n        'very-long-request-id-that-might-cause-issues',\n      ];\n\n      for (const requestId of requestIds) {\n        await expect(\n          controller.processJoinRequest(requestId, mockProcessDto, mockUser)\n        ).rejects.toThrow(BadRequestException);\n      }\n    });\n\n    it('should handle different process actions', async () => {\n      const processDtos = [\n        { action: 'approve', reason: 'Good fit' },\n        { action: 'reject', reason: 'Does not meet criteria' },\n        { action: 'pending', reason: 'Need more information' },\n        { invalid: 'data' },\n      ];\n\n      for (const dto of processDtos) {\n        await expect(\n          controller.processJoinRequest('request_123', dto, mockUser)\n        ).rejects.toThrow(BadRequestException);\n      }\n    });\n  });\n\n  describe('DELETE /communities/moderation/join-requests/:requestId (Disabled)', () => {\n    it('should throw BadRequestException when canceling request', async () => {\n      await expect(\n        controller.cancelJoinRequest('request_123', mockUser)\n      ).rejects.toThrow(BadRequestException);\n\n      try {\n        await controller.cancelJoinRequest('request_123', mockUser);\n      } catch (error) {\n        expect(error).toBeInstanceOf(BadRequestException);\n        expect(error.message).toContain('Join requests feature has been disabled');\n      }\n    });\n\n    it('should handle any request ID for cancellation', async () => {\n      const requestIds = ['request_1', 'request_2', 'invalid_id', ''];\n\n      for (const requestId of requestIds) {\n        await expect(\n          controller.cancelJoinRequest(requestId, mockUser)\n        ).rejects.toThrow(BadRequestException);\n      }\n    });\n\n    it('should handle different user contexts for cancellation', async () => {\n      const users = [\n        { id: TEST_USER_IDS.CLIENT, role: 'client' },\n        { id: TEST_USER_IDS.MODERATOR, role: 'moderator' },\n        { id: TEST_USER_IDS.ADMIN, role: 'admin' },\n      ];\n\n      for (const user of users) {\n        await expect(\n          controller.cancelJoinRequest('request_123', user)\n        ).rejects.toThrow(BadRequestException);\n      }\n    });\n  });\n\n  describe('GET /communities/moderation/stats/join-requests (Disabled)', () => {\n    it('should return empty stats for join requests', async () => {\n      const result = await controller.getJoinRequestStats({});\n\n      expect(result).toEqual({\n        totalRequests: 0,\n        pendingRequests: 0,\n        approvedRequests: 0,\n        rejectedRequests: 0,\n        avgProcessingTime: 0,\n        requestsByStatus: {},\n        recentActivity: [],\n      });\n    });\n\n    it('should handle query parameters for stats', async () => {\n      const query = {\n        startDate: '2024-01-01',\n        endDate: '2024-02-14',\n        communityId: 'community_123',\n      };\n\n      const result = await controller.getJoinRequestStats(query);\n\n      expect(result.totalRequests).toBe(0);\n      expect(result.pendingRequests).toBe(0);\n      expect(result.avgProcessingTime).toBe(0);\n      expect(Array.isArray(result.recentActivity)).toBe(true);\n      expect(result.recentActivity).toHaveLength(0);\n    });\n\n    it('should validate stats structure', async () => {\n      const result = await controller.getJoinRequestStats({});\n\n      expect(result).toHaveProperty('totalRequests');\n      expect(result).toHaveProperty('pendingRequests');\n      expect(result).toHaveProperty('approvedRequests');\n      expect(result).toHaveProperty('rejectedRequests');\n      expect(result).toHaveProperty('avgProcessingTime');\n      expect(result).toHaveProperty('requestsByStatus');\n      expect(result).toHaveProperty('recentActivity');\n\n      expect(typeof result.totalRequests).toBe('number');\n      expect(typeof result.avgProcessingTime).toBe('number');\n      expect(typeof result.requestsByStatus).toBe('object');\n      expect(Array.isArray(result.recentActivity)).toBe(true);\n    });\n  });\n\n  describe('POST /communities/moderation/join-requests/bulk-process (Disabled)', () => {\n    it('should throw BadRequestException for bulk processing', async () => {\n      const bulkDto = {\n        requestIds: ['request_1', 'request_2', 'request_3'],\n        action: 'approve',\n        reason: 'Bulk approval',\n      };\n\n      await expect(\n        controller.bulkProcessJoinRequests(bulkDto, mockUser)\n      ).rejects.toThrow(BadRequestException);\n\n      try {\n        await controller.bulkProcessJoinRequests(bulkDto, mockUser);\n      } catch (error) {\n        expect(error).toBeInstanceOf(BadRequestException);\n        expect(error.message).toContain('Join requests feature has been disabled');\n      }\n    });\n\n    it('should handle empty bulk requests', async () => {\n      const emptyDto = { requestIds: [], action: 'approve' };\n\n      await expect(\n        controller.bulkProcessJoinRequests(emptyDto, mockUser)\n      ).rejects.toThrow(BadRequestException);\n    });\n\n    it('should handle invalid bulk data', async () => {\n      const invalidDtos = [\n        { invalid: 'data' },\n        { requestIds: null, action: 'approve' },\n        { requestIds: ['valid'], action: null },\n        {},\n      ];\n\n      for (const dto of invalidDtos) {\n        await expect(\n          controller.bulkProcessJoinRequests(dto, mockUser)\n        ).rejects.toThrow(BadRequestException);\n      }\n    });\n  });\n\n  describe('Response Format Validation', () => {\n    it('should return properly formatted empty list responses', async () => {\n      const listResponse = await controller.getJoinRequests({});\n      const userResponse = await controller.getUserJoinRequests(TEST_USER_IDS.CLIENT);\n      const pendingResponse = await controller.getPendingRequests(mockUser);\n\n      // Validate list response structure\n      TestAssertions.expectValidEntity(listResponse, ['requests', 'pagination', 'filters']);\n      expect(Array.isArray(listResponse.requests)).toBe(true);\n      expect(listResponse.pagination).toHaveProperty('page');\n      expect(listResponse.pagination).toHaveProperty('limit');\n      expect(listResponse.pagination).toHaveProperty('total');\n      expect(listResponse.pagination).toHaveProperty('totalPages');\n\n      // Validate user response\n      expect(Array.isArray(userResponse)).toBe(true);\n\n      // Validate pending response\n      expect(Array.isArray(pendingResponse)).toBe(true);\n    });\n\n    it('should return properly formatted stats response', async () => {\n      const statsResponse = await controller.getJoinRequestStats({});\n\n      TestAssertions.expectValidEntity(statsResponse, [\n        'totalRequests',\n        'pendingRequests',\n        'approvedRequests',\n        'rejectedRequests',\n        'avgProcessingTime',\n        'requestsByStatus',\n        'recentActivity',\n      ]);\n\n      expect(typeof statsResponse.totalRequests).toBe('number');\n      expect(typeof statsResponse.avgProcessingTime).toBe('number');\n      expect(Array.isArray(statsResponse.recentActivity)).toBe(true);\n    });\n\n    it('should return consistent error format for disabled features', async () => {\n      const errorMethods = [\n        () => controller.createJoinRequest({}),\n        () => controller.processJoinRequest('id', {}, mockUser),\n        () => controller.cancelJoinRequest('id', mockUser),\n        () => controller.bulkProcessJoinRequests({}, mockUser),\n      ];\n\n      for (const method of errorMethods) {\n        try {\n          await method();\n        } catch (error) {\n          expect(error).toBeInstanceOf(BadRequestException);\n          expect(error.message).toContain('disabled');\n        }\n      }\n    });\n  });\n\n  describe('Error Handling', () => {\n    it('should handle malformed input gracefully', async () => {\n      const malformedInputs = [null, undefined, '', 0, false, []];\n\n      for (const input of malformedInputs) {\n        // Test endpoints that accept any input\n        const listResult = await controller.getJoinRequests(input);\n        expect(listResult.requests).toEqual([]);\n\n        const statsResult = await controller.getJoinRequestStats(input);\n        expect(statsResult.totalRequests).toBe(0);\n      }\n    });\n\n    it('should maintain consistent behavior under stress', async () => {\n      // Test rapid successive calls\n      const promises = Array.from({ length: 10 }, async (_, i) => {\n        const listResult = await controller.getJoinRequests({ index: i });\n        const statsResult = await controller.getJoinRequestStats({ index: i });\n        return { list: listResult, stats: statsResult };\n      });\n\n      const results = await Promise.all(promises);\n      \n      results.forEach(result => {\n        expect(result.list.requests).toEqual([]);\n        expect(result.stats.totalRequests).toBe(0);\n      });\n    });\n\n    it('should handle edge case user inputs', async () => {\n      const edgeCaseUsers = [\n        null,\n        undefined,\n        { id: null },\n        { id: '' },\n        { role: 'invalid' },\n        {},\n      ];\n\n      for (const user of edgeCaseUsers) {\n        const pendingResult = await controller.getPendingRequests(user);\n        expect(pendingResult).toEqual([]);\n      }\n    });\n  });\n\n  describe('Integration Tests', () => {\n    it('should handle complete disabled workflow consistently', async () => {\n      // Test that all endpoints maintain consistent disabled state\n      const listResult = await controller.getJoinRequests({});\n      expect(listResult.requests).toHaveLength(0);\n\n      const userResult = await controller.getUserJoinRequests(TEST_USER_IDS.CLIENT);\n      expect(userResult).toHaveLength(0);\n\n      const pendingResult = await controller.getPendingRequests(mockUser);\n      expect(pendingResult).toHaveLength(0);\n\n      const statsResult = await controller.getJoinRequestStats({});\n      expect(statsResult.totalRequests).toBe(0);\n\n      // Test that action endpoints consistently throw errors\n      const actionMethods = [\n        () => controller.createJoinRequest({}),\n        () => controller.processJoinRequest('id', {}, mockUser),\n        () => controller.cancelJoinRequest('id', mockUser),\n        () => controller.bulkProcessJoinRequests({}, mockUser),\n      ];\n\n      for (const method of actionMethods) {\n        await expect(method()).rejects.toThrow(BadRequestException);\n      }\n    });\n\n    it('should validate API compatibility for future enablement', async () => {\n      // Ensure response structures are compatible with potential future enablement\n      const listResponse = await controller.getJoinRequests({});\n      expect(listResponse).toHaveProperty('requests');\n      expect(listResponse).toHaveProperty('pagination');\n      expect(listResponse.pagination).toHaveProperty('page');\n      expect(listResponse.pagination).toHaveProperty('limit');\n\n      const statsResponse = await controller.getJoinRequestStats({});\n      expect(statsResponse).toHaveProperty('totalRequests');\n      expect(statsResponse).toHaveProperty('requestsByStatus');\n      expect(statsResponse).toHaveProperty('recentActivity');\n\n      // Ensure all required properties exist for API contracts\n      const requiredStatsProperties = [\n        'totalRequests', 'pendingRequests', 'approvedRequests', \n        'rejectedRequests', 'avgProcessingTime', 'requestsByStatus', 'recentActivity'\n      ];\n      \n      requiredStatsProperties.forEach(prop => {\n        expect(statsResponse).toHaveProperty(prop);\n      });\n    });\n  });\n});"],"version":3}