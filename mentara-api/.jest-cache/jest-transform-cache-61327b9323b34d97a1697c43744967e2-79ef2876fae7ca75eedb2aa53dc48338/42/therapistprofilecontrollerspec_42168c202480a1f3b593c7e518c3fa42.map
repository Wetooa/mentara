{"file":"/home/wetooa/Documents/code/projects/mentara/mentara-api/src/therapist/controllers/therapist-profile.controller.spec.ts","mappings":"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","names":[],"sources":["/home/wetooa/Documents/code/projects/mentara/mentara-api/src/therapist/controllers/therapist-profile.controller.spec.ts"],"sourcesContent":["/**\n * Comprehensive Test Suite for TherapistProfileController\n * Tests all therapist profile management endpoints with security, validation, and error handling\n */\n\nimport { Test, TestingModule } from '@nestjs/testing';\nimport { JwtAuthGuard } from '../../auth/guards/jwt-auth.guard';\nimport { TherapistProfileController } from './therapist-profile.controller';\nimport { TherapistManagementService } from '../therapist-management.service';\nimport { SecurityGuardTestUtils, RoleBasedTestUtils } from '../../test-utils/auth-testing-helpers';\nimport { MockBuilder, TestDataGenerator, TestAssertions } from '../../test-utils/enhanced-test-helpers';\nimport { TEST_USER_IDS, TEST_EMAILS } from '../../test-utils/index';\n\ndescribe('TherapistProfileController', () => {\n  let controller: TherapistProfileController;\n  let therapistManagementService: TherapistManagementService;\n  let module: TestingModule;\n\n  // Mock TherapistManagementService\n  const mockTherapistManagementService = {\n    getTherapistProfile: jest.fn(),\n    updateTherapistProfile: jest.fn(),\n  };\n\n  // Mock JwtAuthGuard\n  const mockJwtAuthGuard = {\n    canActivate: jest.fn().mockReturnValue(true),\n  };\n\n  // Test data\n  const mockTherapistProfile = {\n    id: TEST_USER_IDS.THERAPIST,\n    userId: TEST_USER_IDS.THERAPIST,\n    email: TEST_EMAILS.THERAPIST,\n    firstName: 'Dr. Jane',\n    lastName: 'Smith',\n    bio: 'Experienced therapist specializing in anxiety and depression',\n    providerType: 'Licensed Clinical Psychologist',\n    professionalLicenseType: 'LCP',\n    isPRCLicensed: true,\n    prcLicenseNumber: 'LCP-12345',\n    practiceStartDate: new Date('2020-01-01'),\n    areasOfExpertise: ['anxiety', 'depression', 'trauma'],\n    therapeuticApproachesUsedList: ['CBT', 'DBT', 'EMDR'],\n    languagesOffered: ['English', 'Spanish'],\n    assessmentTools: ['GAD-7', 'PHQ-9', 'PCL-5'],\n    hourlyRate: 150.0,\n    isActive: true,\n    emailVerified: true,\n    availableForNewClients: true,\n    maxClientsPerWeek: 20,\n    preferredSessionLength: 60,\n    createdAt: new Date(),\n    updatedAt: new Date(),\n  };\n\n  const mockProfileUpdateData = {\n    bio: 'Updated bio with new information',\n    hourlyRate: 175.0,\n    availableForNewClients: false,\n    maxClientsPerWeek: 15,\n    preferredSessionLength: 90,\n  };\n\n  const mockSpecializationsUpdateData = {\n    areasOfExpertise: ['anxiety', 'depression', 'trauma', 'addiction'],\n    therapeuticApproachesUsedList: ['CBT', 'DBT', 'EMDR', 'ACT'],\n    assessmentTools: ['GAD-7', 'PHQ-9', 'PCL-5', 'AUDIT'],\n  };\n\n  beforeEach(async () => {\n    module = await Test.createTestingModule({\n      controllers: [TherapistProfileController],\n      providers: [\n        {\n          provide: TherapistManagementService,\n          useValue: mockTherapistManagementService,\n        },\n      ],\n    })\n      .overrideGuard(JwtAuthGuard)\n      .useValue(mockJwtAuthGuard)\n      .compile();\n\n    controller = module.get<TherapistProfileController>(TherapistProfileController);\n    therapistManagementService = module.get<TherapistManagementService>(TherapistManagementService);\n  });\n\n  afterEach(() => {\n    jest.clearAllMocks();\n  });\n\n  describe('Controller Initialization', () => {\n    it('should be defined', () => {\n      expect(controller).toBeDefined();\n    });\n\n    it('should have therapistManagementService injected', () => {\n      expect(therapistManagementService).toBeDefined();\n    });\n  });\n\n  describe('Security Guards', () => {\n    it('should be protected by JwtAuthGuard', () => {\n      const guards = Reflect.getMetadata('__guards__', TherapistProfileController);\n      expect(guards).toContain(JwtAuthGuard);\n    });\n\n    it('should have proper route decorators', () => {\n      const controllerMetadata = Reflect.getMetadata('path', TherapistProfileController);\n      expect(controllerMetadata).toBe('therapist/profile');\n    });\n  });\n\n  describe('GET /therapist/profile', () => {\n    it('should get therapist profile successfully', async () => {\n      mockTherapistManagementService.getTherapistProfile.mockResolvedValue(mockTherapistProfile);\n\n      const result = await controller.getTherapistProfile(TEST_USER_IDS.THERAPIST);\n\n      expect(result).toEqual(mockTherapistProfile);\n      expect(therapistManagementService.getTherapistProfile).toHaveBeenCalledWith(TEST_USER_IDS.THERAPIST);\n    });\n\n    it('should handle profile not found', async () => {\n      const notFoundError = new Error('Therapist profile not found');\n      mockTherapistManagementService.getTherapistProfile.mockRejectedValue(notFoundError);\n\n      await expect(\n        controller.getTherapistProfile(TEST_USER_IDS.THERAPIST),\n      ).rejects.toThrow(notFoundError);\n    });\n\n    it('should handle unauthorized access', async () => {\n      const unauthorizedError = new Error('Unauthorized access');\n      mockTherapistManagementService.getTherapistProfile.mockRejectedValue(unauthorizedError);\n\n      await expect(\n        controller.getTherapistProfile('unauthorized-therapist-id'),\n      ).rejects.toThrow(unauthorizedError);\n    });\n\n    it('should handle service errors', async () => {\n      const serviceError = new Error('Database connection failed');\n      mockTherapistManagementService.getTherapistProfile.mockRejectedValue(serviceError);\n\n      await expect(\n        controller.getTherapistProfile(TEST_USER_IDS.THERAPIST),\n      ).rejects.toThrow(serviceError);\n    });\n\n    it('should handle incomplete profile data', async () => {\n      const incompleteProfile = {\n        id: TEST_USER_IDS.THERAPIST,\n        userId: TEST_USER_IDS.THERAPIST,\n        email: TEST_EMAILS.THERAPIST,\n        firstName: 'Dr. Jane',\n        lastName: 'Smith',\n        // Missing many fields\n      };\n      mockTherapistManagementService.getTherapistProfile.mockResolvedValue(incompleteProfile);\n\n      const result = await controller.getTherapistProfile(TEST_USER_IDS.THERAPIST);\n\n      expect(result).toEqual(incompleteProfile);\n      expect(result.id).toBe(TEST_USER_IDS.THERAPIST);\n      expect(result.firstName).toBe('Dr. Jane');\n    });\n  });\n\n  describe('PUT /therapist/profile', () => {\n    it('should update therapist profile successfully', async () => {\n      const updatedProfile = { ...mockTherapistProfile, ...mockProfileUpdateData };\n      mockTherapistManagementService.updateTherapistProfile.mockResolvedValue(updatedProfile);\n\n      const result = await controller.updateTherapistProfile(\n        TEST_USER_IDS.THERAPIST,\n        mockProfileUpdateData,\n      );\n\n      expect(result).toEqual(updatedProfile);\n      expect(therapistManagementService.updateTherapistProfile).toHaveBeenCalledWith(\n        TEST_USER_IDS.THERAPIST,\n        mockProfileUpdateData,\n      );\n    });\n\n    it('should handle partial profile updates', async () => {\n      const partialUpdate = { bio: 'Updated bio only' };\n      const partiallyUpdatedProfile = { ...mockTherapistProfile, ...partialUpdate };\n      mockTherapistManagementService.updateTherapistProfile.mockResolvedValue(partiallyUpdatedProfile);\n\n      const result = await controller.updateTherapistProfile(\n        TEST_USER_IDS.THERAPIST,\n        partialUpdate,\n      );\n\n      expect(result).toEqual(partiallyUpdatedProfile);\n      expect(therapistManagementService.updateTherapistProfile).toHaveBeenCalledWith(\n        TEST_USER_IDS.THERAPIST,\n        partialUpdate,\n      );\n    });\n\n    it('should handle empty update data', async () => {\n      const emptyUpdate = {};\n      mockTherapistManagementService.updateTherapistProfile.mockResolvedValue(mockTherapistProfile);\n\n      const result = await controller.updateTherapistProfile(\n        TEST_USER_IDS.THERAPIST,\n        emptyUpdate,\n      );\n\n      expect(result).toEqual(mockTherapistProfile);\n      expect(therapistManagementService.updateTherapistProfile).toHaveBeenCalledWith(\n        TEST_USER_IDS.THERAPIST,\n        emptyUpdate,\n      );\n    });\n\n    it('should handle validation errors', async () => {\n      const invalidData = { hourlyRate: -50 }; // Invalid negative rate\n      const validationError = new Error('Validation failed: hourlyRate must be positive');\n      mockTherapistManagementService.updateTherapistProfile.mockRejectedValue(validationError);\n\n      await expect(\n        controller.updateTherapistProfile(TEST_USER_IDS.THERAPIST, invalidData),\n      ).rejects.toThrow(validationError);\n    });\n\n    it('should handle service errors', async () => {\n      const serviceError = new Error('Database update failed');\n      mockTherapistManagementService.updateTherapistProfile.mockRejectedValue(serviceError);\n\n      await expect(\n        controller.updateTherapistProfile(TEST_USER_IDS.THERAPIST, mockProfileUpdateData),\n      ).rejects.toThrow(serviceError);\n    });\n\n    it('should handle unauthorized updates', async () => {\n      const unauthorizedError = new Error('Unauthorized profile update');\n      mockTherapistManagementService.updateTherapistProfile.mockRejectedValue(unauthorizedError);\n\n      await expect(\n        controller.updateTherapistProfile('unauthorized-therapist-id', mockProfileUpdateData),\n      ).rejects.toThrow(unauthorizedError);\n    });\n\n    it('should handle complex profile updates', async () => {\n      const complexUpdate = {\n        bio: 'Comprehensive bio update with detailed information',\n        hourlyRate: 200.0,\n        availableForNewClients: true,\n        maxClientsPerWeek: 25,\n        preferredSessionLength: 45,\n        areasOfExpertise: ['anxiety', 'depression', 'trauma', 'addiction', 'relationship'],\n        therapeuticApproachesUsedList: ['CBT', 'DBT', 'EMDR', 'ACT', 'IFS'],\n        languagesOffered: ['English', 'Spanish', 'French'],\n        assessmentTools: ['GAD-7', 'PHQ-9', 'PCL-5', 'AUDIT', 'DASS-21'],\n      };\n      const complexUpdatedProfile = { ...mockTherapistProfile, ...complexUpdate };\n      mockTherapistManagementService.updateTherapistProfile.mockResolvedValue(complexUpdatedProfile);\n\n      const result = await controller.updateTherapistProfile(\n        TEST_USER_IDS.THERAPIST,\n        complexUpdate,\n      );\n\n      expect(result).toEqual(complexUpdatedProfile);\n      expect(result.bio).toBe(complexUpdate.bio);\n      expect(result.hourlyRate).toBe(complexUpdate.hourlyRate);\n      expect(result.areasOfExpertise).toEqual(complexUpdate.areasOfExpertise);\n    });\n  });\n\n  describe('PUT /therapist/profile/specializations', () => {\n    it('should update therapist specializations successfully', async () => {\n      const updatedProfile = { ...mockTherapistProfile, ...mockSpecializationsUpdateData };\n      mockTherapistManagementService.updateTherapistProfile.mockResolvedValue(updatedProfile);\n\n      const result = await controller.updateTherapistSpecializations(\n        TEST_USER_IDS.THERAPIST,\n        mockSpecializationsUpdateData,\n      );\n\n      expect(result).toEqual(updatedProfile);\n      expect(therapistManagementService.updateTherapistProfile).toHaveBeenCalledWith(\n        TEST_USER_IDS.THERAPIST,\n        mockSpecializationsUpdateData,\n      );\n    });\n\n    it('should handle single specialization updates', async () => {\n      const singleSpecializationUpdate = {\n        areasOfExpertise: ['anxiety', 'depression', 'trauma', 'bipolar'],\n      };\n      const updatedProfile = { ...mockTherapistProfile, ...singleSpecializationUpdate };\n      mockTherapistManagementService.updateTherapistProfile.mockResolvedValue(updatedProfile);\n\n      const result = await controller.updateTherapistSpecializations(\n        TEST_USER_IDS.THERAPIST,\n        singleSpecializationUpdate,\n      );\n\n      expect(result).toEqual(updatedProfile);\n      expect(result.areasOfExpertise).toEqual(singleSpecializationUpdate.areasOfExpertise);\n    });\n\n    it('should handle therapeutic approaches updates', async () => {\n      const approachesUpdate = {\n        therapeuticApproachesUsedList: ['CBT', 'DBT', 'EMDR', 'ACT', 'IFS', 'Somatic'],\n      };\n      const updatedProfile = { ...mockTherapistProfile, ...approachesUpdate };\n      mockTherapistManagementService.updateTherapistProfile.mockResolvedValue(updatedProfile);\n\n      const result = await controller.updateTherapistSpecializations(\n        TEST_USER_IDS.THERAPIST,\n        approachesUpdate,\n      );\n\n      expect(result).toEqual(updatedProfile);\n      expect(result.therapeuticApproachesUsedList).toEqual(approachesUpdate.therapeuticApproachesUsedList);\n    });\n\n    it('should handle assessment tools updates', async () => {\n      const assessmentToolsUpdate = {\n        assessmentTools: ['GAD-7', 'PHQ-9', 'PCL-5', 'AUDIT', 'DASS-21', 'BDI-II'],\n      };\n      const updatedProfile = { ...mockTherapistProfile, ...assessmentToolsUpdate };\n      mockTherapistManagementService.updateTherapistProfile.mockResolvedValue(updatedProfile);\n\n      const result = await controller.updateTherapistSpecializations(\n        TEST_USER_IDS.THERAPIST,\n        assessmentToolsUpdate,\n      );\n\n      expect(result).toEqual(updatedProfile);\n      expect(result.assessmentTools).toEqual(assessmentToolsUpdate.assessmentTools);\n    });\n\n    it('should handle empty specializations update', async () => {\n      const emptyUpdate = {};\n      mockTherapistManagementService.updateTherapistProfile.mockResolvedValue(mockTherapistProfile);\n\n      const result = await controller.updateTherapistSpecializations(\n        TEST_USER_IDS.THERAPIST,\n        emptyUpdate,\n      );\n\n      expect(result).toEqual(mockTherapistProfile);\n      expect(therapistManagementService.updateTherapistProfile).toHaveBeenCalledWith(\n        TEST_USER_IDS.THERAPIST,\n        emptyUpdate,\n      );\n    });\n\n    it('should handle service errors', async () => {\n      const serviceError = new Error('Specializations update failed');\n      mockTherapistManagementService.updateTherapistProfile.mockRejectedValue(serviceError);\n\n      await expect(\n        controller.updateTherapistSpecializations(TEST_USER_IDS.THERAPIST, mockSpecializationsUpdateData),\n      ).rejects.toThrow(serviceError);\n    });\n\n    it('should handle validation errors for specializations', async () => {\n      const invalidSpecializations = {\n        areasOfExpertise: [], // Empty array might be invalid\n      };\n      const validationError = new Error('Validation failed: areasOfExpertise cannot be empty');\n      mockTherapistManagementService.updateTherapistProfile.mockRejectedValue(validationError);\n\n      await expect(\n        controller.updateTherapistSpecializations(TEST_USER_IDS.THERAPIST, invalidSpecializations),\n      ).rejects.toThrow(validationError);\n    });\n\n    it('should handle unauthorized specializations updates', async () => {\n      const unauthorizedError = new Error('Unauthorized specializations update');\n      mockTherapistManagementService.updateTherapistProfile.mockRejectedValue(unauthorizedError);\n\n      await expect(\n        controller.updateTherapistSpecializations('unauthorized-therapist-id', mockSpecializationsUpdateData),\n      ).rejects.toThrow(unauthorizedError);\n    });\n  });\n\n  describe('Integration Testing', () => {\n    it('should handle complete profile management workflow', async () => {\n      // Step 1: Get current profile\n      mockTherapistManagementService.getTherapistProfile.mockResolvedValue(mockTherapistProfile);\n      const currentProfile = await controller.getTherapistProfile(TEST_USER_IDS.THERAPIST);\n      expect(currentProfile).toEqual(mockTherapistProfile);\n\n      // Step 2: Update general profile\n      const updatedProfile = { ...mockTherapistProfile, ...mockProfileUpdateData };\n      mockTherapistManagementService.updateTherapistProfile.mockResolvedValue(updatedProfile);\n      const profileUpdateResult = await controller.updateTherapistProfile(\n        TEST_USER_IDS.THERAPIST,\n        mockProfileUpdateData,\n      );\n      expect(profileUpdateResult).toEqual(updatedProfile);\n\n      // Step 3: Update specializations\n      const specializationsUpdated = { ...updatedProfile, ...mockSpecializationsUpdateData };\n      mockTherapistManagementService.updateTherapistProfile.mockResolvedValue(specializationsUpdated);\n      const specializationsUpdateResult = await controller.updateTherapistSpecializations(\n        TEST_USER_IDS.THERAPIST,\n        mockSpecializationsUpdateData,\n      );\n      expect(specializationsUpdateResult).toEqual(specializationsUpdated);\n\n      // Verify all service calls were made\n      expect(therapistManagementService.getTherapistProfile).toHaveBeenCalledWith(TEST_USER_IDS.THERAPIST);\n      expect(therapistManagementService.updateTherapistProfile).toHaveBeenCalledTimes(2);\n    });\n\n    it('should handle multiple profile updates in sequence', async () => {\n      // First update: Bio and rate\n      const firstUpdate = { bio: 'First update', hourlyRate: 160.0 };\n      const firstUpdatedProfile = { ...mockTherapistProfile, ...firstUpdate };\n      mockTherapistManagementService.updateTherapistProfile.mockResolvedValue(firstUpdatedProfile);\n      \n      const firstResult = await controller.updateTherapistProfile(\n        TEST_USER_IDS.THERAPIST,\n        firstUpdate,\n      );\n      expect(firstResult.bio).toBe('First update');\n      expect(firstResult.hourlyRate).toBe(160.0);\n\n      // Second update: Availability\n      const secondUpdate = { availableForNewClients: false, maxClientsPerWeek: 10 };\n      const secondUpdatedProfile = { ...firstUpdatedProfile, ...secondUpdate };\n      mockTherapistManagementService.updateTherapistProfile.mockResolvedValue(secondUpdatedProfile);\n      \n      const secondResult = await controller.updateTherapistProfile(\n        TEST_USER_IDS.THERAPIST,\n        secondUpdate,\n      );\n      expect(secondResult.availableForNewClients).toBe(false);\n      expect(secondResult.maxClientsPerWeek).toBe(10);\n\n      // Third update: Specializations\n      const thirdUpdate = { areasOfExpertise: ['anxiety', 'depression', 'trauma', 'ptsd'] };\n      const thirdUpdatedProfile = { ...secondUpdatedProfile, ...thirdUpdate };\n      mockTherapistManagementService.updateTherapistProfile.mockResolvedValue(thirdUpdatedProfile);\n      \n      const thirdResult = await controller.updateTherapistSpecializations(\n        TEST_USER_IDS.THERAPIST,\n        thirdUpdate,\n      );\n      expect(thirdResult.areasOfExpertise).toEqual(['anxiety', 'depression', 'trauma', 'ptsd']);\n\n      // Verify all service calls were made\n      expect(therapistManagementService.updateTherapistProfile).toHaveBeenCalledTimes(3);\n    });\n  });\n\n  describe('Error Handling', () => {\n    it('should handle service unavailable scenarios', async () => {\n      const serviceError = new Error('Service temporarily unavailable');\n      mockTherapistManagementService.getTherapistProfile.mockRejectedValue(serviceError);\n\n      await expect(\n        controller.getTherapistProfile(TEST_USER_IDS.THERAPIST),\n      ).rejects.toThrow(serviceError);\n    });\n\n    it('should handle concurrent update issues', async () => {\n      const concurrencyError = new Error('Profile is being updated by another process');\n      mockTherapistManagementService.updateTherapistProfile.mockRejectedValue(concurrencyError);\n\n      await expect(\n        controller.updateTherapistProfile(TEST_USER_IDS.THERAPIST, mockProfileUpdateData),\n      ).rejects.toThrow(concurrencyError);\n    });\n\n    it('should handle malformed profile data', async () => {\n      const malformedData = { invalid: 'data', nested: { invalid: 'structure' } };\n      mockTherapistManagementService.updateTherapistProfile.mockResolvedValue(mockTherapistProfile);\n\n      const result = await controller.updateTherapistProfile(\n        TEST_USER_IDS.THERAPIST,\n        malformedData,\n      );\n\n      expect(therapistManagementService.updateTherapistProfile).toHaveBeenCalledWith(\n        TEST_USER_IDS.THERAPIST,\n        malformedData,\n      );\n    });\n\n    it('should handle null or undefined profile data', async () => {\n      const nullData = null;\n      mockTherapistManagementService.updateTherapistProfile.mockResolvedValue(mockTherapistProfile);\n\n      const result = await controller.updateTherapistProfile(\n        TEST_USER_IDS.THERAPIST,\n        nullData,\n      );\n\n      expect(therapistManagementService.updateTherapistProfile).toHaveBeenCalledWith(\n        TEST_USER_IDS.THERAPIST,\n        nullData,\n      );\n    });\n\n    it('should handle database connection errors', async () => {\n      const dbError = new Error('Database connection lost');\n      mockTherapistManagementService.getTherapistProfile.mockRejectedValue(dbError);\n\n      await expect(\n        controller.getTherapistProfile(TEST_USER_IDS.THERAPIST),\n      ).rejects.toThrow(dbError);\n    });\n\n    it('should handle profile not found scenarios', async () => {\n      const notFoundError = new Error('Therapist profile not found');\n      mockTherapistManagementService.getTherapistProfile.mockRejectedValue(notFoundError);\n\n      await expect(\n        controller.getTherapistProfile('non-existent-therapist-id'),\n      ).rejects.toThrow(notFoundError);\n    });\n  });\n\n  describe('Response Format Validation', () => {\n    it('should return properly formatted profile response', async () => {\n      mockTherapistManagementService.getTherapistProfile.mockResolvedValue(mockTherapistProfile);\n\n      const result = await controller.getTherapistProfile(TEST_USER_IDS.THERAPIST);\n\n      TestAssertions.expectValidEntity(result, ['id', 'userId', 'email', 'firstName', 'lastName']);\n      expect(result.id).toBe(TEST_USER_IDS.THERAPIST);\n      expect(result.email).toBe(TEST_EMAILS.THERAPIST);\n    });\n\n    it('should return properly formatted update response', async () => {\n      const updatedProfile = { ...mockTherapistProfile, ...mockProfileUpdateData };\n      mockTherapistManagementService.updateTherapistProfile.mockResolvedValue(updatedProfile);\n\n      const result = await controller.updateTherapistProfile(\n        TEST_USER_IDS.THERAPIST,\n        mockProfileUpdateData,\n      );\n\n      TestAssertions.expectValidEntity(result, ['id', 'userId', 'email', 'firstName', 'lastName']);\n      expect(result.bio).toBe(mockProfileUpdateData.bio);\n      expect(result.hourlyRate).toBe(mockProfileUpdateData.hourlyRate);\n    });\n\n    it('should return properly formatted specializations response', async () => {\n      const updatedProfile = { ...mockTherapistProfile, ...mockSpecializationsUpdateData };\n      mockTherapistManagementService.updateTherapistProfile.mockResolvedValue(updatedProfile);\n\n      const result = await controller.updateTherapistSpecializations(\n        TEST_USER_IDS.THERAPIST,\n        mockSpecializationsUpdateData,\n      );\n\n      TestAssertions.expectValidEntity(result, ['id', 'userId', 'areasOfExpertise']);\n      expect(Array.isArray(result.areasOfExpertise)).toBe(true);\n      expect(Array.isArray(result.therapeuticApproachesUsedList)).toBe(true);\n      expect(Array.isArray(result.assessmentTools)).toBe(true);\n    });\n\n    it('should maintain profile data integrity', async () => {\n      mockTherapistManagementService.getTherapistProfile.mockResolvedValue(mockTherapistProfile);\n\n      const result = await controller.getTherapistProfile(TEST_USER_IDS.THERAPIST);\n\n      expect(result.isActive).toBe(true);\n      expect(result.emailVerified).toBe(true);\n      expect(typeof result.hourlyRate).toBe('number');\n      expect(typeof result.availableForNewClients).toBe('boolean');\n      expect(typeof result.maxClientsPerWeek).toBe('number');\n      expect(typeof result.preferredSessionLength).toBe('number');\n    });\n  });\n});"],"version":3}