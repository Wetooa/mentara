{"file":"/home/wetooa/Documents/code/projects/mentara/mentara-api/src/dashboard/dashboard.controller.ts","mappings":";;;;;;;;;;;;;;;;AAAA,2CAA4D;AAC5D,2DAAuD;AACvD,kEAA6D;AAC7D,oFAA8E;AAC9E,sGAAgG;AAChG,4FAA6E;AAC7E,wEAK4C;AAIrC,IAAM,mBAAmB,GAAzB,MAAM,mBAAmB;IACD;IAA7B,YAA6B,gBAAkC;QAAlC,qBAAgB,GAAhB,gBAAgB,CAAkB;IAAG,CAAC;IAInE,kBAAkB,CAAkB,MAAc;QAChD,OAAO,IAAI,CAAC,gBAAgB,CAAC,sBAAsB,CAAC,MAAM,CAAC,CAAC;IAC9D,CAAC;IAID,qBAAqB,CAAkB,MAAc;QACnD,OAAO,IAAI,CAAC,gBAAgB,CAAC,yBAAyB,CAAC,MAAM,CAAC,CAAC;IACjE,CAAC;IAID,iBAAiB;QACf,OAAO,IAAI,CAAC,gBAAgB,CAAC,qBAAqB,EAAE,CAAC;IACvD,CAAC;IAID,qBAAqB,CAAkB,MAAc;QACnD,OAAO,IAAI,CAAC,gBAAgB,CAAC,yBAAyB,CAAC,MAAM,CAAC,CAAC;IACjE,CAAC;CACF,CAAA;AA1BY,kDAAmB;AAK9B;IAFC,IAAA,YAAG,EAAC,QAAQ,CAAC;IACb,IAAA,4BAAU,GAAE;IACO,WAAA,IAAA,yCAAa,GAAE,CAAA;;;;6DAElC;AAID;IAFC,IAAA,YAAG,EAAC,WAAW,CAAC;IAChB,IAAA,kBAAS,EAAC,6BAAY,EAAE,gEAA6B,CAAC;IAChC,WAAA,IAAA,yCAAa,GAAE,CAAA;;;;gEAErC;AAID;IAFC,IAAA,YAAG,EAAC,OAAO,CAAC;IACZ,IAAA,2BAAS,GAAE;;;;4DAGX;AAID;IAFC,IAAA,YAAG,EAAC,WAAW,CAAC;IAChB,IAAA,+BAAa,GAAE;IACO,WAAA,IAAA,yCAAa,GAAE,CAAA;;;;gEAErC;8BAzBU,mBAAmB;IAF/B,IAAA,mBAAU,EAAC,WAAW,CAAC;IACvB,IAAA,kBAAS,EAAC,6BAAY,EAAE,8CAAoB,CAAC;yDAEG,oCAAgB,oBAAhB,oCAAgB;GADpD,mBAAmB,CA0B/B","names":[],"sources":["/home/wetooa/Documents/code/projects/mentara/mentara-api/src/dashboard/dashboard.controller.ts"],"sourcesContent":["import { Controller, Get, UseGuards } from '@nestjs/common';\nimport { DashboardService } from './dashboard.service';\nimport { JwtAuthGuard } from '../auth/guards/jwt-auth.guard';\nimport { RoleBasedAccessGuard } from '../auth/guards/role-based-access.guard';\nimport { TherapistDashboardAccessGuard } from '../auth/guards/therapist-dashboard-access.guard';\nimport { CurrentUserId } from '../auth/decorators/current-user-id.decorator';\nimport {\n  ClientOnly,\n  TherapistOnly,\n  AdminOnly,\n  ModeratorOnly,\n} from '../auth/decorators/roles.decorator';\n\n@Controller('dashboard')\n@UseGuards(JwtAuthGuard, RoleBasedAccessGuard)\nexport class DashboardController {\n  constructor(private readonly dashboardService: DashboardService) {}\n\n  @Get('client')\n  @ClientOnly()\n  getClientDashboard(@CurrentUserId() userId: string) {\n    return this.dashboardService.getClientDashboardData(userId);\n  }\n\n  @Get('therapist')\n  @UseGuards(JwtAuthGuard, TherapistDashboardAccessGuard)\n  getTherapistDashboard(@CurrentUserId() userId: string) {\n    return this.dashboardService.getTherapistDashboardData(userId);\n  }\n\n  @Get('admin')\n  @AdminOnly()\n  getAdminDashboard() {\n    return this.dashboardService.getAdminDashboardData();\n  }\n\n  @Get('moderator')\n  @ModeratorOnly()\n  getModeratorDashboard(@CurrentUserId() userId: string) {\n    return this.dashboardService.getModeratorDashboardData(userId);\n  }\n}\n"],"version":3}