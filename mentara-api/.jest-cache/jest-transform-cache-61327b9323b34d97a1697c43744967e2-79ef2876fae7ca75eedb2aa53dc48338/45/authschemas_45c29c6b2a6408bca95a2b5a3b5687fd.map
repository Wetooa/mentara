{"file":"/home/wetooa/Documents/code/projects/mentara/mentara-api/src/auth/validation/auth.schemas.ts","mappings":"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","names":[],"sources":["/home/wetooa/Documents/code/projects/mentara/mentara-api/src/auth/validation/auth.schemas.ts"],"sourcesContent":["/**\n * Auth Validation Schemas - Zod schemas for runtime validation\n * Separated from type definitions to maintain clean architecture\n */\n\nimport { z } from \"zod\";\n\n// Authentication Core Schemas\nexport const LoginDtoSchema = z.object({\n  email: z.string().email(\"Invalid email format\"),\n  password: z.string().min(1, \"Password is required\"),\n});\n\nexport const RefreshTokenDtoSchema = z.object({\n  refreshToken: z.string().min(1, \"Refresh token is required\"),\n});\n\nexport const LogoutDtoSchema = z.object({\n  refreshToken: z.string().optional(),\n});\n\nexport const RegisterUserDtoSchema = z.object({\n  email: z.string().email(\"Invalid email format\"),\n  password: z.string().min(8, \"Password must be at least 8 characters long\"),\n  firstName: z.string().min(1, \"First name is required\"),\n  lastName: z.string().min(1, \"Last name is required\"),\n  role: z.string(),\n});\n\nexport const ChangePasswordDtoSchema = z\n  .object({\n    currentPassword: z.string().min(1, \"Current password is required\"),\n    newPassword: z\n      .string()\n      .min(8, \"New password must be at least 8 characters long\"),\n    confirmPassword: z.string().min(8, \"Password confirmation is required\"),\n  })\n  .refine((data) => data.newPassword === data.confirmPassword, {\n    message: \"Passwords don't match\",\n    path: [\"confirmPassword\"],\n  });\n\n// Password Reset Schemas\nexport const RequestPasswordResetDtoSchema = z.object({\n  email: z.string().email(\"Invalid email format\"),\n});\n\nexport const ResetPasswordDtoSchema = z\n  .object({\n    token: z.string().min(1, \"Reset token is required\"),\n    newPassword: z\n      .string()\n      .min(8, \"Password must be at least 8 characters long\"),\n    confirmPassword: z.string().min(8, \"Password confirmation is required\"),\n  })\n  .refine((data) => data.newPassword === data.confirmPassword, {\n    message: \"Passwords don't match\",\n    path: [\"confirmPassword\"],\n  });\n\n// Email Verification Schemas\nexport const SendVerificationEmailDtoSchema = z.object({\n  email: z.string().email(\"Invalid email format\").optional(),\n});\n\nexport const ResendVerificationEmailDtoSchema = z.object({\n  email: z.string().email(\"Invalid email format\"),\n});\n\nexport const VerifyEmailDtoSchema = z.object({\n  token: z.string().min(1, \"Verification token is required\"),\n});\n\n// OTP Type Enum Schema\nexport const OtpTypeSchema = z.enum([\n  \"registration\",\n  \"password_reset\",\n  \"login_verification\",\n]);\n\n// OTP Verification Schemas\nexport const SendOtpDtoSchema = z.object({\n  email: z.string().email(\"Invalid email format\"),\n  type: OtpTypeSchema.default(\"registration\"),\n});\n\nexport const VerifyOtpDtoSchema = z.object({\n  email: z.string().email(\"Invalid email format\"),\n  otpCode: z\n    .string()\n    .min(6, \"OTP code must be 6 digits\")\n    .max(6, \"OTP code must be 6 digits\"),\n  type: OtpTypeSchema.default(\"registration\"),\n});\n\nexport const ResendOtpDtoSchema = z.object({\n  email: z.string().email(\"Invalid email format\"),\n  type: OtpTypeSchema.default(\"registration\"),\n});\n\n// Client Registration OTP Verification Schemas\nexport const VerifyRegistrationOtpDtoSchema = z.object({\n  email: z.string().email(\"Invalid email format\"),\n  otpCode: z\n    .string()\n    .min(6, \"OTP code must be 6 digits\")\n    .max(6, \"OTP code must be 6 digits\"),\n});\n\nexport const ResendRegistrationOtpDtoSchema = z.object({\n  email: z.string().email(\"Invalid email format\"),\n});\n\nexport const RegisterWithOtpDtoSchema = z.object({\n  email: z.string().email(\"Invalid email format\"),\n  otpCode: z\n    .string()\n    .min(6, \"OTP code must be 6 digits\")\n    .max(6, \"OTP code must be 6 digits\"),\n  password: z.string().min(8, \"Password must be at least 8 characters long\"),\n  firstName: z.string().min(1, \"First name is required\"),\n  lastName: z.string().min(1, \"Last name is required\"),\n  role: z.string(),\n});\n\n// Role-specific Registration Schemas\nexport const RegisterClientDtoSchema = z.object({\n  email: z.string().email(\"Invalid email format\"),\n  password: z.string().min(8, \"Password must be at least 8 characters long\"),\n  firstName: z.string().min(1, \"First name is required\"),\n  lastName: z.string().min(1, \"Last name is required\"),\n});\n\nexport const RegisterAdminDtoSchema = z.object({\n  email: z.string().email(\"Invalid email format\"),\n  password: z.string().min(8, \"Password must be at least 8 characters long\"),\n  firstName: z.string().min(1, \"First name is required\"),\n  lastName: z.string().min(1, \"Last name is required\"),\n  permissions: z.array(z.string()).default([]),\n});\n\nexport const RegisterModeratorDtoSchema = z.object({\n  email: z.string().email(\"Invalid email format\"),\n  password: z.string().min(8, \"Password must be at least 8 characters long\"),\n  firstName: z.string().min(1, \"First name is required\"),\n  lastName: z.string().min(1, \"Last name is required\"),\n  permissions: z.array(z.string()).default([]),\n  assignedCommunities: z.array(z.string()).default([]),\n});\n\nexport const RegisterTherapistDtoSchema = z.object({\n  email: z.string().email(\"Invalid email format\"),\n  password: z.string().min(8, \"Password must be at least 8 characters long\"),\n  firstName: z.string().min(1, \"First name is required\"),\n  lastName: z.string().min(1, \"Last name is required\"),\n  bio: z.string().min(10, \"Bio must be at least 10 characters\"),\n  specializations: z.array(z.string()).min(1, \"At least one specialization is required\"),\n  credentials: z.array(z.string()).min(1, \"At least one credential is required\"),\n  experience: z.number().min(0, \"Experience cannot be negative\"),\n  languages: z.array(z.string()).min(1, \"At least one language is required\"),\n  hourlyRate: z.number().min(0, \"Hourly rate cannot be negative\").optional(),\n});\n\n// Session Management Schemas\nexport const TerminateSessionDtoSchema = z.object({\n  sessionId: z.string().min(1, \"Session ID is required\"),\n});\n\nexport const CheckUserExistsDtoSchema = z.object({\n  email: z.string().email(\"Invalid email format\"),\n});\n\n// Type extraction helpers (for intellisense and type safety)\nexport type LoginDtoType = z.infer<typeof LoginDtoSchema>;\nexport type RegisterUserDtoType = z.infer<typeof RegisterUserDtoSchema>;\nexport type RegisterClientDtoType = z.infer<typeof RegisterClientDtoSchema>;\nexport type RegisterTherapistDtoType = z.infer<typeof RegisterTherapistDtoSchema>;\nexport type RegisterAdminDtoType = z.infer<typeof RegisterAdminDtoSchema>;\nexport type RegisterModeratorDtoType = z.infer<typeof RegisterModeratorDtoSchema>;"],"version":3}