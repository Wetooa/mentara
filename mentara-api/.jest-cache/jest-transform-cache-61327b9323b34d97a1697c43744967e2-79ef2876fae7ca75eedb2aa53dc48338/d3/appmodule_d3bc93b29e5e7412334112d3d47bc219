e993c017264e5f201eb5e577d2672ec5
"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.AppModule = void 0;
const common_1 = require("@nestjs/common");
const config_1 = require("@nestjs/config");
const event_emitter_1 = require("@nestjs/event-emitter");
const throttler_1 = require("@nestjs/throttler");
const core_1 = require("@nestjs/core");
const auth_module_1 = require("./auth/auth.module");
const app_controller_1 = require("./app.controller");
const app_service_1 = require("./app.service");
const users_module_1 = require("./users/users.module");
const communities_module_1 = require("./communities/communities.module");
const posts_module_1 = require("./posts/posts.module");
const comments_module_1 = require("./comments/comments.module");
const therapist_module_1 = require("./therapist/therapist.module");
const worksheets_module_1 = require("./worksheets/worksheets.module");
const pre_assessment_module_1 = require("./pre-assessment/pre-assessment.module");
const booking_module_1 = require("./booking/booking.module");
const reviews_module_1 = require("./reviews/reviews.module");
const admin_module_1 = require("./admin/admin.module");
const moderator_module_1 = require("./moderator/moderator.module");
const client_module_1 = require("./client/client.module");
const messaging_module_1 = require("./messaging/messaging.module");
const meetings_module_1 = require("./meetings/meetings.module");
const notifications_module_1 = require("./notifications/notifications.module");
const billing_module_1 = require("./billing/billing.module");
const dashboard_module_1 = require("./dashboard/dashboard.module");
const search_module_1 = require("./search/search.module");
const analytics_module_1 = require("./analytics/analytics.module");
const onboarding_module_1 = require("./onboarding/onboarding.module");
const health_module_1 = require("./health/health.module");
const email_module_1 = require("./email/email.module");
const prisma_client_provider_1 = require("./providers/prisma-client.provider");
const response_interceptor_1 = require("./common/interceptors/response.interceptor");
const http_exception_filter_1 = require("./common/filters/http-exception.filter");
const event_bus_service_1 = require("./common/events/event-bus.service");
const common_module_1 = require("./common/common.module");
const jwt_auth_guard_1 = require("./auth/guards/jwt-auth.guard");
const security_guard_1 = require("./common/guards/security.guard");
const security_headers_middleware_1 = require("./common/middleware/security-headers.middleware");
const jwt_1 = require("@nestjs/jwt");
let AppModule = class AppModule {
    configure(consumer) {
        consumer.apply(security_headers_middleware_1.SecurityHeadersMiddleware).forRoutes('*');
    }
};
exports.AppModule = AppModule;
exports.AppModule = AppModule = __decorate([
    (0, common_1.Module)({
        imports: [
            config_1.ConfigModule.forRoot(),
            throttler_1.ThrottlerModule.forRoot([
                {
                    name: 'default',
                    ttl: 60000, // 1 minute
                    limit: process.env.NODE_ENV === 'production' ? 500 : 2000, // Increased limits for development
                },
                {
                    name: 'auth',
                    ttl: 300000, // 5 minutes
                    limit: process.env.NODE_ENV === 'production' ? 30 : 100, // More reasonable auth attempts
                },
                {
                    name: 'upload',
                    ttl: 60000, // 1 minute
                    limit: process.env.NODE_ENV === 'production' ? 20 : 50, // Increased upload limits
                },
                {
                    name: 'community',
                    ttl: 60000, // 1 minute
                    limit: process.env.NODE_ENV === 'production' ? 400 : 1000, // Higher community interaction limits
                },
            ]),
            event_emitter_1.EventEmitterModule.forRoot({
                // Set this to `true` to use wildcards
                wildcard: true,
                // The delimiter used to segment namespaces
                delimiter: '.',
                // Disable throwing uncaught exceptions
                ignoreErrors: false,
                // Max listeners per event
                maxListeners: 10,
                // Show event name in memory leaks message when more than maximum amount of listeners
                verboseMemoryLeak: false,
            }),
            common_module_1.CommonModule,
            auth_module_1.AuthModule,
            users_module_1.UsersModule,
            communities_module_1.CommunitiesModule,
            posts_module_1.PostsModule,
            comments_module_1.CommentsModule,
            therapist_module_1.TherapistModule,
            worksheets_module_1.WorksheetsModule,
            pre_assessment_module_1.PreAssessmentModule,
            booking_module_1.BookingModule,
            reviews_module_1.ReviewsModule,
            admin_module_1.AdminModule,
            moderator_module_1.ModeratorModule,
            client_module_1.ClientModule,
            messaging_module_1.MessagingModule,
            meetings_module_1.MeetingsModule,
            notifications_module_1.NotificationsModule,
            billing_module_1.BillingModule,
            dashboard_module_1.DashboardModule,
            search_module_1.SearchModule,
            analytics_module_1.AnalyticsModule,
            onboarding_module_1.OnboardingModule,
            health_module_1.HealthModule,
            email_module_1.EmailModule,
        ],
        controllers: [app_controller_1.AppController],
        providers: [
            app_service_1.AppService,
            prisma_client_provider_1.PrismaService,
            event_bus_service_1.EventBusService,
            jwt_1.JwtService,
            {
                provide: core_1.APP_INTERCEPTOR,
                useClass: response_interceptor_1.ResponseInterceptor,
            },
            {
                provide: core_1.APP_FILTER,
                useClass: http_exception_filter_1.HttpExceptionFilter,
            },
            {
                provide: core_1.APP_GUARD,
                useClass: throttler_1.ThrottlerGuard,
            },
            {
                provide: core_1.APP_GUARD,
                useClass: jwt_auth_guard_1.JwtAuthGuard,
            },
            {
                provide: core_1.APP_GUARD,
                useClass: security_guard_1.SecurityGuard,
            },
        ],
    })
], AppModule);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvd2V0b29hL0RvY3VtZW50cy9jb2RlL3Byb2plY3RzL21lbnRhcmEvbWVudGFyYS1hcGkvc3JjL2FwcC5tb2R1bGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEsMkNBQXdFO0FBQ3hFLDJDQUE4QztBQUM5Qyx5REFBMkQ7QUFDM0QsaURBQW9FO0FBQ3BFLHVDQUFzRTtBQUN0RSxvREFBZ0Q7QUFDaEQscURBQWlEO0FBQ2pELCtDQUEyQztBQUMzQyx1REFBbUQ7QUFDbkQseUVBQXFFO0FBQ3JFLHVEQUFtRDtBQUNuRCxnRUFBNEQ7QUFDNUQsbUVBQStEO0FBQy9ELHNFQUFrRTtBQUNsRSxrRkFBNkU7QUFDN0UsNkRBQXlEO0FBQ3pELDZEQUF5RDtBQUN6RCx1REFBbUQ7QUFDbkQsbUVBQStEO0FBQy9ELDBEQUFzRDtBQUN0RCxtRUFBK0Q7QUFDL0QsZ0VBQTREO0FBQzVELCtFQUEyRTtBQUMzRSw2REFBeUQ7QUFDekQsbUVBQStEO0FBQy9ELDBEQUFzRDtBQUN0RCxtRUFBK0Q7QUFDL0Qsc0VBQWtFO0FBQ2xFLDBEQUFzRDtBQUN0RCx1REFBbUQ7QUFDbkQsK0VBQW1FO0FBQ25FLHFGQUFpRjtBQUNqRixrRkFBNkU7QUFDN0UseUVBQW9FO0FBQ3BFLDBEQUFzRDtBQUN0RCxpRUFBNEQ7QUFDNUQsbUVBQStEO0FBQy9ELGlHQUE0RjtBQUM1RixxQ0FBeUM7QUE0RmxDLElBQU0sU0FBUyxHQUFmLE1BQU0sU0FBUztJQUNwQixTQUFTLENBQUMsUUFBNEI7UUFDcEMsUUFBUSxDQUFDLEtBQUssQ0FBQyx1REFBeUIsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUMzRCxDQUFDO0NBQ0YsQ0FBQTtBQUpZLDhCQUFTO29CQUFULFNBQVM7SUExRnJCLElBQUEsZUFBTSxFQUFDO1FBQ04sT0FBTyxFQUFFO1lBQ1AscUJBQVksQ0FBQyxPQUFPLEVBQUU7WUFDdEIsMkJBQWUsQ0FBQyxPQUFPLENBQUM7Z0JBQ3RCO29CQUNFLElBQUksRUFBRSxTQUFTO29CQUNmLEdBQUcsRUFBRSxLQUFLLEVBQUUsV0FBVztvQkFDdkIsS0FBSyxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxLQUFLLFlBQVksQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsbUNBQW1DO2lCQUMvRjtnQkFDRDtvQkFDRSxJQUFJLEVBQUUsTUFBTTtvQkFDWixHQUFHLEVBQUUsTUFBTSxFQUFFLFlBQVk7b0JBQ3pCLEtBQUssRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsS0FBSyxZQUFZLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLGdDQUFnQztpQkFDMUY7Z0JBQ0Q7b0JBQ0UsSUFBSSxFQUFFLFFBQVE7b0JBQ2QsR0FBRyxFQUFFLEtBQUssRUFBRSxXQUFXO29CQUN2QixLQUFLLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEtBQUssWUFBWSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSwwQkFBMEI7aUJBQ25GO2dCQUNEO29CQUNFLElBQUksRUFBRSxXQUFXO29CQUNqQixHQUFHLEVBQUUsS0FBSyxFQUFFLFdBQVc7b0JBQ3ZCLEtBQUssRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsS0FBSyxZQUFZLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLHNDQUFzQztpQkFDbEc7YUFDRixDQUFDO1lBQ0Ysa0NBQWtCLENBQUMsT0FBTyxDQUFDO2dCQUN6QixzQ0FBc0M7Z0JBQ3RDLFFBQVEsRUFBRSxJQUFJO2dCQUNkLDJDQUEyQztnQkFDM0MsU0FBUyxFQUFFLEdBQUc7Z0JBQ2QsdUNBQXVDO2dCQUN2QyxZQUFZLEVBQUUsS0FBSztnQkFDbkIsMEJBQTBCO2dCQUMxQixZQUFZLEVBQUUsRUFBRTtnQkFDaEIscUZBQXFGO2dCQUNyRixpQkFBaUIsRUFBRSxLQUFLO2FBQ3pCLENBQUM7WUFDRiw0QkFBWTtZQUNaLHdCQUFVO1lBQ1YsMEJBQVc7WUFDWCxzQ0FBaUI7WUFDakIsMEJBQVc7WUFDWCxnQ0FBYztZQUNkLGtDQUFlO1lBQ2Ysb0NBQWdCO1lBQ2hCLDJDQUFtQjtZQUNuQiw4QkFBYTtZQUNiLDhCQUFhO1lBQ2IsMEJBQVc7WUFDWCxrQ0FBZTtZQUNmLDRCQUFZO1lBQ1osa0NBQWU7WUFDZixnQ0FBYztZQUNkLDBDQUFtQjtZQUNuQiw4QkFBYTtZQUNiLGtDQUFlO1lBQ2YsNEJBQVk7WUFDWixrQ0FBZTtZQUNmLG9DQUFnQjtZQUNoQiw0QkFBWTtZQUNaLDBCQUFXO1NBQ1o7UUFDRCxXQUFXLEVBQUUsQ0FBQyw4QkFBYSxDQUFDO1FBQzVCLFNBQVMsRUFBRTtZQUNULHdCQUFVO1lBQ1Ysc0NBQWE7WUFDYixtQ0FBZTtZQUNmLGdCQUFVO1lBQ1Y7Z0JBQ0UsT0FBTyxFQUFFLHNCQUFlO2dCQUN4QixRQUFRLEVBQUUsMENBQW1CO2FBQzlCO1lBQ0Q7Z0JBQ0UsT0FBTyxFQUFFLGlCQUFVO2dCQUNuQixRQUFRLEVBQUUsMkNBQW1CO2FBQzlCO1lBQ0Q7Z0JBQ0UsT0FBTyxFQUFFLGdCQUFTO2dCQUNsQixRQUFRLEVBQUUsMEJBQWM7YUFDekI7WUFDRDtnQkFDRSxPQUFPLEVBQUUsZ0JBQVM7Z0JBQ2xCLFFBQVEsRUFBRSw2QkFBWTthQUN2QjtZQUNEO2dCQUNFLE9BQU8sRUFBRSxnQkFBUztnQkFDbEIsUUFBUSxFQUFFLDhCQUFhO2FBQ3hCO1NBQ0Y7S0FDRixDQUFDO0dBQ1csU0FBUyxDQUlyQiIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvaG9tZS93ZXRvb2EvRG9jdW1lbnRzL2NvZGUvcHJvamVjdHMvbWVudGFyYS9tZW50YXJhLWFwaS9zcmMvYXBwLm1vZHVsZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNb2R1bGUsIE5lc3RNb2R1bGUsIE1pZGRsZXdhcmVDb25zdW1lciB9IGZyb20gJ0BuZXN0anMvY29tbW9uJztcbmltcG9ydCB7IENvbmZpZ01vZHVsZSB9IGZyb20gJ0BuZXN0anMvY29uZmlnJztcbmltcG9ydCB7IEV2ZW50RW1pdHRlck1vZHVsZSB9IGZyb20gJ0BuZXN0anMvZXZlbnQtZW1pdHRlcic7XG5pbXBvcnQgeyBUaHJvdHRsZXJNb2R1bGUsIFRocm90dGxlckd1YXJkIH0gZnJvbSAnQG5lc3Rqcy90aHJvdHRsZXInO1xuaW1wb3J0IHsgQVBQX0lOVEVSQ0VQVE9SLCBBUFBfRklMVEVSLCBBUFBfR1VBUkQgfSBmcm9tICdAbmVzdGpzL2NvcmUnO1xuaW1wb3J0IHsgQXV0aE1vZHVsZSB9IGZyb20gJy4vYXV0aC9hdXRoLm1vZHVsZSc7XG5pbXBvcnQgeyBBcHBDb250cm9sbGVyIH0gZnJvbSAnLi9hcHAuY29udHJvbGxlcic7XG5pbXBvcnQgeyBBcHBTZXJ2aWNlIH0gZnJvbSAnLi9hcHAuc2VydmljZSc7XG5pbXBvcnQgeyBVc2Vyc01vZHVsZSB9IGZyb20gJy4vdXNlcnMvdXNlcnMubW9kdWxlJztcbmltcG9ydCB7IENvbW11bml0aWVzTW9kdWxlIH0gZnJvbSAnLi9jb21tdW5pdGllcy9jb21tdW5pdGllcy5tb2R1bGUnO1xuaW1wb3J0IHsgUG9zdHNNb2R1bGUgfSBmcm9tICcuL3Bvc3RzL3Bvc3RzLm1vZHVsZSc7XG5pbXBvcnQgeyBDb21tZW50c01vZHVsZSB9IGZyb20gJy4vY29tbWVudHMvY29tbWVudHMubW9kdWxlJztcbmltcG9ydCB7IFRoZXJhcGlzdE1vZHVsZSB9IGZyb20gJy4vdGhlcmFwaXN0L3RoZXJhcGlzdC5tb2R1bGUnO1xuaW1wb3J0IHsgV29ya3NoZWV0c01vZHVsZSB9IGZyb20gJy4vd29ya3NoZWV0cy93b3Jrc2hlZXRzLm1vZHVsZSc7XG5pbXBvcnQgeyBQcmVBc3Nlc3NtZW50TW9kdWxlIH0gZnJvbSAnLi9wcmUtYXNzZXNzbWVudC9wcmUtYXNzZXNzbWVudC5tb2R1bGUnO1xuaW1wb3J0IHsgQm9va2luZ01vZHVsZSB9IGZyb20gJy4vYm9va2luZy9ib29raW5nLm1vZHVsZSc7XG5pbXBvcnQgeyBSZXZpZXdzTW9kdWxlIH0gZnJvbSAnLi9yZXZpZXdzL3Jldmlld3MubW9kdWxlJztcbmltcG9ydCB7IEFkbWluTW9kdWxlIH0gZnJvbSAnLi9hZG1pbi9hZG1pbi5tb2R1bGUnO1xuaW1wb3J0IHsgTW9kZXJhdG9yTW9kdWxlIH0gZnJvbSAnLi9tb2RlcmF0b3IvbW9kZXJhdG9yLm1vZHVsZSc7XG5pbXBvcnQgeyBDbGllbnRNb2R1bGUgfSBmcm9tICcuL2NsaWVudC9jbGllbnQubW9kdWxlJztcbmltcG9ydCB7IE1lc3NhZ2luZ01vZHVsZSB9IGZyb20gJy4vbWVzc2FnaW5nL21lc3NhZ2luZy5tb2R1bGUnO1xuaW1wb3J0IHsgTWVldGluZ3NNb2R1bGUgfSBmcm9tICcuL21lZXRpbmdzL21lZXRpbmdzLm1vZHVsZSc7XG5pbXBvcnQgeyBOb3RpZmljYXRpb25zTW9kdWxlIH0gZnJvbSAnLi9ub3RpZmljYXRpb25zL25vdGlmaWNhdGlvbnMubW9kdWxlJztcbmltcG9ydCB7IEJpbGxpbmdNb2R1bGUgfSBmcm9tICcuL2JpbGxpbmcvYmlsbGluZy5tb2R1bGUnO1xuaW1wb3J0IHsgRGFzaGJvYXJkTW9kdWxlIH0gZnJvbSAnLi9kYXNoYm9hcmQvZGFzaGJvYXJkLm1vZHVsZSc7XG5pbXBvcnQgeyBTZWFyY2hNb2R1bGUgfSBmcm9tICcuL3NlYXJjaC9zZWFyY2gubW9kdWxlJztcbmltcG9ydCB7IEFuYWx5dGljc01vZHVsZSB9IGZyb20gJy4vYW5hbHl0aWNzL2FuYWx5dGljcy5tb2R1bGUnO1xuaW1wb3J0IHsgT25ib2FyZGluZ01vZHVsZSB9IGZyb20gJy4vb25ib2FyZGluZy9vbmJvYXJkaW5nLm1vZHVsZSc7XG5pbXBvcnQgeyBIZWFsdGhNb2R1bGUgfSBmcm9tICcuL2hlYWx0aC9oZWFsdGgubW9kdWxlJztcbmltcG9ydCB7IEVtYWlsTW9kdWxlIH0gZnJvbSAnLi9lbWFpbC9lbWFpbC5tb2R1bGUnO1xuaW1wb3J0IHsgUHJpc21hU2VydmljZSB9IGZyb20gJy4vcHJvdmlkZXJzL3ByaXNtYS1jbGllbnQucHJvdmlkZXInO1xuaW1wb3J0IHsgUmVzcG9uc2VJbnRlcmNlcHRvciB9IGZyb20gJy4vY29tbW9uL2ludGVyY2VwdG9ycy9yZXNwb25zZS5pbnRlcmNlcHRvcic7XG5pbXBvcnQgeyBIdHRwRXhjZXB0aW9uRmlsdGVyIH0gZnJvbSAnLi9jb21tb24vZmlsdGVycy9odHRwLWV4Y2VwdGlvbi5maWx0ZXInO1xuaW1wb3J0IHsgRXZlbnRCdXNTZXJ2aWNlIH0gZnJvbSAnLi9jb21tb24vZXZlbnRzL2V2ZW50LWJ1cy5zZXJ2aWNlJztcbmltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJy4vY29tbW9uL2NvbW1vbi5tb2R1bGUnO1xuaW1wb3J0IHsgSnd0QXV0aEd1YXJkIH0gZnJvbSAnLi9hdXRoL2d1YXJkcy9qd3QtYXV0aC5ndWFyZCc7XG5pbXBvcnQgeyBTZWN1cml0eUd1YXJkIH0gZnJvbSAnLi9jb21tb24vZ3VhcmRzL3NlY3VyaXR5Lmd1YXJkJztcbmltcG9ydCB7IFNlY3VyaXR5SGVhZGVyc01pZGRsZXdhcmUgfSBmcm9tICcuL2NvbW1vbi9taWRkbGV3YXJlL3NlY3VyaXR5LWhlYWRlcnMubWlkZGxld2FyZSc7XG5pbXBvcnQgeyBKd3RTZXJ2aWNlIH0gZnJvbSAnQG5lc3Rqcy9qd3QnO1xuXG5ATW9kdWxlKHtcbiAgaW1wb3J0czogW1xuICAgIENvbmZpZ01vZHVsZS5mb3JSb290KCksXG4gICAgVGhyb3R0bGVyTW9kdWxlLmZvclJvb3QoW1xuICAgICAge1xuICAgICAgICBuYW1lOiAnZGVmYXVsdCcsXG4gICAgICAgIHR0bDogNjAwMDAsIC8vIDEgbWludXRlXG4gICAgICAgIGxpbWl0OiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gNTAwIDogMjAwMCwgLy8gSW5jcmVhc2VkIGxpbWl0cyBmb3IgZGV2ZWxvcG1lbnRcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdhdXRoJyxcbiAgICAgICAgdHRsOiAzMDAwMDAsIC8vIDUgbWludXRlc1xuICAgICAgICBsaW1pdDogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyA/IDMwIDogMTAwLCAvLyBNb3JlIHJlYXNvbmFibGUgYXV0aCBhdHRlbXB0c1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ3VwbG9hZCcsXG4gICAgICAgIHR0bDogNjAwMDAsIC8vIDEgbWludXRlXG4gICAgICAgIGxpbWl0OiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gMjAgOiA1MCwgLy8gSW5jcmVhc2VkIHVwbG9hZCBsaW1pdHNcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdjb21tdW5pdHknLFxuICAgICAgICB0dGw6IDYwMDAwLCAvLyAxIG1pbnV0ZVxuICAgICAgICBsaW1pdDogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyA/IDQwMCA6IDEwMDAsIC8vIEhpZ2hlciBjb21tdW5pdHkgaW50ZXJhY3Rpb24gbGltaXRzXG4gICAgICB9LFxuICAgIF0pLFxuICAgIEV2ZW50RW1pdHRlck1vZHVsZS5mb3JSb290KHtcbiAgICAgIC8vIFNldCB0aGlzIHRvIGB0cnVlYCB0byB1c2Ugd2lsZGNhcmRzXG4gICAgICB3aWxkY2FyZDogdHJ1ZSxcbiAgICAgIC8vIFRoZSBkZWxpbWl0ZXIgdXNlZCB0byBzZWdtZW50IG5hbWVzcGFjZXNcbiAgICAgIGRlbGltaXRlcjogJy4nLFxuICAgICAgLy8gRGlzYWJsZSB0aHJvd2luZyB1bmNhdWdodCBleGNlcHRpb25zXG4gICAgICBpZ25vcmVFcnJvcnM6IGZhbHNlLFxuICAgICAgLy8gTWF4IGxpc3RlbmVycyBwZXIgZXZlbnRcbiAgICAgIG1heExpc3RlbmVyczogMTAsXG4gICAgICAvLyBTaG93IGV2ZW50IG5hbWUgaW4gbWVtb3J5IGxlYWtzIG1lc3NhZ2Ugd2hlbiBtb3JlIHRoYW4gbWF4aW11bSBhbW91bnQgb2YgbGlzdGVuZXJzXG4gICAgICB2ZXJib3NlTWVtb3J5TGVhazogZmFsc2UsXG4gICAgfSksXG4gICAgQ29tbW9uTW9kdWxlLFxuICAgIEF1dGhNb2R1bGUsXG4gICAgVXNlcnNNb2R1bGUsXG4gICAgQ29tbXVuaXRpZXNNb2R1bGUsXG4gICAgUG9zdHNNb2R1bGUsXG4gICAgQ29tbWVudHNNb2R1bGUsXG4gICAgVGhlcmFwaXN0TW9kdWxlLFxuICAgIFdvcmtzaGVldHNNb2R1bGUsXG4gICAgUHJlQXNzZXNzbWVudE1vZHVsZSxcbiAgICBCb29raW5nTW9kdWxlLFxuICAgIFJldmlld3NNb2R1bGUsXG4gICAgQWRtaW5Nb2R1bGUsXG4gICAgTW9kZXJhdG9yTW9kdWxlLFxuICAgIENsaWVudE1vZHVsZSxcbiAgICBNZXNzYWdpbmdNb2R1bGUsXG4gICAgTWVldGluZ3NNb2R1bGUsXG4gICAgTm90aWZpY2F0aW9uc01vZHVsZSxcbiAgICBCaWxsaW5nTW9kdWxlLFxuICAgIERhc2hib2FyZE1vZHVsZSxcbiAgICBTZWFyY2hNb2R1bGUsXG4gICAgQW5hbHl0aWNzTW9kdWxlLFxuICAgIE9uYm9hcmRpbmdNb2R1bGUsXG4gICAgSGVhbHRoTW9kdWxlLFxuICAgIEVtYWlsTW9kdWxlLFxuICBdLFxuICBjb250cm9sbGVyczogW0FwcENvbnRyb2xsZXJdLFxuICBwcm92aWRlcnM6IFtcbiAgICBBcHBTZXJ2aWNlLFxuICAgIFByaXNtYVNlcnZpY2UsXG4gICAgRXZlbnRCdXNTZXJ2aWNlLFxuICAgIEp3dFNlcnZpY2UsXG4gICAge1xuICAgICAgcHJvdmlkZTogQVBQX0lOVEVSQ0VQVE9SLFxuICAgICAgdXNlQ2xhc3M6IFJlc3BvbnNlSW50ZXJjZXB0b3IsXG4gICAgfSxcbiAgICB7XG4gICAgICBwcm92aWRlOiBBUFBfRklMVEVSLFxuICAgICAgdXNlQ2xhc3M6IEh0dHBFeGNlcHRpb25GaWx0ZXIsXG4gICAgfSxcbiAgICB7XG4gICAgICBwcm92aWRlOiBBUFBfR1VBUkQsXG4gICAgICB1c2VDbGFzczogVGhyb3R0bGVyR3VhcmQsXG4gICAgfSxcbiAgICB7XG4gICAgICBwcm92aWRlOiBBUFBfR1VBUkQsXG4gICAgICB1c2VDbGFzczogSnd0QXV0aEd1YXJkLFxuICAgIH0sXG4gICAge1xuICAgICAgcHJvdmlkZTogQVBQX0dVQVJELFxuICAgICAgdXNlQ2xhc3M6IFNlY3VyaXR5R3VhcmQsXG4gICAgfSxcbiAgXSxcbn0pXG5leHBvcnQgY2xhc3MgQXBwTW9kdWxlIGltcGxlbWVudHMgTmVzdE1vZHVsZSB7XG4gIGNvbmZpZ3VyZShjb25zdW1lcjogTWlkZGxld2FyZUNvbnN1bWVyKSB7XG4gICAgY29uc3VtZXIuYXBwbHkoU2VjdXJpdHlIZWFkZXJzTWlkZGxld2FyZSkuZm9yUm91dGVzKCcqJyk7XG4gIH1cbn1cbiJdLCJ2ZXJzaW9uIjozfQ==