{"file":"/home/wetooa/Documents/code/projects/mentara/mentara-commons/dist/schemas/push-notifications.js","mappings":"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","names":[],"sources":["/home/wetooa/Documents/code/projects/mentara/mentara-commons/dist/schemas/push-notifications.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UpdateSubscriptionPreferencesDtoSchema = exports.NotificationAnalyticsQueryDtoSchema = exports.SendTemplateNotificationDtoSchema = exports.NotificationTemplateSchema = exports.BulkNotificationRequestDtoSchema = exports.TestNotificationRequestDtoSchema = exports.UnsubscribeRequestDtoSchema = exports.SubscribeRequestDtoSchema = void 0;\nconst zod_1 = require(\"zod\");\n// Push Notification Subscription Schema\nexports.SubscribeRequestDtoSchema = zod_1.z.object({\n    endpoint: zod_1.z.string().url('Invalid endpoint URL'),\n    keys: zod_1.z.object({\n        p256dh: zod_1.z.string().min(1, 'p256dh key is required'),\n        auth: zod_1.z.string().min(1, 'auth key is required')\n    }),\n    userId: zod_1.z.string().uuid('Invalid user ID format').optional(),\n    deviceInfo: zod_1.z.object({\n        userAgent: zod_1.z.string().optional(),\n        platform: zod_1.z.string().optional(),\n        device: zod_1.z.string().optional()\n    }).optional(),\n    preferences: zod_1.z.object({\n        sessionReminders: zod_1.z.boolean().default(true),\n        messageNotifications: zod_1.z.boolean().default(true),\n        appointmentUpdates: zod_1.z.boolean().default(true),\n        communityActivity: zod_1.z.boolean().default(false),\n        systemAlerts: zod_1.z.boolean().default(true)\n    }).optional()\n});\nexports.UnsubscribeRequestDtoSchema = zod_1.z.object({\n    endpoint: zod_1.z.string().url('Invalid endpoint URL'),\n    userId: zod_1.z.string().uuid('Invalid user ID format').optional(),\n    reason: zod_1.z.enum(['user_request', 'device_change', 'app_uninstall', 'expired_subscription']).optional()\n});\nexports.TestNotificationRequestDtoSchema = zod_1.z.object({\n    userId: zod_1.z.string().uuid('Invalid user ID format'),\n    title: zod_1.z.string().min(1, 'Title is required').max(100, 'Title too long'),\n    body: zod_1.z.string().min(1, 'Body is required').max(300, 'Body too long'),\n    icon: zod_1.z.string().url().optional(),\n    badge: zod_1.z.string().url().optional(),\n    data: zod_1.z.record(zod_1.z.any()).optional(),\n    actions: zod_1.z.array(zod_1.z.object({\n        action: zod_1.z.string().min(1, 'Action is required'),\n        title: zod_1.z.string().min(1, 'Action title is required'),\n        icon: zod_1.z.string().url().optional()\n    })).optional(),\n    requireInteraction: zod_1.z.boolean().default(false),\n    silent: zod_1.z.boolean().default(false)\n});\n// Bulk notification schemas\nexports.BulkNotificationRequestDtoSchema = zod_1.z.object({\n    userIds: zod_1.z.array(zod_1.z.string().uuid()).min(1, 'At least one user ID is required').max(1000, 'Too many users'),\n    title: zod_1.z.string().min(1, 'Title is required').max(100, 'Title too long'),\n    body: zod_1.z.string().min(1, 'Body is required').max(300, 'Body too long'),\n    icon: zod_1.z.string().url().optional(),\n    badge: zod_1.z.string().url().optional(),\n    data: zod_1.z.record(zod_1.z.any()).optional(),\n    scheduledFor: zod_1.z.string().datetime().optional(),\n    expiresAt: zod_1.z.string().datetime().optional()\n});\n// Notification template schemas\nexports.NotificationTemplateSchema = zod_1.z.object({\n    id: zod_1.z.string().min(1, 'Template ID is required'),\n    name: zod_1.z.string().min(1, 'Template name is required'),\n    title: zod_1.z.string().min(1, 'Title template is required'),\n    body: zod_1.z.string().min(1, 'Body template is required'),\n    variables: zod_1.z.array(zod_1.z.string()).optional(), // Variables that can be replaced in template\n    category: zod_1.z.enum(['appointment', 'message', 'community', 'system', 'emergency']),\n    isActive: zod_1.z.boolean().default(true)\n});\nexports.SendTemplateNotificationDtoSchema = zod_1.z.object({\n    templateId: zod_1.z.string().min(1, 'Template ID is required'),\n    userIds: zod_1.z.array(zod_1.z.string().uuid()).min(1, 'At least one user ID is required'),\n    variables: zod_1.z.record(zod_1.z.string()).optional(), // Key-value pairs for template variables\n    scheduledFor: zod_1.z.string().datetime().optional()\n});\n// Notification analytics schemas\nexports.NotificationAnalyticsQueryDtoSchema = zod_1.z.object({\n    dateFrom: zod_1.z.string().datetime().optional(),\n    dateTo: zod_1.z.string().datetime().optional(),\n    category: zod_1.z.enum(['appointment', 'message', 'community', 'system', 'emergency']).optional(),\n    userId: zod_1.z.string().uuid().optional(),\n    includeClickThrough: zod_1.z.boolean().default(true),\n    includeDeliveryRate: zod_1.z.boolean().default(true)\n});\n// Subscription management schemas\nexports.UpdateSubscriptionPreferencesDtoSchema = zod_1.z.object({\n    subscriptionId: zod_1.z.string().min(1, 'Subscription ID is required'),\n    preferences: zod_1.z.object({\n        sessionReminders: zod_1.z.boolean().optional(),\n        messageNotifications: zod_1.z.boolean().optional(),\n        appointmentUpdates: zod_1.z.boolean().optional(),\n        communityActivity: zod_1.z.boolean().optional(),\n        systemAlerts: zod_1.z.boolean().optional()\n    }),\n    quietHours: zod_1.z.object({\n        enabled: zod_1.z.boolean().default(false),\n        startTime: zod_1.z.string().regex(/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/).optional(),\n        endTime: zod_1.z.string().regex(/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/).optional(),\n        timezone: zod_1.z.string().optional()\n    }).optional()\n});\n//# sourceMappingURL=push-notifications.js.map"],"version":3}