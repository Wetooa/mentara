# Coturn TURN Server Configuration for Mentara

# Basic TURN server settings
listening-port=3478
tls-listening-port=5349
fingerprint
lt-cred-mech

# Authentication
user=mentara:mentara123
# In production, use environment variables for credentials

# Server settings
server-name=mentara-turn.local
realm=mentara.local

# Logging
log-file=/var/log/coturn/turn.log
verbose

# Security settings
no-multicast-peers
no-loopback-peers
no-broadcast-peers

# Performance settings
max-bps=1000000
bps-capacity=0
stale-nonce=600

# Network settings
listening-ip=0.0.0.0
relay-ip=0.0.0.0

# Port range for media relay (adjust based on your network)
min-port=49152
max-port=65535

# SSL/TLS settings (for production with proper certificates)
# cert=/etc/coturn/certs/turn.crt
# pkey=/etc/coturn/certs/turn.key
# cipher-list="ECDHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES128-GCM-SHA256"

# Database settings (for production, consider using Redis or PostgreSQL)
# Redis example:
# redis-userdb="ip=127.0.0.1 dbname=0 password=your_redis_password connect_timeout=30"

# Statistics
new-log-timestamp
log-binding
proc-user=coturn
proc-group=coturn

# Additional security
denied-peer-ip=0.0.0.0-0.255.255.255
denied-peer-ip=10.0.0.0-10.255.255.255
denied-peer-ip=172.16.0.0-172.31.255.255
denied-peer-ip=192.168.0.0-192.168.255.255

# Allow specific networks (adjust for your setup)
# allowed-peer-ip=<your-server-ip>

# Production settings
pidfile="/var/run/coturn/turnserver.pid"