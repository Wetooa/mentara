model User {
  id                  String                    @id @unique @default(uuid())
  email               String                    @unique
  firstName           String
  middleName          String?
  lastName            String
  birthDate           DateTime?
  gender              Gender?
  address             String?
  role                Role                    @default(CLIENT)
  password            String?
  emailVerified       Boolean                   @default(false)
  emailVerifyToken    String?                   @unique
  emailVerifyTokenExp DateTime?
  resetToken          String?                   @unique
  resetTokenExpiry    DateTime?

  avatarUrl           String?
  coverImageUrl       String?
  bio                 String?
  suspendedAt         DateTime?
  suspendedBy         String?
  suspensionReason    String?
  deactivatedAt       DateTime?
  deactivationReason  String?
  lastLoginAt         DateTime?

  therapist           Therapist?                @relation("UserTherapist")
  client              Client?                   @relation("UserClient")
  admin               Admin?                    @relation("UserAdmin")

  isActive            Boolean                   @default(true)
  createdAt           DateTime                  @default(now())
  updatedAt           DateTime                  @updatedAt
  @@index([email])
  @@index([role])
  @@index([isActive])
  @@index([role, isActive])
  @@index([role, isActive, createdAt])
  @@index([email, isActive])
  @@index([createdAt])
  @@index([emailVerified])
  @@index([lastLoginAt])
}

enum Gender {
  MALE
  FEMALE
  OTHER
}

enum Role {
  ADMIN
  THERAPIST
  CLIENT
}

