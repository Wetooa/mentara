model Therapist {
  userId                  String             @id @unique
  academicTitle           AcademicTitle?
  therapistTitle          TherapistTitle?
  therapistTitleOther     String?
  describeYourself        String?
  languagesSpoken         Language[]         @default([FILIPINO])
  cebuProvinceLocated     Boolean            @default(false)
  yearPracticeStarted     Int?
  practiceStartDate       DateTime?
  specialization          ClinicalFocus[]
  expertise               String[]
  illnessSpecializations  String[]
  areasOfExpertise        String[]
  approaches              String[]
  yearsOfExperience       Int?
  hourlyRate              Float?
  therapyTypesOffered     String[]
  workWithAges            AgeGroup[]
  cv                      String?
  status                  TherapistApplicationStatus @default(PENDING)
  expirationDateOfLicense DateTime?
  accumulated200Hours     Boolean            @default(false)
  treatmentSuccessRates   Json?
  additionalNotes         String?
  createdAt               DateTime           @default(now())
  updatedAt               DateTime           @updatedAt

  // Relations
  user                    User               @relation("UserTherapist", fields: [userId], references: [id], onDelete: Cascade)
  qualifications           Qualification[]
  registrations            Registration[]
  packages                TherapistPackage[]
  assignedClients         ClientTherapist[]  @relation("TherapistAssignedClients")
  meetings                Meeting[]          @relation("TherapistMeetings")
  availability            TherapistAvailability[]
  paymentsAsTherapist     Payment[]          @relation("TherapistPayments")
  reviews                 Review[]           @relation("TherapistReviews")
  worksheets              Worksheet[]
  groupSessionInvitations GroupSessionTherapistInvitation[]
  processedByAdmin        Admin?             @relation("AdminProcessedTherapists", fields: [processedBy], references: [userId])
  processedBy             String?

  @@index([userId])
  @@index([specialization], type: Gin)
}

model Qualification {
  id                    String    @id @default(uuid())
  therapistId           String
  highestQualification  String
  institution           String
  from                  DateTime
  to                    DateTime
  therapist             Therapist @relation(fields: [therapistId], references: [userId], onDelete: Cascade)

  @@index([therapistId])
}

model Registration {
  id                String    @id @default(uuid())
  therapistId       String
  professionalBody  String
  registrationNumber String
  description       String?
  from              DateTime
  to                DateTime
  therapist         Therapist @relation(fields: [therapistId], references: [userId], onDelete: Cascade)

  @@index([therapistId])
}


enum AcademicTitle {
  PHD
  MA
  MS
  BACHELORS
  OTHERS
}

enum TherapistTitle {
  RPsy
  RPm
  LPT
  MD_Psychiatrist
}

enum Language {
  FILIPINO
  ENGLISH
  CEBUANO
  ILOCANO
  HILIGAYNON
}

enum AgeGroup {
  CHILDREN
  ADOLESCENTS
  ADULTS
  SENIORS
}

enum ClinicalFocus {
  STRESS
  ANXIETY
  DEPRESSION
  DRUG_ABUSE
  INSOMNIA
  PANIC
  BIPOLAR_DISORDER
  OCD
  PTSD
  SOCIAL_ANXIETY
  PHOBIA
  BURNOUT
  EATING_DISORDERS
  ADHD
  ALCOHOL_USE
}

enum TherapistApplicationStatus {
  PENDING
  UNDER_REVIEW
  APPROVED
  REJECTED
}
